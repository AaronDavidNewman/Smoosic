{"version":3,"file":"smoosic.js","mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAonCjC,CAAC;;;;;;;;;;;;;;ACpnCU,2BAAmB,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sources":["webpack://Smo/webpack/universalModuleDefinition","webpack://Smo/./src/common/htmlHelpers.js","webpack://Smo/./src/common/midiWriter.js","webpack://Smo/./src/common/musicHelpers.ts","webpack://Smo/./src/common/promiseHelpers.js","webpack://Smo/./src/common/serializationHelpers.js","webpack://Smo/./src/common/svgHelpers.ts","webpack://Smo/./src/music/basic.js","webpack://Smo/./src/music/utActions.js","webpack://Smo/./src/render/audio/oscillator.ts","webpack://Smo/./src/render/audio/player.ts","webpack://Smo/./src/render/sui/actionPlayback.ts","webpack://Smo/./src/render/sui/formatter.ts","webpack://Smo/./src/render/sui/layoutDebug.ts","webpack://Smo/./src/render/sui/layoutDemon.ts","webpack://Smo/./src/render/sui/mapper.ts","webpack://Smo/./src/render/sui/piano.ts","webpack://Smo/./src/render/sui/renderState.ts","webpack://Smo/./src/render/sui/scoreRender.ts","webpack://Smo/./src/render/sui/scoreView.ts","webpack://Smo/./src/render/sui/scoreViewOperations.ts","webpack://Smo/./src/render/sui/scroller.ts","webpack://Smo/./src/render/sui/textEdit.ts","webpack://Smo/./src/render/sui/textRender.ts","webpack://Smo/./src/render/sui/tracker.ts","webpack://Smo/./src/render/vex/glyphDimensions.ts","webpack://Smo/./src/render/vex/vxMeasure.ts","webpack://Smo/./src/render/vex/vxSystem.ts","webpack://Smo/./src/smo/data/common.ts","webpack://Smo/./src/smo/data/measure.ts","webpack://Smo/./src/smo/data/measureModifiers.ts","webpack://Smo/./src/smo/data/note.ts","webpack://Smo/./src/smo/data/noteModifiers.ts","webpack://Smo/./src/smo/data/score.ts","webpack://Smo/./src/smo/data/scoreModifiers.ts","webpack://Smo/./src/smo/data/staffModifiers.ts","webpack://Smo/./src/smo/data/systemStaff.ts","webpack://Smo/./src/smo/data/tuplet.ts","webpack://Smo/./src/smo/midi/smoToMidi.ts","webpack://Smo/./src/smo/mxml/smo2Xml.ts","webpack://Smo/./src/smo/mxml/xmlHelpers.ts","webpack://Smo/./src/smo/mxml/xmlScore.ts","webpack://Smo/./src/smo/mxml/xmlState.ts","webpack://Smo/./src/smo/xform/actions.ts","webpack://Smo/./src/smo/xform/audioTrack.ts","webpack://Smo/./src/smo/xform/beamers.ts","webpack://Smo/./src/smo/xform/copypaste.ts","webpack://Smo/./src/smo/xform/operations.ts","webpack://Smo/./src/smo/xform/selections.ts","webpack://Smo/./src/smo/xform/tickDuration.ts","webpack://Smo/./src/smo/xform/tickMap.ts","webpack://Smo/./src/smo/xform/toVex.ts","webpack://Smo/./src/smo/xform/undo.ts","webpack://Smo/./src/styles/font_metrics/Commissioner-Medium-Metrics.js","webpack://Smo/./src/styles/font_metrics/ConcertOne-Regular.js","webpack://Smo/./src/styles/font_metrics/Merriweather-Regular.js","webpack://Smo/./src/styles/font_metrics/arial_metrics.js","webpack://Smo/./src/styles/font_metrics/ssp-sans-metrics.js","webpack://Smo/./src/styles/font_metrics/ssp-serif-metrics.js","webpack://Smo/./src/styles/font_metrics/times_metrics.js","webpack://Smo/./src/ui/application.ts","webpack://Smo/./src/ui/controller.js","webpack://Smo/./src/ui/dialog.js","webpack://Smo/./src/ui/dialogComponents.js","webpack://Smo/./src/ui/dialogs/fileDialogs.js","webpack://Smo/./src/ui/dialogs/fontComponent.js","webpack://Smo/./src/ui/dialogs/libraryDialog.js","webpack://Smo/./src/ui/dialogs/measureDialogs.js","webpack://Smo/./src/ui/dialogs/scoreDialogs.js","webpack://Smo/./src/ui/dialogs/staffComponents.js","webpack://Smo/./src/ui/dialogs/staffDialogs.js","webpack://Smo/./src/ui/dialogs/textComponents.js","webpack://Smo/./src/ui/dialogs/textDialogs.js","webpack://Smo/./src/ui/dialogs/treeComponent.js","webpack://Smo/./src/ui/dom.js","webpack://Smo/./src/ui/entryPoint.ts","webpack://Smo/./src/ui/eventSource.js","webpack://Smo/./src/ui/exceptions.js","webpack://Smo/./src/ui/fileio/fileInput.js","webpack://Smo/./src/ui/fileio/library.ts","webpack://Smo/./src/ui/fileio/xhrLoader.js","webpack://Smo/./src/ui/help.js","webpack://Smo/./src/ui/i18n/language.js","webpack://Smo/./src/ui/i18n/language_ar.js","webpack://Smo/./src/ui/i18n/language_de.js","webpack://Smo/./src/ui/i18n/language_en.js","webpack://Smo/./src/ui/i18n/translationEditor.js","webpack://Smo/./src/ui/keyBindings/default/editorKeys.js","webpack://Smo/./src/ui/keyBindings/default/trackerKeys.js","webpack://Smo/./src/ui/keyCommands.js","webpack://Smo/./src/ui/menus.js","webpack://Smo/./src/ui/qwerty.js","webpack://Smo/./src/ui/ribbon.js","webpack://Smo/./src/ui/ribbonLayout/default/defaultRibbon.js","webpack://Smo/webpack/bootstrap","webpack://Smo/webpack/before-startup","webpack://Smo/webpack/startup","webpack://Smo/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Smo\"] = factory();\n\telse\n\t\troot[\"Smo\"] = factory();\n})(this, function() {\nreturn ","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n\r\nvar smoDomBuilder = function (el) {}\r\n\r\n// # htmlHelpers\r\n// # Description:\r\n//  Helper functions for buildling UI elements\r\nexport class htmlHelpers {\r\n  // ## buildDom\r\n  // ## Description:\r\n  // returns an object that  lets you build a DOM in a somewhat readable way.\r\n  // ## Usage:\r\n  // var b = htmlHelpers.buildDom;\r\n  //  var r =\r\n  // b('tr').classes('jsSharingMember').data('entitykey', key).data('name', name).data('entitytype', entityType).append(\r\n  // b('td').classes('noSideBorderRight').append(\r\n  // ...\r\n  // $(parent).append(r.dom());\r\n  //\r\n  // Don't forget the '.dom()' !  That is the actual jquery element object\r\n  static buildDom(el) {\r\n    var smoDomBuilder = function (el) {\r\n      this.e = $('<' + el + '/>');\r\n      var self = this;\r\n      this.classes = function (cl) {\r\n        $(self.e).addClass(cl);\r\n        return self;\r\n      }\r\n      this.html = function(value) {\r\n        $(self.e).html(value);\r\n        return self;\r\n      }\r\n      this.data = function (name, value) {\r\n        $(self.e).attr('data-' + name, value);\r\n        return self;\r\n      }\r\n      this.attr = function (name, value) {\r\n        $(self.e).attr(name, value);\r\n        return self;\r\n      }\r\n      this.prop = function (name, value) {\r\n        $(self.e).prop(name, value);\r\n        return self;\r\n      }\r\n      this.css = function (name, value) {\r\n        $(self.e).css(name, value);\r\n        return self;\r\n      }\r\n      this.append = function (el) {\r\n        $(self.e).append(el.e);\r\n        return self;\r\n      }\r\n      this.text = function (tx) {\r\n        $(self.e).append(document.createTextNode(tx));\r\n        return self;\r\n      }\r\n      this.dom = function () {\r\n        return self.e;\r\n      }\r\n      return this;\r\n    }\r\n    return new smoDomBuilder(el);\r\n  }\r\n  static draggable(parameters) {\r\n    return new draggable(parameters);\r\n  }\r\n\r\n  static get focusableElements() {\r\n    return ['a', 'input', 'select', 'textarea', 'button', 'li[tabindex]', 'div[tabindex]'];\r\n  }\r\n  static addFileLink(filename, txt, parent, mimeType) {\r\n    if (!mimeType) {\r\n      mimeType = 'application/octet-stream';\r\n    }\r\n    var anchor = $('<a></a>');\r\n    var url = URL.createObjectURL(new Blob([txt],{ type: mimeType }));\r\n    $(anchor).attr('href',url);\r\n    $(anchor).attr('download',filename);\r\n    $(anchor).text('save');\r\n    $(parent).html('');\r\n    $(parent).append(anchor);\r\n  }\r\n\r\n  static inputTrapper(selector) {\r\n    var trapper = function () {\r\n      this.parent = $(selector);\r\n      this.id = $(this.parent).attr('id');\r\n      this.parentId = $(this.parent).parent().attr('id');\r\n      var idstr = Math.round(Math.random() * (999999 - 1) + 1);\r\n      if (!this.id) {\r\n        $(this.parent).attr('id', idstr + '-element');\r\n        this.id = $(this.parent).attr('id');\r\n      }\r\n      if (!this.parentId) {\r\n        $(this.parent).parent().attr('id', idstr + '-parent');\r\n        this.parentId = $(this.parent).parent().attr('id');\r\n      }\r\n      this.modalInputs = [];\r\n      this.disabledInputs = [];\r\n      this.siblingInputs = [];\r\n\r\n      // aria-hide peers of dialog and peers of parent that are not the parent.\r\n      var peers = $(this.parent).parent().children().toArray();\r\n\r\n      peers.forEach((node) => {\r\n        var ptag = $(node)[0].tagName;\r\n        if (ptag === 'SCRIPT' || ptag === 'LINK' || ptag === 'STYLE') { ;\r\n        } else if ($(node).attr('id') === this.parentId ||\r\n          $(node).attr('id') === this.id) { ;\r\n        } else {\r\n          var hidden = $(node).attr('aria-hidden');\r\n          if (!hidden || hidden != 'true') {\r\n            $(node).attr('aria-hidden', 'true');\r\n            this.siblingInputs.push(node);\r\n          }\r\n        }\r\n      });\r\n      htmlHelpers.focusableElements.forEach((etype) => {\r\n        var elements = $(etype).toArray();\r\n\r\n        elements.forEach((element) => {\r\n          var tagName = $(element)[0].tagName;\r\n          if ($(element).attr('id') === this.id) { ;\r\n          } else if ($(element).prop('disabled')) { ;\r\n          } else if ($(element).hasClass('hide')) { ;\r\n          } else if ($(element).closest(selector).length) {\r\n            // inside\r\n            this.modalInputs.push(element);\r\n          } else if ((tagName === 'A' || tagName === 'DIV' || tagName === 'LI') && $(element).attr('tabIndex') === '-1') { ;\r\n          } else {\r\n            this.disabledInputs.push(element);\r\n            if (tagName === 'A' || tagName === 'DIV' || tagName === 'LI') {\r\n              $(element).attr('tabIndex', '-1');\r\n            } else {\r\n              $(element).prop('disabled', true);\r\n            }\r\n          }\r\n        });\r\n      });\r\n\r\n      this.close = function () {\r\n        this.disabledInputs.forEach(function (element) {\r\n          var tagName = $(element)[0].tagName;\r\n          if (tagName === 'A' || tagName === 'DIV' || tagName === 'LI') {\r\n            $(element).attr('tabIndex', '0');\r\n          } else {\r\n            $(element).prop('disabled', false);\r\n          }\r\n        });\r\n        this.siblingInputs.forEach((el) => {\r\n          $(el).removeAttr('aria-hidden');\r\n        });\r\n      }\r\n    }\r\n\r\n    return new trapper(selector);\r\n  }\r\n\r\n  static closeDialogPromise() {\r\n    return new Promise((resolve, reject) => {\r\n      $('body').off('dialogDismiss').on('dialogDismiss', function () {\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nexport class draggable {\r\n  constructor(parameters) {\r\n    this.parent = parameters.parent;\r\n    this.handle = parameters.handle;\r\n    this.animeClass = parameters.animateDiv;\r\n    this.dragParent = parameters.dragParent;\r\n\r\n    // TODO: make '.dom-container' a part of the configuration\r\n    this.domOffset =  $('.dom-container').offset();\r\n\r\n    this.svg=parameters['svg'];\r\n    this.width = $(this.parent).outerWidth();\r\n    this.height = $(this.parent).outerHeight();\r\n    this.lastX = $(this.handle).offset().left - this.domOffset.left;\r\n    this.lastY = $(this.handle).offset().top - this.domOffset.top;\r\n    this.cb = parameters.cb;\r\n    this.moveParent = parameters.moveParent;\r\n\r\n    var self = this;\r\n\r\n    // $('.itemMenu input[name=\"itemTitle\"]').css('width','60%');\r\n    $(this.handle)\r\n    .off('mousedown').on('mousedown',\r\n      function (e) {\r\n      self.mousedown(e);\r\n    });\r\n    $(document)\r\n    .on('mousemove',\r\n      function (e) {\r\n      self.mousemove(e);\r\n\r\n    })\r\n    .on('mouseup',\r\n      function (e) {\r\n      self.mouseup(e);\r\n    });\r\n  }\r\n  disconnect() {\r\n    $(this.handle).off('mousedown');\r\n    $(this.document).off('mousemove');\r\n    $(this.handle).off('mouseup');\r\n  }\r\n  _animate(e) {\r\n    this.lastX = e.clientX;\r\n    this.lastY = e.clientY;\r\n    $(this.animeClass).css('left', this.lastX - this.domOffset.left);\r\n    $(this.animeClass).css('top', this.lastY - this.domOffset.top);\r\n\r\n    if (this.dragParent) {\r\n      $(this.parent).css('left', this.lastX + 'px');\r\n      $(this.parent).css('top', this.lastY + 'px');\r\n    }\r\n  }\r\n  mousedown(e) {\r\n    if (!this.dragging) {\r\n      $(this.animeClass).removeClass('hide');\r\n\r\n      $(this.animeClass).css('width', this.width);\r\n      $(this.animeClass).css('height', this.height);\r\n    }\r\n\r\n    this.dragging = true;\r\n    this._animate(e);\r\n  }\r\n  enddrag(e) {\r\n    this.lastX = this.lastX - this.domOffset.left;\r\n    this.lastY = this.lastY - this.domOffset.top;\r\n    if (this.moveParent) {\r\n      $(this.parent).css('left', this.lastX + 'px');\r\n      $(this.parent).css('top', this.lastY + 'px');\r\n    }\r\n    $(this.animeClass).addClass('hide');\r\n    this.cb(this.lastX, this.lastY);\r\n  }\r\n\r\n  mouseup(e) {\r\n    // stop resizing\r\n    if (this.dragging) {\r\n      this.dragging = false;\r\n      this.lastX = e.clientX;\r\n      this.lastY = e.clientY;\r\n\r\n      this.enddrag();\r\n    }\r\n  }\r\n  mousemove(e) {\r\n    // we don't want to do anything if we aren't resizing.\r\n    if (!this.dragging)\r\n      return;\r\n    this._animate(e);\r\n  }\r\n}\r\n","// Credit for Midi functionality goes to:\r\n// https://github.com/grimmdude/MidiWriterJS\r\nimport { smoMusic } from './musicHelpers';\r\nexport var _MidiWriter = function() {\r\n/**\r\n * MIDI file format constants.\r\n * @return {Constants}\r\n */\r\nvar Constants = {\r\n  VERSION: 1,\r\n  HEADER_CHUNK_TYPE: [0x4d, 0x54, 0x68, 0x64],\r\n  // Mthd\r\n  HEADER_CHUNK_LENGTH: [0x00, 0x00, 0x00, 0x06],\r\n  // Header size for SMF\r\n  HEADER_CHUNK_FORMAT0: [0x00, 0x00],\r\n  // Midi Type 0 id\r\n  HEADER_CHUNK_FORMAT1: [0x00, 0x01],\r\n  // Midi Type 1 id\r\n  HEADER_CHUNK_DIVISION: [0x00, 0x80],\r\n  // Defaults to 128 ticks per beat\r\n  TRACK_CHUNK_TYPE: [0x4d, 0x54, 0x72, 0x6b],\r\n  // MTrk,\r\n  META_EVENT_ID: 0xFF,\r\n  META_TEXT_ID: 0x01,\r\n  META_COPYRIGHT_ID: 0x02,\r\n  META_TRACK_NAME_ID: 0x03,\r\n  META_INSTRUMENT_NAME_ID: 0x04,\r\n  META_LYRIC_ID: 0x05,\r\n  META_MARKER_ID: 0x06,\r\n  META_CUE_POINT: 0x07,\r\n  META_TEMPO_ID: 0x51,\r\n  META_SMTPE_OFFSET: 0x54,\r\n  META_TIME_SIGNATURE_ID: 0x58,\r\n  META_KEY_SIGNATURE_ID: 0x59,\r\n  META_END_OF_TRACK_ID: [0x2F, 0x00],\r\n  CONTROLLER_CHANGE_STATUS: 0xB0,\r\n  // includes channel number (0)\r\n  PROGRAM_CHANGE_STATUS: 0xC0,\r\n  // includes channel number (0)\r\n  PITCH_BEND_STATUS: 0xE0 // includes channel number (0)\r\n};\r\n\r\nfunction _typeof(obj) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\r\n    _typeof = function (obj) {\r\n      return typeof obj;\r\n    };\r\n  } else {\r\n    _typeof = function (obj) {\r\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n    };\r\n  }\r\n\r\n  return _typeof(obj);\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n  if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n  }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n  for (var i = 0; i < props.length; i++) {\r\n    var descriptor = props[i];\r\n    descriptor.enumerable = descriptor.enumerable || false;\r\n    descriptor.configurable = true;\r\n    if (\"value\" in descriptor) descriptor.writable = true;\r\n    Object.defineProperty(target, descriptor.key, descriptor);\r\n  }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n  if (staticProps) _defineProperties(Constructor, staticProps);\r\n  return Constructor;\r\n}\r\n\r\nfunction _inherits(subClass, superClass) {\r\n  if (typeof superClass !== \"function\" && superClass !== null) {\r\n    throw new TypeError(\"Super expression must either be null or a function\");\r\n  }\r\n\r\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\r\n    constructor: {\r\n      value: subClass,\r\n      writable: true,\r\n      configurable: true\r\n    }\r\n  });\r\n  if (superClass) _setPrototypeOf(subClass, superClass);\r\n}\r\n\r\nfunction _getPrototypeOf(o) {\r\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\r\n    return o.__proto__ || Object.getPrototypeOf(o);\r\n  };\r\n  return _getPrototypeOf(o);\r\n}\r\n\r\nfunction _setPrototypeOf(o, p) {\r\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\r\n    o.__proto__ = p;\r\n    return o;\r\n  };\r\n\r\n  return _setPrototypeOf(o, p);\r\n}\r\n\r\nfunction _isNativeReflectConstruct() {\r\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\r\n  if (Reflect.construct.sham) return false;\r\n  if (typeof Proxy === \"function\") return true;\r\n\r\n  try {\r\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\r\n    return true;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction _construct(Parent, args, Class) {\r\n  if (_isNativeReflectConstruct()) {\r\n    _construct = Reflect.construct;\r\n  } else {\r\n    _construct = function _construct(Parent, args, Class) {\r\n      var a = [null];\r\n      a.push.apply(a, args);\r\n      var Constructor = Function.bind.apply(Parent, a);\r\n      var instance = new Constructor();\r\n      if (Class) _setPrototypeOf(instance, Class.prototype);\r\n      return instance;\r\n    };\r\n  }\r\n\r\n  return _construct.apply(null, arguments);\r\n}\r\n\r\nfunction _isNativeFunction(fn) {\r\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\r\n}\r\n\r\nfunction _wrapNativeSuper(Class) {\r\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\r\n\r\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\r\n    if (Class === null || !_isNativeFunction(Class)) return Class;\r\n\r\n    if (typeof Class !== \"function\") {\r\n      throw new TypeError(\"Super expression must either be null or a function\");\r\n    }\r\n\r\n    if (typeof _cache !== \"undefined\") {\r\n      if (_cache.has(Class)) return _cache.get(Class);\r\n\r\n      _cache.set(Class, Wrapper);\r\n    }\r\n\r\n    function Wrapper() {\r\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\r\n    }\r\n\r\n    Wrapper.prototype = Object.create(Class.prototype, {\r\n      constructor: {\r\n        value: Wrapper,\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true\r\n      }\r\n    });\r\n    return _setPrototypeOf(Wrapper, Class);\r\n  };\r\n\r\n  return _wrapNativeSuper(Class);\r\n}\r\n\r\nfunction _wrapRegExp(re, groups) {\r\n  _wrapRegExp = function (re, groups) {\r\n    return new BabelRegExp(re, undefined, groups);\r\n  };\r\n\r\n  var _RegExp = _wrapNativeSuper(RegExp);\r\n\r\n  var _super = RegExp.prototype;\r\n\r\n  var _groups = new WeakMap();\r\n\r\n  function BabelRegExp(re, flags, groups) {\r\n    var _this = _RegExp.call(this, re, flags);\r\n\r\n    _groups.set(_this, groups || _groups.get(re));\r\n\r\n    return _this;\r\n  }\r\n\r\n  _inherits(BabelRegExp, _RegExp);\r\n\r\n  BabelRegExp.prototype.exec = function (str) {\r\n    var result = _super.exec.call(this, str);\r\n\r\n    if (result) result.groups = buildGroups(result, this);\r\n    return result;\r\n  };\r\n\r\n  BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\r\n    if (typeof substitution === \"string\") {\r\n      var groups = _groups.get(this);\r\n\r\n      return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\r\n        return \"$\" + groups[name];\r\n      }));\r\n    } else if (typeof substitution === \"function\") {\r\n      var _this = this;\r\n\r\n      return _super[Symbol.replace].call(this, str, function () {\r\n        var args = [];\r\n        args.push.apply(args, arguments);\r\n\r\n        if (typeof args[args.length - 1] !== \"object\") {\r\n          args.push(buildGroups(args, _this));\r\n        }\r\n\r\n        return substitution.apply(this, args);\r\n      });\r\n    } else {\r\n      return _super[Symbol.replace].call(this, str, substitution);\r\n    }\r\n  };\r\n\r\n  function buildGroups(result, re) {\r\n    var g = _groups.get(re);\r\n\r\n    return Object.keys(g).reduce(function (groups, name) {\r\n      groups[name] = result[g[name]];\r\n      return groups;\r\n    }, Object.create(null));\r\n  }\r\n\r\n  return _wrapRegExp.apply(this, arguments);\r\n}\r\n\r\n/**\r\n * Static utility functions used throughout the library.\r\n */\r\n\r\nvar Utils = /*#__PURE__*/function () {\r\n  function Utils() {\r\n    _classCallCheck(this, Utils);\r\n  }\r\n\r\n  _createClass(Utils, null, [{\r\n    key: \"version\",\r\n    value:\r\n    /**\r\n     * Gets MidiWriterJS version number.\r\n     * @return {string}\r\n     */\r\n    function version() {\r\n      return Constants.VERSION;\r\n    }\r\n    /**\r\n     * Convert a string to an array of bytes\r\n     * @param {string} string\r\n     * @return {array}\r\n     */\r\n\r\n  }, {\r\n    key: \"stringToBytes\",\r\n    value: function stringToBytes(string) {\r\n      return string.split('').map(function (_char) {\r\n        return _char.charCodeAt();\r\n      });\r\n    }\r\n    /**\r\n     * Checks if argument is a valid number.\r\n     * @param {*} n - Value to check\r\n     * @return {boolean}\r\n     */\r\n\r\n  }, {\r\n    key: \"isNumeric\",\r\n    value: function isNumeric(n) {\r\n      return !isNaN(parseFloat(n)) && isFinite(n);\r\n    }\r\n    /**\r\n     * Returns the correct MIDI number for the specified pitch.\r\n     * Uses Tonal Midi - https://github.com/danigb/tonal/tree/master/packages/midi\r\n     * @param {(string|number)} pitch - 'C#4' or midi note code\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"getPitch\",\r\n    value: function getPitch(pitch) {\r\n      return smoMusic.midiPitchToMidiNumber(pitch);\r\n    }\r\n    /**\r\n     * Translates number of ticks to MIDI timestamp format, returning an array of\r\n     * hex strings with the time values. Midi has a very particular time to express time,\r\n     * take a good look at the spec before ever touching this function.\r\n     * Thanks to https://github.com/sergi/jsmidi\r\n     *\r\n     * @param {number} ticks - Number of ticks to be translated\r\n     * @return {array} - Bytes that form the MIDI time value\r\n     */\r\n\r\n  }, {\r\n    key: \"numberToVariableLength\",\r\n    value: function numberToVariableLength(ticks) {\r\n      ticks = Math.round(ticks);\r\n      var buffer = ticks & 0x7F;\r\n\r\n      while (ticks = ticks >> 7) {\r\n        buffer <<= 8;\r\n        buffer |= ticks & 0x7F | 0x80;\r\n      }\r\n\r\n      var bList = [];\r\n\r\n      while (true) {\r\n        bList.push(buffer & 0xff);\r\n        if (buffer & 0x80) buffer >>= 8;else {\r\n          break;\r\n        }\r\n      }\r\n\r\n      return bList;\r\n    }\r\n    /**\r\n     * Counts number of bytes in string\r\n     * @param {string} s\r\n     * @return {array}\r\n     */\r\n\r\n  }, {\r\n    key: \"stringByteCount\",\r\n    value: function stringByteCount(s) {\r\n      return encodeURI(s).split(/%..|./).length - 1;\r\n    }\r\n    /**\r\n     * Get an int from an array of bytes.\r\n     * @param {array} bytes\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"numberFromBytes\",\r\n    value: function numberFromBytes(bytes) {\r\n      var hex = '';\r\n      var stringResult;\r\n      bytes.forEach(function (_byte) {\r\n        stringResult = _byte.toString(16); // ensure string is 2 chars\r\n\r\n        if (stringResult.length == 1) stringResult = \"0\" + stringResult;\r\n        hex += stringResult;\r\n      });\r\n      return parseInt(hex, 16);\r\n    }\r\n    /**\r\n     * Takes a number and splits it up into an array of bytes.  Can be padded by passing a number to bytesNeeded\r\n     * @param {number} number\r\n     * @param {number} bytesNeeded\r\n     * @return {array} - Array of bytes\r\n     */\r\n\r\n  }, {\r\n    key: \"numberToBytes\",\r\n    value: function numberToBytes(number, bytesNeeded) {\r\n      bytesNeeded = bytesNeeded || 1;\r\n      var hexString = number.toString(16);\r\n\r\n      if (hexString.length & 1) {\r\n        // Make sure hex string is even number of chars\r\n        hexString = '0' + hexString;\r\n      } // Split hex string into an array of two char elements\r\n\r\n\r\n      var hexArray = hexString.match(/.{2}/g); // Now parse them out as integers\r\n\r\n      hexArray = hexArray.map(function (item) {\r\n        return parseInt(item, 16);\r\n      }); // Prepend empty bytes if we don't have enough\r\n\r\n      if (hexArray.length < bytesNeeded) {\r\n        while (bytesNeeded - hexArray.length > 0) {\r\n          hexArray.unshift(0);\r\n        }\r\n      }\r\n\r\n      return hexArray;\r\n    }\r\n    /**\r\n     * Converts value to array if needed.\r\n     * @param {string} value\r\n     * @return {array}\r\n     */\r\n\r\n  }, {\r\n    key: \"toArray\",\r\n    value: function toArray(value) {\r\n      if (Array.isArray(value)) return value;\r\n      return [value];\r\n    }\r\n    /**\r\n     * Converts velocity to value 0-127\r\n     * @param {number} velocity - Velocity value 1-100\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"convertVelocity\",\r\n    value: function convertVelocity(velocity) {\r\n      // Max passed value limited to 100\r\n      velocity = velocity > 100 ? 100 : velocity;\r\n      return Math.round(velocity / 100 * 127);\r\n    }\r\n    /**\r\n     * Gets the total number of ticks of a specified duration.\r\n     * Note: type=='note' defaults to quarter note, type==='rest' defaults to 0\r\n     * @param {(string|array)} duration\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"getTickDuration\",\r\n    value: function getTickDuration(duration) {\r\n      if (Array.isArray(duration)) {\r\n        // Recursively execute this method for each item in the array and return the sum of tick durations.\r\n        return duration.map(function (value) {\r\n          return Utils.getTickDuration(value);\r\n        }).reduce(function (a, b) {\r\n          return a + b;\r\n        }, 0);\r\n      }\r\n\r\n      duration = duration.toString();\r\n\r\n      if (duration.toLowerCase().charAt(0) === 't') {\r\n        // If duration starts with 't' then the number that follows is an explicit tick count\r\n        return parseInt(duration.substring(1));\r\n      } // Need to apply duration here.  Quarter note == Constants.HEADER_CHUNK_DIVISION\r\n\r\n\r\n      var quarterTicks = Utils.numberFromBytes(Constants.HEADER_CHUNK_DIVISION);\r\n      var tickDuration = quarterTicks * Utils.getDurationMultiplier(duration);\r\n      return Utils.getRoundedIfClose(tickDuration);\r\n    }\r\n    /**\r\n     * Due to rounding errors in JavaScript engines,\r\n     * it's safe to round when we're very close to the actual tick number\r\n     *\r\n     * @static\r\n     * @param {number} tick\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"getRoundedIfClose\",\r\n    value: function getRoundedIfClose(tick) {\r\n      var roundedTick = Math.round(tick);\r\n      return Math.abs(roundedTick - tick) < 0.000001 ? roundedTick : tick;\r\n    }\r\n    /**\r\n     * Due to low precision of MIDI,\r\n     * we need to keep track of rounding errors in deltas.\r\n     * This function will calculate the rounding error for a given duration.\r\n     *\r\n     * @static\r\n     * @param {number} tick\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"getPrecisionLoss\",\r\n    value: function getPrecisionLoss(tick) {\r\n      var roundedTick = Math.round(tick);\r\n      return roundedTick - tick;\r\n    }\r\n    /**\r\n     * Gets what to multiple ticks/quarter note by to get the specified duration.\r\n     * Note: type=='note' defaults to quarter note, type==='rest' defaults to 0\r\n     * @param {string} duration\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"getDurationMultiplier\",\r\n    value: function getDurationMultiplier(duration) {\r\n      // Need to apply duration here.\r\n      // Quarter note == Constants.HEADER_CHUNK_DIVISION ticks.\r\n      if (duration === '0') return 0;\r\n      var match = duration.match( /*#__PURE__*/_wrapRegExp(/^(d+)?([0-9]+)(?:t([0-9]*))?/, {\r\n        dotted: 1,\r\n        base: 2,\r\n        tuplet: 3\r\n      }));\r\n\r\n      if (match) {\r\n        var base = Number(match.groups.base); // 1 or any power of two:\r\n\r\n        var isValidBase = base === 1 || (base & base - 1) === 0;\r\n\r\n        if (isValidBase) {\r\n          // how much faster or slower is this note compared to a quarter?\r\n          var ratio = base / 4;\r\n          var durationInQuarters = 1 / ratio;\r\n          var _match$groups = match.groups,\r\n              dotted = _match$groups.dotted,\r\n              tuplet = _match$groups.tuplet;\r\n\r\n          if (dotted) {\r\n            var thisManyDots = dotted.length;\r\n            var divisor = Math.pow(2, thisManyDots);\r\n            durationInQuarters = durationInQuarters + durationInQuarters * ((divisor - 1) / divisor);\r\n          }\r\n\r\n          if (typeof tuplet === 'string') {\r\n            var fitInto = durationInQuarters * 2; // default to triplet:\r\n\r\n            var thisManyNotes = Number(tuplet || '3');\r\n            durationInQuarters = fitInto / thisManyNotes;\r\n          }\r\n\r\n          return durationInQuarters;\r\n        }\r\n      }\r\n\r\n      throw new Error(duration + ' is not a valid duration.');\r\n    }\r\n  }]);\r\n\r\n  return Utils;\r\n}();\r\n\r\n/**\r\n * Holds all data for a \"note on\" MIDI event\r\n * @param {object} fields {data: []}\r\n * @return {NoteOnEvent}\r\n */\r\n\r\nvar NoteOnEvent = /*#__PURE__*/function () {\r\n  function NoteOnEvent(fields) {\r\n    _classCallCheck(this, NoteOnEvent);\r\n\r\n    // Set default fields\r\n    fields = Object.assign({\r\n      channel: 1,\r\n      startTick: null,\r\n      velocity: 50,\r\n      wait: 0\r\n    }, fields);\r\n    this.type = 'note-on';\r\n    this.channel = fields.channel;\r\n    this.pitch = fields.pitch;\r\n    this.wait = fields.wait;\r\n    this.velocity = fields.velocity;\r\n    this.startTick = fields.startTick;\r\n    this.midiNumber = Utils.getPitch(this.pitch);\r\n    this.tick = null;\r\n    this.delta = null;\r\n    this.data = fields.data;\r\n  }\r\n  /**\r\n   * Builds int array for this event.\r\n   * @param {Track} track - parent track\r\n   * @return {NoteOnEvent}\r\n   */\r\n\r\n\r\n  _createClass(NoteOnEvent, [{\r\n    key: \"buildData\",\r\n    value: function buildData(track, precisionDelta) {\r\n      this.data = []; // Explicitly defined startTick event\r\n\r\n      if (this.startTick) {\r\n        this.tick = Utils.getRoundedIfClose(this.startTick); // If this is the first event in the track then use event's starting tick as delta.\r\n\r\n        if (track.tickPointer == 0) {\r\n          this.delta = this.tick;\r\n        }\r\n      } else {\r\n        this.delta = Utils.getTickDuration(this.wait);\r\n        this.tick = Utils.getRoundedIfClose(track.tickPointer + this.delta);\r\n      }\r\n\r\n      this.deltaWithPrecisionCorrection = Utils.getRoundedIfClose(this.delta - precisionDelta);\r\n      this.data = Utils.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(), this.midiNumber, Utils.convertVelocity(this.velocity));\r\n      return this;\r\n    }\r\n    /**\r\n     * Gets the note on status code based on the selected channel. 0x9{0-F}\r\n     * Note on at channel 0 is 0x90 (144)\r\n     * 0 = Ch 1\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"getStatusByte\",\r\n    value: function getStatusByte() {\r\n      return 144 + this.channel - 1;\r\n    }\r\n  }]);\r\n\r\n  return NoteOnEvent;\r\n}();\r\n\r\n/**\r\n * Holds all data for a \"note off\" MIDI event\r\n * @param {object} fields {data: []}\r\n * @return {NoteOffEvent}\r\n */\r\n\r\nvar NoteOffEvent = /*#__PURE__*/function () {\r\n  function NoteOffEvent(fields) {\r\n    _classCallCheck(this, NoteOffEvent);\r\n\r\n    // Set default fields\r\n    fields = Object.assign({\r\n      channel: 1,\r\n      velocity: 50,\r\n      tick: null\r\n    }, fields);\r\n    this.type = 'note-off';\r\n    this.channel = fields.channel;\r\n    this.pitch = fields.pitch;\r\n    this.duration = fields.duration;\r\n    this.velocity = fields.velocity;\r\n    this.midiNumber = Utils.getPitch(this.pitch);\r\n    this.tick = fields.tick;\r\n    this.delta = Utils.getTickDuration(this.duration);\r\n    this.data = fields.data;\r\n  }\r\n  /**\r\n   * Builds int array for this event.\r\n   * @param {Track} track - parent track\r\n   * @return {NoteOffEvent}\r\n   */\r\n\r\n\r\n  _createClass(NoteOffEvent, [{\r\n    key: \"buildData\",\r\n    value: function buildData(track, precisionDelta) {\r\n      if (this.tick === null) {\r\n        this.tick = Utils.getRoundedIfClose(this.delta + track.tickPointer);\r\n      }\r\n\r\n      this.deltaWithPrecisionCorrection = Utils.getRoundedIfClose(this.delta - precisionDelta);\r\n      this.data = Utils.numberToVariableLength(this.deltaWithPrecisionCorrection).concat(this.getStatusByte(), this.midiNumber, Utils.convertVelocity(this.velocity));\r\n      return this;\r\n    }\r\n    /**\r\n     * Gets the note off status code based on the selected channel. 0x8{0-F}\r\n     * Note off at channel 0 is 0x80 (128)\r\n     * 0 = Ch 1\r\n     * @return {number}\r\n     */\r\n\r\n  }, {\r\n    key: \"getStatusByte\",\r\n    value: function getStatusByte() {\r\n      return 128 + this.channel - 1;\r\n    }\r\n  }]);\r\n\r\n  return NoteOffEvent;\r\n}();\r\n\r\n/**\r\n * Wrapper for noteOnEvent/noteOffEvent objects that builds both events.\r\n * @param {object} fields - {pitch: '[C4]', duration: '4', wait: '4', velocity: 1-100}\r\n * @return {NoteEvent}\r\n */\r\n\r\nvar NoteEvent = /*#__PURE__*/function () {\r\n  function NoteEvent(fields) {\r\n    _classCallCheck(this, NoteEvent);\r\n\r\n    // Set default fields\r\n    fields = Object.assign({\r\n      channel: 1,\r\n      repeat: 1,\r\n      sequential: false,\r\n      startTick: null,\r\n      velocity: 50,\r\n      wait: 0\r\n    }, fields);\r\n    this.data = [];\r\n    this.type = 'note';\r\n    this.pitch = Utils.toArray(fields.pitch);\r\n    this.channel = fields.channel;\r\n    this.duration = fields.duration;\r\n    this.grace = fields.grace;\r\n    this.repeat = fields.repeat;\r\n    this.sequential = fields.sequential;\r\n    this.startTick = fields.startTick;\r\n    this.velocity = fields.velocity;\r\n    this.wait = fields.wait;\r\n    this.tickDuration = Utils.getTickDuration(this.duration);\r\n    this.restDuration = Utils.getTickDuration(this.wait);\r\n    this.events = []; // Hold actual NoteOn/NoteOff events\r\n  }\r\n  /**\r\n   * Builds int array for this event.\r\n   * @return {NoteEvent}\r\n   */\r\n\r\n\r\n  _createClass(NoteEvent, [{\r\n    key: \"buildData\",\r\n    value: function buildData() {\r\n      var _this = this;\r\n\r\n      // Reset data array\r\n      this.data = [];\r\n      this.tickDuration;\r\n      this.restDuration; // Apply grace note(s) and subtract ticks (currently 1 tick per grace note) from tickDuration so net value is the same\r\n\r\n      if (this.grace) {\r\n        var graceDuration = 1;\r\n        this.grace = Utils.toArray(this.grace);\r\n        this.grace.forEach(function (pitch) {\r\n          var noteEvent = new NoteEvent({\r\n            pitch: _this.grace,\r\n            duration: 'T' + graceDuration\r\n          });\r\n          _this.data = _this.data.concat(noteEvent.data);\r\n        });\r\n      } // fields.pitch could be an array of pitches.\r\n      // If this.sequential === true then it's a sequential string of notes that requires separate NoteOnEvents.\r\n\r\n      if (!this.sequential) {\r\n        // Handle repeat\r\n        for (var j = 0; j < this.repeat; j++) {\r\n          // Note on\r\n          this.pitch.forEach(function (p, i) {\r\n            if (i == 0) {\r\n              var noteOnNew = new NoteOnEvent({\r\n                channel: _this.channel,\r\n                wait: _this.wait,\r\n                velocity: _this.velocity,\r\n                pitch: p,\r\n                startTick: _this.startTick\r\n              });\r\n            } else {\r\n              // Running status (can ommit the note on status)\r\n              //noteOn = new NoteOnEvent({data: [0, Utils.getPitch(p), Utils.convertVelocity(this.velocity)]});\r\n              var noteOnNew = new NoteOnEvent({\r\n                channel: _this.channel,\r\n                wait: 0,\r\n                velocity: _this.velocity,\r\n                pitch: p,\r\n                startTick: _this.startTick\r\n              });\r\n            }\r\n\r\n            _this.events.push(noteOnNew);\r\n          }); // Note off\r\n\r\n          this.pitch.forEach(function (p, i) {\r\n            if (i == 0) {\r\n              //noteOff = new NoteOffEvent({data: Utils.numberToVariableLength(tickDuration).concat(this.getNoteOffStatus(), Utils.getPitch(p), Utils.convertVelocity(this.velocity))});\r\n              var noteOffNew = new NoteOffEvent({\r\n                channel: _this.channel,\r\n                duration: _this.duration,\r\n                velocity: _this.velocity,\r\n                pitch: p,\r\n                tick: _this.startTick !== null ? Utils.getTickDuration(_this.duration) - _this.startTick : null\r\n              });\r\n            } else {\r\n              // Running status (can ommit the note off status)\r\n              //noteOff = new NoteOffEvent({data: [0, Utils.getPitch(p), Utils.convertVelocity(this.velocity)]});\r\n              var noteOffNew = new NoteOffEvent({\r\n                channel: _this.channel,\r\n                duration: 0,\r\n                velocity: _this.velocity,\r\n                pitch: p,\r\n                tick: _this.startTick !== null ? Utils.getTickDuration(_this.duration) - _this.startTick : null\r\n              });\r\n            }\r\n\r\n            _this.events.push(noteOffNew);\r\n          });\r\n        }\r\n      } else {\r\n        // Handle repeat\r\n        for (var j = 0; j < this.repeat; j++) {\r\n          this.pitch.forEach(function (p, i) {\r\n\r\n            var noteOnNew = new NoteOnEvent({\r\n              channel: _this.channel,\r\n              wait: i > 0 ? 0 : _this.wait,\r\n              // wait only applies to first note in repetition\r\n              velocity: _this.velocity,\r\n              pitch: p,\r\n              startTick: _this.startTick\r\n            });\r\n            var noteOffNew = new NoteOffEvent({\r\n              channel: _this.channel,\r\n              duration: _this.duration,\r\n              velocity: _this.velocity,\r\n              pitch: p\r\n            });\r\n\r\n            _this.events.push(noteOnNew, noteOffNew);\r\n          });\r\n        }\r\n      }\r\n\r\n      return this;\r\n    }\r\n  }]);\r\n\r\n  return NoteEvent;\r\n}();\r\n\r\n/**\r\n * Holds all data for a \"Pitch Bend\" MIDI event\r\n * [ -1.0, 0, 1.0 ] ->  [ 0, 8192, 16383]\r\n * @param {object} fields { bend : float, channel : int }\r\n * @return {PitchBendEvent}\r\n */\r\n\r\nvar scale14bits = function scale14bits(zeroOne) {\r\n  if (zeroOne <= 0) {\r\n    return Math.floor(16384 * (zeroOne + 1) / 2);\r\n  }\r\n\r\n  return Math.floor(16383 * (zeroOne + 1) / 2);\r\n};\r\n\r\nvar PitchBendEvent = function PitchBendEvent(fields) {\r\n  _classCallCheck(this, PitchBendEvent);\r\n\r\n  this.type = 'pitch-bend';\r\n  var bend14 = scale14bits(fields.bend);\r\n  var channel = fields.channel || 0;\r\n  var lsbValue = bend14 & 0x7f;\r\n  var msbValue = bend14 >> 7 & 0x7f;\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.PITCH_BEND_STATUS | channel, lsbValue, msbValue);\r\n};\r\n\r\n/**\r\n * Holds all data for a \"program change\" MIDI event\r\n * @param {object} fields {instrument: integer}\r\n * @return {ProgramChangeEvent}\r\n */\r\n\r\nvar ProgramChangeEvent = function ProgramChangeEvent(fields) {\r\n  _classCallCheck(this, ProgramChangeEvent);\r\n\r\n  this.type = 'program'; // delta time defaults to 0.\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.PROGRAM_CHANGE_STATUS, fields.instrument);\r\n};\r\n\r\n/**\r\n * Holds all data for a \"controller change\" MIDI event\r\n * @param {object} fields {controllerNumber: integer, controllerValue: integer}\r\n * @return {ControllerChangeEvent}\r\n */\r\n\r\nvar ControllerChangeEvent = function ControllerChangeEvent(fields) {\r\n  _classCallCheck(this, ControllerChangeEvent);\r\n\r\n  this.type = 'controller'; // delta time defaults to 0.\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.CONTROLLER_CHANGE_STATUS, fields.controllerNumber, fields.controllerValue);\r\n};\r\n\r\n/**\r\n * Object representation of a tempo meta event.\r\n * @param {string} text - Copyright text\r\n * @return {CopyrightEvent}\r\n */\r\n\r\nvar CopyrightEvent = function CopyrightEvent(text) {\r\n  _classCallCheck(this, CopyrightEvent);\r\n\r\n  this.type = 'copyright';\r\n  var textBytes = Utils.stringToBytes(text); // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_COPYRIGHT_ID, Utils.numberToVariableLength(textBytes.length), // Size\r\n  textBytes // Text\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a cue point meta event.\r\n * @param {string} text - Cue point text\r\n * @return {CuePointEvent}\r\n */\r\n\r\nvar CuePointEvent = function CuePointEvent(text) {\r\n  _classCallCheck(this, CuePointEvent);\r\n\r\n  this.type = 'marker';\r\n  var textBytes = Utils.stringToBytes(text); // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_CUE_POINT, Utils.numberToVariableLength(textBytes.length), // Size\r\n  textBytes // Text\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a end track meta event.\r\n * @return {EndTrackEvent}\r\n */\r\n\r\nvar EndTrackEvent = function EndTrackEvent() {\r\n  _classCallCheck(this, EndTrackEvent);\r\n\r\n  this.type = 'end-track'; // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_END_OF_TRACK_ID);\r\n};\r\n\r\n/**\r\n * Object representation of an instrument name meta event.\r\n * @param {number} bpm - Beats per minute\r\n * @return {InstrumentNameEvent}\r\n */\r\n\r\nvar InstrumentNameEvent = function InstrumentNameEvent(text) {\r\n  _classCallCheck(this, InstrumentNameEvent);\r\n\r\n  this.type = 'instrument-name';\r\n  var textBytes = Utils.stringToBytes(text); // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_INSTRUMENT_NAME_ID, Utils.numberToVariableLength(textBytes.length), // Size\r\n  textBytes // Instrument name\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a key signature meta event.\r\n * @return {KeySignatureEvent}\r\n */\r\n\r\nvar KeySignatureEvent = function KeySignatureEvent(sf, mi) {\r\n  _classCallCheck(this, KeySignatureEvent);\r\n\r\n  this.type = 'key-signature';\r\n  var mode = mi || 0;\r\n  sf = sf || 0; //\tFunction called with string notation\r\n\r\n  if (typeof mi === 'undefined') {\r\n    var fifths = [['Cb', 'Gb', 'Db', 'Ab', 'Eb', 'Bb', 'F', 'C', 'G', 'D', 'A', 'E', 'B', 'F#', 'C#'], ['ab', 'eb', 'bb', 'f', 'c', 'g', 'd', 'a', 'e', 'b', 'f#', 'c#', 'g#', 'd#', 'a#']];\r\n    var _sflen = sf.length;\r\n    var note = sf || 'C';\r\n    if (sf[0] === sf[0].toLowerCase()) mode = 1;\r\n\r\n    if (_sflen > 1) {\r\n      switch (sf.charAt(_sflen - 1)) {\r\n        case 'm':\r\n          mode = 1;\r\n          note = sf.charAt(0).toLowerCase();\r\n          note = note.concat(sf.substring(1, _sflen - 1));\r\n          break;\r\n\r\n        case '-':\r\n          mode = 1;\r\n          note = sf.charAt(0).toLowerCase();\r\n          note = note.concat(sf.substring(1, _sflen - 1));\r\n          break;\r\n\r\n        case 'M':\r\n          mode = 0;\r\n          note = sf.charAt(0).toUpperCase();\r\n          note = note.concat(sf.substring(1, _sflen - 1));\r\n          break;\r\n\r\n        case '+':\r\n          mode = 0;\r\n          note = sf.charAt(0).toUpperCase();\r\n          note = note.concat(sf.substring(1, _sflen - 1));\r\n          break;\r\n      }\r\n    }\r\n\r\n    var fifthindex = fifths[mode].indexOf(note);\r\n    sf = fifthindex === -1 ? 0 : fifthindex - 7;\r\n  } // Start with zero time delta\r\n\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_KEY_SIGNATURE_ID, [0x02], // Size\r\n  Utils.numberToBytes(sf, 1), // Number of sharp or flats ( < 0 flat; > 0 sharp)\r\n  Utils.numberToBytes(mode, 1) // Mode: 0 major, 1 minor\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a lyric meta event.\r\n * @param {string} text - Lyric text\r\n * @return {LyricEvent}\r\n */\r\n\r\nvar LyricEvent = function LyricEvent(text) {\r\n  _classCallCheck(this, LyricEvent);\r\n\r\n  this.type = 'marker';\r\n  var textBytes = Utils.stringToBytes(text); // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_LYRIC_ID, Utils.numberToVariableLength(textBytes.length), // Size\r\n  textBytes // Text\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a marker meta event.\r\n * @param {string} text - Marker text\r\n * @return {MarkerEvent}\r\n */\r\n\r\nvar MarkerEvent = function MarkerEvent(text) {\r\n  _classCallCheck(this, MarkerEvent);\r\n\r\n  this.type = 'marker';\r\n  var textBytes = Utils.stringToBytes(text); // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_MARKER_ID, Utils.numberToVariableLength(textBytes.length), // Size\r\n  textBytes // Text\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a tempo meta event.\r\n * @param {number} bpm - Beats per minute\r\n * @return {TempoEvent}\r\n */\r\n\r\nvar TempoEvent = function TempoEvent(bpm) {\r\n  _classCallCheck(this, TempoEvent);\r\n\r\n  this.type = 'tempo';\r\n  var tempo = Math.round(60000000 / bpm); // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_TEMPO_ID, [0x03], // Size\r\n  Utils.numberToBytes(tempo, 3) // Tempo, 3 bytes\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a tempo meta event.\r\n * @param {number} bpm - Beats per minute\r\n * @return {TextEvent}\r\n */\r\n\r\nvar TextEvent = function TextEvent(text) {\r\n  _classCallCheck(this, TextEvent);\r\n\r\n  this.type = 'text';\r\n  var textBytes = Utils.stringToBytes(text); // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_TEXT_ID, Utils.numberToVariableLength(textBytes.length), // Size\r\n  textBytes // Text\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a time signature meta event.\r\n * @return {TimeSignatureEvent}\r\n */\r\n\r\nvar TimeSignatureEvent = function TimeSignatureEvent(numerator, denominator, midiclockspertick, notespermidiclock) {\r\n  _classCallCheck(this, TimeSignatureEvent);\r\n\r\n  this.type = 'time-signature'; // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_TIME_SIGNATURE_ID, [0x04], // Size\r\n  Utils.numberToBytes(numerator, 1), // Numerator, 1 bytes\r\n  Utils.numberToBytes(Math.log2(denominator), 1), // Denominator is expressed as pow of 2, 1 bytes\r\n  Utils.numberToBytes(midiclockspertick || 24, 1), // MIDI Clocks per tick, 1 bytes\r\n  Utils.numberToBytes(notespermidiclock || 8, 1) // Number of 1/32 notes per MIDI clocks, 1 bytes\r\n  );\r\n};\r\n\r\n/**\r\n * Object representation of a tempo meta event.\r\n * @param {number} bpm - Beats per minute\r\n * @return {TrackNameEvent}\r\n */\r\n\r\nvar TrackNameEvent = function TrackNameEvent(text) {\r\n  _classCallCheck(this, TrackNameEvent);\r\n\r\n  this.type = 'track-name';\r\n  var textBytes = Utils.stringToBytes(text); // Start with zero time delta\r\n\r\n  this.data = Utils.numberToVariableLength(0x00).concat(Constants.META_EVENT_ID, Constants.META_TRACK_NAME_ID, Utils.numberToVariableLength(textBytes.length), // Size\r\n  textBytes // Text\r\n  );\r\n};\r\n\r\n/**\r\n * Holds all data for a track.\r\n * @param {object} fields {type: number, data: array, size: array, events: array}\r\n * @return {Track}\r\n */\r\n\r\nvar Track = /*#__PURE__*/function () {\r\n  function Track() {\r\n    _classCallCheck(this, Track);\r\n\r\n    this.type = Constants.TRACK_CHUNK_TYPE;\r\n    this.data = [];\r\n    this.size = [];\r\n    this.events = [];\r\n    this.explicitTickEvents = []; // If there are any events with an explicit tick defined then we will create a \"sub\" track for those\r\n    // and merge them in and the end.\r\n\r\n    this.tickPointer = 0; // Each time an event is added this will increase\r\n  }\r\n  /**\r\n   * Adds any event type to the track.\r\n   * Events without a specific startTick property are assumed to be added in order of how they should output.\r\n   * Events with a specific startTick property are set aside for now will be merged in during build process.\r\n   * @param {(NoteEvent|ProgramChangeEvent)} events - Event object or array of Event objects.\r\n   * @param {function} mapFunction - Callback which can be used to apply specific properties to all events.\r\n   * @return {Track}\r\n   */\r\n\r\n\r\n  _createClass(Track, [{\r\n    key: \"addEvent\",\r\n    value: function addEvent(events, mapFunction) {\r\n      var _this = this;\r\n\r\n      Utils.toArray(events).forEach(function (event, i) {\r\n        if (event instanceof NoteEvent) {\r\n          // Handle map function if provided\r\n          if (typeof mapFunction === 'function') {\r\n            var properties = mapFunction(i, event);\r\n\r\n            if (_typeof(properties) === 'object') {\r\n              for (var j in properties) {\r\n                switch (j) {\r\n                  case 'channel':\r\n                    event.channel = properties[j];\r\n                    break;\r\n\r\n                  case 'duration':\r\n                    event.duration = properties[j];\r\n                    break;\r\n\r\n                  case 'sequential':\r\n                    event.sequential = properties[j];\r\n                    break;\r\n\r\n                  case 'velocity':\r\n                    event.velocity = Utils.convertVelocity(properties[j]);\r\n                    break;\r\n                }\r\n              }\r\n            }\r\n          } // If this note event has an explicit startTick then we need to set aside for now\r\n\r\n\r\n          if (event.startTick !== null) {\r\n            _this.explicitTickEvents.push(event);\r\n          } else {\r\n            // Push each on/off event to track's event stack\r\n            event.buildData().events.forEach(function (e) {\r\n              return _this.events.push(e);\r\n            });\r\n          }\r\n        } else {\r\n          _this.events.push(event);\r\n        }\r\n      });\r\n      return this;\r\n    }\r\n    /**\r\n     * Builds int array of all events.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"buildData\",\r\n    value: function buildData() {\r\n      var _this2 = this;\r\n\r\n      // Remove existing end track event and add one.\r\n      // This makes sure it's at the very end of the event list.\r\n      this.removeEventsByType('end-track').addEvent(new EndTrackEvent()); // Reset\r\n\r\n      this.data = [];\r\n      this.size = [];\r\n      this.tickPointer = 0;\r\n      var precisionLoss = 0;\r\n      this.events.forEach(function (event, eventIndex) {\r\n        // Build event & add to total tick duration\r\n        if (event instanceof NoteOnEvent || event instanceof NoteOffEvent) {\r\n          var built = event.buildData(_this2, precisionLoss);\r\n          precisionLoss = Utils.getPrecisionLoss(event.deltaWithPrecisionCorrection || 0);\r\n          _this2.data = _this2.data.concat(built.data);\r\n          _this2.tickPointer = Utils.getRoundedIfClose(event.tick);\r\n        } else {\r\n          _this2.data = _this2.data.concat(event.data);\r\n        }\r\n      });\r\n      this.mergeExplicitTickEvents();\r\n      this.size = Utils.numberToBytes(this.data.length, 4); // 4 bytes long\r\n\r\n      return this;\r\n    }\r\n  }, {\r\n    key: \"mergeExplicitTickEvents\",\r\n    value: function mergeExplicitTickEvents() {\r\n      var _this3 = this;\r\n\r\n      if (!this.explicitTickEvents.length) return; // First sort asc list of events by startTick\r\n\r\n      this.explicitTickEvents.sort(function (a, b) {\r\n        return a.startTick - b.startTick;\r\n      }); // Now this.explicitTickEvents is in correct order, and so is this.events naturally.\r\n      // For each explicit tick event, splice it into the main list of events and\r\n      // adjust the delta on the following events so they still play normally.\r\n\r\n      this.explicitTickEvents.forEach(function (noteEvent) {\r\n        // Convert NoteEvent to it's respective NoteOn/NoteOff events\r\n        // Note that as we splice in events the delta for the NoteOff ones will\r\n        // Need to change based on what comes before them after the splice.\r\n        noteEvent.buildData().events.forEach(function (e) {\r\n          return e.buildData(_this3);\r\n        }); // Merge each event indivually into this track's event list.\r\n\r\n        noteEvent.events.forEach(function (event) {\r\n          return _this3.mergeSingleEvent(event);\r\n        });\r\n      }); // Hacky way to rebuild track with newly spliced events.  Need better solution.\r\n\r\n      this.explicitTickEvents = [];\r\n      this.buildData();\r\n    }\r\n    /**\r\n     * Merges another track's events with this track.\r\n     * @param {Track} track\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"mergeTrack\",\r\n    value: function mergeTrack(track) {\r\n      var _this4 = this;\r\n\r\n      // First build this track to populate each event's tick property\r\n      this.buildData(); // Then build track to be merged so that tick property is populated on all events & merge each event.\r\n\r\n      track.buildData().events.forEach(function (event) {\r\n        return _this4.mergeSingleEvent(event);\r\n      });\r\n    }\r\n    /**\r\n     * Merges a single event into this track's list of events based on event.tick property.\r\n     * @param {NoteOnEvent|NoteOffEvent} - event\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"mergeSingleEvent\",\r\n    value: function mergeSingleEvent(event) {\r\n      // Find index of existing event we need to follow with\r\n      var lastEventIndex = 0;\r\n\r\n      for (var i = 0; i < this.events.length; i++) {\r\n        if (this.events[i].tick > event.tick) break;\r\n        lastEventIndex = i;\r\n      }\r\n\r\n      var splicedEventIndex = lastEventIndex + 1; // Need to adjust the delta of this event to ensure it falls on the correct tick.\r\n\r\n      event.delta = event.tick - this.events[lastEventIndex].tick; // Splice this event at lastEventIndex + 1\r\n\r\n      this.events.splice(splicedEventIndex, 0, event); // Now adjust delta of all following events\r\n\r\n      for (var i = splicedEventIndex + 1; i < this.events.length; i++) {\r\n        // Since each existing event should have a tick value at this point we just need to\r\n        // adjust delta to that the event still falls on the correct tick.\r\n        this.events[i].delta = this.events[i].tick - this.events[i - 1].tick;\r\n      }\r\n    }\r\n    /**\r\n     * Removes all events matching specified type.\r\n     * @param {string} eventType - Event type\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"removeEventsByType\",\r\n    value: function removeEventsByType(eventType) {\r\n      var _this5 = this;\r\n\r\n      this.events.forEach(function (event, index) {\r\n        if (event.type === eventType) {\r\n          _this5.events.splice(index, 1);\r\n        }\r\n      });\r\n      return this;\r\n    }\r\n    /**\r\n     * Sets tempo of the MIDI file.\r\n     * @param {number} bpm - Tempo in beats per minute.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"setTempo\",\r\n    value: function setTempo(bpm) {\r\n      return this.addEvent(new TempoEvent(bpm));\r\n    }\r\n    /**\r\n     * Sets time signature.\r\n     * @param {number} numerator - Top number of the time signature.\r\n     * @param {number} denominator - Bottom number of the time signature.\r\n     * @param {number} midiclockspertick - Defaults to 24.\r\n     * @param {number} notespermidiclock - Defaults to 8.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"setTimeSignature\",\r\n    value: function setTimeSignature(numerator, denominator, midiclockspertick, notespermidiclock) {\r\n      return this.addEvent(new TimeSignatureEvent(numerator, denominator, midiclockspertick, notespermidiclock));\r\n    }\r\n    /**\r\n     * Sets key signature.\r\n     * @param {*} sf -\r\n     * @param {*} mi -\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"setKeySignature\",\r\n    value: function setKeySignature(sf, mi) {\r\n      return this.addEvent(new KeySignatureEvent(sf, mi));\r\n    }\r\n    /**\r\n     * Adds text to MIDI file.\r\n     * @param {string} text - Text to add.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"addText\",\r\n    value: function addText(text) {\r\n      return this.addEvent(new TextEvent(text));\r\n    }\r\n    /**\r\n     * Adds copyright to MIDI file.\r\n     * @param {string} text - Text of copyright line.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"addCopyright\",\r\n    value: function addCopyright(text) {\r\n      return this.addEvent(new CopyrightEvent(text));\r\n    }\r\n    /**\r\n     * Adds Sequence/Track Name.\r\n     * @param {string} text - Text of track name.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"addTrackName\",\r\n    value: function addTrackName(text) {\r\n      return this.addEvent(new TrackNameEvent(text));\r\n    }\r\n    /**\r\n     * Sets instrument name of track.\r\n     * @param {string} text - Name of instrument.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"addInstrumentName\",\r\n    value: function addInstrumentName(text) {\r\n      return this.addEvent(new InstrumentNameEvent(text));\r\n    }\r\n    /**\r\n     * Adds marker to MIDI file.\r\n     * @param {string} text - Marker text.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"addMarker\",\r\n    value: function addMarker(text) {\r\n      return this.addEvent(new MarkerEvent(text));\r\n    }\r\n    /**\r\n     * Adds cue point to MIDI file.\r\n     * @param {string} text - Text of cue point.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"addCuePoint\",\r\n    value: function addCuePoint(text) {\r\n      return this.addEvent(new CuePointEvent(text));\r\n    }\r\n    /**\r\n     * Adds lyric to MIDI file.\r\n     * @param {string} text - Lyric text to add.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"addLyric\",\r\n    value: function addLyric(text) {\r\n      return this.addEvent(new LyricEvent(text));\r\n    }\r\n    /**\r\n     * Channel mode messages\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"polyModeOn\",\r\n    value: function polyModeOn() {\r\n      var event = new NoteOnEvent({\r\n        data: [0x00, 0xB0, 0x7E, 0x00]\r\n      });\r\n      return this.addEvent(event);\r\n    }\r\n    /**\r\n     * Sets a pitch bend.\r\n     * @param {float} bend - Bend value ranging [-1,1], zero meaning no bend.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"setPitchBend\",\r\n    value: function setPitchBend(bend) {\r\n      return this.addEvent(new PitchBendEvent({\r\n        bend: bend\r\n      }));\r\n    }\r\n    /**\r\n     * Adds a controller change event\r\n     * @param {number} number - Control number.\r\n     * @param {number} value - Control value.\r\n     * @return {Track}\r\n     */\r\n\r\n  }, {\r\n    key: \"controllerChange\",\r\n    value: function controllerChange(number, value) {\r\n      return this.addEvent(new ControllerChangeEvent({\r\n        controllerNumber: number,\r\n        controllerValue: value\r\n      }));\r\n    }\r\n  }]);\r\n\r\n  return Track;\r\n}();\r\n\r\nvar VexFlow = /*#__PURE__*/function () {\r\n  function VexFlow() {\r\n    _classCallCheck(this, VexFlow);\r\n  }\r\n\r\n  _createClass(VexFlow, [{\r\n    key: \"trackFromVoice\",\r\n    value:\r\n    /**\r\n     * Support for converting VexFlow voice into MidiWriterJS track\r\n     * @return MidiWriter.Track object\r\n     */\r\n    function trackFromVoice(voice) {\r\n      var _this = this;\r\n\r\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\r\n        addRenderedAccidentals: false\r\n      };\r\n      var track = new Track();\r\n      var wait = [];\r\n      voice.tickables.forEach(function (tickable) {\r\n        if (tickable.noteType === 'n') {\r\n          track.addEvent(new NoteEvent({\r\n            pitch: tickable.keys.map(function (pitch, index) {\r\n              return _this.convertPitch(pitch, index, tickable, options.addRenderedAccidentals);\r\n            }),\r\n            duration: _this.convertDuration(tickable),\r\n            wait: wait\r\n          })); // reset wait\r\n\r\n          wait = [];\r\n        } else if (tickable.noteType === 'r') {\r\n          // move on to the next tickable and add this to the stack\r\n          // of the `wait` property for the next note event\r\n          wait.push(_this.convertDuration(tickable));\r\n          return;\r\n        }\r\n      }); // There may be outstanding rests at the end of the track,\r\n      // pad with a ghost note (zero duration and velocity), just to capture the wait.\r\n\r\n      if (wait.length > 0) {\r\n        track.addEvent(new NoteEvent({\r\n          pitch: '[c4]',\r\n          duration: '0',\r\n          wait: wait,\r\n          velocity: '0'\r\n        }));\r\n      }\r\n\r\n      return track;\r\n    }\r\n    /**\r\n     * Converts VexFlow pitch syntax to MidiWriterJS syntax\r\n     * @param pitch string\r\n     * @param index pitch index\r\n     * @param note struct from Vexflow\r\n     * @param addRenderedAccidentals adds Vexflow rendered accidentals\r\n     */\r\n\r\n  }, {\r\n    key: \"convertPitch\",\r\n    value: function convertPitch(pitch, index, note) {\r\n      var addRenderedAccidentals = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\r\n      // Splits note name from octave\r\n      var pitchParts = pitch.split('/'); // Retrieves accidentals from pitch\r\n      // Removes natural accidentals since they are not accepted in Tonal Midi\r\n\r\n      var accidentals = pitchParts[0].substring(1).replace('n', '');\r\n\r\n      if (addRenderedAccidentals) {\r\n        var _note$getAccidentals;\r\n\r\n        (_note$getAccidentals = note.getAccidentals()) === null || _note$getAccidentals === void 0 ? void 0 : _note$getAccidentals.forEach(function (accidental) {\r\n          if (accidental.index === index) {\r\n            if (accidental.type === 'n') {\r\n              accidentals = '';\r\n            } else {\r\n              accidentals += accidental.type;\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      return pitchParts[0][0] + accidentals + pitchParts[1];\r\n    }\r\n    /**\r\n     * Converts VexFlow duration syntax to MidiWriterJS syntax\r\n     * @param note struct from VexFlow\r\n     */\r\n\r\n  }, {\r\n    key: \"convertDuration\",\r\n    value: function convertDuration(note) {\r\n      return 'd'.repeat(note.dots) + this.convertBaseDuration(note.duration) + (note.tuplet ? 't' + note.tuplet.num_notes : '');\r\n    }\r\n    /**\r\n     * Converts VexFlow base duration syntax to MidiWriterJS syntax\r\n     * @param duration Vexflow duration\r\n     * @returns MidiWriterJS duration\r\n     */\r\n\r\n  }, {\r\n    key: \"convertBaseDuration\",\r\n    value: function convertBaseDuration(duration) {\r\n      switch (duration) {\r\n        case 'w':\r\n          return '1';\r\n\r\n        case 'h':\r\n          return '2';\r\n\r\n        case 'q':\r\n          return '4';\r\n\r\n        default:\r\n          return duration;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return VexFlow;\r\n}();\r\n\r\n/**\r\n * Object representation of a header chunk section of a MIDI file.\r\n * @param {number} numberOfTracks - Number of tracks\r\n * @return {HeaderChunk}\r\n */\r\n\r\nvar HeaderChunk = function HeaderChunk(numberOfTracks) {\r\n  _classCallCheck(this, HeaderChunk);\r\n\r\n  this.type = Constants.HEADER_CHUNK_TYPE;\r\n  var trackType = numberOfTracks > 1 ? Constants.HEADER_CHUNK_FORMAT1 : Constants.HEADER_CHUNK_FORMAT0;\r\n  this.data = trackType.concat(Utils.numberToBytes(numberOfTracks, 2), // two bytes long,\r\n  Constants.HEADER_CHUNK_DIVISION);\r\n  this.size = [0, 0, 0, this.data.length];\r\n};\r\n\r\n/**\r\n * Object that puts together tracks and provides methods for file output.\r\n * @param {array|Track} tracks - A single {Track} object or an array of {Track} objects.\r\n * @return {Writer}\r\n */\r\n\r\nvar Writer = /*#__PURE__*/function () {\r\n  function Writer(tracks) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, Writer);\r\n\r\n    // Ensure track is an array\r\n    tracks = Utils.toArray(tracks);\r\n    this.data = [];\r\n    this.data.push(new HeaderChunk(tracks.length)); // For each track add final end of track event and build data\r\n\r\n    tracks.forEach(function (track, i) {\r\n      _this.data.push(track.buildData());\r\n    });\r\n  }\r\n  /**\r\n   * Builds the file into a Uint8Array\r\n   * @return {Uint8Array}\r\n   */\r\n\r\n\r\n  _createClass(Writer, [{\r\n    key: \"buildFile\",\r\n    value: function buildFile() {\r\n      var build = []; // Data consists of chunks which consists of data\r\n\r\n      this.data.forEach(function (d) {\r\n        return build = build.concat(d.type, d.size, d.data);\r\n      });\r\n      return new Uint8Array(build);\r\n    }\r\n    /**\r\n     * Convert file buffer to a base64 string.  Different methods depending on if browser or node.\r\n     * @return {string}\r\n     */\r\n\r\n  }, {\r\n    key: \"base64\",\r\n    value: function base64() {\r\n      if (typeof btoa === 'function') return btoa(String.fromCharCode.apply(null, this.buildFile()));\r\n      return Buffer.from(this.buildFile()).toString('base64');\r\n    }\r\n    /**\r\n     * Get the data URI.\r\n     * @return {string}\r\n     */\r\n\r\n  }, {\r\n    key: \"dataUri\",\r\n    value: function dataUri() {\r\n      return 'data:audio/midi;base64,' + this.base64();\r\n    }\r\n    /**\r\n     * Output to stdout\r\n     * @return {string}\r\n     */\r\n\r\n  }, {\r\n    key: \"stdout\",\r\n    value: function stdout() {\r\n      return process.stdout.write(new Buffer(this.buildFile()));\r\n    }\r\n    /**\r\n     * Save to MIDI file\r\n     * @param {string} filename\r\n     */\r\n\r\n  }, /* {\r\n    key: \"saveMIDI\",\r\n    value: function saveMIDI(filename) {\r\n      var fs = require('fs');\r\n\r\n      var buffer = new Buffer.from(this.buildFile());\r\n      fs.writeFile(filename + '.mid', buffer, function (err) {\r\n        if (err) throw err;\r\n      });\r\n    }  \r\n  }  */ \r\n]); \r\n\r\n  return Writer;\r\n}();\r\n\r\nvar main = {\r\n  Constants: Constants,\r\n  NoteOnEvent: NoteOnEvent,\r\n  NoteOffEvent: NoteOffEvent,\r\n  NoteEvent: NoteEvent,\r\n  PitchBendEvent: PitchBendEvent,\r\n  ProgramChangeEvent: ProgramChangeEvent,\r\n  Track: Track,\r\n  Utils: Utils,\r\n  VexFlow: VexFlow,\r\n  Writer: Writer\r\n};\r\nwindow.MidiWriter = main;\r\n};\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoNote } from '../smo/data/note';\r\nimport { SuiAudioPitch } from '../render/audio/oscillator';\r\nimport { Pitch, PitchKey, Clef, PitchLetter } from '../smo/data/common';\r\n/**\r\n// Helper functions that build on the VX music theory routines, and other\r\n// utilities I wish were in VF.Music but aren't\r\n// ### Note on pitch and duration format\r\n// We use some VEX music theory routines and frequently need to convert\r\n// formats from SMO format.\r\n//\r\n// `Smo` uses pitch JSON:\r\n// ``javascript``\r\n//  {note:'c',accidental:'#',octave:4}\r\n// `Vex` usually uses a canonical string:\r\n//  'c#/4'\r\n//  Depending on the operation, the octave might be omitted\r\n//\r\n// `Smo` uses a JSON for duration always:\r\n// ``javascript``\r\n// {numerator:4096,denominator:1,remainder:0}\r\n//\r\n// `VexFlow` uses a letter duration ('4' for 1/4 note) and 'd' for dot.\r\n// I try to indicate whether I am using vex or smo notation\r\n// Duration methods start around line 600\r\n// ---\r\n */\r\nconst VF = eval('Vex.Flow');\r\nexport interface VexNoteValue {\r\n  root_index: number,\r\n  int_val: number\r\n}\r\nexport class smoMusic {\r\n  static get noteValues(): Record<string, VexNoteValue> {\r\n    return {\r\n      c: { root_index: 0, int_val: 0 },\r\n      cn: { root_index: 0, int_val: 0 },\r\n      'c#': { root_index: 0, int_val: 1 },\r\n      'c##': { root_index: 0, int_val: 2 },\r\n      cb: { root_index: 0, int_val: 11 },\r\n      cbb: { root_index: 0, int_val: 10 },\r\n      d: { root_index: 1, int_val: 2 },\r\n      dn: { root_index: 1, int_val: 2 },\r\n      'd#': { root_index: 1, int_val: 3 },\r\n      'd##': { root_index: 1, int_val: 4 },\r\n      db: { root_index: 1, int_val: 1 },\r\n      dbb: { root_index: 1, int_val: 0 },\r\n      e: { root_index: 2, int_val: 4 },\r\n      en: { root_index: 2, int_val: 4 },\r\n      'e#': { root_index: 2, int_val: 5 },\r\n      'e##': { root_index: 2, int_val: 6 },\r\n      eb: { root_index: 2, int_val: 3 },\r\n      ebb: { root_index: 2, int_val: 2 },\r\n      f: { root_index: 3, int_val: 5 },\r\n      fn: { root_index: 3, int_val: 5 },\r\n      'f#': { root_index: 3, int_val: 6 },\r\n      'f##': { root_index: 3, int_val: 7 },\r\n      fb: { root_index: 3, int_val: 4 },\r\n      fbb: { root_index: 3, int_val: 3 },\r\n      g: { root_index: 4, int_val: 7 },\r\n      gn: { root_index: 4, int_val: 7 },\r\n      'g#': { root_index: 4, int_val: 8 },\r\n      'g##': { root_index: 4, int_val: 9 },\r\n      gb: { root_index: 4, int_val: 6 },\r\n      gbb: { root_index: 4, int_val: 5 },\r\n      a: { root_index: 5, int_val: 9 },\r\n      an: { root_index: 5, int_val: 9 },\r\n      'a#': { root_index: 5, int_val: 10 },\r\n      'a##': { root_index: 5, int_val: 11 },\r\n      ab: { root_index: 5, int_val: 8 },\r\n      abb: { root_index: 5, int_val: 7 },\r\n      b: { root_index: 6, int_val: 11 },\r\n      bn: { root_index: 6, int_val: 11 },\r\n      'b#': { root_index: 6, int_val: 0 },\r\n      'b##': { root_index: 6, int_val: 1 },\r\n      bb: { root_index: 6, int_val: 10 },\r\n      bbb: { root_index: 6, int_val: 9 },\r\n    };\r\n  }\r\n  /** /\r\n  // return Vex canonical note enharmonic - e.g. Bb to A#\r\n  // Get the canonical form\r\n  */\r\n  static vexToCannonical(vexKey: string): string {\r\n    vexKey = smoMusic.stripVexOctave(vexKey);\r\n    return VF.Music.canonical_notes[smoMusic.noteValues[vexKey].int_val];\r\n  }\r\n\r\n  /** circleOfFifths\r\n  * A note array in key-signature order\r\n  */\r\n  static get circleOfFifths(): PitchKey[] {\r\n    return [{\r\n      letter: 'c',\r\n      accidental: 'n'\r\n    }, {\r\n      letter: 'g',\r\n      accidental: 'n'\r\n    }, {\r\n      letter: 'd',\r\n      accidental: 'n'\r\n    }, {\r\n      letter: 'a',\r\n      accidental: 'n'\r\n    }, {\r\n      letter: 'e',\r\n      accidental: 'n'\r\n    }, {\r\n      letter: 'b',\r\n      accidental: 'n'\r\n    }, {\r\n      letter: 'f',\r\n      accidental: '#'\r\n    }, {\r\n      letter: 'c',\r\n      accidental: '#'\r\n    }, {\r\n      letter: 'a',\r\n      accidental: 'b'\r\n    }, {\r\n      letter: 'e',\r\n      accidental: 'b'\r\n    }, {\r\n      letter: 'b',\r\n      accidental: 'b'\r\n    }, {\r\n      letter: 'f',\r\n      accidental: 'n'\r\n    }\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * gives the index into circle-of-fifths array for a pitch, considering enharmonics.\r\n   * */\r\n  static circleOfFifthsIndex(smoPitch: Pitch) {\r\n    const en1 = smoMusic.vexToSmoKey(smoMusic.getEnharmonic(smoMusic.pitchToVexKey(smoPitch)));\r\n    const en2 = smoMusic.vexToSmoKey(smoMusic.getEnharmonic(smoMusic.getEnharmonic(smoMusic.pitchToVexKey(smoPitch))));\r\n    const ix = smoMusic.circleOfFifths.findIndex((el) =>\r\n      (el.letter === smoPitch.letter && el.accidental === smoPitch.accidental) ||\r\n      (el.letter === en1.letter && el.accidental === en1.accidental) ||\r\n      (el.letter === en2.letter && el.accidental === en2.accidental)\r\n    );\r\n    return ix;\r\n  }\r\n\r\n  /**\r\n   * Get pitch to the right in circle of fifths\r\n   * */\r\n  static addSharp(smoPitch: Pitch): Pitch {\r\n    const rv: PitchKey = smoMusic.circleOfFifths[\r\n      (smoMusic.circleOfFifthsIndex(smoPitch) + 1) % smoMusic.circleOfFifths.length];\r\n    return { letter: rv.letter, accidental: rv.accidental, octave: smoPitch.octave };\r\n  }\r\n\r\n  /**\r\n   * Get pitch to the left in circle of fifths\r\n   */\r\n  static addFlat(smoPitch: Pitch): Pitch {\r\n    const rv: PitchKey = smoMusic.circleOfFifths[\r\n      ((smoMusic.circleOfFifths.length - 1) + smoMusic.circleOfFifthsIndex(smoPitch)) % smoMusic.circleOfFifths.length];\r\n    return { letter: rv.letter, accidental: rv.accidental, octave: smoPitch.octave };\r\n  }\r\n\r\n  /**\r\n   * Add @param {number} - sharps\r\n   */\r\n  static addSharps(smoPitch: Pitch, distance: number): Pitch {\r\n    let i = 0;\r\n    let rv: Pitch = {} as Pitch;\r\n    if (distance === 0) {\r\n      return JSON.parse(JSON.stringify(smoPitch));\r\n    }\r\n    rv = smoMusic.addSharp(smoPitch);\r\n    for (i = 1; i < distance; ++i) {\r\n      rv = smoMusic.addSharp(rv);\r\n    }\r\n    const octaveAdj = smoMusic.letterPitchIndex[smoPitch.letter] > smoMusic.letterPitchIndex[rv.letter] ? 1 : 0;\r\n    rv.octave += octaveAdj;\r\n    return rv;\r\n  }\r\n\r\n  /**\r\n   * Add *distance* sharps/flats to given key\r\n   */\r\n  static addFlats(smoPitch: Pitch, distance: number): Pitch {\r\n    let i = 0;\r\n    let rv: Pitch = {} as Pitch;\r\n    if (distance === 0) {\r\n      return JSON.parse(JSON.stringify(smoPitch));\r\n    }\r\n    rv = smoMusic.addFlat(smoPitch);\r\n    for (i = 1; i < distance; ++i) {\r\n      rv = smoMusic.addFlat(rv);\r\n    }\r\n    const octaveAdj = smoMusic.letterPitchIndex[smoPitch.letter] > smoMusic.letterPitchIndex[rv.letter] ? 1 : 0;\r\n    rv.octave += octaveAdj;\r\n    return rv;\r\n  }\r\n\r\n  /**\r\n   * Convert array of smo pitches to vex keys, with adjustment for transpose and notehead\r\n   * @param pitchAr\r\n   * @param keyOffset\r\n   * @param noteHead\r\n   * @returns {string[]} - array of vex keyx\r\n   */\r\n  static smoPitchesToVexKeys(pitchAr: Pitch[], keyOffset: number, noteHead: string | null): string[] {\r\n    const noopFunc = keyOffset > 0 ? 'addSharps' : 'addFlats';\r\n\r\n    const rv: string[] = [];\r\n    pitchAr.forEach((pitch) => {\r\n      rv.push(smoMusic.pitchToVexKey(smoMusic[noopFunc](pitch, keyOffset), noteHead));\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  static get scaleIntervals(): Record<string, number[]> {\r\n    return {\r\n      up: [2, 2, 1, 2, 2, 2, 1],\r\n      down: [1, 2, 2, 2, 1, 2, 2]\r\n    };\r\n  }\r\n\r\n  /**\r\n   *  return true if the pitches match, but maybe not in same octave\r\n   * */\r\n  static smoScalePitchMatch(p1: Pitch, p2: Pitch): boolean {\r\n    const pp1 = JSON.parse(JSON.stringify(p1));\r\n    const pp2 = JSON.parse(JSON.stringify(p2));\r\n    pp1.octave = 0;\r\n    pp2.octave = 0;\r\n\r\n    return smoMusic.smoPitchToInt(pp1) === smoMusic.smoPitchToInt(pp2);\r\n  }\r\n\r\n  /**\r\n   * Return the number of ledger lines based on the pitch and clef\r\n   * @param clef\r\n   * @param pitch\r\n   * @returns\r\n   */\r\n  static pitchToLedgerLine(clef: Clef, pitch: Pitch): number {\r\n    // return the distance from the top ledger line, as 0.5 per line/space\r\n    return -1.0 * (VF.keyProperties(smoMusic.pitchToVexKey(pitch, clef)).line - 4.5)\r\n      - VF.clefProperties(clef).line_shift;\r\n  }\r\n  /**\r\n   *   return hard-coded flag state, or flag state as based on pitch and clef\r\n   * */\r\n  static flagStateFromNote(clef: Clef, note: SmoNote) {\r\n    let fs = note.flagState;\r\n    if (fs === SmoNote.flagStates.auto) {\r\n      fs = smoMusic.pitchToLedgerLine(clef, note.pitches[0])\r\n        >= 2 ? SmoNote.flagStates.up : SmoNote.flagStates.down;\r\n    }\r\n    return fs;\r\n  }\r\n\r\n  /**\r\n   * convert from SMO to VEX format so we can use the VexFlow tables and methods\r\n   * example:\r\n   *   `{letter,octave,accidental}` object to vexKey string `'f#'`\r\n   * */\r\n  static _pitchToVexKey(smoPitch: Pitch): string {\r\n    // Convert to vex keys, where f# is a string like 'f#'.\r\n    let vexKey = smoPitch.letter.toLowerCase();\r\n    if (smoPitch.accidental.length === 0) {\r\n      vexKey = vexKey + 'n';\r\n    } else {\r\n      vexKey = vexKey + smoPitch.accidental;\r\n    }\r\n    if (smoPitch.octave) {\r\n      vexKey = vexKey + '/' + smoPitch.octave;\r\n    }\r\n    return vexKey;\r\n  }\r\n\r\n  /**\r\n   * convert smo pitch to easy score (vex) format\r\n   * @param smoPitch\r\n   * @returns\r\n   */\r\n  static pitchToEasyScore(smoPitch: Pitch): string {\r\n    let vexKey = smoPitch.letter.toLowerCase();\r\n    vexKey = vexKey + smoPitch.accidental;\r\n    return vexKey + smoPitch.octave;\r\n  }\r\n  static smoPitchToMidiString(smoPitch: Pitch): string {\r\n    const midiPitch = smoMusic.smoIntToPitch(smoMusic.smoPitchToInt(smoPitch));\r\n    let rv = midiPitch.letter.toUpperCase();\r\n    if (midiPitch.accidental !== 'n') {\r\n      rv += midiPitch.accidental;\r\n    }\r\n    rv += midiPitch.octave;\r\n    return rv;\r\n  }\r\n  static smoPitchesToMidiStrings(smoPitches: Pitch[]): string[] {\r\n    const rv: string[] = [];\r\n    smoPitches.forEach((pitch) => {\r\n      rv.push(smoMusic.smoPitchToMidiString(pitch));\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  static midiPitchToSmoPitch(midiPitch: string): Pitch {\r\n    const smoPitch: Pitch = {} as Pitch;\r\n    smoPitch.letter = midiPitch[0].toLowerCase() as PitchLetter;\r\n    if (isNaN(parseInt(midiPitch[1], 10))) {\r\n      smoPitch.accidental = midiPitch[1];\r\n      smoPitch.octave = parseInt(midiPitch[2], 10);\r\n    } else {\r\n      smoPitch.accidental = 'n';\r\n      smoPitch.octave = parseInt(midiPitch[1], 10);\r\n    }\r\n    return smoPitch;\r\n  }\r\n  static midiPitchToMidiNumber(midiPitch: string): number {\r\n    return smoMusic.smoPitchToInt(smoMusic.midiPitchToSmoPitch(midiPitch)) + 12;\r\n  }\r\n\r\n  static pitchToVexKey(smoPitch: Pitch, head: string | null = null): string {\r\n    if (!head) {\r\n      return smoMusic._pitchToVexKey(smoPitch);\r\n    }\r\n    return smoMusic._pitchToVexKey(smoPitch) + '/' + head;\r\n  }\r\n\r\n  /**\r\n   *  Turns vex pitch string into smo pitch, e.g.\r\n   * `cn/4 => {'c','n',4}`\r\n   * */\r\n  static vexToSmoPitch(vexPitch: string): Pitch {\r\n    let octave = 0;\r\n    const po = vexPitch.split('/');\r\n    const rv = smoMusic.vexToSmoKey(po[0]);\r\n    if (po.length > 1) {\r\n      octave = parseInt(po[1], 10);\r\n      octave = isNaN(octave) ? 4 : octave;\r\n    } else {\r\n      octave = 4;\r\n    }\r\n    (rv as Pitch).octave = octave;\r\n    return rv as Pitch;\r\n  }\r\n\r\n  /**\r\n   * Convert to smo pitch, without octave\r\n   * ``['f#'] => [{letter:'f',accidental:'#'}]``\r\n   * */\r\n  static vexToSmoKey(vexPitch: string): PitchKey {\r\n    const accidental = vexPitch.length < 2 ? 'n' : vexPitch.substring(1, vexPitch.length);\r\n    const pp = vexPitch.split('/')[0];\r\n    return {\r\n      letter: pp[0].toLowerCase() as PitchLetter,\r\n      accidental\r\n    };\r\n  }\r\n\r\n  // {letter:'f',accidental:'#'} => [f#/\r\n  static smoPitchesToVex(pitchAr: Pitch[]): string[] {\r\n    var rv: string[] = [];\r\n    pitchAr.forEach((p) => {\r\n      rv.push(smoMusic.pitchToVexKey(p));\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  static stripVexOctave(vexKey: string): string {\r\n    if (vexKey.indexOf('/') > 0) {\r\n      vexKey = vexKey.substring(0, vexKey.indexOf('/'));\r\n    }\r\n    return vexKey;\r\n  }\r\n  /**\r\n   * compare pitches for frequency match\r\n   */\r\n  static pitchArraysMatch(ar1: Pitch[], ar2: Pitch[]): boolean {\r\n    let matches = 0;\r\n    const ir1 = smoMusic.smoPitchesToIntArray(ar1);\r\n    const ir2 = smoMusic.smoPitchesToIntArray(ar2);\r\n    if (ir1.length !== ir2.length) {\r\n      return false;\r\n    }\r\n    ir1.forEach((num) => {\r\n      if (ir2.indexOf(num) >= 0) {\r\n        matches += 1;\r\n      }\r\n    });\r\n    return matches === ir1.length;\r\n  }\r\n  static smoPitchesToIntArray(pitches: Pitch[]): number[] {\r\n    const rv: number[] = [];\r\n    pitches.forEach((pitch) => {\r\n      rv.push(smoMusic.smoPitchToInt(pitch));\r\n    });\r\n    return rv.sort();\r\n  }\r\n\r\n  static smoPitchToInt(pitch: Pitch): number {\r\n    if (typeof (pitch.octave) === 'undefined') {\r\n      pitch.octave = 0;\r\n    }\r\n    const intVal = smoMusic.noteValues[\r\n      smoMusic.stripVexOctave(smoMusic.pitchToVexKey(pitch))].int_val;\r\n    const octave = (pitch.letter === 'c' && pitch.accidental === 'b' && pitch.octave > 0) ?\r\n      pitch.octave - 1 : pitch.octave;\r\n    return octave * 12 + intVal;\r\n  }\r\n\r\n  static smoIntToPitch(intValue: number): Pitch {\r\n    let octave = 0;\r\n    let accidental = '';\r\n    let noteKey: PitchLetter | null = null;\r\n    const letterInt = intValue >= 0 ? intValue % 12 :\r\n      12 - (Math.abs(intValue) % 12);\r\n    noteKey = (Object.keys(smoMusic.noteValues).find((key) =>\r\n      smoMusic.noteValues[key].int_val === letterInt && key.length === 1\r\n    )) as PitchLetter | null;\r\n    if (!noteKey) {\r\n      noteKey = (Object.keys(smoMusic.noteValues).find((key) =>\r\n        smoMusic.noteValues[key].int_val === letterInt && key.length === 2\r\n      )) as PitchLetter;\r\n    }\r\n    octave = Math.floor(intValue / 12);\r\n    octave = octave >= 0 ? octave : 0;\r\n    accidental = noteKey.substring(1, noteKey.length);\r\n    // eslint-disable-next-line\r\n    accidental = accidental ? accidental : 'n';\r\n    return {\r\n      letter: noteKey[0] as PitchLetter,\r\n      accidental,\r\n      octave\r\n    };\r\n  }\r\n  static pitchKeyToPitch(pk: PitchKey): Pitch {\r\n    return { letter: pk.letter, accidental: pk.accidental, octave: 1 };\r\n  }\r\n\r\n  /**\r\n   * Consider instrument transpose when setting key -\r\n   * e.g. Eb for Bb instruments is F.\r\n   */\r\n  static vexKeySigWithOffset(vexKey: string, offset: number): string {\r\n    const pk: PitchKey = smoMusic.vexToSmoKey(vexKey);\r\n    const pi: number = smoMusic.smoPitchToInt(smoMusic.pitchKeyToPitch(pk));\r\n    let newKey: string = smoMusic.toValidKeySignature(smoMusic.pitchToVexKey(smoMusic.smoIntToPitch(pi)));\r\n    // handle equivalent ks\r\n    if (newKey === 'c#' && vexKey.indexOf('b') >= 0) {\r\n      newKey = 'db';\r\n    }\r\n    return newKey;\r\n  }\r\n\r\n  /**\r\n   * return a map of enharmonics for choosing or cycling.  notes are in vexKey form.\r\n   */\r\n  static get enharmonics(): Record<string, string[]> {\r\n    let i = 0;\r\n    const rv: Record<string, string[]> = {};\r\n    const keys = Object.keys(smoMusic.noteValues);\r\n    for (i = 0; i < keys.length; ++i) {\r\n      const key = keys[i];\r\n      const int_val: number = smoMusic.noteValues[key].int_val;\r\n      if (typeof (rv[int_val.toString()]) === 'undefined') {\r\n        rv[int_val.toString()] = [];\r\n      }\r\n      // only consider natural note 1 time.  It is in the list twice for some reason.\r\n      if (key.indexOf('n') === -1) {\r\n        rv[int_val.toString()].push(key);\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n  /**\r\n   * Get enharmonic equivalent of given notes for cycle/choose\r\n   * @param vexKey\r\n   * @returns\r\n   */\r\n  static getEnharmonics(vexKey: string): string[] {\r\n    const proto = smoMusic.stripVexOctave(vexKey);\r\n    const rv: string[] = [];\r\n    let ne = smoMusic.getEnharmonic(vexKey);\r\n    rv.push(proto);\r\n    while (ne[0] !== proto[0]) {\r\n      rv.push(ne);\r\n      ne = smoMusic.getEnharmonic(ne);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  /**\r\n   * return the next note from the cycle in `getEnharmonics`\r\n   */\r\n  static getEnharmonic(vexKey: string): string {\r\n    vexKey = smoMusic.stripVexOctave(vexKey);\r\n    const intVal = smoMusic.noteValues[vexKey.toLowerCase()].int_val;\r\n    const ar = smoMusic.enharmonics[intVal.toString()];\r\n    const len = ar.length;\r\n    // 'n' for natural in key but not in value\r\n    vexKey = vexKey.length > 1 && vexKey[1] === 'n' ? vexKey[0] : vexKey;\r\n    const ix = ar.indexOf(vexKey);\r\n    vexKey = ar[(ix + 1) % len];\r\n    return vexKey;\r\n  }\r\n\r\n  /**\r\n   * Return a pitch a diatonic step away from SmoPitch in vexKey\r\n   * @param smoPitch\r\n   * @param vexKey\r\n   * @param direction\r\n   * @returns\r\n   */\r\n  static closestTonic(smoPitch: Pitch, vexKey: string, direction: number): Pitch {\r\n    direction = Math.sign(direction) < 0 ? -1 : 1;\r\n    const tonic = smoMusic.vexToSmoKey(vexKey);\r\n    const rv = smoMusic.pitchKeyToPitch(tonic);\r\n    rv.octave = smoPitch.octave;\r\n    const iix = smoMusic.smoPitchToInt(smoPitch);\r\n    const smint = smoMusic.smoPitchToInt(rv);\r\n    if (Math.sign(smint - iix) !== direction) {\r\n      rv.octave += direction;\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### toValidKeySignature\r\n  // When transposing, make sure key signature is valid, e.g. g# should be\r\n  // Ab\r\n  static toValidKeySignature(vexKey: string): string {\r\n    let strlen = 0;\r\n    const map: Record<string, string> = { 'a#': 'bb', 'g#': 'ab', 'cb': 'b', 'd#': 'eb' };\r\n    strlen = (vexKey.length > 2 ? 2 : vexKey.length);\r\n    // Vex doesn't like 'n' in key signatures.\r\n    if (strlen === 2 && vexKey[1].toLowerCase() === 'n') {\r\n      strlen = 1;\r\n    }\r\n    const rv = vexKey.substr(0, strlen);\r\n    if (map[rv.toLowerCase()]) {\r\n      return map[rv.toLowerCase()];\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  /**\r\n   * When transposing, get the enharmonic that most closely fits the key\r\n   * `getEnharmonicInKey` returns an alternate to the given pitch, or the same pitch.\r\n   * `getKeyFriendlyEnharmonic` return a pitch for a given key, given the letter name only\r\n   * @param smoPitch\r\n   * @param keySignature\r\n   * @returns\r\n   */\r\n  static getEnharmonicInKey(smoPitch: Pitch, keySignature: string): Pitch {\r\n    let match = false;\r\n    let rv = '';\r\n    if (typeof (smoPitch.octave) === 'undefined') {\r\n      smoPitch.octave = 1;\r\n    }\r\n    const sharpKey = keySignature.indexOf('#') >= 0;\r\n    const flatKey = keySignature.indexOf('b') >= 0;\r\n    const ar = smoMusic.getEnharmonics(smoMusic.pitchToVexKey(smoPitch));\r\n    rv = smoMusic.stripVexOctave(smoMusic.pitchToVexKey(smoPitch));\r\n    const scaleMap: Record<string, string> = new VF.Music().createScaleMap(keySignature);\r\n    ar.forEach((vexKey) => {\r\n      if (vexKey.length === 1) {\r\n        vexKey += 'n';\r\n      }\r\n      if (vexKey === scaleMap[vexKey[0]]) {\r\n        rv = vexKey;\r\n        match = true;\r\n      } else if (!match) {\r\n        // In the absence of a match of a key tone, we bias towards more\r\n        // 'common', like Bb is more common than A#, esp. as a chord.  This maybe\r\n        // just be my horn player bias towards flat keys\r\n        if (vexKey === 'a#' && !sharpKey) {\r\n          rv = 'bb';\r\n        } else if (vexKey === 'g#' && !sharpKey) {\r\n          rv = 'ab';\r\n        } else if (vexKey === 'c#' && !sharpKey) {\r\n          rv = 'db';\r\n        } else if (vexKey === 'd#' && !sharpKey) {\r\n          rv = 'eb';\r\n        } else if (vexKey === 'f#' && flatKey) {\r\n          rv = 'gb';\r\n        }\r\n      }\r\n    });\r\n    const smoRv: Pitch = smoMusic.pitchKeyToPitch(smoMusic.vexToSmoKey(rv));\r\n    smoRv.octave = smoPitch.octave;\r\n    const rvi = smoMusic.smoPitchToInt(smoRv);\r\n    const ori = smoMusic.smoPitchToInt(smoPitch);\r\n    // handle the case of c0 < b0, pitch-wise\r\n    smoRv.octave += Math.sign(ori - rvi);\r\n    return smoRv;\r\n  }\r\n  /**\r\n   * fix the enharmonic to match the key, if possible\r\n   * @example\r\n   * `getKeyFriendlyEnharmonic('b','eb');  => returns 'bb'\r\n   * return vex string\r\n   * `getEnharmonicInKey` returns an alternate to the given pitch, or the same pitch.\r\n   * `getKeyFriendlyEnharmonic` return a pitch for a given key, given the letter name only\r\n   */\r\n  static getKeyFriendlyEnharmonic(letter: string, keySignature: string): string {\r\n    let rv: string = letter;\r\n    let i = 0;\r\n    const muse = new VF.Music();\r\n    const scale: string[] = Object.values(muse.createScaleMap(keySignature));\r\n    let prop: string = smoMusic.getEnharmonic(letter.toLowerCase());\r\n    while (prop.toLowerCase() !== letter.toLowerCase()) {\r\n      for (i = 0; i < scale.length; ++i) {\r\n        const skey: string = scale[i];\r\n        if ((skey[0] === prop && skey[1] === 'n') ||\r\n          (skey.toLowerCase() === prop.toLowerCase())) {\r\n          rv = skey;\r\n          break;\r\n        }\r\n      }\r\n      prop = (prop[1] === 'n' ? prop[0] : prop);\r\n      prop = smoMusic.getEnharmonic(prop);\r\n    }\r\n    return rv;\r\n  }\r\n  /**\r\n  // given a letter pitch (a,b,c etc.), and a key signature, return the actual note\r\n  // that you get without accidentals\r\n  //   `smoMusic.getKeySignatureKey('F','G'); // returns f#`\r\n   * @param letter\r\n   * @param keySignature\r\n   * @returns\r\n   */\r\n  static getKeySignatureKey(letter: PitchLetter, keySignature: string): string {\r\n    const km = new VF.KeyManager(keySignature);\r\n    return km.scaleMap[letter];\r\n  }\r\n\r\n  static getAccidentalForKeySignature(smoPitch: Pitch, keySignature: string): string {\r\n    const vexKey = smoMusic.getKeySignatureKey(smoPitch.letter, keySignature);\r\n    return vexKey.length === 1 ? 'n' : vexKey.substr(1, vexKey.length - 1);\r\n  }\r\n\r\n  // ### isPitchInKeySignature\r\n  // Return true if the pitch is not an accidental in the give key, e.g.\r\n  // f# in 'g' or c in 'Bb'\r\n  static isPitchInKeySignature(smoPitch: Pitch, keySignature: string): boolean {\r\n    const vexKey = smoMusic.getKeySignatureKey(smoPitch.letter, keySignature);\r\n    return (vexKey.length === 1 && smoPitch.accidental === 'n' ||\r\n      (vexKey[1] === smoPitch.accidental));\r\n  }\r\n\r\n  // ### getIntervalInKey\r\n  // give a pitch and a key signature, return another pitch at the given\r\n  // diatonic interval.  Similar to getKeyOffset but diatonic.\r\n  static getIntervalInKey(pitch: Pitch, keySignature: string, interval: number): Pitch {\r\n    let scaleIx = 0;\r\n    let diatonicIx = 0;\r\n    if (interval === 0) {\r\n      return JSON.parse(JSON.stringify(pitch));\r\n    }\r\n\r\n    const delta = interval > 0 ? 1 : -1;\r\n    const inv = -1 * delta;\r\n    const tonic = smoMusic.closestTonic(pitch, keySignature, inv);\r\n    const intervals = delta > 0 ? smoMusic.scaleIntervals.up : smoMusic.scaleIntervals.down;\r\n    const pitchInt = smoMusic.smoPitchToInt(pitch);\r\n    let nkey = tonic;\r\n    let nkeyInt = smoMusic.smoPitchToInt(nkey);\r\n    while (Math.sign(nkeyInt - pitchInt) !== delta && Math.sign(nkeyInt - pitchInt) !== 0) {\r\n      nkey = smoMusic.smoIntToPitch(smoMusic.smoPitchToInt(nkey) + delta * intervals[scaleIx]);\r\n      scaleIx = (scaleIx + 1) % 7;\r\n      nkeyInt = smoMusic.smoPitchToInt(nkey);\r\n    }\r\n    while (diatonicIx !== interval) {\r\n      nkey = smoMusic.smoIntToPitch(smoMusic.smoPitchToInt(nkey) + delta * intervals[scaleIx]);\r\n      scaleIx = (scaleIx + 1) % 7;\r\n      diatonicIx += delta;\r\n    }\r\n    return smoMusic.getEnharmonicInKey(nkey, keySignature);\r\n  }\r\n\r\n  static getLetterNotePitch(prevPitch: Pitch, letter: PitchLetter, key: string): Pitch {\r\n    const pitch: Pitch = JSON.parse(JSON.stringify(prevPitch));\r\n    pitch.letter = letter;\r\n\r\n    // Make the key 'a' make 'Ab' in the key of Eb, for instance\r\n    const vexKsKey = smoMusic.getKeySignatureKey(letter, key);\r\n    if (vexKsKey.length > 1) {\r\n      pitch.accidental = vexKsKey[1];\r\n    } else {\r\n      pitch.accidental = 'n';\r\n    }\r\n\r\n    // make the octave of the new note as close to previous (or next) note as possible.\r\n    const upv = ['bc', 'ac', 'bd', 'da', 'be', 'gc'];\r\n    const downv = ['cb', 'ca', 'db', 'da', 'eb', 'cg'];\r\n    const delta = prevPitch.letter + pitch.letter;\r\n    if (upv.indexOf(delta) >= 0) {\r\n      pitch.octave += 1;\r\n    }\r\n    if (downv.indexOf(delta) >= 0) {\r\n      pitch.octave -= 1;\r\n    }\r\n    return pitch;\r\n  }\r\n  /**\r\n   *\r\n   * @param key start key\r\n   * @param transposeIndex number of 1/2 steps\r\n   * @returns {string} - vex key\r\n   */\r\n  static vexKeySignatureTranspose(key: string, transposeIndex: number): string {\r\n    const pitch: Pitch = smoMusic.pitchKeyToPitch(smoMusic.vexToSmoKey(key));\r\n    key = smoMusic.smoPitchesToVexKeys([pitch], transposeIndex, null)[0];\r\n    key = smoMusic.stripVexOctave(key);\r\n    key = key[0].toUpperCase() + key.substring(1, key.length);\r\n    if (key.length > 1 && key[1] === 'n') {\r\n      key = key[0];\r\n    }\r\n    return key;\r\n  }\r\n  static get frequencyMap() {\r\n    return SuiAudioPitch.pitchFrequencyMap;\r\n  }\r\n\r\n  // ### get letterPitchIndex\r\n  // Used to adjust octave when transposing.\r\n  // Pitches are measured from c, so that b0 is higher than c0, c1 is 1 note higher etc.\r\n  static get letterPitchIndex(): Record<PitchLetter, number> {\r\n    return {\r\n      'c': 0,\r\n      'd': 1,\r\n      'e': 2,\r\n      'f': 3,\r\n      'g': 4,\r\n      'a': 5,\r\n      'b': 6\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Indicate if a change from letter note 'one' to 'two' needs us to adjust the\r\n   * octave due to the `smoMusic.letterPitchIndex` (b0 is higher than c0)\r\n   * */\r\n  static letterChangedOctave(one: PitchLetter, two: PitchLetter): number {\r\n    const p1 = smoMusic.letterPitchIndex[one];\r\n    const p2 = smoMusic.letterPitchIndex[two];\r\n    if (p1 < p2 && p2 - p1 > 2) {\r\n      return -1;\r\n    }\r\n    if (p1 > p2 && p1 - p2 > 2) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n  // Given a vex noteProp and an offset, offset that number\r\n  // of 1/2 steps.\r\n   * @param pitch\r\n   * @param offset\r\n   * @returns\r\n   */\r\n  static getKeyOffset(pitch: Pitch, offset: number): Pitch {\r\n    const canon = VF.Music.canonical_notes;\r\n    // Convert to vex keys, where f# is a string like 'f#'.\r\n    let vexKey = smoMusic.pitchToVexKey(pitch);\r\n    vexKey = smoMusic.vexToCannonical(vexKey);\r\n    const rootIndex = canon.indexOf(vexKey);\r\n    const index = (rootIndex + canon.length + offset) % canon.length;\r\n    let octave = pitch.octave;\r\n    if (Math.abs(offset) >= 12) {\r\n      const octaveOffset = Math.sign(offset) * Math.floor(Math.abs(offset) / 12);\r\n      octave += octaveOffset;\r\n      offset = offset % 12;\r\n    }\r\n    if (rootIndex + offset >= canon.length) {\r\n      octave += 1;\r\n    }\r\n    if (rootIndex + offset < 0) {\r\n      octave -= 1;\r\n    }\r\n    const rv = JSON.parse(JSON.stringify(pitch));\r\n    vexKey = canon[index];\r\n    if (vexKey.length > 1) {\r\n      rv.accidental = vexKey.substring(1);\r\n      vexKey = vexKey[0];\r\n    } else {\r\n      rv.accidental = '';\r\n    }\r\n    rv.letter = vexKey;\r\n    rv.octave = octave;\r\n    return rv;\r\n  }\r\n\r\n  // ### keySignatureLength\r\n  // return the number of sharp/flat in a key signature for sizing guess.\r\n  static get keySignatureLength(): Record<string, number> {\r\n    return {\r\n      'C': 0,\r\n      'B': 5,\r\n      'A': 3,\r\n      'F#': 6,\r\n      'Bb': 2,\r\n      'Ab': 4,\r\n      'Gg': 6,\r\n      'G': 1,\r\n      'F': 1,\r\n      'Eb': 3,\r\n      'Db': 5,\r\n      'Cb': 7,\r\n      'C#': 7,\r\n      'E': 4,\r\n      'D': 2\r\n    };\r\n  }\r\n\r\n  static getSharpsInKeySignature(key: string): number {\r\n    const sharpKeys = ['B', 'G', 'D', 'A', 'E', 'B', 'F#', 'C#'];\r\n    if (sharpKeys.indexOf(key.toUpperCase()) < 0) {\r\n      return 0;\r\n    }\r\n    return smoMusic.keySignatureLength[key.toUpperCase()];\r\n  }\r\n\r\n  static getFlatsInKeySignature(key: string): number {\r\n    const flatKeys = ['F', 'Bb', 'Eb', 'Ab', 'Db', 'Gb', 'Cb'];\r\n    let caseKey = key[0].toUpperCase();\r\n    if (key.length > 0) {\r\n      caseKey += key.substr(1, key.length);\r\n    }\r\n    if (flatKeys.indexOf(caseKey) < 0) {\r\n      return 0;\r\n    }\r\n    return smoMusic.keySignatureLength[caseKey];\r\n  }\r\n\r\n  static timeSignatureToTicks(timeSignature: string): number {\r\n    const nd = timeSignature.split('/');\r\n    const num = parseInt(nd[0], 10);\r\n    const den = parseInt(nd[1], 10);\r\n    const base = 2048 * (8 / den);\r\n    return base * num;\r\n  }\r\n  static smoTicksToVexDots(ticks: number) {\r\n    const vd = smoMusic.ticksToDuration[ticks];\r\n    const dots = (vd.match(/d/g) || []).length;\r\n    return dots;\r\n  }\r\n  // ## closestVexDuration\r\n  // ## Description:\r\n  // return the closest vex duration >= to the actual number of ticks. Used in beaming\r\n  // triplets which have fewer ticks then their stem would normally indicate.\r\n  static closestVexDuration(ticks: number): string {\r\n    let stemTicks = VF.RESOLUTION;\r\n\r\n    // The stem value is the type on the non-tuplet note, e.g. 1/8 note\r\n    // for a triplet.\r\n    while (ticks <= stemTicks) {\r\n      stemTicks = stemTicks / 2;\r\n    }\r\n    stemTicks = stemTicks * 2;\r\n    return smoMusic.ticksToDuration[stemTicks];\r\n  }\r\n\r\n  // ### closestDurationTickLtEq\r\n  // Price is right style, closest tick value without going over.  Used to pad\r\n  // rests when reading musicXML.\r\n  static closestDurationTickLtEq(ticks: number): number {\r\n    const sorted = Object.keys(smoMusic.ticksToDuration)\r\n      .map((key) => parseInt(key, 10))\r\n      .filter((key) => key <= ticks);\r\n    return sorted[sorted.length - 1];\r\n  }\r\n\r\n  /**\r\n   * Return array of valid note-lengths from an odd number of ticks,\r\n   * so we can come as close as possible to representing the ticks with notes\r\n   * @param ticks\r\n   * @returns\r\n   */\r\n  static splitIntoValidDurations(ticks: number): number[] {\r\n    const rv = [];\r\n    let closest = 0;\r\n    while (ticks > 128) {\r\n      closest = smoMusic.closestDurationTickLtEq(ticks);\r\n      ticks -= closest;\r\n      rv.push(closest);\r\n    }\r\n    return rv;\r\n  }\r\n  // ### vexStemType\r\n  // return the vex stem type (no dots)\r\n  static vexStemType(ticks: number): string {\r\n    const str = smoMusic.ticksToDuration[smoMusic.splitIntoValidDurations(ticks)[0]];\r\n    if (str.indexOf('d') >= 0) {\r\n      return str.substr(0, str.indexOf('d'));\r\n    }\r\n    return str;\r\n  }\r\n\r\n  // ### Description:\r\n  // Get ticks for this note with an added dot.  Return\r\n  // identity if that is not a supported value.\r\n  static getNextDottedLevel(ticks: number): number {\r\n    const ttd = smoMusic.ticksToDuration;\r\n    const vals = Object.values(ttd);\r\n    const ix = vals.indexOf(ttd[ticks]);\r\n    if (ix >= 0 && ix < vals.length && vals[ix][0] === vals[ix + 1][0]) {\r\n      return smoMusic.durationToTicks(vals[ix + 1]);\r\n    }\r\n    return ticks;\r\n  }\r\n\r\n  // ### Description:\r\n  // Get ticks for this note with one fewer dot.  Return\r\n  // identity if that is not a supported value.\r\n  static getPreviousDottedLevel(ticks: number): number {\r\n    const ttd = smoMusic.ticksToDuration;\r\n    const vals = Object.values(ttd);\r\n    const ix = vals.indexOf(ttd[ticks]);\r\n    if (ix > 0 && vals[ix][0] === vals[ix - 1][0]) {\r\n      return smoMusic.durationToTicks(vals[ix - 1]);\r\n    }\r\n    return ticks;\r\n  }\r\n  static _ticksToDuration: Record<string, string> = {};\r\n\r\n  // ### ticksToDuration\r\n  // Frequently we double/halve a note duration, and we want to find the vex tick duration that goes with that.\r\n  static get ticksToDuration(): Record<string, string> {\r\n    let i = 0;\r\n    const durations = ['1/2', '1', '2', '4', '8', '16', '32', '64', '128', '256'];\r\n\r\n    const _ticksToDurationsF = () => {\r\n      for (i = 0; i < durations.length - 1; ++i) {\r\n        let j = 0;\r\n        let dots = '';\r\n        let ticks = 0;\r\n\r\n        // We support up to 4 'dots'\r\n        for (j = 0; j <= 4 && j + i < durations.length; ++j) {\r\n          ticks += (VF.durationToTicks(durations[i + j]) as number);\r\n          smoMusic._ticksToDuration[ticks.toString()] = durations[i] + dots;\r\n          dots += 'd';\r\n        }\r\n      }\r\n    };\r\n    if (Object.keys(smoMusic._ticksToDuration).length < 1) {\r\n      _ticksToDurationsF();\r\n    }\r\n    return smoMusic._ticksToDuration;\r\n  }\r\n\r\n  // ### durationToTicks\r\n  // Uses VF.durationToTicks, but handles dots.\r\n  static durationToTicks(duration: string): number {\r\n    let split = 0;\r\n    let i = 0;\r\n    let vfDuration = 0;\r\n    let dots = duration.indexOf('d');\r\n    if (dots < 0) {\r\n      return VF.durationToTicks(duration) as number;\r\n    } else {\r\n      vfDuration = VF.durationToTicks(duration.substring(0, dots)) as number;\r\n      dots = duration.length - dots; // number of dots\r\n      split = vfDuration / 2;\r\n      for (i = 0; i < dots; ++i) {\r\n        vfDuration += split;\r\n        split = split / 2;\r\n      }\r\n      return vfDuration;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * break the duration up into an array of durations, to split a long\r\n   * note up between bars when pasting.\r\n   * @param duration\r\n   * @returns\r\n   */\r\n  static gcdMap(duration: number): number[] {\r\n    let k = 0;\r\n    const keys = Object.keys(smoMusic.ticksToDuration).map((x) => parseInt(x, 10));\r\n    const dar = [];\r\n    const gcd = (td: number) => {\r\n      let rv = keys[0];\r\n      for (k = 1; k < keys.length; ++k) {\r\n        if (td % keys[k] === 0) {\r\n          rv = keys[k];\r\n        }\r\n      }\r\n      return rv;\r\n    };\r\n    while (duration > 0 && !smoMusic.ticksToDuration[duration]) {\r\n      const div = gcd(duration);\r\n      duration = duration - div;\r\n      dar.push(div);\r\n    }\r\n    if (duration > 0) {\r\n      dar.push(duration);\r\n    }\r\n    return dar.sort((a, b) => a > b ? -1 : 1);\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiRenderState } from \"../render/sui/renderState\";\r\n\r\nexport class PromiseHelpers {\r\n  // ### makePromise\r\n  // poll on endCondition at a rate of pollTime.  Resolve the promise\r\n  // when endCondition is met, calling preResolveMethod first.   On\r\n  // polls where the end condition is not met, call pollMethod\r\n  // Resolve method and pollMethod are optional\r\n  static makePromise(instance, endCondition, preResolveMethod, pollMethod, pollTime) {\r\n    return new Promise((resolve) => {\r\n      const checkit = () => {\r\n        setTimeout(() => {\r\n          if (instance[endCondition]) {\r\n            if (preResolveMethod) {\r\n              instance[preResolveMethod]();\r\n            }\r\n            resolve();\r\n          }\r\n          else {\r\n            if (pollMethod) {\r\n              instance[pollMethod]();\r\n            }\r\n            checkit();\r\n          }\r\n        }, pollTime);\r\n      }\r\n      checkit();\r\n    });\r\n  }\r\n\r\n  static makePromiseObj(instance, endCondition, preResolveMethod, pollMethod, pollTime) {\r\n    return {\r\n      instance: instance,\r\n      endCondition: endCondition,\r\n      preResolveMethod: preResolveMethod,\r\n      pollMethod: pollMethod,\r\n      pollTime: pollTime\r\n    };\r\n  }\r\n\r\n  // ### afterPromise\r\n  // Call a method after a promise is resolved that may\r\n  // also return a promise\r\n  static afterPromise(obj, promise, functionName) {\r\n    const f = () => {\r\n      obj[functionName]();\r\n    }\r\n    return promise.then(f);\r\n  }\r\n  // ### promiseChainThen\r\n  // Call a chain of promises in array order, with parameters of makePromise\r\n  static async promiseChainThen(promiseParameters) {\r\n    const promiseArray = [];\r\n    promiseParameters.forEach((promiseParameter) => {\r\n      promiseArray.push(\r\n        async () => {\r\n          return PromiseHelpers.makePromise(\r\n            promiseParameter.instance,\r\n            promiseParameter.endCondition,\r\n            promiseParameter.preResolveMethod,\r\n            promiseParameter.pollMethod,\r\n            promiseParameter.pollTime\r\n          );\r\n      });\r\n    });\r\n\r\n    let result;\r\n    for (const f of promiseArray) {\r\n      result = await f(result);\r\n    }\r\n\r\n\t\treturn result;\r\n  }\r\n  static emptyPromise() {\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve();\r\n      }, 1);\r\n    });\r\n  }\r\n  static renderPromise(renderer) {\r\n    return new Promise((resolve) => {\r\n      const checkit = () => {\r\n        setTimeout(() => {\r\n          if (renderer.passState === SuiRenderState.passStates.clean && renderer.backgroundRender === false) {\r\n            resolve();\r\n          } else {\r\n            checkit();\r\n          }\r\n        }, 500);\r\n      }\r\n      checkit();\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n// ## smoSerialize\r\n// Helper functions that perform serialized merges, general JSON\r\n// types of routines.\r\n// ---\r\n\r\nVex.Merge = (dest, src) => {\r\n  if (typeof(src) === 'undefined') {\r\n    return;\r\n  }\r\n  const keys = Object.keys(src);\r\n  keys.forEach((key) => {\r\n    dest[key] = src[key];\r\n  });\r\n}\r\n\r\nexport class smoSerialize {\r\n  static tryParseUnicode(text) {\r\n    let rv = text;\r\n    try {\r\n      eval('rv=\"' + text + '\"');\r\n    } catch (ex) {\r\n      console.log('bad unicode');\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### filteredMerge\r\n  // Like vexMerge, but only for specific attributes.\r\n  static filteredMerge(attrs, src, dest) {\r\n    attrs.forEach(function (attr) {\r\n      if (typeof(src[attr]) != 'undefined') {\r\n        dest[attr] = src[attr];\r\n      }\r\n    });\r\n  }\r\n\r\n  static get localScore() {\r\n    return '_smoosicScore';\r\n  }\r\n\r\n  static loadRemoteFile(path) {\r\n    const req = new XMLHttpRequest();\r\n    req.addEventListener('load', () => {\r\n      callback(req.responseText);\r\n    });\r\n    req.open('GET', path);\r\n    req.send();\r\n  }\r\n\r\n  // This is the token map we use to reduce the size of\r\n  // serialized data.\r\n  static get tokenMap() {\r\n   var _tm=`{\r\n      \"a\": \"score\",\r\n      \"b\": \"layout\",\r\n      \"c\": \"leftMargin\",\r\n      \"d\": \"rightMargin\",\r\n      \"e\": \"topMargin\",\r\n      \"f\": \"bottomMargin\",\r\n      \"g\": \"pageWidth\",\r\n      \"h\": \"pageHeight\",\r\n      \"i\": \"orientation\",\r\n      \"j\": \"interGap\",\r\n      \"k\": \"intraGap\",\r\n      \"l\": \"svgScale\",\r\n      \"m\": \"zoomScale\",\r\n      \"n\": \"zoomMode\",\r\n      \"o\": \"pages\",\r\n      \"p\": \"pageSize\",\r\n      \"q\": \"startIndex\",\r\n      \"r\": \"renumberingMap\",\r\n      \"s\": \"staves\",\r\n      \"t\": \"staffId\",\r\n      \"u\": \"staffX\",\r\n      \"v\": \"staffY\",\r\n      \"w\": \"adjY\",\r\n      \"x\": \"staffWidth\",\r\n      \"y\": \"staffHeight\",\r\n      \"z\": \"keySignatureMap\",\r\n      \"aa\": \"instrumentInfo\",\r\n      \"ba\": \"instrumentName\",\r\n      \"ca\": \"keyOffset\",\r\n      \"da\": \"clef\",\r\n      \"ea\": \"modifiers\",\r\n      \"fa\": \"startSelector\",\r\n      \"ga\": \"staff\",\r\n      \"ha\": \"measure\",\r\n      \"ia\": \"voice\",\r\n      \"ja\": \"tick\",\r\n      \"ka\": \"pitches\",\r\n      \"la\": \"endSelector\",\r\n      \"ma\": \"xOffset\",\r\n      \"na\": \"cp1y\",\r\n      \"oa\": \"cp2y\",\r\n      \"pa\": \"attrs\",\r\n      \"qa\": \"id\",\r\n      \"ra\": \"type\",\r\n      \"sa\": \"ctor\",\r\n      \"ta\": \"yOffset\",\r\n      \"ua\": \"position\",\r\n      \"va\": \"measures\",\r\n      \"wa\": \"timeSignature\",\r\n      \"xa\": \"keySignature\",\r\n      \"ya\": \"measureNumber\",\r\n      \"za\": \"measureIndex\",\r\n      \"ab\": \"systemIndex\",\r\n      \"bb\": \"adjX\",\r\n      \"cb\": \"tuplets\",\r\n      \"db\": \"voices\",\r\n      \"eb\": \"notes\",\r\n      \"fb\": \"ticks\",\r\n      \"gb\": \"numerator\",\r\n      \"hb\": \"denominator\",\r\n      \"ib\": \"remainder\",\r\n      \"jb\": \"letter\",\r\n      \"kb\": \"octave\",\r\n      \"lb\": \"accidental\",\r\n      \"mb\": \"symbol\",\r\n      \"nb\": \"bpm\",\r\n      \"ob\": \"display\",\r\n      \"pb\": \"beatDuration\",\r\n      \"qb\": \"beamBeats\",\r\n      \"rb\": \"endBeam\",\r\n      \"sb\": \"textModifiers\",\r\n      \"tb\": \"text\",\r\n      \"ub\": \"endChar\",\r\n      \"vb\": \"fontInfo\",\r\n      \"wb\": \"size\",\r\n      \"xb\": \"family\",\r\n      \"yb\": \"style\",\r\n      \"zb\": \"weight\",\r\n      \"ac\": \"classes\",\r\n      \"bc\": \"verse\",\r\n      \"cc\": \"fill\",\r\n      \"dc\": \"scaleX\",\r\n      \"ec\": \"scaleY\",\r\n      \"fc\": \"translateX\",\r\n      \"gc\": \"translateY\",\r\n      \"hc\": \"selector\",\r\n      \"ic\": \"renderedBox\",\r\n      \"jc\": \"x\",\r\n      \"kc\": \"y\",\r\n      \"lc\": \"width\",\r\n      \"mc\": \"height\",\r\n      \"nc\": \"logicalBox\",\r\n      \"oc\": \"noteType\",\r\n      \"pc\": \"cautionary\",\r\n      \"qc\": \"articulations\",\r\n      \"rc\": \"articulation\",\r\n      \"sc\": \"activeVoice\",\r\n      \"tc\": \"flagState\",\r\n      \"uc\": \"invert\",\r\n      \"vc\": \"fontSize\",\r\n      \"wc\": \"yOffsetLine\",\r\n      \"xc\": \"yOffsetPixels\",\r\n      \"yc\": \"scoreText\",\r\n      \"zc\": \"backup\",\r\n      \"ad\": \"edited\",\r\n      \"bd\": \"pagination\",\r\n      \"cd\": \"boxModel\",\r\n      \"dd\": \"justification\",\r\n      \"ed\": \"autoLayout\",\r\n      \"fd\": \"ornaments\",\r\n      \"gd\": \"offset\",\r\n      \"hd\": \"ornament\",\r\n      \"id\": \"tempoMode\",\r\n      \"jd\": \"tempoText\",\r\n      \"kd\": \"barline\",\r\n      \"ld\": \"systemBreak\",\r\n      \"md\": \"graceNotes\",\r\n      \"nd\": \"tones\",\r\n      \"od\": \"tuplet\",\r\n      \"pd\": \"beam_group\",\r\n      \"qd\": \"renderId\",\r\n      \"rd\": \"numNotes\",\r\n      \"sd\": \"totalTicks\",\r\n      \"td\": \"stemTicks\",\r\n      \"ud\": \"durationMap\",\r\n      \"vd\": \"bracketed\",\r\n      \"wd\": \"ratioed\",\r\n      \"xd\": \"location\",\r\n      \"yd\": \"systemGroups\",\r\n      \"zd\": \"leftConnector\",\r\n      \"ae\": \"padLeft\",\r\n      \"be\": \"customStretch\",\r\n      \"ce\": \"engravingFont\",\r\n      \"de\": \"customProportion\",\r\n      \"ee\": \"columnAttributeMap\",\r\n      \"fe\": \"tempo\",\r\n      \"ge\": \"textGroups\",\r\n      \"he\": \"textBlocks\",\r\n      \"ie\": \"backupBlocks\",\r\n      \"je\": \"blocks\",\r\n      \"ke\": \"_text\",\r\n      \"le\": \"parser\",\r\n      \"me\": \"fonts\",\r\n      \"ne\": \"name\",\r\n      \"oe\": \"purpose\",\r\n      \"pe\": \"custom\",\r\n      \"qe\": \"transposeIndex\",\r\n      \"re\": \"noteHead\",\r\n      \"se\": \"slash\",\r\n      \"te\": \"pointSize\",\r\n      \"ue\": \"spacing\",\r\n      \"ve\": \"relativePosition\",\r\n      \"we\": \"activeText\",\r\n      \"xe\": \"attachToSelector\",\r\n      \"ye\": \"musicXOffset\",\r\n      \"ze\": \"musicYOffset\",\r\n      \"af\": \"formattingIterations\",\r\n      \"bf\": \"startBar\",\r\n      \"cf\": \"endBar\",\r\n      \"df\": \"endingId\",\r\n      \"ef\": \"autoJustify\",\r\n      \"ff\": \"thickness\",\r\n      \"gf\": \"number\",\r\n      \"hf\": \"preferences\",\r\n      \"if\": \"autoPlay\",\r\n      \"jf\": \"autoAdvance\",\r\n      \"kf\": \"defaultDupleDuration\",\r\n      \"lf\": \"defaultTripleDuration\",\r\n      \"mf\": \"scoreInfo\",\r\n      \"nf\": \"version\",\r\n      \"of\": \"title\",\r\n      \"pf\": \"subTitle\",\r\n      \"qf\": \"composer\",\r\n      \"rf\": \"copyright\",\r\n      \"sf\": \"localIndex\",\r\n      \"tf\": \"hairpinType\",\r\n      \"uf\": \"customText\",\r\n      \"vf\": \"noteSpacing\",\r\n      \"wf\": \"lines\",\r\n      \"xf\": \"from\",\r\n      \"yf\": \"layoutManager\",\r\n      \"zf\": \"pageLayouts\",\r\n      \"ag\": \"fillStyle\",\r\n      \"bg\": \"hidden\",\r\n      \"cg\": \"adjustNoteWidthLyric\",\r\n      \"dg\": \"xOffsetStart\",\r\n      \"eg\": \"xOffsetEnd\",\r\n      \"fg\": \"measureFormats\",\r\n      \"gg\": \"format\",\r\n      \"hg\": \"pageBreak\",\r\n      \"ig\": \"xOffsetLeft\",\r\n      \"jg\": \"xOffsetRight\"\r\n      }`;\r\n     return JSON.parse(_tm);\r\n    }\r\n\r\n    static get valueTokens() {\r\n      var vm = `{\"@sn\",\"SmoNote\"}`;\r\n      return JSON.parse(vm);\r\n    }\r\n\r\n    static reverseMap(map) {\r\n      const rv = {};\r\n      const keys = Object.keys(map);\r\n      keys.forEach((key) => {\r\n        rv[map[key]] = key;\r\n      });\r\n      return rv;\r\n    }\r\n\r\n  static get tokenValues() {\r\n    return smoSerialize.reverseMap(smoSerialize.tokenMap);\r\n  }\r\n\r\n  // ## detokenize\r\n  // If we are saving, replace token values with keys, since the keys are smaller.\r\n  // if we are loading, replace the token keys with values so the score can\r\n  // deserialize it\r\n  static detokenize(json, dictionary) {\r\n      const rv = {};\r\n      const smoKey = (key) => {\r\n        return typeof(dictionary[key]) !== 'undefined' ? dictionary[key] : key;\r\n      }\r\n      const _tokenRecurse = (input,output) =>  {\r\n        if (input === null) {\r\n          return;\r\n        }\r\n        const keys = Object.keys(input);\r\n        keys.forEach((key) => {\r\n          const val = input[key];\r\n          const dkey = smoKey(key);\r\n          if (typeof(val) == 'string' || typeof(val) == 'number' || typeof(val) == 'boolean') {\r\n            output[dkey] = val;\r\n            // console.log('240: output[' + dkey + '] = ' + val);\r\n          }\r\n          if (typeof(val) == 'object' && key != 'dictionary') {\r\n            if (Array.isArray(val)) {\r\n              output[dkey] = [];\r\n              // console.log('245: processing array ' + dkey);\r\n              val.forEach((arobj) => {\r\n                if (typeof(arobj) === 'string' || typeof(arobj) === 'number' || typeof(arobj) === 'boolean') {\r\n                  output[dkey].push(arobj);\r\n                  // console.log('249: ar element ' + arobj);\r\n                }\r\n                else if (arobj && typeof(arobj) === 'object') {\r\n                  const nobj = {};\r\n                  _tokenRecurse(arobj,nobj);\r\n                  output[dkey].push(nobj);\r\n                }\r\n              });\r\n            } else {\r\n              const nobj = {};\r\n              // console.log('259: processing child object of ' + dkey);\r\n              _tokenRecurse(val,nobj);\r\n              output[dkey] = nobj;\r\n            }\r\n          }\r\n        });\r\n      }\r\n      _tokenRecurse(json,rv);\r\n      // console.log(JSON.stringify(rv,null,' '));\r\n      return rv;\r\n  }\r\n\r\n  static incrementIdentifier(label) {\r\n    const increcurse = (ar, ix) => {\r\n      const n1 = (ar[ix].charCodeAt(0) - 97) + 1;\r\n      if (n1 > 25) {\r\n        ar[ix] = 'a';\r\n        if (ar.length <= ix+1) {\r\n          ar.push('a');\r\n        } else {\r\n          increcurse(ar,ix+1);\r\n        }\r\n      } else {\r\n        ar[ix] = String.fromCharCode(97+n1);\r\n      }\r\n    }\r\n    if (!label) {\r\n      label = 'a';\r\n    }\r\n    const ar = label.split('');\r\n    increcurse(ar,0);\r\n    label = ar.join('');\r\n    return label;\r\n  }\r\n\r\n  // used to generate a tokenization scheme that I will use to make\r\n  // saved files smaller\r\n  static jsonTokens(json) {\r\n    const map = {};\r\n    const valmap = {};\r\n    const startKeys = Object.keys(smoSerialize.tokenMap);\r\n    let keyLabel = startKeys[startKeys.length - 1];\r\n    keyLabel = smoSerialize.incrementIdentifier(keyLabel);\r\n\r\n    const exist = smoSerialize.tokenValues;\r\n    const addMap = (key) => {\r\n      if (!exist[key] && !map[key] && key.length > keyLabel.length) {\r\n        map[key] = keyLabel;\r\n        keyLabel = smoSerialize.incrementIdentifier(keyLabel);\r\n      }\r\n    };\r\n    const _tokenRecurse = (obj) =>  {\r\n      if (!obj) {\r\n        console.warn('failure to parse');\r\n        return;\r\n      }\r\n      const keys = Object.keys(obj);\r\n      keys.forEach((key) => {\r\n        const val = obj[key];\r\n        if (val !== null) {\r\n          if (typeof(val) === 'string' || typeof(val) === 'number'\r\n          || typeof(val) === 'boolean') {\r\n            addMap(key);\r\n          }\r\n          if (typeof(val) == 'object') {\r\n            if (Array.isArray(val)) {\r\n              addMap(key);\r\n              val.forEach((arobj) => {\r\n                if (arobj && typeof(arobj) === 'object') {\r\n                  _tokenRecurse(arobj);\r\n                }\r\n              });\r\n            } else {\r\n              addMap(key);\r\n              _tokenRecurse(val);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    _tokenRecurse(json);\r\n    const mkar = Object.keys(map);\r\n    const m2 = {};\r\n    mkar.forEach((mk) => {\r\n      m2[map[mk]] = mk;\r\n    })\r\n    console.log(JSON.stringify(m2, null, ' '));\r\n  }\r\n\r\n  // ### serializedMerge\r\n  // serialization-friendly, so merged, copied objects are deep-copied\r\n  static serializedMerge(attrs, src, dest) {\r\n    attrs.forEach(function (attr) {\r\n      if (typeof(src[attr]) !== 'undefined') {\r\n        // copy the number 0\r\n        if (typeof(src[attr]) === 'number' ||\r\n          typeof(src[attr]) === 'boolean' ||\r\n          typeof(src[attr]) === 'string') {\r\n          dest[attr] = src[attr];\r\n          // copy the empty array\r\n        } else if (Array.isArray(src[attr])) {\r\n          dest[attr] = JSON.parse(JSON.stringify(src[attr]));\r\n        } else {\r\n          // but don't copy empty/null objects\r\n          if (src[attr]) {\r\n            if (typeof(src[attr]) == 'object') {\r\n              dest[attr] = JSON.parse(JSON.stringify(src[attr]));\r\n            } else {\r\n              dest[attr] = src[attr];\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // ### serializedMergeNonDefault\r\n  // Used to reduce size of serializations.  Create a serialzation of\r\n  // the object, but don't serialize attributes that are already the default\r\n  // since the default will be set when the object is deserialized\r\n  // #### parameters:\r\n  //     defaults - default Array\r\n  //     attrs - array of attributes to save\r\n  //     src - the object to serialize\r\n  //     dest - the json object that is the target.\r\n  static serializedMergeNonDefault(defaults,attrs,src,dest) {\r\n    attrs.forEach(function (attr) {\r\n      if (typeof(src[attr]) != 'undefined') {\r\n        // copy the number 0\r\n        if (typeof(src[attr]) === 'number' ||\r\n          typeof(src[attr]) === 'boolean' ||\r\n          typeof(src[attr]) === 'string' ) {\r\n          // always persist object type so it can be deserialized\r\n          if (src[attr] !== defaults[attr] || attr === 'ctor') {\r\n            dest[attr] = src[attr];\r\n          }\r\n        // copy the empty array\r\n        } else if (Array.isArray(src[attr])) {\r\n          const defval = JSON.stringify(defaults[attr]);\r\n          const srcval = JSON.stringify(src[attr]);\r\n          if (defval != srcval) {\r\n            dest[attr] = JSON.parse(srcval);\r\n          }\r\n        } else {\r\n          // but don't copy empty/null objects\r\n          if (src[attr]) {\r\n            if (typeof(src[attr]) == 'object') {\r\n              const defval = JSON.stringify(defaults[attr]);\r\n              const srcval = JSON.stringify(src[attr]);\r\n              if (defval != srcval) {\r\n                dest[attr] = JSON.parse(srcval);\r\n              }\r\n            } else {\r\n              if (src[attr] != defaults[attr]) {\r\n                dest[attr] = src[attr];\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  static stringifyAttrs(attrs, obj) {\r\n    let rv = '';\r\n    attrs.forEach((attr) => {\r\n      if (obj[attr]) {\r\n        rv += attr + ':' + obj[attr] + ', ';\r\n      } else {\r\n        rv += attr + ': null,';\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  // ### printXlate\r\n  // print json with string labels to use as a translation file seed.\r\n  static printTranslate(_class) {\r\n    const xxx = Smo.getClass(_class + '.printTranslate');\r\n    if (typeof(xxx) === 'function') {\r\n      xxx();\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n\r\nimport { Transposable, SvgBox, SvgPoint } from '../smo/data/common';\r\nimport { SmoSelection } from '../smo/xform/selections';\r\n\r\ndeclare var $: any;\r\n\r\nexport interface StrokeInfo {\r\n  stroke: string,\r\n  strokeWidth: string | number,\r\n  strokeDasharray: string | number,\r\n  fill: string,\r\n  opacity: number\r\n}\r\n\r\nexport interface OutlineInfo {\r\n  stroke: StrokeInfo,\r\n  context: any, // Vex SVG context\r\n  classes: string,\r\n  box: SvgBox | SvgBox[],\r\n  clientCoordinates: boolean,\r\n  scroll: SvgPoint\r\n}\r\n\r\nexport interface GradientInfo {\r\n  color: string, offset: string, opacity: number\r\n}\r\n\r\nexport interface Boxable {\r\n  box: SvgBox\r\n}\r\n\r\nexport class SvgBuilder {\r\n  e: Element;\r\n  constructor(el: string) {\r\n    const ns = svgHelpers.namespace;\r\n    this.e = document.createElementNS(ns, el);\r\n  }\r\n  classes(cl: string): SvgBuilder {\r\n    this.e.setAttributeNS('', 'class', cl);\r\n    return this;\r\n  }\r\n  attr(name: string, value: string): SvgBuilder {\r\n      this.e.setAttributeNS('', name, value);\r\n      return this;\r\n  }\r\n\r\n  text(x: number | string, y: number | string, classes: string, text: string): SvgBuilder {\r\n    x = typeof (x) == 'string' ? x : x.toString();\r\n    y = typeof (y) == 'string' ? y : y.toString();\r\n    this.e.setAttributeNS('', 'class', classes);\r\n    this.e.setAttributeNS('', 'x', x);\r\n    this.e.setAttributeNS('', 'y', y);\r\n    this.e.textContent = text;\r\n    return this;\r\n  }\r\n  rect(x: number | string, y: number | string, width: number | string, height: number | string, classes: string): SvgBuilder {\r\n    x = typeof (x) == 'string' ? x : x.toString();\r\n    y = typeof (y) == 'string' ? y : y.toString();\r\n    width = typeof (width) == 'string' ? width : width.toString();\r\n    height = typeof (height) == 'string' ? height : height.toString();\r\n    this.e.setAttributeNS('', 'x', x);\r\n    this.e.setAttributeNS('', 'y', y);\r\n    this.e.setAttributeNS('', 'width', width);\r\n    this.e.setAttributeNS('', 'height', height);\r\n    if (classes) {\r\n      this.e.setAttributeNS('', 'class', classes);\r\n    }\r\n    return this;\r\n  }\r\n  line(x1: number | string, y1: number | string, x2: number | string, y2: number | string, classes: string): SvgBuilder {\r\n    x1 = typeof (x1) == 'string' ? x1 : x1.toString();\r\n    y1 = typeof (y1) == 'string' ? y1 : y1.toString();\r\n    x2 = typeof (x2) == 'string' ? x2 : x2.toString();\r\n    y2 = typeof (y2) == 'string' ? y2 : y2.toString();\r\n\r\n    this.e.setAttributeNS('', 'x1', x1);\r\n    this.e.setAttributeNS('', 'y1', y1);\r\n    this.e.setAttributeNS('', 'x2', x2);\r\n    this.e.setAttributeNS('', 'y2', y2);\r\n    if (classes) {\r\n      this.e.setAttributeNS('', 'class', classes);\r\n    }\r\n    return this;\r\n  }\r\n  append(el: any): SvgBuilder {\r\n    this.e.appendChild(el.e);\r\n    return this;\r\n  }\r\n  dom(): Element {\r\n    return this.e;\r\n  }\r\n  static b(element: string): SvgBuilder {\r\n    return new SvgBuilder(element);\r\n  }\r\n}\r\n// ## svgHelpers\r\n// Mostly utilities for converting coordinate spaces based on transforms, etc.\r\n// ### static class methods:\r\n// ---\r\nexport class svgHelpers {\r\n  static get namespace(): string {\r\n    return \"http://www.w3.org/2000/svg\";\r\n  }\r\n\r\n  // ### gradient\r\n  // Create an svg linear gradient.\r\n  // Stops look like this:\r\n  // `[{color:\"#eee\", offset:\"0%\",opacity:0.5}]`\r\n  // orientation is horizontal or vertical\r\n  static gradient(svg: SVGSVGElement, id: string, orientation: string, stops: GradientInfo[]) {\r\n    var ns = svgHelpers.namespace;\r\n    var x2 = orientation === 'vertical' ? 0 : 1;\r\n    var y2 = orientation === 'vertical' ? 1 : 0;\r\n\r\n    var e = document.createElementNS(ns, 'linearGradient');\r\n    e.setAttributeNS('', 'id', id);\r\n    e.setAttributeNS('', 'x1', '0');\r\n    e.setAttributeNS('', 'x2', x2.toString());\r\n    e.setAttributeNS('', 'y1', '0');\r\n    e.setAttributeNS('', 'y2', y2.toString());\r\n    stops.forEach((stop) => {\r\n      var s = document.createElementNS(ns, 'stop');\r\n      s.setAttributeNS('', 'stop-opacity', stop.opacity.toString());\r\n      s.setAttributeNS('', 'stop-color', stop.color);\r\n      s.setAttributeNS('', 'offset', stop.offset);\r\n      e.appendChild(s);\r\n\r\n    });\r\n    svg.appendChild(e);\r\n  }\r\n\r\n  static renderCursor(svg: SVGSVGElement, x: number, y: number, height: number) {\r\n    var ns = svgHelpers.namespace;\r\n    const width = height * 0.4;\r\n    x = x - (width / 2);\r\n    var mcmd = (d: string, x: number, y: number) => {\r\n      return d + 'M ' + x.toString() + ' ' + y.toString() + ' ';\r\n    };\r\n    var qcmd = (d: string, x1: number, y1: number, x2: number, y2: number) => {\r\n      return d + 'q ' + x1.toString() + ' ' + y1.toString() + ' ' + x2.toString() + ' ' + y2.toString() + ' ';\r\n    };\r\n    var lcmd = (d: string, x: number, y: number) => {\r\n      return d + 'L ' + x.toString() + ' ' + y.toString() + ' ';\r\n    };\r\n    var x1 = (width / 2) * .333;\r\n    var y1 = -1 * (x1 / 4);\r\n    var x2 = (width / 2);\r\n    var y2 = x2 / 4;\r\n    var ns = svgHelpers.namespace;\r\n    var e = document.createElementNS(ns, 'path');\r\n    var d = '';\r\n    d = mcmd(d, x, y);\r\n    d = qcmd(d, x1, y1, x2, y2);\r\n    d = lcmd(d, x + (width / 2), y + height - (width / 8));\r\n    d = mcmd(d, x + width, y);\r\n    d = qcmd(d, -1 * x1, y1, -1 * x2, y2);\r\n    d = mcmd(d, x, y + height);\r\n    d = qcmd(d, x1, -1 * y1, x2, -1 * y2);\r\n    d = mcmd(d, x + width, y + height);\r\n    d = qcmd(d, -1 * x1, -1 * y1, -1 * x2, -1 * y2);\r\n    e.setAttributeNS('', 'd', d);\r\n    e.setAttributeNS('', 'stroke-width', '1');\r\n    e.setAttributeNS('', 'stroke', '#555');\r\n    e.setAttributeNS('', 'fill', 'none');\r\n    svg.appendChild(e);\r\n  }\r\n\r\n  // ### boxNote\r\n  // update the note geometry based on current viewbox conditions.\r\n  // This may not be the appropriate place for this...maybe in layout\r\n  static updateArtifactBox(svg: SVGSVGElement, element: SVGSVGElement | undefined, artifact: Transposable, scroller: SvgPoint) {\r\n    if (typeof (element) === 'undefined') {\r\n      console.log('updateArtifactBox: undefined element!');\r\n      return;\r\n    }\r\n    artifact.logicalBox = svgHelpers.smoBox(element.getBBox());\r\n    artifact.renderedBox = svgHelpers.smoBox(svgHelpers.logicalToClient(svg, artifact.logicalBox, scroller));\r\n  }\r\n\r\n  // ### eraseOutline\r\n  // Erases old outlineRects.\r\n  static eraseOutline(svg: SVGSVGElement, style: string) {\r\n    $(svg).find('g.vf-' + style).remove();\r\n  }\r\n\r\n  static _outlineRect(params: OutlineInfo) {\r\n    const scroll = params.scroll;\r\n    const context = params.context;\r\n    svgHelpers.eraseOutline(context, params.classes);\r\n    // Don't highlight in print mode.\r\n    if ($('body').hasClass('printing')) {\r\n      return;\r\n    }\r\n    var grp = context.openGroup(params.classes, params.classes + '-outline');\r\n    const boxes = Array.isArray(params.box) ? params.box : [params.box];\r\n\r\n    boxes.forEach((box: SvgBox) => {\r\n      if (box) {\r\n        var strokeObj = params.stroke;\r\n        var margin = 5;\r\n        if (params.clientCoordinates === true) {\r\n          box = svgHelpers.smoBox(svgHelpers.clientToLogical(context.svg, svgHelpers.smoBox(svgHelpers.adjustScroll(box, scroll))));\r\n        }\r\n        context.rect(box.x - margin, box.y - margin, box.width + margin * 2, box.height + margin * 2, strokeObj);\r\n      }\r\n    });\r\n    context.closeGroup(grp);\r\n  }\r\n\r\n\r\n  // ### outlineRect\r\n  // Usage:\r\n  //  outlineRect(params)\r\n  // params ({context,box,outlineStroke,classes,scroller})\r\n  // outlineStroke: {stroke, strokeWidth, strokeDashArray, fill}\r\n  static outlineRect(params: OutlineInfo) {\r\n    params.clientCoordinates = true;\r\n    svgHelpers._outlineRect(params);\r\n  }\r\n\r\n  static outlineLogicalRect(params: OutlineInfo) {\r\n    svgHelpers._outlineRect(params);\r\n  }\r\n\r\n  static setSvgStyle(element: Element, attrs: StrokeInfo) {\r\n    element.setAttributeNS('', 'stroke', attrs.stroke);\r\n    if (attrs.strokeDasharray) {\r\n      element.setAttributeNS('', 'stroke-dasharray', attrs.strokeDasharray.toString());\r\n    }\r\n    if (attrs.strokeWidth) {\r\n      element.setAttributeNS('', 'stroke-width', attrs.strokeWidth.toString());\r\n    }\r\n    if (attrs.fill) {\r\n      element.setAttributeNS('', 'fill', attrs.fill);\r\n    }\r\n  }\r\n  static rect(svg: Document, box: SvgBox, attrs: StrokeInfo, classes: string) {\r\n    var rect = document.createElementNS(svgHelpers.namespace, 'rect');\r\n    svgHelpers.setSvgStyle(rect, attrs);\r\n    if (classes) {\r\n      rect.setAttributeNS('', 'class', classes);\r\n    }\r\n    svg.appendChild(rect);\r\n    return rect;\r\n  }\r\n\r\n  static line(svg: Document, x1: number | string, y1: number | string, x2: number | string, y2: number | string, attrs: StrokeInfo, classes: string) {\r\n    var line = document.createElementNS(svgHelpers.namespace, 'line');\r\n    x1 = typeof (x1) == 'string' ? x1 : x1.toString();\r\n    y1 = typeof (y1) == 'string' ? y1 : y1.toString();\r\n    x2 = typeof (x2) == 'string' ? x2 : x2.toString();\r\n    y2 = typeof (y2) == 'string' ? y2 : y2.toString();\r\n\r\n    line.setAttributeNS('', 'x1', x1);\r\n    line.setAttributeNS('', 'y1', y1);\r\n    line.setAttributeNS('', 'x2', x2);\r\n    line.setAttributeNS('', 'y2', y2);\r\n    svgHelpers.setSvgStyle(line, attrs);\r\n    if (classes) {\r\n      line.setAttributeNS('', 'class', classes);\r\n    }\r\n    svg.appendChild(line);\r\n  }\r\n\r\n  static arrowDown(svg: Document, box: SvgBox) {\r\n    const arrowStroke: StrokeInfo = { stroke: '#321', strokeWidth: '2', strokeDasharray: '4,1', fill: 'none', opacity: 1.0 };\r\n    svgHelpers.line(svg, box.x + box.width / 2, box.y, box.x + box.width / 2, box.y + box.height, arrowStroke, '');\r\n    var arrowY = box.y + box.height / 4;\r\n    svgHelpers.line(svg, box.x, arrowY, box.x + box.width / 2, box.y + box.height, arrowStroke, '');\r\n    svgHelpers.line(svg, box.x + box.width, arrowY, box.x + box.width / 2, box.y + box.height, arrowStroke, '');\r\n  }\r\n  static debugBox(svg: SVGSVGElement, box: SvgBox | null, classes: string, voffset: number) {\r\n    voffset = voffset ?? 0;\r\n    classes = classes ?? '';\r\n    if (!box)\r\n      return;\r\n    classes += ' svg-debug-box';\r\n    var b = SvgBuilder.b;\r\n    var mid = box.x + box.width / 2;\r\n    var xtext = 'x1: ' + Math.round(box.x);\r\n    var wtext = 'x2: ' + Math.round(box.width + box.x);\r\n    var ytext = 'y1: ' + Math.round(box.y);\r\n    var htext = 'y2: ' + Math.round(box.height + box.y);\r\n    var ytextp = Math.round(box.y + box.height);\r\n    var ytextp2 = Math.round(box.y + box.height - 30);\r\n\r\n    var r = b('g').classes(classes)\r\n      .append(\r\n        b('text').text(box.x + 20, box.y - 14 + voffset, 'svg-debug-text', xtext))\r\n      .append(\r\n        b('text').text(mid - 20, box.y - 14 + voffset, 'svg-debug-text', wtext))\r\n      .append(\r\n        b('line').line(box.x, box.y - 2, box.x + box.width, box.y - 2, ''))\r\n      .append(\r\n        b('line').line(box.x, box.y - 8, box.x, box.y + 5, ''))\r\n      .append(\r\n        b('line').line(box.x + box.width, box.y - 8, box.x + box.width, box.y + 5, ''))\r\n      .append(\r\n        b('text').text(Math.round(box.x - 14 + voffset), ytextp, 'svg-vdebug-text', ytext)\r\n          .attr('transform', 'rotate(-90,' + Math.round(box.x - 14 + voffset) + ',' + ytextp + ')'));\r\n    if (box.height > 2) {\r\n      r.append(\r\n        b('text').text(Math.round(box.x - 14 + voffset), ytextp2, 'svg-vdebug-text', htext)\r\n          .attr('transform', 'rotate(-90,' + Math.round(box.x - 14 + voffset) + ',' + (ytextp2) + ')'))\r\n        .append(\r\n          b('line').line(Math.round(box.x - 2), Math.round(box.y + box.height), box.x - 2, box.y, ''))\r\n        .append(\r\n          b('line').line(Math.round(box.x - 8), Math.round(box.y + box.height), box.x + 6, Math.round(box.y + box.height), ''))\r\n        .append(\r\n          b('line').line(Math.round(box.x - 8), Math.round(box.y), Math.round(box.x + 6), Math.round(box.y),''));\r\n    }\r\n    svg.appendChild(r.dom());\r\n  }\r\n\r\n  static placeSvgText(svg: Document, attributes: Record<string | number, string | number>[], classes: string, text: string): SVGSVGElement {\r\n    var ns = svgHelpers.namespace;\r\n    var e = document.createElementNS(ns, 'text');\r\n    attributes.forEach((attr) => {\r\n      var key: string = Object.keys(attr)[0];\r\n      e.setAttributeNS('', key, attr[key].toString());\r\n    })\r\n    if (classes) {\r\n      e.setAttributeNS('', 'class', classes);\r\n    }\r\n    var tn = document.createTextNode(text);\r\n    e.appendChild(tn);\r\n    svg.appendChild(e);\r\n    return (e as any);\r\n  }\r\n\r\n\r\n  // ### findIntersectionArtifact\r\n  // find all object that intersect with the rectangle\r\n  static findIntersectingArtifact(clientBox: SvgBox, objects: Boxable[], scrollState: SvgBox): Boxable[] {\r\n    var box = svgHelpers.smoBox(clientBox); //svgHelpers.untransformSvgPoint(this.context.svg,clientBox);\r\n\r\n    // box.y = box.y - this.renderElement.offsetTop;\r\n    // box.x = box.x - this.renderElement.offsetLeft;\r\n    var rv: Boxable[] = [];\r\n    objects.forEach((object) => {\r\n      // Measure has been updated, but not drawn.\r\n      if (!object.box) {\r\n        // console.log('there is no box');\r\n      } else {\r\n        var obox = svgHelpers.smoBox(svgHelpers.adjustScroll(svgHelpers.smoBox(object.box), scrollState));\r\n        var i1 = box.x - obox.x; // handle edge not believe in x and y\r\n        var i2 = box.y - obox.y;\r\n        if (i1 > 0 && i1 < object.box.width && i2 > 0 && i2 < object.box.height) {\r\n          rv.push(object);\r\n        }\r\n      }\r\n    });\r\n\r\n    return rv;\r\n  }\r\n\r\n  // ### findIntersectingArtifactFromMap\r\n  // Same as findIntersectionArtifact but uses a map of keys instead of an array\r\n  static findIntersectingArtifactFromMap(clientBox: SvgBox, map: Record<string | number, SmoSelection>, scrollState: SvgBox): any[] {\r\n    var box = svgHelpers.smoBox(clientBox); //svgHelpers.untransformSvgPoint(this.context.svg,clientBox);\r\n    // box.y = box.y - this.renderElement.offsetTop;\r\n    // box.x = box.x - this.renderElement.offsetLeft;\r\n    var rv: any[] = [];\r\n\r\n    Object.keys(map).forEach((k) => {\r\n      var object = map[k];\r\n      // Measure has been updated, but not drawn.\r\n      if (!object.box) {\r\n        // console.log('there is no box');\r\n      } else {\r\n        var obox = svgHelpers.smoBox(svgHelpers.adjustScroll(svgHelpers.smoBox(object.box), scrollState));\r\n        var i1 = box.x - obox.x; // handle edge not believe in x and y\r\n        var i2 = box.y - obox.y;\r\n        if (i1 > 0 && i1 < object.box.width && i2 > 0 && i2 < object.box.height) {\r\n          rv.push(object);\r\n        }\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  static containsPoint(box: SvgBox, point: SvgPoint, scrollState: SvgBox) {\r\n    var obox = svgHelpers.smoBox(svgHelpers.adjustScroll(svgHelpers.smoBox(box), scrollState));\r\n    const i1 = point.x - box.x + scrollState.x; // handle edge not believe in x and y\r\n    const i2 = point.y - box.y + scrollState.y;\r\n    if (i1 > 0 && i1 < obox.width && i2 > 0 && i2 < obox.height) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  static findSmallestIntersection(clientBox: SvgBox, objects: Boxable[], scrollState: SvgBox) {\r\n    var ar = svgHelpers.findIntersectingArtifact(clientBox, objects, scrollState);\r\n    if (!ar.length) {\r\n      return null;\r\n    }\r\n    var rv = ar[0];\r\n    var min = ar[0].box.width * ar[0].box.height;\r\n    ar.forEach((obj) => {\r\n      var tst = obj.box.width * obj.box.height;\r\n      if (tst < min) {\r\n        rv = obj;\r\n        min = tst;\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  static translateElement(g: SVGSVGElement, x: number | string, y: number | string) {\r\n    g.setAttributeNS('', 'transform', 'translate(' + x + ' ' + y + ')');\r\n  }\r\n\r\n  static stringify(box: SvgBox): string {\r\n    if (box['width']) {\r\n\r\n      return JSON.stringify({\r\n        x: box.x,\r\n        y: box.y,\r\n        width: box.width,\r\n        height: box.height\r\n      }, null, ' ');\r\n    } else {\r\n      return JSON.stringify({\r\n        x: box.x,\r\n        y: box.y\r\n      }, null, ' ');\r\n    }\r\n  }\r\n\r\n  static log(box: SvgBox) {\r\n    if (box['width']) {\r\n      console.log(JSON.stringify({\r\n        x: box.x,\r\n        y: box.y,\r\n        width: box.width,\r\n        height: box.height\r\n      }, null, ' '));\r\n    } else {\r\n      console.log('{}');\r\n    }\r\n  }\r\n\r\n  // ### pointBox\r\n  // return a point-sized box at the given coordinate\r\n  static pointBox(x: number, y: number) {\r\n    return {\r\n      x: x,\r\n      y: y,\r\n      width: 0,\r\n      height: 0\r\n    };\r\n  }\r\n\r\n\r\n  // ### smoBox:\r\n  // return a simple box object that can be serialized, copied\r\n  // (from svg DOM box)\r\n  static smoBox(box: any) {\r\n    if (typeof (box) === \"undefined\") {\r\n      return SvgBox.default;\r\n    }\r\n    const hround = (f: number): number => {\r\n      return Math.round((f + Number.EPSILON) * 100) / 100;\r\n    }\r\n    const x = typeof (box.x) == 'undefined' ? hround(box.left) : hround(box.x);\r\n    const y = typeof (box.y) == 'undefined' ? hround(box.top) : hround(box.y);\r\n    return ({\r\n      x: hround(x),\r\n      y: hround(y),\r\n      width: hround(box.width),\r\n      height: hround(box.height)\r\n    });\r\n  }\r\n  // ### unionRect\r\n  // grow the bounding box two objects to include both.\r\n  static unionRect(b1: SvgBox, b2: SvgBox): SvgBox {\r\n    const x = Math.min(b1.x, b2.x);\r\n    const y = Math.min(b1.y, b2.y);\r\n    const width = Math.max(b1.x + b1.width, b2.x + b2.width) - x;\r\n    const height = Math.max(b1.y + b1.height, b2.y + b2.height) - y;\r\n    return {\r\n      x: x,\r\n      y: y,\r\n      width: width,\r\n      height: height\r\n    };\r\n  }\r\n\r\n  // ### adjustScroll\r\n  // Add the scroll to the screen coordinates so we can find the mapped\r\n  // location of something.\r\n  static adjustScroll(box: SvgBox, scroll: SvgPoint) {\r\n    // WIP...\r\n    if (typeof (box) == 'undefined' || typeof (scroll) == 'undefined') {\r\n      console.log('bad values to scroll thing');\r\n      return;\r\n    }\r\n    return svgHelpers.boxPoints(box.x + scroll.x, box.y - scroll.y, box.width, box.height);\r\n    // return box;\r\n  }\r\n\r\n  static boxPoints(x: number, y: number, w: number, h: number): SvgBox {\r\n    return ({\r\n      x: x,\r\n      y: y,\r\n      width: w,\r\n      height: h\r\n    });\r\n  }\r\n\r\n  static copyBox(box: SvgBox): SvgBox {\r\n    box = svgHelpers.smoBox(box);\r\n    return {\r\n      x: box.x,\r\n      y: box.y,\r\n      width: box.width,\r\n      height: box.height\r\n    };\r\n  }\r\n\r\n  // ### svgViewport\r\n  // set `svg` element to `width`,`height` and viewport `scale`\r\n  static svgViewport(svg: SVGSVGElement, xOffset: number, yOffset: Number, width: number, height: number, scale: number) {\r\n    svg.setAttributeNS('', 'width', '' + width);\r\n    svg.setAttributeNS('', 'height', '' + height);\r\n    svg.setAttributeNS('', 'viewBox', '' + xOffset + ' ' + yOffset + ' ' + Math.round(width / scale) + ' ' +\r\n      Math.round(height / scale));\r\n  }\r\n\r\n  // ### logicalToClient\r\n  // Convert a point from logical (pixels) to actual screen dimensions based on current\r\n  // zoom, aspect ratio\r\n  /* static logicalToClient(svg, logicalPoint) {\r\n  var rect = svg.getBoundingClientRect();\r\n  var rv = svgHelpers.copyBox(logicalPoint);\r\n  rv.x += rect.x;\r\n  rv.y += rect.y;\r\n  return rv;\r\n  }   */\r\n\r\n  // ### clientToLogical\r\n  // return a box or point in svg coordintes from screen coordinates\r\n  static clientToLogical(svg: SVGSVGElement, point: SvgBox): SvgBox | SvgPoint {\r\n    var pt = svg.createSVGPoint();\r\n    if (!point)\r\n      return SvgBox.default;\r\n    const x = point.x;\r\n    const y = point.y;\r\n    pt.x = x;\r\n    pt.y = y;\r\n    const screen = svg.getScreenCTM();\r\n    if (!screen) {\r\n      return SvgBox.default;\r\n    }\r\n    var sp = pt.matrixTransform(screen.inverse());\r\n    if (typeof (point['width']) == 'undefined') {\r\n      return {\r\n        x: sp.x,\r\n        y: sp.y\r\n      };\r\n    }\r\n\r\n    const endPt = svg.createSVGPoint();\r\n    endPt.x = pt.x + point.width;\r\n    endPt.y = pt.y + point.height;\r\n    const mat = svg.getScreenCTM();\r\n    if (!mat) {\r\n      return SvgBox.default;\r\n    }\r\n    const ep = endPt.matrixTransform(mat.inverse());\r\n    return {\r\n      x: sp.x,\r\n      y: sp.y,\r\n      width: ep.x - sp.x,\r\n      height: ep.y - sp.y\r\n    };\r\n  }\r\n\r\n  // ### logicalToClient\r\n  // return a box or point in screen coordinates from svg coordinates\r\n  static logicalToClient(svg: SVGSVGElement, point: SvgBox, scroller: SvgPoint): SvgBox | SvgPoint {\r\n    var pt = svg.createSVGPoint();\r\n    const ss = scroller;\r\n    pt.x = point.x;\r\n    pt.y = point.y;\r\n    var sp = pt.matrixTransform(svg.getScreenCTM() ?? undefined);\r\n    if (!point['width']) {\r\n      return {\r\n        x: sp.x + ss.x,\r\n        y: sp.y + ss.y\r\n      };\r\n    }\r\n    var endPt = svg.createSVGPoint();\r\n    endPt.x = pt.x + point.width;\r\n    endPt.y = pt.y + point.height;\r\n    var ep = endPt.matrixTransform(svg.getScreenCTM() ?? undefined);\r\n    return {\r\n      x: sp.x + ss.x,\r\n      y: sp.y + ss.y,\r\n      width: ep.x - sp.x,\r\n      height: ep.y - sp.y\r\n    };\r\n  }\r\n}\r\n","export var basicJson = `{\"score\":{\"layout\":{\"leftMargin\":30,\"rightMargin\":30,\"topMargin\":40,\"bottomMargin\":40,\"pageWidth\":816,\"pageHeight\":1056,\"orientation\":0,\"interGap\":30,\"intraGap\":10,\"svgScale\":1,\"zoomScale\":2.107843137254902,\"zoomMode\":0,\"pages\":1},\"startIndex\":0,\"renumberingMap\":{}},\"staves\":[{\"staffId\":0,\"staffX\":10,\"staffY\":40,\"adjY\":0,\"staffWidth\":1600,\"staffHeight\":90,\"startIndex\":0,\"renumberingMap\":{},\"keySignatureMap\":{},\"instrumentInfo\":{\"instrumentName\":\"Treble Instrument\",\"keyOffset\":\"0\",\"clef\":\"treble\"},\"modifiers\":[],\"measures\":[{\"timeSignature\":\"4/4\",\"keySignature\":\"C\",\"staffY\":41,\"measureNumber\":{\"measureNumber\":0,\"measureIndex\":0,\"systemIndex\":0,\"staffId\":0},\"activeVoice\":0,\"clef\":\"treble\",\"transposeIndex\":0,\"adjX\":64.98,\"padLeft\":0,\"adjRight\":11,\"padRight\":10,\"rightMargin\":2,\"tuplets\":[],\"beamGroups\":[],\"voices\":[{\"notes\":[{\"ticks\":{\"numerator\":2048,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"c\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318077\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"d\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318078\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"e\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318079\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"f\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318080\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"g\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318081\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"a\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318082\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"b\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318083\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":2048,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"c\",\"accidental\":\"n\",\"octave\":5}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318084\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"b\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318085\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"a\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318086\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"g\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318087\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"f\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318088\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"e\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318089\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"d\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto318090\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]}]}],\"modifiers\":[{\"position\":0,\"barline\":0,\"ctor\":\"SmoBarline\"},{\"position\":1,\"barline\":0,\"ctor\":\"SmoBarline\"},{\"symbol\":0,\"xOffset\":0,\"yOffset\":30,\"position\":0,\"ctor\":\"SmoRepeatSymbol\"}]},{\"timeSignature\":\"4/4\",\"keySignature\":\"C\",\"staffY\":41,\"measureNumber\":{\"measureNumber\":1,\"measureIndex\":1,\"systemIndex\":1,\"staffId\":0},\"activeVoice\":0,\"clef\":\"treble\",\"transposeIndex\":0,\"adjX\":11,\"padLeft\":0,\"adjRight\":11,\"padRight\":10,\"rightMargin\":2,\"tuplets\":[],\"beamGroups\":[],\"voices\":[{\"notes\":[{\"ticks\":{\"numerator\":2048,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"c\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto358929\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"e\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto360328\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"g\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto360329\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":2048,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"c\",\"accidental\":\"n\",\"octave\":5}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto372785\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"g\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto374186\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":1024,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"e\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto374187\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":2048,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"c\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto381535\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":2048,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"b\",\"accidental\":\"n\",\"octave\":3}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto354946\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]},{\"ticks\":{\"numerator\":4096,\"denominator\":1,\"remainder\":0},\"pitches\":[{\"letter\":\"c\",\"accidental\":\"n\",\"octave\":4}],\"noteType\":\"n\",\"attrs\":{\"id\":\"auto389896\",\"type\":\"SmoNote\"},\"clef\":\"treble\",\"endBeam\":false,\"beamBeats\":4096,\"flagState\":0,\"noteModifiers\":[],\"graceNotes\":[],\"articulations\":[],\"ornaments\":[]}]}],\"modifiers\":[{\"position\":0,\"barline\":0,\"ctor\":\"SmoBarline\"},{\"position\":1,\"barline\":0,\"ctor\":\"SmoBarline\"},{\"symbol\":0,\"xOffset\":0,\"yOffset\":30,\"position\":0,\"ctor\":\"SmoRepeatSymbol\"}]}]}],\"scoreText\":[]}`;\r\n\r\nexport var emptyScoreJson = `{\"a\":{\"b\":{\"c\":30,\"d\":30,\"e\":40,\"f\":40,\"g\":816,\"h\":1056,\"i\":0,\"j\":30,\"k\":10,\"l\":1,\"m\":2.107843137254902,\"n\":0,\"o\":1},\"q\":0,\"r\":{},\"me\":[{\"ne\":\"engraving\",\"oe\":1,\"xb\":\"Bravura\",\"wb\":1,\"pe\":false},{\"ne\":\"score\",\"oe\":2,\"xb\":\"Merriweather\",\"wb\":14,\"pe\":false},{\"ne\":\"chords\",\"oe\":3,\"xb\":\"Roboto Slab\",\"wb\":14,\"pe\":false},{\"ne\":\"lyrics\",\"oe\":4,\"xb\":\"Merriweather\",\"wb\":12,\"pe\":true}]},\"s\":[{\"t\":0,\"u\":10,\"v\":40,\"w\":0,\"x\":1600,\"y\":90,\"q\":0,\"r\":{},\"z\":{},\"aa\":{\"ba\":\"Treble Instrument\",\"ca\":\"0\",\"da\":\"treble\"},\"ea\":[],\"va\":[{\"ya\":{\"ya\":0,\"za\":0,\"ab\":0,\"t\":0},\"bb\":59.980000000000004,\"cb\":[],\"db\":[{\"eb\":[{\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"oc\":\"r\",\"da\":\"treble\",\"sb\":[{\"vb\":{\"ne\":\"chords\",\"oe\":3,\"xb\":\"Roboto Slab\",\"wb\":14,\"pe\":false},\"le\":2,\"sa\":\"SmoLyric\",\"ke\":\"\"},{\"vb\":{\"xb\":\"Merriweather\",\"wb\":12},\"sa\":\"SmoLyric\",\"ke\":\"\"}]},{\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"oc\":\"r\",\"da\":\"treble\"},{\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"oc\":\"r\",\"da\":\"treble\"},{\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"oc\":\"r\",\"da\":\"treble\"}]}],\"ea\":[]}]}],\"yc\":[],\"ge\":[],\"yd\":[],\"ee\":{\"wa\":{\"0\":\"4/4\"},\"xa\":{\"0\":\"C\"}},\"dictionary\":{\"a\":\"score\",\"b\":\"layout\",\"c\":\"leftMargin\",\"d\":\"rightMargin\",\"e\":\"topMargin\",\"f\":\"bottomMargin\",\"g\":\"pageWidth\",\"h\":\"pageHeight\",\"i\":\"orientation\",\"j\":\"interGap\",\"k\":\"intraGap\",\"l\":\"svgScale\",\"m\":\"zoomScale\",\"n\":\"zoomMode\",\"o\":\"pages\",\"p\":\"pageSize\",\"q\":\"startIndex\",\"r\":\"renumberingMap\",\"s\":\"staves\",\"t\":\"staffId\",\"u\":\"staffX\",\"v\":\"staffY\",\"w\":\"adjY\",\"x\":\"staffWidth\",\"y\":\"staffHeight\",\"z\":\"keySignatureMap\",\"aa\":\"instrumentInfo\",\"ba\":\"instrumentName\",\"ca\":\"keyOffset\",\"da\":\"clef\",\"ea\":\"modifiers\",\"fa\":\"startSelector\",\"ga\":\"staff\",\"ha\":\"measure\",\"ia\":\"voice\",\"ja\":\"tick\",\"ka\":\"pitches\",\"la\":\"endSelector\",\"ma\":\"xOffset\",\"na\":\"cp1y\",\"oa\":\"cp2y\",\"pa\":\"attrs\",\"qa\":\"id\",\"ra\":\"type\",\"sa\":\"ctor\",\"ta\":\"yOffset\",\"ua\":\"position\",\"va\":\"measures\",\"wa\":\"timeSignature\",\"xa\":\"keySignature\",\"ya\":\"measureNumber\",\"za\":\"measureIndex\",\"ab\":\"systemIndex\",\"bb\":\"adjX\",\"cb\":\"tuplets\",\"db\":\"voices\",\"eb\":\"notes\",\"fb\":\"ticks\",\"gb\":\"numerator\",\"hb\":\"denominator\",\"ib\":\"remainder\",\"jb\":\"letter\",\"kb\":\"octave\",\"lb\":\"accidental\",\"mb\":\"symbol\",\"nb\":\"bpm\",\"ob\":\"display\",\"pb\":\"beatDuration\",\"qb\":\"beamBeats\",\"rb\":\"endBeam\",\"sb\":\"textModifiers\",\"tb\":\"text\",\"ub\":\"endChar\",\"vb\":\"fontInfo\",\"wb\":\"size\",\"xb\":\"family\",\"yb\":\"style\",\"zb\":\"weight\",\"ac\":\"classes\",\"bc\":\"verse\",\"cc\":\"fill\",\"dc\":\"scaleX\",\"ec\":\"scaleY\",\"fc\":\"translateX\",\"gc\":\"translateY\",\"hc\":\"selector\",\"ic\":\"renderedBox\",\"jc\":\"x\",\"kc\":\"y\",\"lc\":\"width\",\"mc\":\"height\",\"nc\":\"logicalBox\",\"oc\":\"noteType\",\"pc\":\"cautionary\",\"qc\":\"articulations\",\"rc\":\"articulation\",\"sc\":\"activeVoice\",\"tc\":\"flagState\",\"uc\":\"invert\",\"vc\":\"fontSize\",\"wc\":\"yOffsetLine\",\"xc\":\"yOffsetPixels\",\"yc\":\"scoreText\",\"zc\":\"backup\",\"ad\":\"edited\",\"bd\":\"pagination\",\"cd\":\"boxModel\",\"dd\":\"justification\",\"ed\":\"autoLayout\",\"fd\":\"ornaments\",\"gd\":\"offset\",\"hd\":\"ornament\",\"id\":\"tempoMode\",\"jd\":\"tempoText\",\"kd\":\"barline\",\"ld\":\"systemBreak\",\"md\":\"graceNotes\",\"nd\":\"tones\",\"od\":\"tuplet\",\"pd\":\"beam_group\",\"qd\":\"renderId\",\"rd\":\"numNotes\",\"sd\":\"totalTicks\",\"td\":\"stemTicks\",\"ud\":\"durationMap\",\"vd\":\"bracketed\",\"wd\":\"ratioed\",\"xd\":\"location\",\"yd\":\"systemGroups\",\"zd\":\"leftConnector\",\"ae\":\"padLeft\",\"be\":\"customStretch\",\"ce\":\"engravingFont\",\"de\":\"customProportion\",\"ee\":\"columnAttributeMap\",\"fe\":\"tempo\",\"ge\":\"textGroups\",\"he\":\"textBlocks\",\"ie\":\"backupBlocks\",\"je\":\"blocks\",\"ke\":\"_text\",\"le\":\"parser\",\"me\":\"fonts\",\"ne\":\"name\",\"oe\":\"purpose\",\"pe\":\"custom\"}}`;\r\n\r\nexport var sixTestJson = `{\"a\":{\"b\":{\"c\":30,\"d\":30,\"e\":40,\"f\":40,\"g\":816,\"h\":1056,\"i\":0,\"j\":30,\"k\":10,\"l\":1,\"m\":2.107843137254902,\"n\":0,\"o\":1},\"q\":0,\"r\":{},\"ce\":\"Bravura\"},\"s\":[{\"t\":0,\"u\":10,\"v\":40,\"w\":0,\"x\":1600,\"y\":90,\"q\":0,\"r\":{},\"z\":{},\"aa\":{\"ba\":\"Treble Instrument\",\"ca\":\"0\",\"da\":\"treble\"},\"ea\":[],\"va\":[{\"ya\":{\"ya\":0,\"za\":0,\"ab\":0,\"t\":0},\"bb\":59.980000000000004,\"cb\":[],\"db\":[{\"eb\":[{\"fb\":{\"gb\":2048,\"hb\":1,\"ib\":0},\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"da\":\"treble\",\"qb\":6144},{\"fb\":{\"gb\":2048,\"hb\":1,\"ib\":0},\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"da\":\"treble\",\"qb\":6144},{\"fb\":{\"gb\":2048,\"hb\":1,\"ib\":0},\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"da\":\"treble\",\"rb\":true,\"qb\":6144},{\"fb\":{\"gb\":2048,\"hb\":1,\"ib\":0},\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"da\":\"treble\",\"qb\":6144},{\"fb\":{\"gb\":2048,\"hb\":1,\"ib\":0},\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"da\":\"treble\",\"qb\":6144},{\"fb\":{\"gb\":2048,\"hb\":1,\"ib\":0},\"ka\":[{\"jb\":\"b\",\"lb\":\"n\",\"kb\":4}],\"da\":\"treble\",\"rb\":true,\"qb\":6144}]}],\"ea\":[]}]}],\"yc\":[],\"yd\":[],\"ee\":{\"wa\":{\"0\":\"6/8\"},\"xa\":{\"0\":\"C\"}},\"dictionary\":{\"a\":\"score\",\"b\":\"layout\",\"c\":\"leftMargin\",\"d\":\"rightMargin\",\"e\":\"topMargin\",\"f\":\"bottomMargin\",\"g\":\"pageWidth\",\"h\":\"pageHeight\",\"i\":\"orientation\",\"j\":\"interGap\",\"k\":\"intraGap\",\"l\":\"svgScale\",\"m\":\"zoomScale\",\"n\":\"zoomMode\",\"o\":\"pages\",\"p\":\"pageSize\",\"q\":\"startIndex\",\"r\":\"renumberingMap\",\"s\":\"staves\",\"t\":\"staffId\",\"u\":\"staffX\",\"v\":\"staffY\",\"w\":\"adjY\",\"x\":\"staffWidth\",\"y\":\"staffHeight\",\"z\":\"keySignatureMap\",\"aa\":\"instrumentInfo\",\"ba\":\"instrumentName\",\"ca\":\"keyOffset\",\"da\":\"clef\",\"ea\":\"modifiers\",\"fa\":\"startSelector\",\"ga\":\"staff\",\"ha\":\"measure\",\"ia\":\"voice\",\"ja\":\"tick\",\"ka\":\"pitches\",\"la\":\"endSelector\",\"ma\":\"xOffset\",\"na\":\"cp1y\",\"oa\":\"cp2y\",\"pa\":\"attrs\",\"qa\":\"id\",\"ra\":\"type\",\"sa\":\"ctor\",\"ta\":\"yOffset\",\"ua\":\"position\",\"va\":\"measures\",\"wa\":\"timeSignature\",\"xa\":\"keySignature\",\"ya\":\"measureNumber\",\"za\":\"measureIndex\",\"ab\":\"systemIndex\",\"bb\":\"adjX\",\"cb\":\"tuplets\",\"db\":\"voices\",\"eb\":\"notes\",\"fb\":\"ticks\",\"gb\":\"numerator\",\"hb\":\"denominator\",\"ib\":\"remainder\",\"jb\":\"letter\",\"kb\":\"octave\",\"lb\":\"accidental\",\"mb\":\"symbol\",\"nb\":\"bpm\",\"ob\":\"display\",\"pb\":\"beatDuration\",\"qb\":\"beamBeats\",\"rb\":\"endBeam\",\"sb\":\"textModifiers\",\"tb\":\"text\",\"ub\":\"endChar\",\"vb\":\"fontInfo\",\"wb\":\"size\",\"xb\":\"family\",\"yb\":\"style\",\"zb\":\"weight\",\"ac\":\"classes\",\"bc\":\"verse\",\"cc\":\"fill\",\"dc\":\"scaleX\",\"ec\":\"scaleY\",\"fc\":\"translateX\",\"gc\":\"translateY\",\"hc\":\"selector\",\"ic\":\"renderedBox\",\"jc\":\"x\",\"kc\":\"y\",\"lc\":\"width\",\"mc\":\"height\",\"nc\":\"logicalBox\",\"oc\":\"noteType\",\"pc\":\"cautionary\",\"qc\":\"articulations\",\"rc\":\"articulation\",\"sc\":\"activeVoice\",\"tc\":\"flagState\",\"uc\":\"invert\",\"vc\":\"fontSize\",\"wc\":\"yOffsetLine\",\"xc\":\"yOffsetPixels\",\"yc\":\"scoreText\",\"zc\":\"backup\",\"ad\":\"edited\",\"bd\":\"pagination\",\"cd\":\"boxModel\",\"dd\":\"justification\",\"ed\":\"autoLayout\",\"fd\":\"ornaments\",\"gd\":\"offset\",\"hd\":\"ornament\",\"id\":\"tempoMode\",\"jd\":\"tempoText\",\"kd\":\"barline\",\"ld\":\"systemBreak\",\"md\":\"graceNotes\",\"nd\":\"tones\",\"od\":\"tuplet\",\"pd\":\"beam_group\",\"qd\":\"renderId\",\"rd\":\"numNotes\",\"sd\":\"totalTicks\",\"td\":\"stemTicks\",\"ud\":\"durationMap\",\"vd\":\"bracketed\",\"wd\":\"ratioed\",\"xd\":\"location\",\"yd\":\"systemGroups\",\"zd\":\"leftConnector\",\"ae\":\"padLeft\",\"be\":\"customStretch\",\"ce\":\"engravingFont\",\"de\":\"customProportion\",\"ee\":\"columnAttributeMap\",\"fe\":\"tempo\"}}`;\r\n","export var testCase1 = `[{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[12]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"crescendo\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"addStaff\",\"parameters\":[{\"instrumentInfo\":{\"instrumentName\":\"Bass Clef Staff\",\"keyOffset\":0,\"clef\":\"bass\"}}]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"doubleDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionUp\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[12]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"toggleArticulation\",\"parameters\":[\"mordent_inverted\",\"SmoOrnament\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeftMeasure\",\"parameters\":[]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"undotDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[12]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"slur\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"toggleArticulation\",\"parameters\":[\"staccato\",\"SmoArticulation\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"deleteNote\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"doubleDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"setScoreLayout\",\"parameters\":[{\"leftMargin\":30,\"rightMargin\":30,\"topMargin\":40,\"bottomMargin\":40,\"pageWidth\":816,\"pageHeight\":1056,\"orientation\":0,\"interGap\":30,\"intraGap\":10,\"svgScale\":0.55,\"zoomScale\":2.107843137254902,\"zoomMode\":0,\"pages\":1}]},{\"method\":\"setScoreLayout\",\"parameters\":[{\"leftMargin\":30,\"rightMargin\":30,\"topMargin\":40,\"bottomMargin\":40,\"pageWidth\":816,\"pageHeight\":1056,\"orientation\":0,\"interGap\":30,\"intraGap\":10,\"svgScale\":0.55,\"zoomScale\":2.107843137254902,\"zoomMode\":0,\"pages\":1}]},{\"method\":\"selectSuggestionNote\",\"parameters\":[{\"staff\":1,\"measure\":2,\"voice\":0,\"tick\":1,\"pitches\":[]},{\"type\":\"click\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionUp\",\"parameters\":[]},{\"method\":\"forceSystemBreak\",\"parameters\":[true]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"doubleDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"doubleDuration\"]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"crescendo\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"slur\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"slur\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"selectSuggestionNote\",\"parameters\":[{\"staff\":1,\"measure\":1,\"voice\":0,\"tick\":9,\"pitches\":[]},{\"type\":\"click\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"selectSuggestionNote\",\"parameters\":[{\"staff\":1,\"measure\":1,\"voice\":0,\"tick\":9,\"pitches\":[]},{\"type\":\"click\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"advanceModifierSelection\",\"parameters\":[{\"type\":\"keydown\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"advanceModifierSelection\",\"parameters\":[{\"type\":\"keydown\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"advanceModifierSelection\",\"parameters\":[{\"type\":\"keydown\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"advanceModifierSelection\",\"parameters\":[{\"type\":\"keydown\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"removeStaffModifier\",\"parameters\":[{\"startSelector\":{\"staff\":1,\"measure\":2,\"voice\":0,\"tick\":7,\"pitches\":[]},\"endSelector\":{\"staff\":1,\"measure\":3,\"voice\":0,\"tick\":0,\"pitches\":[]},\"position\":4,\"ctor\":\"SmoSlur\"}]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"slur\",\"parameters\":[]},{\"method\":\"addTextGroup\",\"parameters\":[{\"textBlocks\":[{\"text\":{\"ctor\":\"SmoScoreText\",\"attrs\":{\"id\":\"auto277566\",\"type\":\"SmoScoreText\"},\"backup\":{},\"edited\":false,\"x\":893,\"y\":180.95,\"text\":\"Smoosic\",\"pagination\":\"once\",\"position\":\"custom\",\"fontInfo\":{\"size\":\"1em\",\"family\":\"Merriweather\",\"style\":\"normal\",\"weight\":\"normal\"},\"classes\":\"score-text auto277566\",\"boxModel\":\"none\",\"justification\":\"left\",\"fill\":\"black\",\"width\":0,\"height\":0,\"scaleX\":1,\"scaleY\":1,\"translateX\":0,\"translateY\":0,\"autoLayout\":false,\"renderedBox\":{\"x\":1209.73,\"y\":-229.95,\"width\":89.9,\"height\":27.02},\"logicalBox\":{\"x\":893,\"y\":162.83,\"width\":77.56,\"height\":23.31}},\"position\":4,\"activeText\":true}],\"ctor\":\"SmoTextGroup\",\"attrs\":{\"id\":\"auto277567\",\"type\":\"SmoTextGroup\"}}]},{\"method\":\"updateTextGroup\",\"parameters\":[{\"textBlocks\":[{\"text\":{\"ctor\":\"SmoScoreText\",\"attrs\":{\"id\":\"auto277566\",\"type\":\"SmoScoreText\"},\"backup\":{},\"edited\":false,\"x\":893,\"y\":180.95,\"text\":\"Smoosic\",\"pagination\":\"once\",\"position\":\"custom\",\"fontInfo\":{\"size\":\"1em\",\"family\":\"Merriweather\",\"style\":\"normal\",\"weight\":\"normal\"},\"classes\":\"score-text auto277566\",\"boxModel\":\"none\",\"justification\":\"left\",\"fill\":\"black\",\"width\":0,\"height\":0,\"scaleX\":1,\"scaleY\":1,\"translateX\":0,\"translateY\":0,\"autoLayout\":false,\"renderedBox\":{\"x\":1209.73,\"y\":371.05,\"width\":89.9,\"height\":27.02},\"logicalBox\":{\"x\":893,\"y\":162.83,\"width\":77.56,\"height\":23.31}},\"position\":4,\"activeText\":true}],\"ctor\":\"SmoTextGroup\",\"attrs\":{\"id\":\"auto277567\",\"type\":\"SmoTextGroup\"}},{\"textBlocks\":[{\"text\":{\"ctor\":\"SmoScoreText\",\"attrs\":{\"id\":\"auto277566\",\"type\":\"SmoScoreText\"},\"backup\":{},\"edited\":false,\"x\":893,\"y\":180.95,\"text\":\"15 Inventions a 2 voix.\",\"pagination\":\"once\",\"position\":\"custom\",\"fontInfo\":{\"size\":\"1em\",\"family\":\"Merriweather\",\"style\":\"normal\",\"weight\":\"normal\"},\"classes\":\"score-text auto277566\",\"boxModel\":\"none\",\"justification\":\"left\",\"fill\":\"black\",\"width\":0,\"height\":0,\"scaleX\":1,\"scaleY\":1,\"translateX\":0,\"translateY\":0,\"autoLayout\":false,\"renderedBox\":{\"x\":1209.73,\"y\":371.05,\"width\":89.9,\"height\":27.02},\"logicalBox\":{\"x\":893,\"y\":162.83,\"width\":77.56,\"height\":23.31}},\"position\":4,\"activeText\":true}],\"ctor\":\"SmoTextGroup\",\"attrs\":{\"id\":\"auto277567\",\"type\":\"SmoTextGroup\"}}]},{\"method\":\"updateTextGroup\",\"parameters\":[{\"textBlocks\":[{\"text\":{\"ctor\":\"SmoScoreText\",\"attrs\":{\"id\":\"auto277566\",\"type\":\"SmoScoreText\"},\"backup\":{},\"edited\":false,\"x\":893,\"y\":180.95,\"text\":\"15 Inventions a 2 voix.\",\"pagination\":\"once\",\"position\":\"custom\",\"fontInfo\":{\"size\":\"1em\",\"family\":\"Merriweather\",\"style\":\"normal\",\"weight\":\"normal\"},\"classes\":\"score-text auto277566\",\"boxModel\":\"none\",\"justification\":\"left\",\"fill\":\"black\",\"width\":0,\"height\":0,\"scaleX\":1,\"scaleY\":1,\"translateX\":0,\"translateY\":0,\"autoLayout\":false,\"renderedBox\":{\"x\":1209.73,\"y\":371.05,\"width\":235.12,\"height\":27.02},\"logicalBox\":{\"x\":893,\"y\":162.83,\"width\":202.86,\"height\":23.31}},\"position\":4,\"activeText\":true}],\"ctor\":\"SmoTextGroup\",\"attrs\":{\"id\":\"auto277567\",\"type\":\"SmoTextGroup\"}},{\"textBlocks\":[{\"text\":{\"ctor\":\"SmoScoreText\",\"attrs\":{\"id\":\"auto277566\",\"type\":\"SmoScoreText\"},\"backup\":{},\"edited\":false,\"x\":591.4853515625,\"y\":50.08321900431312,\"text\":\"15 Inventions a 2 voix.\",\"pagination\":\"once\",\"position\":\"custom\",\"fontInfo\":{\"size\":\"1em\",\"family\":\"Merriweather\",\"style\":\"normal\",\"weight\":\"normal\"},\"classes\":\"score-text auto277566\",\"boxModel\":\"none\",\"justification\":\"left\",\"fill\":\"black\",\"width\":0,\"height\":0,\"scaleX\":1,\"scaleY\":1,\"translateX\":0,\"translateY\":0,\"autoLayout\":false,\"renderedBox\":{\"x\":1209.73,\"y\":371.05,\"width\":235.12,\"height\":27.02},\"logicalBox\":{\"x\":893,\"y\":162.83,\"width\":202.86,\"height\":23.31}},\"position\":4,\"activeText\":true}],\"ctor\":\"SmoTextGroup\",\"attrs\":{\"id\":\"auto277567\",\"type\":\"SmoTextGroup\"}}]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionUp\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"dotDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[12]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionUp\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"slur\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"toggleArticulation\",\"parameters\":[\"mordent\",\"SmoOrnament\"]},{\"method\":\"toggleArticulation\",\"parameters\":[\"mordent\",\"SmoOrnament\"]},{\"method\":\"toggleArticulation\",\"parameters\":[\"mordent\",\"SmoOrnament\"]},{\"method\":\"toggleArticulation\",\"parameters\":[\"mordent\",\"SmoOrnament\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"toggleArticulation\",\"parameters\":[\"mordent\",\"SmoOrnament\"]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"dotDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveHome\",\"parameters\":[]},{\"method\":\"updateTempoScore\",\"parameters\":[{\"tempoMode\":\"text\",\"ctor\":\"SmoTempoText\"},false]},{\"method\":\"updateTempoScore\",\"parameters\":[{\"tempoMode\":\"text\",\"bpm\":96,\"tempoText\":\"Moderato\",\"ctor\":\"SmoTempoText\"},false]},{\"method\":\"updateTempoScore\",\"parameters\":[{\"tempoMode\":\"text\",\"bpm\":96,\"tempoText\":\"Moderato\",\"ctor\":\"SmoTempoText\"},true]},{\"method\":\"updateTempoScore\",\"parameters\":[{\"tempoMode\":\"text\",\"bpm\":96,\"display\":true,\"tempoText\":\"Moderato\",\"ctor\":\"SmoTempoText\"},true]},{\"method\":\"moveEnd\",\"parameters\":[]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"selectSuggestionNote\",\"parameters\":[{\"staff\":0,\"measure\":6,\"voice\":0,\"tick\":0,\"pitches\":[]},{\"type\":\"click\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"deleteNote\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"advanceModifierSelection\",\"parameters\":[{\"type\":\"keydown\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"moveSelectionLeftMeasure\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"forceSystemBreak\",\"parameters\":[true]},{\"method\":\"selectSuggestionNote\",\"parameters\":[{\"staff\":0,\"measure\":6,\"voice\":0,\"tick\":1,\"pitches\":[]},{\"type\":\"click\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveEnd\",\"parameters\":[]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionUp\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"deleteNote\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[12]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"toggleArticulation\",\"parameters\":[\"staccato\",\"SmoArticulation\"]},{\"method\":\"moveSelectionUp\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"crescendo\",\"parameters\":[]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"deleteNote\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"changeInstrument\",\"parameters\":[{\"instrumentName\":\"Treble Instrument\",\"keyOffset\":0,\"clef\":\"treble\"}]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionUp\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"deleteNote\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"forceSystemBreak\",\"parameters\":[true]},{\"method\":\"selectSuggestionNote\",\"parameters\":[{\"staff\":0,\"measure\":9,\"voice\":0,\"tick\":10,\"pitches\":[]},{\"type\":\"click\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-1]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-1]},{\"method\":\"addMeasure\",\"parameters\":[true]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionUp\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[-12]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionLeft\",\"parameters\":[]},{\"method\":\"slur\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"toggleBeamDirection\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"toggleBeamDirection\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"slur\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"slur\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"toggleBeamDirection\",\"parameters\":[]},{\"method\":\"beamSelections\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"advanceModifierSelection\",\"parameters\":[{\"type\":\"keydown\",\"shiftKey\":false,\"ctrlKey\":false}]},{\"method\":\"addOrUpdateStaffModifier\",\"parameters\":[{\"startSelector\":{\"staff\":0,\"measure\":10,\"voice\":0,\"tick\":1,\"pitches\":[]},\"endSelector\":{\"staff\":0,\"measure\":10,\"voice\":0,\"tick\":4,\"pitches\":[]},\"invert\":true,\"ctor\":\"SmoSlur\"}]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionDown\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"growSelectionRight\",\"parameters\":[]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"batchDurationOperation\",\"parameters\":[\"halveDuration\"]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"f\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"e\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"d\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"g\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"b\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"a\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"setPitch\",\"parameters\":[\"c\"]},{\"method\":\"moveSelectionRight\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"moveSelectionLeft\",\"parameters\":[]},{\"method\":\"transposeSelections\",\"parameters\":[1]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]},{\"method\":\"toggleEnharmonic\",\"parameters\":[]}]`;\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { Pitch } from '../../smo/data/common';\r\nimport { SmoMicrotone } from '../../smo/data/noteModifiers';\r\nimport { SmoMeasure } from '../../smo/data/measure';\r\nimport { SmoNote } from '../../smo/data/note';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\n// ## suiAudioPitch\r\n// helper class to compute the frequencies of the notes.\r\nexport class SuiAudioPitch {\r\n  // ### _frequencies\r\n  // Compute the equal-temperment frequencies of the notes.\r\n  static _computeFrequencies() {\r\n    const map: Record<string, number> = {};\r\n    let lix = 0;\r\n    const octaves = [1, 2, 3, 4, 5, 6, 7];\r\n    const letters = ['cn', 'c#', 'dn', 'd#', 'en', 'fn', 'f#', 'gn', 'g#', 'an', 'a#', 'bn'];\r\n\r\n    const just = Math.pow(2, (1.0 / 12));\r\n    const baseFrequency = (440 / 16) * Math.pow(just, 3);\r\n\r\n    octaves.forEach((octave) => {\r\n      const base = baseFrequency * Math.pow(2, octave - 1);\r\n      lix = 0;\r\n      letters.forEach((letter) => {\r\n        const freq = base * Math.pow(just, lix);\r\n        var enharmonics = smoMusic.getEnharmonics(letter);\r\n        enharmonics.forEach((en) => {\r\n          // Adjust for B4 higher than C4\r\n          const adjOctave = (letter[0] === 'b' && en[0] === 'c') ?\r\n            octave + 1 : octave;\r\n          map[en + adjOctave.toString()] = freq;\r\n        });\r\n        lix += 1;\r\n      });\r\n    });\r\n\r\n    return map;\r\n  }\r\n  static frequencies: Record<string, number> | null = null;\r\n\r\n  static get pitchFrequencyMap() {\r\n    if (!SuiAudioPitch.frequencies) {\r\n      SuiAudioPitch.frequencies = SuiAudioPitch._computeFrequencies();\r\n    }\r\n\r\n    return SuiAudioPitch.frequencies;\r\n  }\r\n\r\n  static _rawPitchToFrequency(smoPitch: Pitch, offset: number): number {\r\n    const npitch = smoMusic.smoIntToPitch(smoMusic.smoPitchToInt(smoPitch) + offset);\r\n    const vx = npitch.letter.toLowerCase() + npitch.accidental + npitch.octave.toString();\r\n    return SuiAudioPitch.pitchFrequencyMap[vx];\r\n  }\r\n  // ### smoPitchToFrequency\r\n  // Convert a pitch to a frequency in Hz.\r\n  static smoPitchToFrequency(smoPitch: Pitch, ix: number, offset: number, tones: SmoMicrotone[]) {\r\n    let pitchInt = 0;\r\n    let rv = SuiAudioPitch._rawPitchToFrequency(smoPitch, offset);\r\n    const mt = tones.filter((tt) => tt.pitch === smoPitch);\r\n    if (mt.length) {\r\n      const tone = mt[0];\r\n      const coeff = tone.toPitchCoeff;\r\n      pitchInt = smoMusic.smoPitchToInt(smoPitch);\r\n      pitchInt += (coeff > 0) ? 1 : -1;\r\n      const otherSmo = smoMusic.smoIntToPitch(pitchInt);\r\n      const otherPitch = SuiAudioPitch._rawPitchToFrequency(otherSmo, offset);\r\n      rv += Math.abs(rv - otherPitch) * coeff;\r\n    }\r\n    return rv;\r\n  }\r\n}\r\n\r\nexport class SuiReverb {\r\n  static get defaults() {\r\n    return { length: 0.2, decay: 0.5 };\r\n  }\r\n  static impulse: AudioBuffer | null;\r\n\r\n  connect(destination: AudioNode) {\r\n    this.output.connect(destination);\r\n  }\r\n\r\n  disconnect() {\r\n    this.output.disconnect();\r\n  }\r\n\r\n  // credit: https://github.com/nick-thompson\r\n  _buildImpulse() {\r\n    let n = 0;\r\n    let i = 0;\r\n    if (SuiReverb.impulse) {\r\n      this.input.buffer = SuiReverb.impulse;\r\n      return;\r\n    }\r\n\r\n    const rate = this._context.sampleRate;\r\n    const length = rate * this.length;\r\n    const decay = this.decay;\r\n    const impulse = this._context.createBuffer(2, length, rate);\r\n    const impulseL = impulse.getChannelData(0);\r\n    const impulseR = impulse.getChannelData(1);\r\n\r\n    for (i = 0; i < length; i++) {\r\n      n = this.reverse ? length - i : i;\r\n      impulseL[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\r\n      impulseR[i] = (Math.random() * 2 - 1) * Math.pow(1 - n / length, decay);\r\n    }\r\n    SuiReverb.impulse = impulse;\r\n\r\n    this.input.buffer = impulse;\r\n  }\r\n  output: ConvolverNode;\r\n  input: ConvolverNode;\r\n  length: number;\r\n  decay: number;\r\n  reverse: boolean = false;\r\n  _context: AudioContext;\r\n  constructor(context: AudioContext) {\r\n    this.input = this.output = context.createConvolver();\r\n    this.length = SuiReverb.defaults.length;\r\n    this.decay = SuiReverb.defaults.decay;\r\n    this._context = context;\r\n    this._buildImpulse();\r\n  }\r\n}\r\n\r\nexport interface WaveTable {\r\n  real: number[],\r\n  imaginary: number[]\r\n}\r\nexport interface SuiOscillatorParams {\r\n  duration: number,\r\n  frequency: number,\r\n  attackEnv: number,\r\n  decayEnv: number,\r\n  sustainEnv: number,\r\n  releaseEnv: number,\r\n  sustainLevel: number,\r\n  releaseLevel: number,\r\n  waveform: OscillatorType,\r\n  gain: number,\r\n  wavetable: WaveTable\r\n}\r\nexport interface AudioSample {\r\n  sample: AudioBuffer,\r\n  frequency: number\r\n}\r\n\r\n// ## SuiOscillator\r\n// Simple waveform synthesizer thing that plays notes.  Oscillator works in either\r\n// analog synthisizer or sampler mode.  I've found the HTML synth performance to be not\r\n// so great, and using actual MP3 samples both performs and sounds better.  Still, \r\n// synths are so cool that I am keeping it to tinker with later\r\nexport class SuiOscillator {\r\n  static audio: AudioContext = new AudioContext();\r\n  static get defaults(): SuiOscillatorParams {\r\n    const wavetable: WaveTable = {\r\n      real: [0,\r\n        0.3, 0.3, 0, 0, 0,\r\n        0.1, 0, 0, 0, 0,\r\n        0.05, 0, 0, 0, 0,\r\n        0.01, 0, 0, 0, 0,\r\n        0.01, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0,\r\n        0, 0],\r\n      imaginary: [0,\r\n        0, 0.05, 0, 0, 0,\r\n        0, 0.01, 0, 0, 0,\r\n        0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0,\r\n        0, 0, 0, 0, 0,\r\n        0, 0]\r\n    };\r\n    const obj = {\r\n      duration: 1000,\r\n      frequency: 440,\r\n      attackEnv: 0.05,\r\n      decayEnv: 0.4,\r\n      sustainEnv: 0.8,\r\n      releaseEnv: 0.25,\r\n      sustainLevel: 0.5,\r\n      releaseLevel: 0.1,\r\n      waveform: 'custom',\r\n      gain: 0.2,\r\n      wavetable\r\n    };\r\n    return JSON.parse(JSON.stringify(obj));\r\n  }\r\n\r\nstatic sampleFiles: string[] = ['bb4', 'cn4'];\r\n  static samples: AudioSample[] = [];\r\n  static playSelectionNow(selection: SmoSelection, gain: number) {\r\n    // In the midst of re-rendering...\r\n    if (!selection.note) {\r\n      return;\r\n    }\r\n    if (selection.note.isRest() || selection.note.isSlash()) {\r\n      return;\r\n    }\r\n    setTimeout(() => {\r\n      const ar = SuiOscillator.fromNote(selection.measure, selection.note!, true, gain);\r\n      ar.forEach((osc) => {\r\n        osc.play();\r\n      });\r\n    }, 1);\r\n  }\r\n\r\n  static get attackTime()  {\r\n    return 25;\r\n  }\r\n  static get decayTime()  {\r\n    return 15;\r\n  }\r\n  // ### fromNote\r\n  // Create an areray of oscillators for each pitch in a note\r\n  static fromNote(measure: SmoMeasure, note: SmoNote, isSample: boolean, gain: number): SuiOscillator[] {\r\n    let frequency = 0;\r\n    let duration = 0;\r\n    let i = 0;\r\n    const tempo = measure.getTempo();\r\n    const bpm = tempo.bpm;\r\n    const beats = note.tickCount / 4096;\r\n    duration = (beats / bpm) * 60000;\r\n\r\n    // adjust if bpm is over something other than 1/4 note\r\n    duration = duration * (4096 / tempo.beatDuration);\r\n    if (isSample) {\r\n      duration = 250;\r\n    }\r\n\r\n    const ar: SuiOscillator[] = [];\r\n    gain = isNaN(gain) ? 0.2 : gain;\r\n    gain = gain / note.pitches.length;\r\n    if (note.noteType === 'r') {\r\n      gain = 0.001;\r\n    }\r\n    i = 0;\r\n    note.pitches.forEach((pitch) => {\r\n      frequency = SuiAudioPitch.smoPitchToFrequency(pitch, i, -1 * measure.transposeIndex, note.getMicrotones());\r\n      const def = SuiOscillator.defaults;\r\n      def.frequency = frequency;\r\n      def.duration = duration;\r\n      def.gain = gain;\r\n      const osc = new SuiSampler(def);\r\n      ar.push(osc);\r\n      i += 1;\r\n    });\r\n\r\n    return ar;\r\n  }\r\n\r\n  static get attributes() {\r\n    return ['duration', 'frequency', 'pitch', 'attackEnv', 'sustainEnv', 'decayEnv',\r\n      'releaseEnv', 'sustainLevel', 'releaseLevel', 'waveform', 'wavetable', 'gain'];\r\n  }\r\n\r\n  static samplePromise() {\r\n    const rv = new Promise<void>((resolve) => {\r\n      const checkSample = () => {\r\n        setTimeout(() => {\r\n          if (SuiOscillator.samples.length < SuiOscillator.sampleFiles.length) {\r\n            checkSample();\r\n          } else {\r\n            resolve();\r\n          }\r\n        }, 100);\r\n      };\r\n      checkSample();\r\n    });\r\n    if (SuiOscillator.samples.length < SuiOscillator.sampleFiles.length) {\r\n      SuiOscillator.sampleFiles.forEach((file) => {\r\n        const audio = SuiOscillator.audio;\r\n        const audioElement: HTMLMediaElement | null = document.getElementById('sample' + file) as HTMLMediaElement;\r\n        if (audioElement) {\r\n          const media = audio.createMediaElementSource(audioElement);\r\n          const req = new XMLHttpRequest();\r\n          req.open('GET', media.mediaElement.src, true);\r\n          req.responseType = 'arraybuffer';\r\n          req.send();\r\n          req.onload = () => {\r\n            const audioData = req.response;\r\n            audio.decodeAudioData(audioData, (decoded) => {\r\n              SuiOscillator.samples.push({ sample: decoded, frequency: SuiAudioPitch.pitchFrequencyMap[file] });\r\n            });\r\n          };\r\n        }\r\n      });\r\n    }\r\n    return rv;\r\n  }\r\n  static sampleForFrequency(f: number): AudioSample | null {\r\n    let min = 9999;\r\n    let rv: AudioSample | null = null;\r\n    let i = 0;\r\n    for (i = 0; i < SuiOscillator.samples.length; ++i) {\r\n      const sample = SuiOscillator.samples[i];\r\n      if (Math.abs(f - sample.frequency) < min) {\r\n        min = Math.abs(f - sample.frequency);\r\n        rv = sample;\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  _playPromise(osc: AudioScheduledSourceNode, duration: number, gain: GainNode) {\r\n    const audio = SuiOscillator.audio;\r\n    const promise = new Promise<void>((resolve) => {\r\n      osc.start(0);\r\n\r\n      setTimeout(() => {\r\n        resolve();\r\n      }, duration);\r\n\r\n      setTimeout(() => {\r\n        osc.stop(0);\r\n        osc.disconnect(gain);\r\n        gain.disconnect(audio.destination);\r\n      }, duration + 500);\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  static toFloatArray(ar: number[]): Float32Array {\r\n    const rv = new Float32Array(ar.length);\r\n    let i = 0;\r\n    for (i = 0; i < ar.length; ++i) {\r\n      rv[i] = ar[i];\r\n    }\r\n    return rv;\r\n  }\r\n  reverb: SuiReverb;\r\n  attack: number;\r\n  decay: number;\r\n  sustain: number;\r\n  release: number;\r\n  waveform: OscillatorType;\r\n  attackEnv: number = -1;\r\n  duration: number = -1;\r\n  decayEnv: number = -1;\r\n  sustainEnv: number = -1;\r\n  releaseEnv: number = -1;\r\n  gain: number = 1.0;\r\n  sustainLevel: number = 0;\r\n  releaseLevel: number = 0;\r\n  frequency: number = -1;\r\n  wavetable: WaveTable;\r\n  constructor(parameters: SuiOscillatorParams) {\r\n    smoSerialize.serializedMerge(SuiOscillator.attributes, parameters, this);\r\n    this.reverb = new SuiReverb(SuiOscillator.audio);\r\n    this.attack = this.attackEnv * SuiOscillator.attackTime;\r\n    this.decay = this.decayEnv * SuiOscillator.decayTime;\r\n    this.sustain = this.sustainEnv * this.duration;\r\n    this.release = this.releaseEnv * this.duration;\r\n    this.wavetable = parameters.wavetable;\r\n    // this.frequency = this.frequency / 2;  // Overtones below partial\r\n\r\n    if (parameters.waveform && parameters.waveform !== 'custom') {\r\n      this.waveform = parameters.waveform;\r\n    } else {\r\n      this.waveform = 'custom';\r\n    }\r\n  }\r\n\r\n  // ### play\r\n  // play the audio oscillator for the specified duration.  Return a promise that\r\n  // resolves after the duration.  Also dispose of the audio resources after the play is complete.\r\n  play() {\r\n    const audio = SuiOscillator.audio;\r\n    const gain = audio.createGain();\r\n    const osc = audio.createOscillator();\r\n\r\n    gain.connect(this.reverb.input);\r\n\r\n    this.reverb.connect(audio.destination);\r\n    const attack = this.attack / 1000;\r\n    const decay = this.decay / 1000;\r\n    const sustain = this.sustain / 1000;\r\n    const release = this.release / 1000;\r\n    gain.gain.exponentialRampToValueAtTime(this.gain, audio.currentTime + attack);\r\n    gain.gain.exponentialRampToValueAtTime(this.sustainLevel * this.gain, audio.currentTime + attack + decay);\r\n    gain.gain.exponentialRampToValueAtTime(this.releaseLevel * this.gain, audio.currentTime + attack + decay + sustain);\r\n    gain.gain.exponentialRampToValueAtTime(0.001, audio.currentTime + attack + decay + sustain + release);\r\n    if (this.waveform !== 'custom') {\r\n      osc.type = this.waveform;\r\n    } else {\r\n      const wave = audio.createPeriodicWave(SuiOscillator.toFloatArray(this.wavetable.real),\r\n        SuiOscillator.toFloatArray(this.wavetable.imaginary),\r\n        { disableNormalization: false });\r\n      osc.setPeriodicWave(wave);\r\n    }\r\n    osc.frequency.value = this.frequency;\r\n    osc.connect(gain);\r\n    gain.connect(audio.destination);\r\n    return this._playPromise(osc, this.duration, gain);\r\n  }\r\n}\r\n\r\n// ## SuiSampler\r\n// Class that replaces oscillator with a sampler.\r\nexport class SuiSampler extends SuiOscillator {\r\n  // Note: samplePromise must be complete before you call this\r\n  play() {\r\n    const self = this;\r\n    return SuiOscillator.samplePromise().then(() => {\r\n      self._play();\r\n    });\r\n  }\r\n  _play() {\r\n    const audio = SuiOscillator.audio;\r\n    const attack = this.attack / 1000;\r\n    const decay = this.decay / 1000;\r\n    const sustain = this.sustain / 1000;\r\n    const release = this.release / 1000;\r\n    const gain1 = audio.createGain();\r\n    const gp1 = this.gain;\r\n    // const gain2 = audio.createGain();\r\n    // const delay = audio.createDelay(0.5);\r\n    gain1.gain.exponentialRampToValueAtTime(gp1, audio.currentTime + attack);\r\n    gain1.gain.exponentialRampToValueAtTime(this.sustainLevel * gp1, audio.currentTime + attack + decay);\r\n    gain1.gain.exponentialRampToValueAtTime(this.releaseLevel * gp1, audio.currentTime + attack + decay + sustain);\r\n    gain1.gain.exponentialRampToValueAtTime(0.001, audio.currentTime + attack + decay + sustain + release);\r\n    // gain2.gain.exponentialRampToValueAtTime(gp1, audio.currentTime + attack);\r\n    // gain2.gain.exponentialRampToValueAtTime(0.001, audio.currentTime + attack + decay + sustain + release);\r\n    const osc = audio.createBufferSource();\r\n    const sample = SuiOscillator.sampleForFrequency(this.frequency);\r\n    osc.buffer = sample!.sample;\r\n    const cents = 1200 * (Math.log(this.frequency / sample!.frequency))\r\n      / Math.log(2);\r\n\r\n    osc.detune.value = cents;\r\n    osc.connect(gain1);\r\n    // osc.connect(this.reverb.input);\r\n    // this.reverb.connect(delay);\r\n    // osc.connect(gain);\r\n    // delay.connect(gain2);\r\n    gain1.connect(audio.destination);\r\n    // gain2.connect(audio.destination);\r\n    return this._playPromise(osc, this.duration);\r\n  }\r\n\r\n  _playPromise(osc: AudioScheduledSourceNode, duration: number): Promise<void> {\r\n    const promise = new Promise<void>((resolve) => {\r\n      osc.start(0);\r\n      setTimeout(() => {\r\n        resolve();\r\n      }, duration);\r\n      setTimeout(() => {\r\n        osc.stop(0);\r\n      }, Math.round(duration * 1.05));\r\n    });\r\n    return promise;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiAudioPitch, SuiOscillator, SuiSampler } from './oscillator';\r\nimport { SmoAudioScore, AudioTracks, SmoAudioTrack } from '../../smo/xform/audioTrack';\r\nimport { SuiTracker } from '../sui/tracker';\r\nimport { SmoScore } from '../../smo/data/score';\r\n\r\nexport interface NoteSound {\r\n  frequencies: number[],\r\n  duration: number,\r\n  offset: number,\r\n  volume: number,\r\n  noteType: string\r\n}\r\nexport interface SuiAudioPlayerParams {\r\n  startIndex: number,\r\n  tracker: SuiTracker,\r\n  score: SmoScore,\r\n}\r\nexport interface TrackSounds {\r\n  offsetSounds: Record<number, NoteSound[]>,\r\n  offsets: string[]\r\n}\r\n// ## SuiAudioPlayer\r\n// Play the music, ja!\r\nexport class SuiAudioPlayer {\r\n  static _playing: boolean = false;\r\n  static instanceId: number = 0;\r\n  static _playingInstance: SuiAudioPlayer | null = null;\r\n  static set playing(val) {\r\n    SuiAudioPlayer._playing = val;\r\n  }\r\n\r\n  static incrementInstanceId() {\r\n    const id = SuiAudioPlayer.instanceId + 1;\r\n    SuiAudioPlayer.instanceId = id;\r\n    return id;\r\n  }\r\n  static get playing() {\r\n    if (typeof (SuiAudioPlayer._playing) === 'undefined') {\r\n      SuiAudioPlayer._playing = false;\r\n    }\r\n    return SuiAudioPlayer._playing;\r\n  }\r\n\r\n  static pausePlayer() {\r\n    if (SuiAudioPlayer._playingInstance) {\r\n      const a = SuiAudioPlayer._playingInstance;\r\n      a.paused = true;\r\n    }\r\n    SuiAudioPlayer.playing = false;\r\n  }\r\n  static getMeasureSounds(track: SmoAudioTrack, measureIndex: number): NoteSound[] {\r\n    const notes = track.measureNoteMap[measureIndex];\r\n    const trackSounds: NoteSound[] = [];\r\n    notes.forEach((note) => {\r\n      const noteSound: NoteSound = {\r\n        frequencies: [],\r\n        duration: note.duration,\r\n        offset: note.offset,\r\n        volume: note.volume,\r\n        noteType: note.noteType\r\n      };\r\n      if (note.noteType === 'n') {\r\n        note.pitches.forEach((pitch) => {\r\n          noteSound.frequencies.push(SuiAudioPitch.smoPitchToFrequency(pitch, 0, 0, []));\r\n        });\r\n      }\r\n      trackSounds.push(noteSound);\r\n    });\r\n    return trackSounds;\r\n  }\r\n  // ### getTrackSounds\r\n  // convert track data to frequency/volume\r\n  static getTrackSounds(tracks: SmoAudioTrack[], measureIndex: number): TrackSounds {\r\n    const offsetSounds: Record<number, NoteSound[]> = {};\r\n    tracks.forEach((track) => {\r\n      const measureSounds = SuiAudioPlayer.getMeasureSounds(track, measureIndex);\r\n      measureSounds.forEach((sound) => {\r\n        if (!offsetSounds[sound.offset]) {\r\n          offsetSounds[sound.offset] = [];\r\n        }\r\n        // sound.volume = sound.volume / (trackLen * 2);\r\n        offsetSounds[sound.offset].push(sound);\r\n      });\r\n    });\r\n    const keys = Object.keys(offsetSounds);\r\n    // keys.sort((a, b) => parseInt(a, 10) - parseInt(b, 10));\r\n    return { offsets: keys, offsetSounds };\r\n  }\r\n  // TODO: use precreated tracks.  Right now it takes too long to create a whole score, we should \r\n  // try to pro-rate it as we play.  But if we do a measure at a time, there can be a noticable gap\r\n  // between measures.\r\n  tracks: TrackSounds[] = [];\r\n  instanceId: number;\r\n  paused: boolean;\r\n  startIndex: number;\r\n  playIndex: number;\r\n  tracker: SuiTracker;\r\n  score: SmoScore;\r\n  audio: AudioTracks;\r\n  tempoMap: number[];\r\n  constructor(parameters: SuiAudioPlayerParams) {\r\n    this.instanceId = SuiAudioPlayer.incrementInstanceId();\r\n    SuiAudioPlayer.playing = false;\r\n    this.paused = false;\r\n    this.startIndex = parameters.startIndex;\r\n    this.playIndex = 0;\r\n    this.tracker = parameters.tracker;\r\n    this.score = parameters.score;\r\n    const converter = new SmoAudioScore(this.score, 4096);\r\n    this.audio = converter.convert();\r\n    // Assume tempo is same for all measures\r\n    this.tempoMap = this.audio.tempoMap;\r\n  }\r\n\r\n  // ### playSoundsAtOffset\r\n  // Play the track data at the current measure, the tick offset is specified.\r\n  playSoundsAtOffset(sounds: TrackSounds, offsetIndex: number) {\r\n    let complete = false;\r\n    let waitTime = 0;\r\n    let i = 0;\r\n    const audio = this.audio;\r\n    const tracker = this.tracker;\r\n    const measureIndex = this.startIndex;\r\n    if (!SuiAudioPlayer.playing) {\r\n      return;\r\n    }\r\n    const tracks = audio.tracks;\r\n    const tempo = audio.tempoMap[measureIndex];\r\n    const soundData = sounds.offsetSounds[(sounds.offsets[offsetIndex] as any) as number];\r\n    const maxMeasures = tracks[0].lastMeasure;\r\n    const timeRatio = 60000 / (tempo * 4096);\r\n    const oscs: SuiOscillator[] = [];\r\n    // Update the music cursor\r\n    const ts = new Date().valueOf();\r\n    tracker.musicCursor({ staff: 0, measure: measureIndex, voice: 0, tick: offsetIndex, pitches: [] });\r\n    // Create oscillators for each pitch in the chord.\r\n    soundData.forEach((sound) => {\r\n      for (i = 0; i < sound.frequencies.length && sound.noteType === 'n'; ++i) {\r\n        const freq = sound.frequencies[i];\r\n        const adjDuration = Math.round(sound.duration * timeRatio) + 150;\r\n        const params = SuiOscillator.defaults;\r\n        params.frequency = freq;\r\n        params.duration = adjDuration;\r\n        params.gain = sound.volume;\r\n        const osc = new SuiSampler(params);\r\n        oscs.push(osc);\r\n      }\r\n    });\r\n    // Play the chords and dispose when done.\r\n    if (oscs.length) {\r\n      SuiAudioPlayer._playChord(oscs);\r\n    }\r\n    setTimeout(() => {\r\n      // Decide what the next note will be on this track - either another note in this\r\n      // measure, or the first note in next measure.\r\n      if (sounds.offsets.length > offsetIndex + 1) {\r\n        const nextOffset = parseInt(sounds.offsets[offsetIndex + 1], 10);\r\n        waitTime = nextOffset - parseInt(sounds.offsets[offsetIndex], 10);\r\n        offsetIndex += 1;\r\n      } else if (measureIndex + 1 < maxMeasures) {\r\n        // If the next measure, calculate the frequencies for the next track.\r\n        waitTime = audio.measureBeats[measureIndex] - parseInt(sounds.offsets[offsetIndex], 10);\r\n        this.startIndex += 1;\r\n        this.playIndex += 1;\r\n        sounds = SuiAudioPlayer.getTrackSounds(audio.tracks, this.startIndex);\r\n        // sounds = this.tracks[this.playIndex];\r\n        offsetIndex = 0;\r\n      } else {\r\n        complete = true;\r\n      }\r\n      // Decide how long to wait until the next sound in the chord.\r\n      const elapsed = new Date().valueOf() - ts;\r\n      waitTime = (waitTime - elapsed) * timeRatio;\r\n      setTimeout(() => {\r\n        if (!complete) {\r\n          this.playSoundsAtOffset(sounds, offsetIndex);\r\n        } else {\r\n          tracker.clearMusicCursor();\r\n          SuiAudioPlayer.playing = false;\r\n        }\r\n      }, waitTime);\r\n    }, 1);\r\n  }\r\n  static stopPlayer() {\r\n    if (SuiAudioPlayer._playingInstance) {\r\n      const a = SuiAudioPlayer._playingInstance;\r\n      a.tracker.clearMusicCursor();\r\n      a.paused = false;\r\n    }\r\n    SuiAudioPlayer.playing = false;\r\n  }\r\n\r\n  static get playingInstance() {\r\n    if (!SuiAudioPlayer._playingInstance) {\r\n      return null;\r\n    }\r\n    return SuiAudioPlayer._playingInstance;\r\n  }\r\n\r\n  // the oscAr contains an oscillator for each pitch in the chord.\r\n  // each inner oscillator is a promise, the combined promise is resolved when all\r\n  // the beats have completed.\r\n  static _playChord(oscAr: SuiOscillator[]) {\r\n    var par: Promise<void>[] = [];\r\n    oscAr.forEach((osc) => {\r\n      par.push(osc.play());\r\n    });\r\n    return Promise.all(par);\r\n  }\r\n\r\n  // Starts the player.\r\n  play() {\r\n    let i = 0;\r\n    if (SuiAudioPlayer.playing) {\r\n      return;\r\n    }\r\n    SuiAudioPlayer._playingInstance = this;\r\n    SuiAudioPlayer.playing = true;\r\n    //for (i = this.startIndex; i < this.score.staves[0].measures.length; ++i) {\r\n    //   this.tracks.push(SuiAudioPlayer.getTrackSounds(this.audio.tracks, i));\r\n    // }\r\n    this.playIndex = 0;\r\n    const sounds = SuiAudioPlayer.getTrackSounds(this.audio.tracks, this.startIndex);\r\n    this.playSoundsAtOffset(sounds, 0);\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { PromiseHelpers } from '../../common/promiseHelpers';\r\nimport { SmoActionRecord } from '../../smo/xform/actions';\r\nimport { SmoConfiguration } from '../../smo/data/common';\r\ndeclare var SmoConfig: SmoConfiguration;\r\n\r\n// ## SuiActionPlayback\r\n// play back the action records.\r\nexport class SuiActionPlayback {\r\n  actions: SmoActionRecord;\r\n  view: any;\r\n  running: boolean;\r\n  currentAction: any;\r\n  timestamp: number = 0;\r\n  // In the application, the object plays the actions back.\r\n  constructor(actionRecord: SmoActionRecord, view: any) {\r\n    this.view = view;\r\n    this.actions = actionRecord;\r\n    this.running = false;\r\n    this.currentAction = null;\r\n  }\r\n  // ### actionPromise\r\n  // Render a single action, and return a promise that resolves when rendered\r\n  static actionPromise(view: any, method: string, args: any): Promise<any> {\r\n    if (method === 'setScoreLayout') {\r\n      method = 'setPageLayout';\r\n    }\r\n    if (typeof(view[method]) !== 'function') {\r\n      throw (method);\r\n    }\r\n    view[method](...args);\r\n    return view.renderer.updatePromise();\r\n  }\r\n  // ### actionPromises\r\n  // Library convenience function that performs the same action `'`count`'` times\r\n  // Good for navigation (left 3 etc)\r\n  static actionPromises(view: any, method: string, args: any, count: number): Promise<any> {\r\n    const promise = new Promise((resolve: any) => {\r\n      const fc = (count: number) => {\r\n        if (count > 0) {\r\n          SuiActionPlayback.actionPromise(view, method, args).then(() => {\r\n            fc(count - 1);\r\n          });\r\n        } else {\r\n          resolve();\r\n        }\r\n      };\r\n      fc(count);\r\n    });\r\n    return promise;\r\n  }\r\n  // promise resolve condition\r\n  get stopped() {\r\n    return !this.running;\r\n  }\r\n  // ### setPitches\r\n  // Convenience function to set a bunch of pitches on consecutive notes\r\n  static setPitches(view: any, pitches: string) {\r\n    const pitchAr = pitches.split('');\r\n    const promise = new Promise((resolve: any) => {\r\n      const fcn =  (ix: number) => {\r\n        if (ix < pitchAr.length) {\r\n          SuiActionPlayback.actionPromises(view, 'setPitch', [pitchAr[ix]], 1).then(() => {\r\n            fcn(ix + 1);\r\n          });\r\n        } else {\r\n          resolve();\r\n        }\r\n      };\r\n      fcn(0);\r\n    });\r\n    return promise;\r\n  }\r\n  // ### playNextAction\r\n  // Get the next action, and execute it.  Periodically refresh the entire score\r\n  // if there are a  lot of actions.\r\n  playNextAction() {\r\n    let promise: Promise<any> | null = null;\r\n    if (this.currentAction === null || this.currentAction.count < 1) {\r\n      this.currentAction = this.actions.callNextAction();\r\n    }\r\n    // No actions left, stop running\r\n    if (!this.currentAction) {\r\n      this.running = false;\r\n    } else {\r\n      this.currentAction.count -= 1;\r\n      const ts = new Date().valueOf();\r\n      const refresh = ts - this.timestamp > SmoConfig.idleRedrawTime;\r\n      promise = SuiActionPlayback.actionPromise(this.view, this.currentAction.method, this.currentAction.args);\r\n      if (refresh) {\r\n        // Periodically refresh the whole screen and scroll\r\n        promise = this.view.renderer.renderPromise();\r\n        this.view.renderer.rerenderAll();\r\n        this.timestamp = ts;\r\n        promise!.then(() => {\r\n          const ls = this.view.score.staves[this.view.score.staves.length - 1];\r\n          const lm = ls.measures[ls.measures.length - 1];\r\n          if (lm.renderedBox) {\r\n            this.view.tracker.scroller.scrollVisibleBox(lm.renderedBox);\r\n          }\r\n          this.playNextAction();\r\n        });\r\n      } else {\r\n        // Usually, just perform the action and play the next action when any\r\n        // redrawing has completed.\r\n        promise.then(() => {\r\n          this.playNextAction();\r\n        });\r\n      }\r\n    }\r\n  }\r\n  // ### start\r\n  // Start playing all the actions in the buffer.  Stop when stopped or we run out\r\n  // of things to do.\r\n  start() {\r\n    this.running = true;\r\n    this.timestamp = new Date().valueOf();\r\n    this.actions.executeIndex = 0;\r\n    this.playNextAction();\r\n    return PromiseHelpers.makePromise(this, 'stopped', null, null, 50);\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { vexGlyph } from '../vex/glyphDimensions';\r\nimport { SmoDynamicText, SmoLyric } from '../../smo/data/noteModifiers';\r\nimport { SmoNote } from '../../smo/data/note';\r\nimport { SmoMeasure, ISmoBeamGroup } from '../../smo/data/measure';\r\nimport { FontInfo } from '../../smo/data/common';\r\nconst VF = eval('Vex.Flow');\r\n\r\n// ## suiFormatter (changed from suiAdjuster)\r\n// Perform adjustments on the score based on the rendered components so we can re-render it more legibly.\r\nexport class suiLayoutFormatter {\r\n  static estimateMusicWidth(smoMeasure: SmoMeasure, noteSpacing: number, accidentMap: Record<string, number>): number {\r\n    const widths: number[] = [];\r\n    // The below line was commented out b/c voiceIX was defined but never used\r\n    // let voiceIx = 0;\r\n    // Accidental map:\r\n    // If we accidentals on different notes in a justified column, need to increase width\r\n    // for both.\r\n    //     |          |\r\n    //    #o  x   x   o\r\n    //     |  x   x   |\r\n    //     o  x   x  #o\r\n    const tmObj = smoMeasure.createMeasureTickmaps();\r\n    smoMeasure.voices.forEach((voice) => {\r\n      let accidentJustify = 0;\r\n      Object.keys(accidentMap).forEach((k) => {\r\n        accidentJustify += accidentMap[k];\r\n      });\r\n      let width = 0;\r\n      let duration = 0;\r\n      voice.notes.forEach((note) => {\r\n        let noteWidth = 0;\r\n        const dots: number = (note.dots ? note.dots : 0);\r\n        let headWidth: number = vexGlyph.width(vexGlyph.dimensions.noteHead);\r\n        const dotWidth: number = vexGlyph.width(vexGlyph.dimensions.dot);\r\n        noteWidth += headWidth +\r\n          vexGlyph.dimensions.noteHead.spacingRight * noteSpacing;\r\n        // TODO: Consider engraving font and adjust grace note size?\r\n        noteWidth += (headWidth + vexGlyph.dimensions.noteHead.spacingRight) * note.graceNotes.length;\r\n        noteWidth += dotWidth * dots + vexGlyph.dimensions.dot.spacingRight * dots;\r\n        note.pitches.forEach((pitch) => {\r\n          const keyAccidental = smoMusic.getAccidentalForKeySignature(pitch, smoMeasure.keySignature);\r\n          const accidentals = tmObj.accidentalArray.filter((ar) =>\r\n            ar.duration < duration && ar.pitches[pitch.letter]);\r\n          const acLen = accidentals.length;\r\n          const declared = acLen > 0 ?\r\n            accidentals[acLen - 1].pitches[pitch.letter].pitch.accidental : keyAccidental;\r\n          if (declared !== pitch.accidental || pitch.cautionary) {\r\n            noteWidth += vexGlyph.accidentalWidth(pitch.accidental);\r\n            if (!accidentMap[duration]) {\r\n              accidentMap[duration] = vexGlyph.accidentalWidth(pitch.accidental);\r\n            } else {\r\n              // if accidentals are aligned, don't count width twice\r\n              accidentJustify -= vexGlyph.accidentalWidth(pitch.accidental);\r\n            }\r\n          }\r\n        });\r\n\r\n        let verse = 0;\r\n        let lyricBase = note.getLyricForVerse(verse, SmoLyric.parsers.lyric);\r\n        while (lyricBase.length) {\r\n          let lyric = lyricBase[0] as SmoLyric;\r\n          let lyricWidth = 0;\r\n          let i = 0;\r\n          // TODO: kerning and all that...\r\n          if (!lyric._text.length) {\r\n            break;\r\n          }\r\n          // why did I make this return an array?\r\n          // oh...because of voices\r\n          const textFont =\r\n            VF.TextFont.getTextFontFromVexFontData({ family: lyric.fontInfo.family,\r\n              size: lyric.fontInfo.size, weight: 'normal' });\r\n          const lyricText = lyric.getText();\r\n          for (i = 0; i < lyricText.length; ++i) {\r\n            lyricWidth += textFont.getWidthForCharacter(lyricText[i]);\r\n          }\r\n          if (lyric.isHyphenated()) {\r\n            lyricWidth += 2 * textFont.getWidthForCharacter('-');\r\n          } else {\r\n            lyricWidth += 2 * textFont.getWidthForCharacter('H');\r\n          }\r\n          noteWidth = Math.max(lyricWidth, noteWidth);\r\n          verse += 1;\r\n          lyricBase = note.getLyricForVerse(verse, SmoLyric.parsers.lyric);\r\n        }\r\n        duration += note.tickCount;\r\n        width += noteWidth;\r\n      });\r\n      if (accidentJustify > 0) {\r\n        width += accidentJustify;\r\n      }\r\n      widths.push(width);\r\n    });\r\n    widths.sort((a, b) => a > b ? -1 : 1);\r\n    return widths[0];\r\n  }\r\n\r\n  static estimateStartSymbolWidth(smoMeasure: SmoMeasure): number {\r\n    let width = 0;\r\n    // the variables starts and digits used to be in the if statements. I moved them here to fix the resulting error\r\n    var starts = smoMeasure.getStartBarline();\r\n    var digits = smoMeasure.timeSignature.timeSignature.split('/')[0].length;\r\n    if (smoMeasure.svg.forceKeySignature) {\r\n      if (smoMeasure.canceledKeySignature) {\r\n        width += vexGlyph.keySignatureLength(smoMeasure.canceledKeySignature);\r\n      }\r\n      width += vexGlyph.keySignatureLength(smoMeasure.keySignature);\r\n    }\r\n    if (smoMeasure.svg.forceClef) {\r\n      width += vexGlyph.width(vexGlyph.clef(smoMeasure.clef)) + vexGlyph.clef(smoMeasure.clef).spacingRight;\r\n    }\r\n    if (smoMeasure.svg.forceTimeSignature) {\r\n      width += vexGlyph.width(vexGlyph.dimensions.timeSignature) * digits + vexGlyph.dimensions.timeSignature.spacingRight;\r\n    }\r\n    if (starts) {\r\n      width += vexGlyph.barWidth(starts);\r\n    }\r\n    return width;\r\n  }\r\n  static estimateEndSymbolWidth(smoMeasure: SmoMeasure) {\r\n    var width = 0;\r\n    var ends  = smoMeasure.getEndBarline();\r\n    if (ends) {\r\n      width += vexGlyph.barWidth(ends);\r\n    }\r\n    return width;\r\n  }\r\n\r\n  static estimateMeasureWidth(measure: SmoMeasure, noteSpacing: number, accidentMap: Record<string, number>) {\r\n    // Calculate the existing staff width, based on the notes and what we expect to be rendered.\r\n    let measureWidth = suiLayoutFormatter.estimateMusicWidth(measure, noteSpacing, accidentMap);\r\n    measure.svg.adjX = suiLayoutFormatter.estimateStartSymbolWidth(measure);\r\n    measure.svg.adjRight = suiLayoutFormatter.estimateEndSymbolWidth(measure);\r\n    measureWidth += measure.svg.adjX + measure.svg.adjRight + measure.format.customStretch;\r\n    const y = measure.svg.logicalBox.y;\r\n    measure.setWidth(measureWidth, 'estimateMeasureWidth adjX adjRight');\r\n    // Calculate the space for left/right text which displaces the measure.\r\n    // measure.setX(measure.staffX  + textOffsetBox.x,'estimateMeasureWidth');\r\n    measure.setBox(svgHelpers.boxPoints(measure.staffX, y, measure.staffWidth, measure.svg.logicalBox.height),\r\n      'estimate measure width');\r\n  }\r\n  static _beamGroupForNote(measure: SmoMeasure, note: SmoNote): ISmoBeamGroup | null {\r\n    let rv: ISmoBeamGroup | null = null;\r\n    if (!note.beam_group) {\r\n      return null;\r\n    }\r\n    measure.beamGroups.forEach((bg) => {\r\n      if (!rv) {\r\n        if (bg.notes.findIndex((note) => note.beam_group && note.beam_group.id === bg.attrs.id) >= 0) {\r\n          rv = bg;\r\n        }\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  // ### _highestLowestHead\r\n  // highest value is actually the one lowest on the page\r\n  static _highestLowestHead(measure: SmoMeasure, note: SmoNote) {\r\n    const hilo = { hi: 0, lo: 9999999 };\r\n    note.pitches.forEach((pitch) => {\r\n      // 10 pixels per line\r\n      const ledger = smoMusic.pitchToLedgerLine(measure.clef, pitch);\r\n      const noteHeight = ledger > 0 ? 10 : -10;\r\n      const px = (10 * ledger) + noteHeight;\r\n      hilo.lo = Math.min(hilo.lo, px);\r\n      hilo.hi = Math.max(hilo.hi, px);\r\n    });\r\n    return hilo;\r\n  }\r\n  static textFont(lyric: SmoLyric) {\r\n    const fonts: FontInfo[] = VF.TextFont.fontRegistry;\r\n    const rv = fonts.find((font: FontInfo) => font.family === lyric.fontInfo.family);\r\n    if (!rv) {\r\n      return new VF.TextFont(fonts[0]);\r\n    }\r\n    return new VF.TextFont(rv);\r\n  }\r\n\r\n  // ### estimateMeasureHeight\r\n  // The baseline is the top line of the staff.  aboveBaseline is a negative number\r\n  // that indicates how high above the baseline the measure goes.  belowBaseline\r\n  // is a positive number that indicates how far below the baseline the measure goes.\r\n  // the height of the measure is below-above.  Vex always renders a staff such that\r\n  // the y coordinate passed in for the stave is on the baseline.\r\n  // Note to past self: this was a really useful comment.  Thank you.\r\n  static estimateMeasureHeight(measure: SmoMeasure): { aboveBaseline: number, belowBaseline: number } {\r\n    let heightOffset = 50;  // assume 5 lines, todo is non-5-line staffs\r\n    let yOffset = 0;\r\n    let flag: number = -1;\r\n    let lyricOffset = 0;\r\n    if (measure.svg.forceClef) {\r\n      heightOffset += vexGlyph.clef(measure.clef).yTop + vexGlyph.clef(measure.clef).yBottom;\r\n      yOffset = yOffset - vexGlyph.clef(measure.clef).yTop;\r\n    }\r\n\r\n    if (measure.svg.forceTempo) {\r\n      yOffset = Math.min(-1 * vexGlyph.tempo.yTop, yOffset);\r\n    }\r\n    measure.voices.forEach((voice) => {\r\n      voice.notes.forEach((note) => {\r\n        const bg = suiLayoutFormatter._beamGroupForNote(measure, note);\r\n        flag = SmoNote.flagStates.auto;\r\n        if (bg && note.noteType === 'n') {\r\n          flag = bg.notes[0].flagState;\r\n          // an  auto-flag note is up if the 1st note is middle line\r\n          if (flag === SmoNote.flagStates.auto) {\r\n            const pitch = bg.notes[0].pitches[0];\r\n            flag = smoMusic.pitchToLedgerLine(measure.clef, pitch)\r\n               >= 2 ? SmoNote.flagStates.up : SmoNote.flagStates.down;\r\n          }\r\n        }  else {\r\n          flag = note.flagState;\r\n          // an  auto-flag note is up if the 1st note is middle line\r\n          if (flag === SmoNote.flagStates.auto) {\r\n            const pitch = note.pitches[0];\r\n            flag = smoMusic.pitchToLedgerLine(measure.clef, pitch)\r\n              >= 2 ? SmoNote.flagStates.up : SmoNote.flagStates.down;\r\n          }\r\n        }\r\n        const hiloHead = suiLayoutFormatter._highestLowestHead(measure, note);\r\n        if (flag === SmoNote.flagStates.down) {\r\n          yOffset = Math.min(hiloHead.lo, yOffset);\r\n          heightOffset = Math.max(hiloHead.hi + vexGlyph.stem.height, heightOffset);\r\n        } else {\r\n          yOffset = Math.min(hiloHead.lo - vexGlyph.stem.height, yOffset);\r\n          heightOffset = Math.max(hiloHead.hi, heightOffset);\r\n        }\r\n        // Lyrics will be rendered below the lowest thing on the staff, so add to\r\n        // belowBaseline value based on the max number of verses and font size\r\n        // it will extend\r\n        const lyrics = note.getTrueLyrics();\r\n        if (lyrics.length) {\r\n          const maxLyric = lyrics.reduce((a, b) => a.verse > b.verse ? a : b);\r\n          const fontInfo = suiLayoutFormatter.textFont(maxLyric);\r\n          lyricOffset = Math.max((maxLyric.verse + 2) * fontInfo.maxHeight, lyricOffset);\r\n        }\r\n        const dynamics = note.getModifiers('SmoDynamicText') as SmoDynamicText[];\r\n        dynamics.forEach((dyn) => {\r\n          heightOffset = Math.max((10 * dyn.yOffsetLine - 50) + 11, heightOffset);\r\n          yOffset = Math.min(10 * dyn.yOffsetLine - 50, yOffset);\r\n        });\r\n      });\r\n    });\r\n    heightOffset += lyricOffset;\r\n    return { belowBaseline: heightOffset, aboveBaseline: yOffset };\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { SvgBox } from '../../smo/data/common';\r\nimport { SmoMeasure } from '../../smo/data/measure';\r\nconst VF = eval('Vex.Flow');\r\ndeclare var $: any;\r\n\r\nexport interface CodeRegion {\r\n  time: number,\r\n  percent: number\r\n}\r\nexport class layoutDebug {\r\n  static get values(): Record<string, number> {\r\n    return {\r\n      pre: 1,\r\n      post: 2,\r\n      adjust: 4,\r\n      system: 8,\r\n      note: 16,\r\n      adjustHeight: 32,\r\n      measureHistory: 64,\r\n      textEditorHistory: 128,\r\n      dialogEvents: 256\r\n    };\r\n  }\r\n\r\n  static get classes(): Record<number, string> {\r\n    return {\r\n      1: 'measure-place-dbg',\r\n      2: 'measure-render-dbg',\r\n      4: 'measure-adjust-dbg',\r\n      8: 'system-place-dbg',\r\n      16: 'measure-note-dbg',\r\n      32: 'measure-adjustHeight-dbg',\r\n      64: '',\r\n      128: '',\r\n      256: ''\r\n    };\r\n  }\r\n  static get codeRegions(): Record<string, number> {\r\n    return {\r\n      COMPUTE: 0,\r\n      PREFORMATA: 1,\r\n      PREFORMATB: 2,\r\n      PREFORMATC: 3,\r\n      FORMAT: 4,\r\n      RENDER: 5,\r\n      UPDATE_MAP: 6,\r\n      POST_RENDER: 7,\r\n      MAP: 8,\r\n      LAST: 8\r\n    };\r\n  }\r\n  static get codeRegionStrings(): string[] {\r\n    return ['COMPUTE', 'PREFORMATA', 'PREFORMATB', 'PREFORMATC', 'FORMAT', 'RENDER', 'UPDATE_MAP', 'POST_RENDER', 'MAP'];\r\n  }\r\n  static mask: number = 0;\r\n  static _textDebug: number[] = [];\r\n  static timestampHash: Record<number, number> = {};\r\n  static _dialogEvents: number[] = [];\r\n\r\n  static clearTimestamps() {\r\n    for (var i = 0; i <= layoutDebug.codeRegions.LAST; ++i) {\r\n      layoutDebug.timestampHash[i] = 0;\r\n    }\r\n  }\r\n\r\n  static setTimestamp(region: number, millis: number) {\r\n    layoutDebug.timestampHash[region] += millis;\r\n  }\r\n  static printTimeReport() {\r\n    let total = 0;\r\n    let report: Record<string, CodeRegion> = {};\r\n    let i = 0;\r\n    for (i = 0; i <= layoutDebug.codeRegions.LAST; ++i) {\r\n      total += layoutDebug.timestampHash[i];\r\n      report[layoutDebug.codeRegionStrings[i]] = {\r\n        time: layoutDebug.timestampHash[i], percent: 0\r\n      };\r\n    }\r\n    report['total'] = { time: total, percent: 100 };\r\n    for (i = 0; i <= layoutDebug.codeRegions.LAST; ++i) {\r\n      report[layoutDebug.codeRegionStrings[i]].percent =\r\n        Math.round((report[layoutDebug.codeRegionStrings[i]].time * 100) / report.total.time);\r\n    }\r\n    console.log(JSON.stringify(report, null, ' '));\r\n  }\r\n\r\n  static flagSet(value: number) {\r\n    return layoutDebug.mask & value;\r\n  }\r\n\r\n  static clearAll() {\r\n    layoutDebug.mask = 0;\r\n  }\r\n  static setAll() {\r\n    layoutDebug.mask = 1 + 2 + 4 + 8 + 16 + 32 + 64 + 128 + 256;\r\n  }\r\n  static setRenderFlags() {\r\n    layoutDebug.mask = 1 + 2 + 4 + 8 + 16 + 32;\r\n  }\r\n  static clearDebugBoxes(value: number) {\r\n    if (layoutDebug.flagSet(value)) {\r\n      var selector = 'g.' + layoutDebug.classes[value];\r\n      $(selector).remove();\r\n    }\r\n  }\r\n  static debugBox(svg: SVGSVGElement, box: SvgBox | null, flag: number) {\r\n    if (!box) {\r\n      return;\r\n    }\r\n    if (!box.height) {\r\n      box.height = 1;\r\n    }\r\n    if (layoutDebug.flagSet(flag)) {\r\n      svgHelpers.debugBox(svg, box, layoutDebug.classes[flag], 0);\r\n    }\r\n  }\r\n\r\n  static createSandbox(elementId: string, width: number, height: number): any {\r\n    $('#' + elementId).html('');\r\n    $('#' + elementId).removeClass('hide');\r\n    const renderer = new VF.Renderer(document.getElementById(elementId), VF.Renderer.Backends.SVG);\r\n    svgHelpers.svgViewport(renderer.getContext().svg, 0, 0, width, height, 1.0);\r\n    return renderer;\r\n  }\r\n\r\n  static setFlag(value: number) {\r\n    var flag = layoutDebug.values[value];\r\n    if (typeof (layoutDebug.mask) == 'undefined') {\r\n      layoutDebug.mask = flag;\r\n      return;\r\n    }\r\n    layoutDebug.mask |= flag;\r\n  }\r\n\r\n\r\n  static addTextDebug(value: number) {\r\n    layoutDebug._textDebug.push(value);\r\n    console.log(value);\r\n  }\r\n\r\n  static addDialogDebug(value: number) {\r\n    layoutDebug._dialogEvents.push(value);\r\n    console.log(value);\r\n  }\r\n\r\n  static measureHistory(measure: SmoMeasure, oldVal: string, newVal: any, description: string) {\r\n    if (layoutDebug.flagSet(layoutDebug.values.measureHistory)) {\r\n      var oldExp = (typeof ((measure as any).svg[oldVal]) == 'object') ?\r\n        JSON.stringify((measure as any).svg[oldVal]).replace(/\"/g, '') : (measure as any).svg[oldVal];\r\n      var newExp = (typeof (newVal) == 'object') ? JSON.stringify(newVal).replace(/\"/g, '') : newVal;\r\n      measure.svg.history.push(oldVal + ': ' + oldExp + '=> ' + newExp + ' ' + description);\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { UndoBuffer } from '../../smo/xform/undo';\r\nimport { SuiExceptionHandler } from '../../ui/exceptions';\r\nimport { SuiRenderState } from './renderState';\r\nimport { SmoConfiguration } from '../../smo/data/common';\r\nimport { SuiTracker } from './tracker';\r\n\r\ndeclare var SmoConfig: SmoConfiguration;\r\ndeclare var $: any;\r\n\r\nexport class SuiRenderDemon {\r\n  renderer: SuiRenderState;\r\n  undoBuffer: UndoBuffer;\r\n  idleLayoutTimer: number = 0; // how long the score has been idle\r\n  undoStatus: number = 0;\r\n  handling: boolean = false;\r\n  tracker: SuiTracker;\r\n  constructor(renderer: SuiRenderState, undoBuffer: UndoBuffer, tracker: SuiTracker) {\r\n    this.idleLayoutTimer = 0; \r\n    this.undoStatus = 0;\r\n    this.renderer = renderer;\r\n    this.undoBuffer = undoBuffer;\r\n    this.tracker = tracker;\r\n  }\r\n\r\n  get isLayoutQuiet() {\r\n    return ((this.renderer.passState == SuiRenderState.passStates.clean && this.renderer.dirty == false)\r\n       || this.renderer.passState == SuiRenderState.passStates.replace);\r\n  }\r\n  resetIdleTimer() {\r\n      this.idleLayoutTimer = Date.now();\r\n  }\r\n\r\n  handleRedrawTimer() {\r\n    if (this.handling) {\r\n      return;\r\n    }\r\n    this.handling = true;\r\n    const redrawTime = Math.max(this.renderer.renderTime, SmoConfig.idleRedrawTime);\r\n    // If there has been a change, redraw the score\r\n    if (this.renderer.passState === SuiRenderState.passStates.initial) {\r\n      this.renderer.dirty = true;\r\n      this.undoStatus = this.undoBuffer.opCount;\r\n      this.idleLayoutTimer = Date.now();\r\n\r\n      // indicate the display is 'dirty' and we will be refreshing it.\r\n      $('body').addClass('refresh-1');\r\n      try {\r\n        // Sort of a hack.  If the viewport changed, the scroll state is already reset\r\n        // so we can't preserver the scroll state.\r\n        if (!this.renderer.viewportChanged) {\r\n          this.renderer.preserveScroll();\r\n        }\r\n        this.render();\r\n      } catch (ex) {\r\n        console.error(ex);\r\n        SuiExceptionHandler.instance.exceptionHandler(ex);\r\n        this.handling = false;\r\n      }\r\n    } else if (this.renderer.passState === SuiRenderState.passStates.replace && this.undoStatus === this.undoBuffer.opCount) {\r\n      // Consider navigation as activity when deciding to refresh\r\n      this.idleLayoutTimer = Math.max(this.idleLayoutTimer, this.tracker.idleTimer);\r\n      $('body').addClass('refresh-1');\r\n      // Do we need to refresh the score?\r\n      if (this.renderer.backgroundRender === false && Date.now() - this.idleLayoutTimer > redrawTime) {\r\n        this.renderer.passState = SuiRenderState.passStates.initial;\r\n        if (!this.renderer.viewportChanged) {\r\n          this.renderer.preserveScroll();\r\n        }\r\n        this.render();\r\n      }\r\n    } else {\r\n      this.idleLayoutTimer = Date.now();\r\n      this.undoStatus = this.undoBuffer.opCount;\r\n      if (this.renderer.replaceQ.length > 0) {\r\n        this.render();\r\n      }\r\n    }\r\n    this.handling = false;\r\n}\r\n\r\n    // ### pollRedraw\r\n  // if anything has changed over some period, prepare to redraw everything.\r\n  pollRedraw() {\r\n    setTimeout(() => {\r\n      this.handleRedrawTimer();\r\n      this.pollRedraw();\r\n    }, SmoConfig.demonPollTime);\r\n  }\r\n\r\n  startDemon() {\r\n      this.pollRedraw();\r\n  }\r\n\r\n  render() {\r\n    this.renderer.render();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoSelector, SmoSelection } from '../../smo/xform/selections';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { layoutDebug } from './layoutDebug';\r\nimport { SuiScroller } from './scroller';\r\nimport { SmoSystemStaff } from '../../smo/data/systemStaff';\r\nimport { SmoMeasure, SmoVoice } from '../../smo/data/measure';\r\nimport { PasteBuffer } from '../../smo/xform/copypaste';\r\nimport { SmoNoteModifierBase, SmoLyric } from '../../smo/data/noteModifiers';\r\nimport { SvgBox } from '../../smo/data/common';\r\nimport { SmoNote } from '../../smo/data/note';\r\nimport { SmoScore, SmoModifier } from '../../smo/data/score';\r\nimport { ModifierTab } from '../../smo/xform/selections';\r\ndeclare var $: any;\r\n\r\nexport interface SuiRendererBase {\r\n  svg: SVGSVGElement,\r\n  score: SmoScore,\r\n  isDirty: boolean,\r\n  passState: number,\r\n  remapAll(): void,\r\n  renderPromise(): Promise<any>,\r\n  addToReplaceQueue(mm: SmoSelection[]): void,\r\n  renderElement: Element,\r\n  context: any\r\n}\r\n\r\nexport interface LocalModifier {\r\n  modifier: SmoModifier,\r\n  selection: SmoSelection,\r\n  box: SvgBox | null,\r\n}\r\n// used to perform highlights in the backgroundd\r\nexport interface HighlightQueue {\r\n  selectionCount: number, deferred: boolean\r\n}\r\n// ## SuiMapper\r\n// Map the notes in the svg so they can respond to events and interact\r\n// with the mouse/keyboard\r\nexport abstract class SuiMapper {\r\n  renderer: SuiRendererBase;\r\n  scroller: SuiScroller;\r\n  // measure to selector map\r\n  measureNoteMap: Record<string | number, SmoSelection> = {};\r\n  // notes currently selected.  Something is always selected\r\n  // modifiers (text etc.) that have been selected\r\n  modifierSelections: ModifierTab[] = [];\r\n  selections: SmoSelection[] = [];\r\n  // all the modifiers\r\n  modifierTabs: ModifierTab[] = [];\r\n  // The list of modifiers near the current selection\r\n  localModifiers: LocalModifier[] = [];\r\n  modifierIndex: number = -1;\r\n  modifierSuggestion: number = -1;\r\n  pitchIndex: number = -1;\r\n  suggestion: SmoSelection | null = null;\r\n  pasteBuffer: PasteBuffer;\r\n  highlightQueue: HighlightQueue;\r\n  mapping: boolean = false;\r\n  constructor(renderer: SuiRendererBase, scroller: SuiScroller, pasteBuffer: PasteBuffer) {\r\n    // renderer renders the music when it changes\r\n    this.renderer = renderer;\r\n    this.scroller = scroller;\r\n    this.modifierIndex = -1;\r\n    this.localModifiers = [];\r\n    // mouse-over that might be selected soon\r\n    this.modifierSuggestion = -1;\r\n    // index if a single pitch of a chord is selected\r\n    this.pitchIndex = -1;\r\n    // the current selection, which is also the copy/paste destination\r\n    this.pasteBuffer = pasteBuffer;\r\n    this.highlightQueue = { selectionCount: 0, deferred: false };\r\n  }\r\n\r\n  abstract highlightSelection(): void;\r\n  abstract _growSelectionRight(hold?: boolean): number;  \r\n  abstract _setModifierAsSuggestion(sel: ModifierTab): void;\r\n  abstract _setArtifactAsSuggestion(sel: SmoSelection): void;\r\n  updateHighlight() {\r\n    const self = this;\r\n    if (this.highlightQueue.selectionCount === this.selections.length) {\r\n      this.highlightSelection();\r\n      this.highlightQueue.deferred = false;\r\n    } else {\r\n      this.highlightQueue.selectionCount = this.selections.length;\r\n      setTimeout(() => {\r\n        self.updateHighlight();\r\n      }, 50);\r\n    }\r\n  }\r\n  deferHighlight() {\r\n    const self = this;\r\n    if (!this.highlightQueue.deferred) {\r\n      this.highlightQueue.deferred = true;\r\n      setTimeout(() => {\r\n        self.updateHighlight();\r\n      }, 50);\r\n    }\r\n  }\r\n  _createLocalModifiersList() {\r\n    this.localModifiers = [];\r\n    this.selections.forEach((sel) => {\r\n      sel.note?.getGraceNotes().forEach((gg) => {\r\n        this.localModifiers.push({ selection: sel, modifier: gg, box: gg.renderedBox ?? SvgBox.default });\r\n      });\r\n      sel.note?.getModifiers('SmoDynamicText').forEach((dyn) => {\r\n        this.localModifiers.push({ selection: sel, modifier: dyn, box: dyn.renderedBox ?? SvgBox.default });\r\n      });\r\n      sel.measure.getModifiersByType('SmoVolta').forEach((volta) => {\r\n        this.localModifiers.push({ selection: sel, modifier: volta, box: volta.renderedBox ?? SvgBox.default });\r\n      });\r\n      sel.measure.getModifiersByType('SmoTempoText').forEach((tempo) => {\r\n        this.localModifiers.push({ selection: sel, modifier: tempo, box: tempo.renderedBox ?? SvgBox.default });\r\n      });\r\n      sel.staff.getModifiers().forEach((mod) => {\r\n        if (SmoSelector.gteq(sel.selector, mod.startSelector) &&\r\n          SmoSelector.lteq(sel.selector, mod.endSelector) && mod.renderedBox)  {\r\n          const exists = this.localModifiers.find((mm) => mm.modifier.ctor === mod.ctor);\r\n          if (!exists) {\r\n            this.localModifiers.push({ selection: sel, modifier: mod, box: mod.renderedBox });\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n  // used by remove dialogs to clear removed thing\r\n  clearModifierSelections() {\r\n    this.modifierSelections = [];\r\n    this._createLocalModifiersList();\r\n    this.modifierIndex = -1;\r\n    // this.eraseRect('staffModifier');  not sure where this should go\r\n  }\r\n  // ### loadScore\r\n  // We are loading a new score.  clear the maps so we can rebuild them after\r\n  // rendering\r\n  loadScore() {\r\n    this.measureNoteMap = {};\r\n    this.clearModifierSelections();\r\n    this.selections = [];\r\n  }\r\n\r\n  // ### _clearMeasureArtifacts\r\n  // clear the measure from the measure and note maps so we can rebuild it.\r\n  clearMeasureMap(staff: SmoSystemStaff, measure: SmoMeasure) {\r\n    const selector = { staff: measure.measureNumber.staffId, measure: measure.measureNumber.measureIndex, voice: 0, tick: 0, pitches: [] };\r\n    const measureKey = SmoSelector.getMeasureKey(selector);\r\n\r\n    // Unselect selections in this measure so we can reselect them when re-tracked\r\n    const ar: SmoSelection[] = [];\r\n    this.selections.forEach((selection) => {\r\n      if (selection.selector.staff !== selector.staff || selection.selector.measure !== selector.measure) {\r\n        ar.push(selection);\r\n      }\r\n    });\r\n    this.selections = ar;\r\n  }\r\n\r\n  _copySelectionsByMeasure(staffIndex: number, measureIndex: number) {\r\n    const rv = this.selections.filter((sel) => sel.selector.staff === staffIndex && sel.selector.measure === measureIndex);\r\n    const ticks = rv.length < 1 ? 0 : rv.map((sel) => (sel.note as SmoNote).tickCount).reduce((a, b) => a + b);\r\n    const selectors: SmoSelector[] = [];\r\n    rv.forEach((sel) => {\r\n      const nsel = JSON.parse(JSON.stringify(sel.selector));\r\n      if (!nsel.pitches) {\r\n        nsel.pitches = [];\r\n      }\r\n      selectors.push(nsel);\r\n    });\r\n    return { ticks, selectors };\r\n  }\r\n  deleteMeasure(selection: SmoSelection) {\r\n    const selCopy = this._copySelectionsByMeasure(selection.selector.staff, selection.selector.measure)\r\n      .selectors;\r\n    this.clearMeasureMap(selection.staff, selection.measure);\r\n    if (selCopy.length) {\r\n      selCopy.forEach((selector) => {\r\n        const nsel = JSON.parse(JSON.stringify(selector));\r\n        if (selector.measure === 0) {\r\n          nsel.measure += 1;\r\n        } else {\r\n          nsel.measure -= 1;\r\n        }\r\n        this.selections.push(this._getClosestTick(nsel));\r\n      });\r\n    }\r\n  }\r\n  updateMap() {\r\n    this._updateMap();\r\n  }\r\n  _updateNoteModifier(selection: SmoSelection, modMap: Record<string, boolean>, modifier: SmoNoteModifierBase, ix: number) {\r\n    if (!modMap[modifier.attrs.id]) {\r\n      this.modifierTabs.push({\r\n        modifier,\r\n        selection,\r\n        box: svgHelpers.smoBox(svgHelpers.logicalToClient(this.renderer.svg, svgHelpers.smoBox(modifier.logicalBox), this.scroller.scrollState.scroll)),\r\n        index: ix\r\n      });\r\n      ix += 1;\r\n      modMap[modifier.attrs.id] = true;\r\n    }\r\n    return ix;\r\n  }\r\n\r\n  _updateModifiers() {\r\n    let ix = 0;\r\n    this.modifierTabs = [];\r\n    const modMap: Record<string, boolean> = {};\r\n    this.renderer.score.textGroups.forEach((modifier) => {\r\n      if (!modMap[modifier.attrs.id] && modifier.logicalBox) {\r\n        this.modifierTabs.push({\r\n          modifier,\r\n          selection: null,\r\n          box: svgHelpers.smoBox(svgHelpers.logicalToClient(this.renderer.svg, modifier.logicalBox, this.scroller.scrollState.scroll)),\r\n          index: ix\r\n        });\r\n        ix += 1;\r\n      }\r\n    });\r\n    const keys = Object.keys(this.measureNoteMap);\r\n    keys.forEach((selKey) => {\r\n      const selection = this.measureNoteMap[selKey];\r\n      selection.staff.modifiers.forEach((modifier) => {\r\n        if (SmoSelector.contains(selection.selector, modifier.startSelector, modifier.endSelector)) {\r\n          if (!modMap[modifier.attrs.id]) {\r\n            if (modifier.logicalBox) {\r\n              this.modifierTabs.push({\r\n                modifier,\r\n                selection,\r\n                box: svgHelpers.smoBox(svgHelpers.logicalToClient(this.renderer.svg, modifier.logicalBox, this.scroller.scrollState.scroll)),\r\n                index: ix\r\n              });\r\n              ix += 1;\r\n              modMap[modifier.attrs.id] = true;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      selection.measure.modifiers.forEach((modifier) => {\r\n        if (modifier.attrs.id\r\n          && !modMap[modifier.attrs.id]\r\n          && modifier.renderedBox) {\r\n          this.modifierTabs.push({\r\n            modifier,\r\n            selection,\r\n            box: svgHelpers.smoBox(svgHelpers.adjustScroll(modifier.renderedBox, this.scroller.netScroll)),\r\n            index: ix\r\n          });\r\n          ix += 1;\r\n          modMap[modifier.attrs.id] = true;\r\n        }\r\n      });\r\n      selection.note?.textModifiers.forEach((modifier) => {\r\n        if (modifier.logicalBox) {\r\n          ix = this._updateNoteModifier(selection, modMap, modifier, ix);\r\n        }\r\n      });\r\n\r\n      selection.note?.graceNotes.forEach((modifier) => {\r\n        ix = this._updateNoteModifier(selection, modMap, modifier, ix);\r\n      });\r\n    });\r\n  }\r\n  // ### _getClosestTick\r\n  // given a musical selector, find the note artifact that is closest to it,\r\n  // if an exact match is not available\r\n  _getClosestTick(selector: SmoSelector): SmoSelection {\r\n    let tickKey: string | undefined = '';\r\n    const measureKey = Object.keys(this.measureNoteMap).find((k) =>\r\n      SmoSelector.sameMeasure(this.measureNoteMap[k].selector, selector)\r\n        && this.measureNoteMap[k].selector.tick === 0);\r\n    tickKey = Object.keys(this.measureNoteMap).find((k) =>\r\n      SmoSelector.sameNote(this.measureNoteMap[k].selector, selector));\r\n    const firstObj = this.measureNoteMap[Object.keys(this.measureNoteMap)[0]];\r\n\r\n    if (tickKey) {\r\n      return this.measureNoteMap[tickKey];\r\n    }\r\n    if (measureKey) {\r\n      return this.measureNoteMap[measureKey];\r\n    }\r\n    return firstObj;\r\n  }\r\n\r\n  // ### _setModifierBoxes\r\n  // Create the DOM modifiers for the lyrics and other modifiers\r\n  _setModifierBoxes(measure: SmoMeasure) {\r\n    measure.voices.forEach((voice: SmoVoice) => {\r\n      voice.notes.forEach((smoNote: SmoNote) =>  {\r\n        const el = this.renderer.svg.getElementById(smoNote.renderId as string);\r\n        if (el) {\r\n          svgHelpers.updateArtifactBox(this.renderer.svg, (el as any), smoNote, this.scroller.scrollState.scroll);\r\n          // TODO: fix this, only works on the first line.\r\n          smoNote.getModifiers('SmoLyric').forEach((lyrict: SmoNoteModifierBase) => {\r\n            const lyric: SmoLyric = lyrict as SmoLyric;\r\n            if (lyric.getText().length || lyric.isHyphenated()) {\r\n              lyric.selector = '#' + smoNote.renderId + ' ' + lyric.getClassSelector();\r\n              svgHelpers.updateArtifactBox(this.renderer.svg, $(lyric.selector)[0], lyric as any, this.scroller.scrollState.scroll);\r\n            }\r\n          });\r\n          smoNote.graceNotes.forEach((g) => {\r\n            var gel = this.renderer.svg.getElementById('vf-' + g.renderId);\r\n            $(gel).addClass('grace-note');\r\n            svgHelpers.updateArtifactBox(this.renderer.svg, gel as any, g, this.scroller.scrollState.scroll);\r\n          });\r\n          smoNote.textModifiers.forEach((modifier) => {\r\n            const modEl = $('.' + modifier.attrs.id);\r\n            if (modifier.logicalBox && modEl.length) {\r\n              svgHelpers.updateArtifactBox(this.renderer.svg, modEl[0], modifier as any, this.scroller.scrollState.scroll);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // ### updateMeasure\r\n  // A measure has changed.  Update the music geometry for it\r\n  mapMeasure(staff: SmoSystemStaff, measure: SmoMeasure, printing: boolean) {\r\n    let voiceIx = 0;\r\n    let selectedTicks = 0;\r\n    let selectionChanged = false;\r\n    let vix = 0;\r\n    if (!measure.svg.logicalBox) {\r\n      return;\r\n    }\r\n    measure.svg.renderedBox = svgHelpers.smoBox(svgHelpers.logicalToClient(this.renderer.svg, measure.svg.logicalBox, this.scroller.scrollState.scroll));\r\n    this._setModifierBoxes(measure);\r\n    const timestamp = new Date().valueOf();\r\n    // Keep track of any current selections in this measure, we will try to restore them.\r\n    const sels = this._copySelectionsByMeasure(staff.staffId, measure.measureNumber.measureIndex);\r\n    this.clearMeasureMap(staff, measure);\r\n    vix = measure.getActiveVoice();\r\n    sels.selectors.forEach((sel) => {\r\n      sel.voice = vix;\r\n    });\r\n\r\n    measure.voices.forEach((voice) => {\r\n      let tick = 0;\r\n      voice.notes.forEach((note) => {\r\n        const selector = {\r\n          staff: staff.staffId,\r\n          measure: measure.measureNumber.measureIndex,\r\n          voice: voiceIx,\r\n          tick,\r\n          pitches: []\r\n        };\r\n        if (typeof(note.logicalBox) === 'undefined') {\r\n          console.warn('note has no box');\r\n        }\r\n        // create a selection for the newly rendered note\r\n        const selection = new SmoSelection({\r\n          selector,\r\n          _staff: staff,\r\n          _measure: measure,\r\n          _note: note,\r\n          _pitches: [],\r\n          box: svgHelpers.smoBox(svgHelpers.logicalToClient(this.renderer.svg, svgHelpers.smoBox(note.logicalBox), this.scroller.scrollState.scroll)),\r\n          type: 'rendered'\r\n        });\r\n        // and add it to the map\r\n        this._updateMeasureNoteMap(selection, printing);\r\n\r\n        // If this note is the same location as something that was selected, reselect it\r\n        if (sels.selectors.length && selection.selector.tick === sels.selectors[0].tick &&\r\n          selection.selector.voice === vix) {\r\n          this.selections.push(selection);\r\n          // Reselect any pitches.\r\n          if (sels.selectors[0].pitches.length > 0) {\r\n            sels.selectors[0].pitches.forEach((pitchIx) => {\r\n              if (selection.selector.pitches.length > pitchIx) {\r\n                selection.selector.pitches.push(pitchIx);\r\n              }\r\n            });\r\n          }\r\n          const note = selection.note as SmoNote;\r\n          selectedTicks += note.tickCount;\r\n          selectionChanged = true;\r\n        } else if (selectedTicks > 0 && selectedTicks < sels.ticks && selection.selector.voice === vix) {\r\n          // try to select the same length of music as was previously selected.  So a 1/4 to 2 1/8, both\r\n          // are selected\r\n          this.selections.push(selection);\r\n          selectedTicks += note.tickCount;\r\n        } else if (this.selections.length === 0 && sels.selectors.length === 0) {\r\n          this.selections = [selection];\r\n          selectionChanged = true;\r\n        }\r\n        tick += 1;\r\n      });\r\n      voiceIx += 1;\r\n    });\r\n    // If there were selections on this measure, highlight them.\r\n    if (selectionChanged) {\r\n      this.deferHighlight();\r\n    }\r\n    layoutDebug.setTimestamp(layoutDebug.codeRegions.MAP, new Date().valueOf() - timestamp);\r\n  }\r\n\r\n  _getTicksFromSelections(): number {\r\n    let rv = 0;\r\n    this.selections.forEach((sel) => {\r\n      if (sel.note) {\r\n        rv += sel.note.tickCount;\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  _copySelections(): SmoSelector[] {\r\n    const rv: SmoSelector[] = [];\r\n    this.selections.forEach((sel) => {\r\n      rv.push(sel.selector);\r\n    });\r\n    return rv;\r\n  }\r\n  // ### getExtremeSelection\r\n  // Get the rightmost (1) or leftmost (-1) selection\r\n  getExtremeSelection(sign: number) {\r\n    let i = 0;\r\n    let rv = this.selections[0];\r\n    for (i = 1; i < this.selections.length; ++i) {\r\n      const sa = this.selections[i].selector;\r\n      if (sa.measure * sign > rv.selector.measure * sign) {\r\n        rv = this.selections[i];\r\n      } else if (sa.measure === rv.selector.measure && sa.tick * sign > rv.selector.tick * sign) {\r\n        rv = this.selections[i];\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n  _findClosestSelection(selector: SmoSelector) {\r\n    var artifact = this._getClosestTick(selector);\r\n    if (!artifact) {\r\n      return;\r\n    }\r\n    if (this.selections.find((sel) => JSON.stringify(sel.selector)\r\n      === JSON.stringify(artifact.selector))) {\r\n      return;\r\n    }\r\n    const note = artifact.note as SmoNote;\r\n    if (selector.pitches && selector.pitches.length && selector.pitches.length <= note.pitches.length) {\r\n      // If the old selection had only a single pitch, try to recreate that.\r\n      artifact.selector.pitches = JSON.parse(JSON.stringify(selector.pitches));\r\n    }\r\n    this.selections.push(artifact);\r\n  }\r\n  // ### updateMap\r\n  // This should be called after rendering the score.  It updates the score to\r\n  // graphics map and selects the first object.\r\n  _updateMap() {\r\n    const ts = new Date().valueOf();\r\n    this.mapping = true;\r\n    let tickSelected = 0;\r\n    const selCopy = this._copySelections();\r\n    const ticksSelectedCopy = this._getTicksFromSelections();\r\n    const firstSelection = this.getExtremeSelection(-1);\r\n    this._updateModifiers();\r\n    this.selections = [];\r\n\r\n    // Try to restore selection.  If there were none, just select the fist\r\n    // thing in the score\r\n    const keys = Object.keys(this.measureNoteMap);\r\n    if (keys.length && !selCopy.length) {\r\n    // If there is nothing rendered, don't update tracker\r\n      this.selections = [this.measureNoteMap[keys[0]]];\r\n    }  else {\r\n      if (!firstSelection) {\r\n        layoutDebug.setTimestamp(layoutDebug.codeRegions.UPDATE_MAP, new Date().valueOf() - ts);\r\n        return;\r\n      }\r\n      this._findClosestSelection(firstSelection.selector);\r\n      const first = this.selections[0];\r\n      tickSelected = (first.note as SmoNote).tickCount ??  0;\r\n      while (tickSelected < ticksSelectedCopy && first) {\r\n        let delta: number = this._growSelectionRight(true);\r\n        if (!delta)  {\r\n          break;\r\n        }\r\n        tickSelected += delta;\r\n      }\r\n    }\r\n    this.deferHighlight();\r\n    this._createLocalModifiersList();\r\n    // Is this right?  Don't update the past buffer with data until the display is redrawn\r\n    // because some of the selections may not exist in the score.\r\n    if (this.renderer.isDirty === false) {\r\n      this.pasteBuffer.clearSelections();\r\n      this.pasteBuffer.setSelections(this.renderer.score, this.selections);\r\n    }\r\n    this.mapping = false;\r\n    layoutDebug.setTimestamp(layoutDebug.codeRegions.UPDATE_MAP, new Date().valueOf() - ts);\r\n  }\r\n\r\n  // ### intersectingArtifact\r\n  // given a bounding box, find any rendered elements that intersect with it\r\n  intersectingArtifact(bb: SvgBox) {\r\n    let sel: ModifierTab[] = [];\r\n    bb = svgHelpers.boxPoints(bb.x, bb.y, bb.width ? bb.width : 1, bb.height ? bb.height : 1);\r\n    const artifacts = svgHelpers.findIntersectingArtifactFromMap(bb, this.measureNoteMap, svgHelpers.smoBox(this.scroller.scrollState.scroll));\r\n    // TODO: handle overlapping suggestions\r\n    if (!artifacts.length) {\r\n      const bsel = svgHelpers.findIntersectingArtifact(bb, this.modifierTabs as any, svgHelpers.smoBox(this.scroller.scrollState.scroll));\r\n      sel = bsel as ModifierTab[];\r\n      if (sel.length) {\r\n        this._setModifierAsSuggestion(sel[0]);\r\n      }\r\n      return;\r\n    }\r\n    const artifact = artifacts[0];\r\n    this._setArtifactAsSuggestion(artifact);\r\n  }\r\n  _updateMeasureNoteMap(artifact: SmoSelection, printing: boolean) {\r\n    const note = artifact.note as SmoNote;\r\n    const noteKey = SmoSelector.getNoteKey(artifact.selector);\r\n    const measureKey = SmoSelector.getMeasureKey(artifact.selector);\r\n    const activeVoice = artifact.measure.getActiveVoice();\r\n    if (artifact.selector.voice !== activeVoice && !note.fillStyle && !printing) {\r\n      const vvv = artifact.selector.voice;\r\n      const r = 128 + ((vvv * 32767 | vvv * 157) % 127);\r\n      const g = 128 / vvv;\r\n      const b = 128 - ((vvv * 32767 | vvv * 157) % 127);\r\n      const fill = 'rgb(' + r + ',' + g + ',' + b + ')';\r\n      $('#' + note.renderId).find('.vf-notehead path').each((ix: number, el: Element) => {\r\n        el.setAttributeNS('', 'fill', fill);\r\n      });\r\n    }\r\n    // not has not been drawn yet.\r\n    if ((!artifact.box) || (!artifact.measure.svg.renderedBox)) {\r\n      return;\r\n    }\r\n    this.measureNoteMap[noteKey] = artifact;\r\n    artifact.scrollBox = { x: artifact.box.x,\r\n      y: artifact.measure.svg.renderedBox.y };\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { svgHelpers, SvgBuilder } from \"../../common/svgHelpers\";\r\nimport { htmlHelpers } from \"../../common/htmlHelpers\";\r\nimport { SuiScoreViewOperations } from \"./scoreViewOperations\";\r\nimport { SvgBox, Pitch, PitchLetter } from '../../smo/data/common';\r\ndeclare var $: any;\r\n\r\nexport interface PianoKey {\r\n  box: SvgBox,\r\n  keyElement: SVGSVGElement\r\n}\r\nexport class SuiPiano {\r\n  renderElement: SVGSVGElement | null;\r\n  view: SuiScoreViewOperations;\r\n  octaveOffset: number = 0;\r\n  chordPedal: boolean = false;\r\n  objects: PianoKey[] = [];\r\n  suggestFadeTimer: NodeJS.Timer | null = null;\r\n  elementId: string = 'piano-svg';\r\n  constructor(view: SuiScoreViewOperations) {\r\n    this.renderElement = (document.getElementById(this.elementId) as any) as SVGSVGElement;\r\n    this.view = view;\r\n    this.render();\r\n  }\r\n\r\n  static get dimensions() {\r\n    return {\r\n      wwidth: 23,\r\n      bwidth: 13,\r\n      wheight: 120,\r\n      bheight: 80,\r\n      octaves: 1\r\n    };\r\n  }\r\n  // 7 white keys per octave\r\n  static get wkeysPerOctave() {\r\n    return 7;\r\n  }\r\n  static get owidth() {\r\n    return SuiPiano.dimensions.wwidth * SuiPiano.wkeysPerOctave;\r\n  }\r\n\r\n  _mapKeys() {\r\n    this.objects = [];\r\n    var keys: SVGSVGElement[] = [].slice.call(this.renderElement!.getElementsByClassName('piano-key'));\r\n    keys.forEach((key) => {\r\n      var rect = svgHelpers.smoBox(key.getBoundingClientRect());\r\n      var id = key.getAttributeNS('', 'id');\r\n      var artifact = {\r\n        keyElement: key,\r\n        box: rect,\r\n        id: id\r\n      };\r\n      this.objects.push(artifact);\r\n    });\r\n  }\r\n  _removeClass(classes: string) {\r\n    Array.from(this.renderElement!.getElementsByClassName('piano-key')).forEach((el) => {\r\n      $(el).removeClass(classes);\r\n    });\r\n  }\r\n  _removeGlow() {\r\n    this._removeClass('glow-key');\r\n  }\r\n  _fadeGlow(el: SVGSVGElement) {\r\n    if (this.suggestFadeTimer) {\r\n      clearTimeout(this.suggestFadeTimer);\r\n    }\r\n    // Make selection fade if there is a selection.\r\n    this.suggestFadeTimer = setTimeout(() => {\r\n      $(el).removeClass('glow-key');\r\n    }, 1000);\r\n  }\r\n  bind() {\r\n    $('body').off('show-piano-event').on('show-piano-event', () => {\r\n      $('body').toggleClass('show-piano');\r\n      this._mapKeys();\r\n    });\r\n    $('#piano-8va-button').off('click').on('click', (ev: any) => {\r\n      $('#piano-8vb-button').removeClass('activated');\r\n      if (this.octaveOffset === 0) {\r\n        $(ev.currentTarget).addClass('activated');\r\n        this.octaveOffset = 1;\r\n      } else {\r\n        $(ev.currentTarget).removeClass('activated');\r\n        this.octaveOffset = 0;\r\n      }\r\n    });\r\n    $('#piano-8vb-button').off('click').on('click', (ev: any) => {\r\n      $('#piano-8va-button').removeClass('activated');\r\n      if (this.octaveOffset === 0) {\r\n        $(ev.currentTarget).addClass('activated');\r\n        this.octaveOffset = -1;\r\n      } else {\r\n        $(ev.currentTarget).removeClass('activated');\r\n        this.octaveOffset = 0;\r\n      }\r\n    });\r\n    $('#piano-xpose-up').off('click').on('click', () => {\r\n      this.view.transposeSelections(1);\r\n    });\r\n    $('#piano-xpose-down').off('click').on('click', () => {\r\n      this.view.transposeSelections(-1);\r\n    });\r\n    $('#piano-enharmonic').off('click').on('click', () => {\r\n      this.view.toggleEnharmonic();\r\n    });\r\n    $('button.jsLeft').off('click').on('click', () => {\r\n      this.view.tracker.moveSelectionLeft();\r\n    });\r\n    $('button.jsRight').off('click').on('click', () => {\r\n      this.view.tracker.moveSelectionRight(null, false);\r\n    });\r\n    $('button.jsGrowDuration').off('click').on('click', () => {\r\n      this.view.batchDurationOperation('doubleDuration');\r\n    });\r\n    $('button.jsGrowDot').off('click').on('click', () => {\r\n      this.view.batchDurationOperation('dotDuration');\r\n    });\r\n    $('button.jsShrinkDuration').off('click').on('click', () => {\r\n      this.view.batchDurationOperation('halveDuration');\r\n    });\r\n    $('button.jsShrinkDot').off('click').on('click', () => {\r\n      this.view.batchDurationOperation('undotDuration');\r\n    });\r\n    $('button.jsChord').off('click').on('click', (ev: any) => {\r\n      $(ev.currentTarget).toggleClass('activated');\r\n      this.chordPedal = !this.chordPedal;\r\n    });\r\n    $(this.renderElement).off('mousemove').on('mousemove', (ev: any) => {\r\n      if (Math.abs(this.objects[0].box.x - this.objects[0].keyElement.getBoundingClientRect().x)\r\n        > this.objects[0].box.width / 2) {\r\n        console.log('remap piano');\r\n        this._mapKeys();\r\n      }\r\n      var keyPressed = svgHelpers.findSmallestIntersection(\r\n        svgHelpers.boxPoints(ev.clientX, ev.clientY, 1, 1), this.objects, svgHelpers.boxPoints(0, 0, 1, 1)) as PianoKey;\r\n      if (!keyPressed) {\r\n        return;\r\n      }\r\n      const el: SVGSVGElement = this.renderElement!.getElementById(keyPressed.keyElement.id) as SVGSVGElement;\r\n      if ($(el).hasClass('glow-key')) {\r\n        return;\r\n      }\r\n      this._removeGlow();\r\n      $(el).addClass('glow-key');\r\n      this._fadeGlow(el);\r\n    });\r\n    $(this.renderElement).off('blur').on('blur', () => {\r\n      this._removeGlow();\r\n    });\r\n    $(this.renderElement).off('click').on('click', (ev: any) => {\r\n      this._updateSelections(ev);\r\n    });\r\n\r\n    $('.close-piano').off('click').on('click', () => {\r\n      $('body').removeClass('show-piano');\r\n      // resize the work area.\r\n      $('body').trigger('forceScrollEvent');\r\n    });\r\n  }\r\n  _updateSelections(ev: any) {\r\n    // fake a scroller (piano scroller w/b cool tho...)\r\n    var keyPressed =\r\n      svgHelpers.findSmallestIntersection(svgHelpers.pointBox(ev.clientX, ev.clientY), this.objects, svgHelpers.pointBox(0, 0)) as PianoKey;\r\n    if (!keyPressed) {\r\n      return;\r\n    }\r\n    if (!ev.shiftKey && !this.chordPedal) {\r\n      this._removeClass('glow-key pressed-key');\r\n    } else {\r\n      var el = this.renderElement!.getElementById(keyPressed.keyElement.id) as SVGSVGElement;\r\n      $(el).addClass('pressed-key');\r\n    }\r\n    const key = keyPressed.keyElement.id.substr(6, keyPressed.keyElement.id.length - 6);\r\n    const pitch: Pitch = {\r\n      letter: key[0].toLowerCase() as PitchLetter,\r\n      octave: this.octaveOffset,\r\n      accidental: key.length > 1 ? key[1] : 'n'\r\n    };\r\n\r\n    this.view.setPitchPiano(pitch, this.chordPedal);\r\n  }\r\n  _renderControls() {\r\n    var b = htmlHelpers.buildDom;\r\n    var r = b('button').classes('icon icon-cross close close-piano');\r\n    $('.piano-container .key-right-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl jsGrowDuration').append(b('span').classes('icon icon-duration_grow'));\r\n    $('.piano-container .key-right-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl jsShrinkDuration').append(b('span').classes('icon icon-duration_less'));\r\n    $('.piano-container .key-right-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl jsGrowDot').append(b('span').classes('icon icon-duration_grow_dot'));\r\n    $('.piano-container .key-right-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl jsShrinkDot').append(b('span').classes('icon icon-duration_less_dot'));\r\n    $('.piano-container .key-right-ctrl').append(r.dom());\r\n\r\n    r = b('button').classes('key-ctrl jsLeft').append(b('span').classes('icon icon-arrow-left'));\r\n    $('.piano-container .piano-keys').prepend(r.dom());\r\n    r = b('button').classes('key-ctrl jsRight').append(b('span').classes('icon icon-arrow-right'));\r\n    $('.piano-container .piano-keys').append(r.dom());\r\n\r\n    r = b('button').classes('piano-ctrl').attr('id', 'piano-8va-button').append(\r\n      b('span').classes('bold-italic').text('8')).append(\r\n        b('sup').classes('italic').text('va'));\r\n    $('.piano-container .key-left-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl ').attr('id', 'piano-8vb-button').append(\r\n      b('span').classes('bold-italic').text('8')).append(\r\n        b('sup').classes('italic').text('vb'));\r\n    $('.piano-container .key-left-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl jsXposeUp').attr('id', 'piano-xpose-up').append(\r\n      b('span').classes('bold').text('+'));\r\n    $('.piano-container .key-left-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl jsXposeDown').attr('id', 'piano-xpose-down').append(\r\n      b('span').classes('bold').text('-'));\r\n    $('.piano-container .key-left-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl jsEnharmonic').attr('id', 'piano-enharmonic').append(\r\n      b('span').classes('bold icon icon-accident'));\r\n\r\n    $('.piano-container .key-left-ctrl').append(r.dom());\r\n    r = b('button').classes('piano-ctrl jsChord')\r\n      .append(b('span').classes('icon icon-chords'));\r\n    $('.piano-container .key-left-ctrl').append(r.dom());\r\n  }\r\n  handleResize() {\r\n    this._mapKeys();\r\n  }\r\n  playNote() {\r\n  }\r\n  render() {\r\n    $('body').addClass('show-piano');\r\n    var b = SvgBuilder.b;\r\n    var d = SuiPiano.dimensions;\r\n    // https://www.mathpages.com/home/kmath043.htm\r\n\r\n    // Width of white key at back for C,D,E\r\n    var b1off = d.wwidth - (d.bwidth * 2 / 3);\r\n\r\n    // Width of other white keys at the back.\r\n    var b2off = d.wwidth - (d.bwidth * 3) / 4;\r\n\r\n    var xwhite = [{\r\n      note: 'C',\r\n      x: 0\r\n    }, {\r\n      note: 'D',\r\n      x: d.wwidth\r\n    }, {\r\n      note: 'E',\r\n      x: 2 * d.wwidth\r\n    }, {\r\n      note: 'F',\r\n      x: 3 * d.wwidth\r\n    }, {\r\n      note: 'G',\r\n      x: 4 * d.wwidth\r\n    }, {\r\n      note: 'A',\r\n      x: 5 * d.wwidth\r\n    }, {\r\n      note: 'B',\r\n      x: 6 * d.wwidth\r\n    }\r\n    ];\r\n    var xblack = [{\r\n      note: 'Db',\r\n      x: b1off\r\n    }, {\r\n      note: 'Eb',\r\n      x: 2 * b1off + d.bwidth\r\n    }, {\r\n      note: 'Gb',\r\n      x: 3 * d.wwidth + b2off\r\n    }, {\r\n      note: 'Ab',\r\n      x: (3 * d.wwidth + b2off) + b2off + d.bwidth\r\n    }, {\r\n      note: 'Bb',\r\n      x: SuiPiano.owidth - (b2off + d.bwidth)\r\n    }\r\n    ];\r\n    var wwidth = d.wwidth;\r\n    var bwidth = d.bwidth;\r\n    var wheight = d.wheight;\r\n    var bheight = d.bheight;\r\n    var owidth = SuiPiano.wkeysPerOctave * wwidth;\r\n\r\n    // Start on C2 to C6 to reduce space\r\n    var octaveOff = 7 - d.octaves;\r\n\r\n    var x = 0;\r\n    var y = 0;\r\n    var r = b('g');\r\n    for (var i = 0; i < d.octaves; ++i) {\r\n      x = i * owidth;\r\n      xwhite.forEach((key) => {\r\n        var nt = key.note;\r\n        var classes = 'piano-key white-key';\r\n        if (nt == 'C4') {\r\n          classes += ' middle-c';\r\n        }\r\n        var rect = b('rect').attr('id', 'keyId-' + nt).rect(x + key.x, y, wwidth, wheight, classes);\r\n        r.append(rect);\r\n\r\n        var tt = b('text').text(x + key.x + (wwidth / 5), bheight + 16, 'note-text', nt);\r\n        r.append(tt);\r\n      });\r\n      xblack.forEach((key) => {\r\n        var nt = key.note;\r\n        var classes = 'piano-key black-key';\r\n        var rect = b('rect').attr('id', 'keyId-' + nt).attr('fill', 'url(#piano-grad)').rect(x + key.x, 0, bwidth, bheight, classes);\r\n        r.append(rect);\r\n      });\r\n    }\r\n    var el = (document.getElementById(this.elementId) as any) as SVGSVGElement;\r\n    svgHelpers.gradient(el, 'piano-grad', 'vertical', [{ color: '#000', offset: '0%', opacity: 1 },\r\n    { color: '#777', offset: '50%', opacity: 1 }, { color: '#ddd', offset: '100%', opacity: 1 }]);\r\n    el.appendChild(r.dom());\r\n    this._renderControls();\r\n    this._mapKeys();\r\n    this.bind();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoMeasure } from '../../smo/data/measure';\r\nimport { UndoBuffer } from '../../smo/xform/undo';\r\nimport { SmoAttrs,  SmoConfiguration, SvgBox } from '../../smo/data/common';\r\nimport { PromiseHelpers } from '../../common/promiseHelpers';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { VxSystem } from '../vex/vxSystem';\r\nimport { SourceSansProFont } from '../../styles/font_metrics/ssp-sans-metrics';\r\nimport { SmoScore } from '../../smo/data/score';\r\nimport { smoBeamerFactory } from '../../smo/xform/beamers';\r\nimport { SuiMapper } from './mapper';\r\nimport { SmoSystemStaff } from '../../smo/data/systemStaff';\r\nimport { StaffModifierBase } from '../../smo/data/staffModifiers';\r\nimport { VxMeasure } from '../vex/vxMeasure';\r\n\r\nexport interface ScoreRenderParams {\r\n  elementId: any,\r\n  score: SmoScore\r\n}\r\ndeclare var SmoConfig: SmoConfiguration;\r\ndeclare var $: any;\r\nconst VF = eval('Vex.Flow');\r\n\r\n// ## SuiRenderState\r\n// Manage the state of the score rendering.  The score can be rendered either completely,\r\n// or partially for editing.  This class works with the RenderDemon to decide when to\r\n// render the score after it has been modified, and keeps track of what the current\r\n// render state is (dirty, etc.)\r\nexport abstract class SuiRenderState {\r\n  attrs: SmoAttrs;\r\n  dirty: boolean;\r\n  replaceQ: SmoSelection[];\r\n  renderTime: number;\r\n  stateRepCount: 0;\r\n  backgroundRender: boolean;\r\n  viewportChanged: boolean;\r\n  _resetViewport: boolean;\r\n  measureMapper: SuiMapper | null;\r\n  passState: number = SuiRenderState.passStates.initial;\r\n  _score: SmoScore | null = null;\r\n  renderer: any;\r\n  elementId: any;\r\n  _backupZoomScale: number = 0;\r\n\r\n  constructor(ctor: string) {\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: ctor\r\n    };\r\n    this.dirty = true;\r\n    this.replaceQ = [];\r\n    this.renderTime = 0;  // ms to render before time slicing\r\n    this.stateRepCount = 0;\r\n    this.backgroundRender = false;\r\n    this.setPassState(SuiRenderState.passStates.initial, 'ctor');\r\n    this.viewportChanged = false;\r\n    this._resetViewport = false;\r\n    this.measureMapper = null;\r\n  }\r\n  abstract unrenderAll(): void;\r\n  abstract layout(): void;\r\n  // ### setMeasureMapper\r\n  // DI/notifier pattern.  The measure mapper/tracker is updated when the score is rendered\r\n  // so the UI stays in sync with the location of elements in the score.\r\n  setMeasureMapper(mapper: SuiMapper) {\r\n    this.measureMapper = mapper;\r\n  }\r\n\r\n  static get Fonts(): any {\r\n    return {\r\n      Bravura: [VF.Fonts.Bravura(), VF.Fonts.Gonville(), VF.Fonts.Custom()],\r\n      Gonville: [VF.Fonts.Gonville(), VF.Fonts.Bravura(), VF.Fonts.Custom()],\r\n      Petaluma: [VF.Fonts.Petaluma(), VF.Fonts.Gonville(), VF.Fonts.Custom()],\r\n      Leland: [VF.Fonts.Leland(), VF.Fonts.Bravura(), VF.Fonts.Gonville(), VF.Fonts.Custom()]\r\n    };\r\n  }\r\n\r\n  static setFont(font: string) {\r\n    VF.DEFAULT_FONT_STACK = SuiRenderState.Fonts[font];\r\n  }\r\n\r\n  static get passStates(): Record<string, number> {\r\n    return { initial: 0, clean: 2, replace: 3 };\r\n  }\r\n  get renderElement(): Element {\r\n    return this.elementId;\r\n  }\r\n  addToReplaceQueue(selection: SmoSelection) {\r\n    if (this.passState === SuiRenderState.passStates.clean ||\r\n      this.passState === SuiRenderState.passStates.replace) {\r\n      if (Array.isArray(selection)) {\r\n        this.replaceQ = this.replaceQ.concat(selection);\r\n      } else {\r\n        this.replaceQ.push(selection);\r\n      }\r\n      this.setDirty();\r\n    }\r\n  }\r\n\r\n  setDirty() {\r\n    if (!this.dirty) {\r\n      this.dirty = true;\r\n      if (this.passState === SuiRenderState.passStates.clean) {\r\n        this.setPassState(SuiRenderState.passStates.replace, 'setDirty');\r\n      }\r\n    }\r\n  }\r\n  setRefresh() {\r\n    this.dirty = true;\r\n    this.setPassState(SuiRenderState.passStates.initial, 'setRefresh');\r\n  }\r\n  rerenderAll() {\r\n    this.dirty = true;\r\n    this.setPassState(SuiRenderState.passStates.initial, 'rerenderAll');\r\n    this._resetViewport = true;\r\n  }\r\n\r\n  remapAll() {\r\n    this.setRefresh();\r\n  }\r\n  get renderStateClean() {\r\n    return this.passState === SuiRenderState.passStates.clean;\r\n  }\r\n  get renderStateRendered() {\r\n    return this.passState === SuiRenderState.passStates.clean ||\r\n      (this.passState === SuiRenderState.passStates.replace && this.replaceQ.length === 0);\r\n  }\r\n  preserveScroll() {\r\n    const scrollState = this.measureMapper!.scroller.scrollState;\r\n    this.renderPromise().then(() => {\r\n      this.measureMapper!.scroller.restoreScrollState(scrollState);\r\n    });\r\n  }\r\n\r\n  // ### renderPromise\r\n  // return a promise that resolves when the score is in a fully rendered state.\r\n  renderPromise() {\r\n    return PromiseHelpers.makePromise(this, 'renderStateClean', null, null, (SmoConfig as any).demonPollTime);\r\n  }\r\n\r\n  // ### renderPromise\r\n  // return a promise that resolves when the score is in a fully rendered state.\r\n  updatePromise() {\r\n    return PromiseHelpers.makePromise(this, 'renderStateRendered', null, null, SmoConfig.demonPollTime);\r\n  }\r\n  // Number the measures at the first measure in each system.\r\n  numberMeasures() {\r\n    const printing: boolean = $('body').hasClass('print-render');\r\n    const staff = this.score!.staves[0];\r\n    const measures = staff.measures.filter((measure) => measure.measureNumber.systemIndex === 0);\r\n    $('.measure-number').remove();\r\n\r\n    measures.forEach((measure) => {\r\n      if (measure.measureNumber.localIndex > 0 && measure.measureNumber.systemIndex === 0 && measure.svg.logicalBox) {\r\n        const numAr = [];\r\n        numAr.push({ y: measure.svg.logicalBox.y - 10 });\r\n        numAr.push({ x: measure.svg.logicalBox.x });\r\n        numAr.push({ 'font-family': SourceSansProFont.fontFamily });\r\n        numAr.push({ 'font-size': '10pt' });\r\n        svgHelpers.placeSvgText(this.context.svg, numAr, 'measure-number', (measure.measureNumber.localIndex + 1).toString());\r\n\r\n        // Show line-feed symbol\r\n        const formatIndex = SmoMeasure.systemOptions.findIndex((option) => (measure as any)[option] !== (SmoMeasure.defaults as any)[option]);\r\n        if (formatIndex >= 0 && !printing) {\r\n          const starAr = [];\r\n          starAr.push({ y: measure.svg.logicalBox.y - 5 });\r\n          starAr.push({ x: measure.svg.logicalBox.x + 25 });\r\n          starAr.push({ 'font-family': SourceSansProFont.fontFamily });\r\n          starAr.push({ 'font-size': '12pt' });\r\n          svgHelpers.placeSvgText(this.context.svg, starAr, 'measure-format', '\\u21b0');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // ### _setViewport\r\n  // Create (or recrate) the svg viewport, considering the dimensions of the score.\r\n  _setViewport(reset: boolean, elementId: any) {\r\n    if (this.score === null) {\r\n      return;\r\n    }\r\n    const layoutManager = this.score!.layoutManager!;\r\n    // All pages have same width/height, so use that\r\n    const layout = layoutManager.getGlobalLayout();\r\n\r\n    // zoomScale is the zoom level pct.\r\n    // layout.svgScale is note size pct, used to calculate viewport size.  Larger viewport\r\n    //   vs. window size means smaller notes/more notes per page.\r\n    // renderScale is the product of the zoom and svg scale, used to size the window in client coordinates\r\n    const zoomScale = layoutManager.getZoomScale();\r\n    const renderScale = layout.svgScale * zoomScale;\r\n    const totalHeight = layout.pageHeight * layoutManager.pageLayouts.length * zoomScale;\r\n    const pageWidth = layout.pageWidth * zoomScale;\r\n    $(elementId).css('width', '' + Math.round(pageWidth) + 'px');\r\n    $(elementId).css('height', '' + Math.round(totalHeight) + 'px');\r\n    // Reset means we remove the previous SVG element.  Otherwise, we just alter it\r\n    if (reset) {\r\n      $(elementId).html('');\r\n      this.renderer = new VF.Renderer(elementId, VF.Renderer.Backends.SVG);\r\n      this.viewportChanged = true;\r\n      if (this.measureMapper) {\r\n        this.measureMapper.scroller.scrollAbsolute(0, 0);\r\n      }\r\n    }\r\n    svgHelpers.svgViewport(this.context.svg, 0, 0, pageWidth, totalHeight, renderScale);\r\n    // this.context.setFont(this.font.typeface, this.font.pointSize, \"\").setBackgroundFillStyle(this.font.fillStyle);\r\n    console.log('layout setViewport: pstate initial');\r\n    this.dirty = true;\r\n    if (this.measureMapper) {\r\n      this.measureMapper.scroller.updateViewport();\r\n    }\r\n  }\r\n\r\n  setViewport(reset: boolean) {\r\n    this._setViewport(reset, this.elementId);\r\n    this.score!.staves.forEach((staff) => {\r\n      staff.measures.forEach((measure) => {\r\n        if (measure.svg.logicalBox && reset) {\r\n          measure.svg.history = ['reset'];\r\n        }\r\n      });\r\n    });\r\n  }\r\n  renderForPrintPromise() {\r\n    $('body').addClass('print-render');\r\n    const self = this;\r\n    if (!this.score) {\r\n      return;\r\n    }\r\n    const layoutMgr = this.score!.layoutManager!;\r\n    const layout = layoutMgr.getGlobalLayout();\r\n    this._backupZoomScale = layout.zoomScale;\r\n    layout.zoomScale = 1.0;\r\n    layoutMgr.updateGlobalLayout(layout);\r\n    this.setViewport(true);\r\n    this.setRefresh();\r\n\r\n    const promise = new Promise((resolve: any) => {\r\n      const poll = () => {\r\n        setTimeout(() => {\r\n          if (!self.dirty && !self.backgroundRender) {\r\n            // tracker.highlightSelection();\r\n            $('body').removeClass('print-render');\r\n            $('.vf-selection').remove();\r\n            $('body').addClass('printing');\r\n            $('.musicRelief').css('height', '');\r\n            resolve();\r\n          } else {\r\n            poll();\r\n          }\r\n        }, 500);\r\n      };\r\n      poll();\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  restoreLayoutAfterPrint() {\r\n    const layout = this.score!.layoutManager!.getGlobalLayout();\r\n    layout.zoomScale = this._backupZoomScale;\r\n    this.score!.layoutManager!.updateGlobalLayout(layout);\r\n    this.setViewport(true);\r\n    this.setRefresh();\r\n  }\r\n\r\n  clearLine(measure: SmoMeasure) {\r\n    const lineIndex = measure.svg.lineIndex;\r\n    const startIndex = (lineIndex > 1 ? lineIndex - 1 : 0);\r\n    let i = 0;\r\n    for (i = startIndex; i < lineIndex + 1; ++i) {\r\n      // for lint error\r\n      const index = i;\r\n      this.score!.staves.forEach((staff) => {\r\n        const mms = staff.measures.filter((mm) => mm.svg.lineIndex === index);\r\n        mms.forEach((mm) => {\r\n          mm.svg.logicalBox = SvgBox.default;\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  setPassState(st: number, location: string) {\r\n    const oldState = this.passState;\r\n    let msg = '';\r\n    if (oldState !== st) {\r\n      this.stateRepCount = 0;\r\n    } else {\r\n      this.stateRepCount += 1;\r\n    }\r\n\r\n    msg = location + ': passState ' + this.passState + '=>' + st;\r\n    if (this.stateRepCount > 0) {\r\n      msg += ' (' + this.stateRepCount + ')';\r\n    }\r\n    console.log(msg);\r\n    this.passState = st;\r\n  }\r\n\r\n  // ### get context\r\n  // ### Description:\r\n  // return the VEX renderer context.\r\n  get context() {\r\n    return this.renderer.getContext();\r\n  }\r\n  get svg() {\r\n    return this.context.svg;\r\n  }\r\n\r\n  get score(): SmoScore | null {\r\n    return this._score;\r\n  }\r\n\r\n  set score(score: SmoScore | null) {\r\n    let shouldReset = false;\r\n    if (score === null) {\r\n      return;\r\n    }\r\n    if (this._score) {\r\n      shouldReset = true;\r\n    }\r\n    this.setPassState(SuiRenderState.passStates.initial, 'load score');\r\n    const font = score.fonts.find((fn) => fn.purpose === SmoScore.fontPurposes.ENGRAVING);\r\n    if (!font) {\r\n      return;\r\n    }\r\n    SuiRenderState.setFont(font.family);\r\n    this.dirty = true;\r\n    this._score = score;\r\n    if (shouldReset) {\r\n      this.renderTime = 0;\r\n      if (this.measureMapper) {\r\n        this.measureMapper.loadScore();\r\n      }\r\n      this.setViewport(true);\r\n    }\r\n  }\r\n\r\n  // ### undo\r\n  // Undo is handled by the render state machine, because the layout has to first\r\n  // delete areas of the viewport that may have changed,\r\n  // then create the modified score, then render the 'new' score.\r\n  undo(undoBuffer: UndoBuffer) {\r\n    const buffer = undoBuffer.peek();\r\n    let op = 'setDirty';\r\n    // Unrender the modified music because the IDs may change and normal unrender won't work\r\n    if (buffer) {\r\n      const sel = buffer.selector;\r\n      if (buffer.type === UndoBuffer.bufferTypes.MEASURE && this.unrenderMeasure !== null) {\r\n        const mSelection = SmoSelection.measureSelection(this.score!, sel.staff, sel.measure);\r\n        if (mSelection !== null) {\r\n          this.unrenderMeasure(mSelection.measure);\r\n        }\r\n      } else if (buffer.type === UndoBuffer.bufferTypes.STAFF && this.unrenderStaff !== null) {\r\n        const sSelection = SmoSelection.measureSelection(this.score!, sel.staff, 0);\r\n        if (sSelection !== null) {\r\n          this.unrenderStaff(sSelection.staff);\r\n        }\r\n        op = 'setRefresh';\r\n      } else {\r\n        this.unrenderAll();\r\n        op = 'setRefresh';\r\n      }\r\n      this._score = undoBuffer.undo(this._score!);\r\n      (this as any)[op]();\r\n    }\r\n  }\r\n\r\n  // ### unrenderMeasure\r\n  // All SVG elements are associated with a logical SMO element.  We need to erase any SVG element before we change a SMO\r\n  // element in such a way that some of the logical elements go away (e.g. when deleting a measure).\r\n  unrenderMeasure(measure: SmoMeasure) {\r\n    if (!measure) {\r\n      return;\r\n    }\r\n    $(this.renderer.getContext().svg).find('g.' + measure.getClassId()).remove();\r\n    measure.setYTop(0, 'unrender');\r\n  }\r\n\r\n  unrenderColumn(measure: SmoMeasure) {\r\n    this.score!.staves.forEach((staff) => {\r\n      this.unrenderMeasure(staff.measures[measure.measureNumber.measureIndex]);\r\n    });\r\n  }\r\n\r\n  // ### unrenderStaff\r\n  // ### Description:\r\n  // See unrenderMeasure.  Like that, but with a staff.\r\n  unrenderStaff(staff: SmoSystemStaff) {\r\n    staff.measures.forEach((measure) => {\r\n      this.unrenderMeasure(measure);\r\n    });\r\n    staff.modifiers.forEach((modifier) => {\r\n      $(this.renderer.getContext().svg).find('g.' + modifier.attrs.id).remove();\r\n    });\r\n  }\r\n\r\n  // ### _renderModifiers\r\n  // ### Description:\r\n  // Render staff modifiers (modifiers straddle more than one measure, like a slur).  Handle cases where the destination\r\n  // is on a different system due to wrapping.\r\n  _renderModifiers(staff: SmoSystemStaff, system: VxSystem) {\r\n    let nextNote: SmoSelection | null = null;\r\n    let lastNote: SmoSelection | null = null;\r\n    let testNote: VxMeasure | null = null;\r\n    let vxStart: VxMeasure | null = null;\r\n    let vxEnd: VxMeasure | null = null;\r\n    const removedModifiers: StaffModifierBase[] = [];\r\n    if (this.score === null || this.measureMapper === null) {\r\n      return;\r\n    }\r\n    staff.modifiers.forEach((modifier) => {\r\n      const startNote = SmoSelection.noteSelection(this.score!,\r\n        modifier.startSelector.staff, modifier.startSelector.measure, modifier.startSelector.voice, modifier.startSelector.tick);\r\n      const endNote = SmoSelection.noteSelection(this.score!,\r\n        modifier.endSelector.staff, modifier.endSelector.measure, modifier.endSelector.voice, modifier.endSelector.tick);\r\n      if (!startNote || !endNote) {\r\n        // If the modifier doesn't have score endpoints, delete it from the score\r\n        removedModifiers.push(modifier);\r\n        return;\r\n      }\r\n      if (startNote.note !== null) {\r\n        vxStart = system.getVxNote(startNote.note);\r\n      }\r\n      if (endNote.note !== null) {\r\n        vxEnd = system.getVxNote(endNote.note);\r\n      }\r\n\r\n      // If the modifier goes to the next staff, draw what part of it we can on this staff.\r\n      if (vxStart && !vxEnd) {\r\n        nextNote = SmoSelection.nextNoteSelection(this.score!,\r\n          modifier.startSelector.staff, modifier.startSelector.measure, modifier.startSelector.voice, modifier.startSelector.tick);\r\n        if (nextNote === null) {\r\n          console.warn('bad selector ' + JSON.stringify(modifier.startSelector, null, ' '));\r\n        } else {\r\n          if (nextNote.note !== null) {\r\n            testNote = system.getVxNote(nextNote.note);\r\n          }\r\n          while (testNote) {\r\n            vxEnd = testNote;\r\n            nextNote = SmoSelection.nextNoteSelection(this.score!,\r\n              nextNote.selector.staff, nextNote.selector.measure, nextNote.selector.voice, nextNote.selector.tick);\r\n            if (!nextNote) {\r\n              break;\r\n            }\r\n            if (nextNote.note !== null) {\r\n              testNote = system.getVxNote(nextNote.note);\r\n            } else {\r\n              testNote = null;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (vxEnd && !vxStart) {\r\n        lastNote = SmoSelection.lastNoteSelection(this.score!,\r\n          modifier.endSelector.staff, modifier.endSelector.measure, modifier.endSelector.voice, modifier.endSelector.tick);\r\n        if (lastNote !== null && lastNote.note !== null) {\r\n          testNote = system.getVxNote(lastNote.note);\r\n          while (testNote !== null) {\r\n            vxStart = testNote;\r\n            lastNote = SmoSelection.lastNoteSelection(this.score!,\r\n              lastNote.selector.staff, lastNote.selector.measure, lastNote.selector.voice, lastNote.selector.tick);\r\n            if (!lastNote) {\r\n              break;\r\n            }\r\n            if (lastNote.note !== null) {\r\n              testNote = system.getVxNote(lastNote.note);\r\n            } else {\r\n              testNote = null;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (!vxStart && !vxEnd) {\r\n        return;\r\n      }\r\n      system.renderModifier(this.measureMapper!.scroller, modifier, vxStart, vxEnd, startNote, endNote);\r\n    });\r\n    // Silently remove modifiers from the score if the endpoints no longer exist\r\n    removedModifiers.forEach((mod) => {\r\n      staff.removeStaffModifier(mod);\r\n    });\r\n  }\r\n\r\n  _drawPageLines() {\r\n    let i = 0;\r\n    $(this.context.svg).find('.pageLine').remove();\r\n    const printing = $('body').hasClass('print-render');\r\n    const layoutMgr = this.score!.layoutManager;\r\n    if (printing || !layoutMgr) {\r\n      return;\r\n    }\r\n    for (i = 1; i < layoutMgr.pageLayouts.length; ++i) {\r\n      const scaledPage = layoutMgr.getScaledPageLayout(i);\r\n      const y = scaledPage.pageHeight * i;\r\n      svgHelpers.line(this.svg, 0, y, scaledPage.pageWidth, y,\r\n        { stroke: '#321', strokeWidth: '2', strokeDasharray: '4,1', fill: 'none', opacity: 1.0 }, 'pageLine');\r\n    }\r\n  }\r\n\r\n  // ### _replaceMeasures\r\n  // Do a quick re-render of a measure that has changed.\r\n  _replaceMeasures() {\r\n    const staffMap: Record<number | string, { system: VxSystem, staff: SmoSystemStaff }> = {};\r\n    let system: VxSystem | null = null;\r\n    if (this.score === null || this.measureMapper === null) {\r\n      return;\r\n    }\r\n    this.replaceQ.forEach((change) => {\r\n      smoBeamerFactory.applyBeams(change.measure);\r\n      // Defer modifier update until all selected measures are drawn.\r\n      if (!staffMap[change.staff.staffId]) {\r\n        system = new VxSystem(this.context, change.measure.staffY, change.measure.svg.lineIndex, this.score!);\r\n        staffMap[change.staff.staffId] = { system, staff: change.staff };\r\n      } else {\r\n        system = staffMap[change.staff.staffId].system;\r\n      }\r\n      const selections = SmoSelection.measuresInColumn(this.score!, change.measure.measureNumber.measureIndex);\r\n      selections.forEach((selection) => {\r\n        if (system !== null && this.measureMapper !== null) {\r\n          system.renderMeasure(selection.measure, this.measureMapper, false);\r\n        }\r\n      });\r\n    });\r\n    Object.keys(staffMap).forEach((key) => {\r\n      const obj = staffMap[key];\r\n      this._renderModifiers(obj.staff, obj.system);\r\n      obj.system.renderEndings(this.measureMapper!.scroller);\r\n      obj.system.updateLyricOffsets();\r\n    });\r\n    this.replaceQ = [];\r\n  }\r\n\r\n  // ### forceRender\r\n  // For unit test applictions that want to render right-away\r\n  forceRender() {\r\n    this.setRefresh();\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    if (this._resetViewport) {\r\n      this.setViewport(true);\r\n      this._resetViewport = false;\r\n    }\r\n    try {\r\n      if (SuiRenderState.passStates.replace === this.passState) {\r\n        this._replaceMeasures();\r\n      } else if (SuiRenderState.passStates.initial === this.passState) {\r\n        if (this.backgroundRender) {\r\n          return;\r\n        }\r\n        this.layout();\r\n        this._drawPageLines();\r\n        this.setPassState(SuiRenderState.passStates.clean, 'rs: complete render');\r\n      }\r\n    } catch (excp) {\r\n      console.warn('exception in render: ' + excp);\r\n    }\r\n    this.dirty = false;\r\n  }\r\n}","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiRenderState } from './renderState';\r\nimport { VxSystem } from '../vex/vxSystem';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { suiLayoutFormatter } from './formatter';\r\nimport { ScaledPageLayout, SmoTextGroup, SmoPageLayout, SmoLayoutManager } from '../../smo/data/scoreModifiers';\r\nimport { SuiTextBlock } from './textRender';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\nimport { SmoTempoText, SmoMeasureFormat } from '../../smo/data/measureModifiers';\r\nimport { SourceSansProFont } from '../../styles/font_metrics/ssp-sans-metrics';\r\nimport { layoutDebug } from './layoutDebug';\r\nimport { smoBeamerFactory } from '../../smo/xform/beamers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SvgBox, TimeSignature } from '../../smo/data/common';\r\nimport { SmoMeasure, MeasureSvg } from '../../smo/data/measure';\r\nimport { SmoScore } from '../../smo/data/score';\r\n\r\ndeclare var $: any;\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface MeasureEstimate {\r\n  measures: SmoMeasure[], x: number, y: number\r\n}\r\nexport interface ScoreRenderParams {\r\n  elementId: Element, score: SmoScore\r\n}\r\n// ## SuiScoreRender\r\n// This module renders the entire score.  It calculates the layout first based on the\r\n// computed dimensions.\r\nexport class SuiScoreRender extends SuiRenderState {  \r\n  constructor(params: ScoreRenderParams) {\r\n    super('SuiScoreRender');\r\n    this.elementId = params.elementId;\r\n    this.score = params.score;\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'testLayout'\r\n    };\r\n    this.setViewport(true);\r\n  }\r\n  startRenderTime: number = 0;\r\n  currentPage: number = 0;\r\n\r\n  // ### createScoreRenderer\r\n  // ### Description;\r\n  // to get the score to appear, a div and a score object are required.  The layout takes care of creating the\r\n  // svg element in the dom and interacting with the vex library.\r\n  static createScoreRenderer(renderElement: Element, score: SmoScore): SuiScoreRender {\r\n    const ctorObj: ScoreRenderParams = {\r\n      elementId: renderElement,\r\n      score\r\n    };\r\n    const renderer = new SuiScoreRender(ctorObj);\r\n    return renderer;\r\n  }\r\n\r\n  // ### unrenderAll\r\n  // ### Description:\r\n  // Delete all the svg elements associated with the score.\r\n  unrenderAll() {\r\n    if (!this.score) {\r\n      return;\r\n    }\r\n    this.score.staves.forEach((staff) => {\r\n      this.unrenderStaff(staff);\r\n    });\r\n    $(this.renderer.getContext().svg).find('g.lineBracket').remove();\r\n  }\r\n\r\n  // ### _measureToLeft\r\n  // measure to 'left' is on previous row if this is the first column in a system\r\n  // but we still use it to compute beginning symbols (key sig etc.)\r\n  _measureToLeft(measure: SmoMeasure) {\r\n    const j = measure.measureNumber.staffId;\r\n    const i = measure.measureNumber.measureIndex;\r\n    if (!this.score || this.score.staves.length <= j) {\r\n      console.log('no staff');\r\n    }\r\n    return (i > 0 ? this.score!.staves[j].measures[i - 1] : null);\r\n  }\r\n\r\n  renderTextGroup(gg: SmoTextGroup) {\r\n    let ix = 0;\r\n    let jj = 0;\r\n    if (gg.skipRender || this.score === null || this.measureMapper === null) {\r\n      return;\r\n    }\r\n    gg.renderedBox = SvgBox.default;\r\n    gg.logicalBox = SvgBox.default;\r\n    const group = this.context.openGroup();\r\n    group.id = gg.attrs.id;\r\n    const scaledScoreLayout = this.score!.layoutManager!.getScaledPageLayout(0);\r\n\r\n    // If this is a per-page score text, get a text group copy for each page.\r\n    // else the array contains the original.\r\n    const groupAr = SmoTextGroup.getPagedTextGroups(gg, this.score!.layoutManager!.pageLayouts.length, scaledScoreLayout.pageHeight);\r\n    groupAr.forEach((newGroup) => {\r\n      // If this text is attached to the measure, base the block location on the rendered measure location.\r\n      if (newGroup.attachToSelector) {\r\n        // If this text is attached to a staff that is not visible, don't draw it.\r\n        const mappedStaff = this.score!.staves.find((staff) => staff.getMappedStaffId() === newGroup.selector!.staff);\r\n        if (!mappedStaff) {\r\n          return;\r\n        }\r\n        // Indicate the new map;\r\n        // newGroup.selector.staff = mappedStaff.staffId;        \r\n        const mmSel: SmoSelection | null = SmoSelection.measureSelection(this.score!, mappedStaff.staffId, newGroup.selector!.measure);\r\n        if (mmSel) {\r\n          const mm = mmSel.measure;\r\n          if (mm.svg.logicalBox.width > 0) {\r\n            const xoff = mm.svg.logicalBox.x + newGroup.musicXOffset;\r\n            const yoff = mm.svg.logicalBox.y + newGroup.musicYOffset;\r\n            newGroup.textBlocks[0].text.x = xoff;\r\n            newGroup.textBlocks[0].text.y = yoff;\r\n          }\r\n        }\r\n      }\r\n      const block = SuiTextBlock.fromTextGroup(newGroup, this.renderer.getContext(), this.measureMapper!.scroller);\r\n      block.render();\r\n      // For the first one we render, use that as the bounding box for all the text, for\r\n      // purposes of mapper/tracker\r\n      if (ix === 0) {\r\n        gg.renderedBox = JSON.parse(JSON.stringify(block.renderedBox));\r\n        gg.logicalBox = JSON.parse(JSON.stringify(block.logicalBox));\r\n        // map all the child scoreText objects, too.\r\n        for (jj = 0; jj < gg.textBlocks.length; ++jj) {\r\n          gg.textBlocks[jj].text.renderedBox = JSON.parse(JSON.stringify(block.inlineBlocks[jj].text.renderedBox));\r\n          gg.textBlocks[jj].text.logicalBox = JSON.parse(JSON.stringify(block.inlineBlocks[jj].text.logicalBox));\r\n        }\r\n      }\r\n      ix += 1;\r\n    });\r\n    this.context.closeGroup();\r\n  }\r\n\r\n  renderScoreModifiers() {\r\n    $(this.renderer.getContext().svg).find('.all-score-text').remove();\r\n    const group = this.context.openGroup();\r\n    group.classList.add('all-score-text');\r\n    this.score!.textGroups.forEach((tg) => {\r\n      this.renderTextGroup(tg);\r\n    });\r\n    this.context.closeGroup();\r\n  }\r\n\r\n  // ### calculateBeginningSymbols\r\n  // calculate which symbols like clef, key signature that we have to render in this measure.\r\n  calculateBeginningSymbols(systemIndex: number, measure: SmoMeasure, clefLast: string, keySigLast: string, timeSigLast: TimeSignature, tempoLast: SmoTempoText) {\r\n    const measureKeySig = smoMusic.vexKeySignatureTranspose(measure.keySignature, measure.transposeIndex);\r\n    measure.svg.forceClef = (systemIndex === 0 || measure.clef !== clefLast);\r\n    measure.svg.forceTimeSignature = (measure.measureNumber.measureIndex === 0 || (!SmoMeasure.timeSigEqual(timeSigLast, measure.timeSignature)));\r\n    if (measure.timeSignature.display === false) {\r\n      measure.svg.forceTimeSignature = false;\r\n    }\r\n    measure.svg.forceTempo = false;\r\n    const tempo = measure.getTempo();\r\n    if (tempo && measure.measureNumber.measureIndex === 0) {\r\n      measure.svg.forceTempo = tempo.display && measure.svg.rowInSystem === 0;\r\n    } else if (tempo && tempoLast) {\r\n      if (!SmoTempoText.eq(tempo, tempoLast) && measure.svg.rowInSystem === 0) {\r\n        measure.svg.forceTempo = tempo.display;\r\n      }\r\n    } else if (tempo) {\r\n      measure.svg.forceTempo = tempo.display && measure.svg.rowInSystem === 0;\r\n    }\r\n    if (measureKeySig !== keySigLast) {\r\n      measure.canceledKeySignature = keySigLast;\r\n      measure.svg.forceKeySignature = true;\r\n    } else if (systemIndex === 0 && measureKeySig !== 'C') {\r\n      measure.svg.forceKeySignature = true;\r\n    } else {\r\n      measure.svg.forceKeySignature = false;\r\n    }\r\n  }\r\n\r\n  _getMeasuresInColumn(ix: number): SmoMeasure[] {\r\n    const rv: SmoMeasure[] = [];\r\n    if (!this.score) {\r\n      return [];\r\n    }\r\n    this.score.staves.forEach((staff) => {\r\n      const inst = staff.measures.find((ss) => ss.measureNumber.measureIndex === ix);\r\n      if (inst) {\r\n        rv.push(inst);\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  _renderSystem(key: string, mscore: Record<string | number, SmoMeasure[]>, printing: boolean) {\r\n    const columns: Record<number, SmoMeasure[]> = {};    \r\n    if (this.score === null) {\r\n      return;\r\n    }\r\n    const vxSystem: VxSystem = new VxSystem(this.context, 0, parseInt(key, 10), this.score);\r\n    mscore[key].forEach((measure) => {\r\n      if (!columns[measure.measureNumber.systemIndex]) {\r\n        columns[measure.measureNumber.systemIndex] = [];\r\n      }\r\n      columns[measure.measureNumber.systemIndex].push(measure);\r\n    });\r\n    const colKeys = Object.keys(columns);\r\n    colKeys.forEach((colKey) => {\r\n      columns[parseInt(colKey, 10)].forEach((measure: SmoMeasure) => {\r\n        if (this.measureMapper !== null) {\r\n          vxSystem.renderMeasure(measure, this.measureMapper, printing);\r\n          if (!printing && !measure.format.eq(SmoMeasureFormat.defaults)) {\r\n            const at = [];\r\n            at.push({ y: measure.svg.logicalBox.y - 5 });\r\n            at.push({ x: measure.svg.logicalBox.x + 25 });\r\n            at.push({ 'font-family': SourceSansProFont.fontFamily });\r\n            at.push({ 'font-size': '12pt' });\r\n            svgHelpers.placeSvgText(this.context.svg, at, 'measure-format', '*');\r\n          }\r\n        }\r\n      });\r\n    });\r\n    const timestamp = new Date().valueOf();\r\n    if (this.measureMapper !== null) {\r\n      vxSystem.renderEndings(this.measureMapper.scroller);\r\n    }\r\n    vxSystem.updateLyricOffsets();\r\n    this.score.staves.forEach((stf) => {\r\n      this._renderModifiers(stf, vxSystem);\r\n    });\r\n    layoutDebug.setTimestamp(layoutDebug.codeRegions.POST_RENDER, new Date().valueOf() - timestamp);\r\n  }\r\n  _renderNextSystemPromise(systemIx: number, mscore: Record<string | number, SmoMeasure[]>, keys: string[], printing: boolean) {\r\n    return new Promise((resolve: any) => {\r\n      this._renderSystem(keys[systemIx], mscore, printing);\r\n      resolve();\r\n    });\r\n  }\r\n  _deferNextSystemPromise(systemIx: number, mscore: Record<string | number, SmoMeasure[]>, keys: string[], printing: boolean) {\r\n    return new Promise((resolve: any) => {\r\n      this._renderNextSystemPromise(systemIx, mscore, keys, printing).then(() => {\r\n        setTimeout(() => {\r\n          resolve();\r\n        }, 10);\r\n      });\r\n    });\r\n  }\r\n  _renderNextSystem(systemIx: number, mscore: Record<string | number, SmoMeasure[]>, keys: string[], printing: boolean) {\r\n    if (systemIx < keys.length) {\r\n      const progress = Math.round((100 * systemIx) / keys.length);\r\n      $('#renderProgress').val(progress);\r\n      this._deferNextSystemPromise(systemIx, mscore, keys, printing).then(() => {\r\n        systemIx++;\r\n        this._renderNextSystem(systemIx, mscore, keys, printing);\r\n      });\r\n    } else {\r\n      this.renderScoreModifiers();\r\n      this.numberMeasures();\r\n      this.renderTime = new Date().valueOf() - this.startRenderTime;\r\n      $('body').removeClass('show-render-progress');\r\n      // indicate the display is 'clean' and up-to-date with the score\r\n      $('body').removeClass('refresh-1');\r\n      if (this.measureMapper !== null) {\r\n        this.measureMapper.updateMap();\r\n      }\r\n      this.backgroundRender = false;\r\n    }\r\n  }\r\n\r\n  renderAllMeasures() {\r\n    const mscore: Record<number,SmoMeasure[]> = {};\r\n    if (!this.score) {\r\n      return;\r\n    }\r\n    const printing = $('body').hasClass('print-render');\r\n    $('.measure-format').remove();\r\n    this.score.staves.forEach((staff) => {\r\n      staff.measures.forEach((measure) => {\r\n        if (!mscore[measure.svg.lineIndex]) {\r\n          mscore[measure.svg.lineIndex] = [];\r\n        }\r\n        mscore[measure.svg.lineIndex].push(measure);\r\n      });\r\n    });\r\n\r\n    const keys = Object.keys(mscore);\r\n    if (!printing) {\r\n      $('body').addClass('show-render-progress');\r\n    }\r\n    this.backgroundRender = true;\r\n    this.startRenderTime = new Date().valueOf();\r\n    this._renderNextSystem(0, mscore, keys, printing);\r\n  }\r\n\r\n  // ### _justifyY\r\n  // when we have finished a line of music, adjust the measures in the system so the\r\n  // top of the staff lines up.\r\n  _justifyY(svg: SVGSVGElement, scoreLayout: ScaledPageLayout, measureEstimate: MeasureEstimate, currentLine: SmoMeasure[], lastSystem: boolean) {\r\n    let i = 0;\r\n    // We estimate the staves at the same absolute y value.\r\n    // Now, move them down so the top of the staves align for all measures in a  row.\r\n    for (i = 0; i < measureEstimate.measures.length; ++i) {\r\n      let justifyX = 0;\r\n      const index = i;\r\n      const rowAdj = currentLine.filter((mm) => mm.svg.rowInSystem === index);\r\n      // lowest staff has greatest staffY value.\r\n      const lowestStaff = rowAdj.reduce((a, b) =>\r\n        a.staffY > b.staffY ? a : b\r\n      );\r\n      const sh = svgHelpers;\r\n      rowAdj.forEach((measure) => {\r\n        const adj = lowestStaff.staffY - measure.staffY;\r\n        measure.setY(measure.staffY + adj, '_justifyY');\r\n        measure.setBox(sh.boxPoints(measure.svg.logicalBox.x, measure.svg.logicalBox.y + adj, measure.svg.logicalBox.width, measure.svg.logicalBox.height), '_justifyY');\r\n      });\r\n      const rightStaff = rowAdj.reduce((a, b) =>\r\n        a.staffX + a.staffWidth > b.staffX + b.staffWidth ?  a : b);\r\n\r\n      if (!lastSystem) {\r\n        justifyX = Math.round((scoreLayout.pageWidth - (scoreLayout.leftMargin + scoreLayout.rightMargin + rightStaff.staffX + rightStaff.staffWidth))\r\n          / rowAdj.length);\r\n      }\r\n      const ld = layoutDebug;\r\n      rowAdj.forEach((measure) => {\r\n        measure.setWidth(measure.staffWidth + justifyX, '_estimateMeasureDimensions justify');\r\n        const offset = measure.measureNumber.systemIndex * justifyX;\r\n        measure.setX(measure.staffX + offset, '_justifyY');\r\n        measure.setBox(sh.boxPoints(measure.svg.logicalBox.x + offset, measure.svg.logicalBox.y, measure.staffWidth, measure.svg.logicalBox.height), '_justifyY');\r\n        ld.debugBox(svg, measure.svg.logicalBox, layoutDebug.values.adjust);\r\n      });\r\n    }\r\n  }\r\n  // ### _checkPageBreak\r\n  // See if this line breaks the page boundary\r\n  _checkPageBreak(scoreLayout: ScaledPageLayout, currentLine: SmoMeasure[], bottomMeasure: SmoMeasure): ScaledPageLayout {\r\n    let pageAdj = 0;\r\n    const lm: SmoLayoutManager | undefined= this.score?.layoutManager;\r\n    if (!lm) {\r\n      return new ScaledPageLayout();\r\n    }\r\n    // See if this measure breaks a page.\r\n    const maxY = bottomMeasure.svg.logicalBox.y +  bottomMeasure.svg.logicalBox.height;\r\n    if (maxY > ((this.currentPage + 1) * scoreLayout.pageHeight) - scoreLayout.bottomMargin) {\r\n      // Advance to next page settings\r\n      this.currentPage += 1;\r\n      // If this is a new page, make sure there is a layout for it.\r\n      lm.addToPageLayouts(this.currentPage);\r\n      scoreLayout = lm.getScaledPageLayout(this.currentPage);\r\n\r\n      // When adjusting the page, make it so the top staff of the system\r\n      // clears the bottom of the page.\r\n      const topMeasure = currentLine.reduce((a, b) =>\r\n        a.svg.logicalBox.y < b.svg.logicalBox.y ? a : b\r\n      );\r\n      const minMaxY = topMeasure.svg.logicalBox.y;\r\n      pageAdj = (this.currentPage * scoreLayout.pageHeight) - minMaxY;\r\n      pageAdj = pageAdj + scoreLayout.topMargin;\r\n\r\n      // For each measure on the current line, move it down past the page break;\r\n      currentLine.forEach((measure) => {\r\n        measure.setBox(svgHelpers.boxPoints(\r\n          measure.svg.logicalBox.x, measure.svg.logicalBox.y + pageAdj, measure.svg.logicalBox.width, measure.svg.logicalBox.height), '_checkPageBreak');\r\n        measure.setY(measure.staffY + pageAdj, '_checkPageBreak');\r\n      });\r\n    }\r\n    return scoreLayout;\r\n  }\r\n\r\n  layout() {\r\n    if (!this.score) {\r\n      return;\r\n    }\r\n    let measureIx = 0;\r\n    let systemIndex = 0;\r\n    if (!this.score.layoutManager) {\r\n      return;\r\n    }\r\n    let scoreLayout = this.score.layoutManager.getScaledPageLayout(0);\r\n    let y = 0;\r\n    let x = 0;\r\n    let lineIndex = 0;\r\n    let currentLine: SmoMeasure[] = []; // the system we are esimating\r\n    let measureEstimate: MeasureEstimate | null = null;\r\n    $('head title').text(this.score.scoreInfo.name);\r\n\r\n    layoutDebug.clearDebugBoxes(layoutDebug.values.pre);\r\n    layoutDebug.clearDebugBoxes(layoutDebug.values.post);\r\n    layoutDebug.clearDebugBoxes(layoutDebug.values.adjust);\r\n    layoutDebug.clearDebugBoxes(layoutDebug.values.system);\r\n    layoutDebug.clearDebugBoxes(layoutDebug.values.note);\r\n    this.currentPage = 0;\r\n    const timestamp = new Date().valueOf();\r\n\r\n    const svg = this.context.svg;\r\n    const startPageCount = scoreLayout.pages;\r\n\r\n    y = scoreLayout.topMargin;\r\n    x = scoreLayout.leftMargin;\r\n\r\n    while (measureIx < this.score.staves[0].measures.length) {\r\n      measureEstimate = this._estimateColumn(scoreLayout, measureIx, systemIndex, lineIndex, x, y);\r\n      x = measureEstimate.x;\r\n\r\n      if (systemIndex > 0 &&\r\n        (measureEstimate.measures[0].getForceSystemBreak() || measureEstimate.x > (scoreLayout.pageWidth - scoreLayout.leftMargin))) {\r\n        this._justifyY(svg, scoreLayout, measureEstimate, currentLine, false);\r\n        // find the measure with the lowest y extend (greatest y value), not necessarily one with lowest\r\n        // start of staff.\r\n        const bottomMeasure: SmoMeasure = currentLine.reduce((a, b) =>\r\n          a.svg.logicalBox.y + a.svg.logicalBox.height > b.svg.logicalBox.y + b.svg.logicalBox.height ? a : b\r\n        );\r\n        this._checkPageBreak(scoreLayout, currentLine, bottomMeasure);\r\n\r\n        const ld = layoutDebug;\r\n        const sh = svgHelpers;\r\n        if (layoutDebug.mask & layoutDebug.values.system) {\r\n          currentLine.forEach((measure) => {\r\n            if (measure.svg.logicalBox) {\r\n              ld.debugBox(svg, measure.svg.logicalBox, layoutDebug.values.system);\r\n              ld.debugBox(svg, sh.boxPoints(measure.staffX, measure.svg.logicalBox.y, measure.svg.adjX, measure.svg.logicalBox.height), layoutDebug.values.post);\r\n            }\r\n          });\r\n        }\r\n\r\n        // Now start rendering on the next system.\r\n        y = bottomMeasure.svg.logicalBox.height + bottomMeasure.svg.logicalBox.y + scoreLayout.interGap;\r\n        currentLine = [];\r\n        systemIndex = 0;\r\n        x = scoreLayout.leftMargin;\r\n        lineIndex += 1;\r\n        measureEstimate = this._estimateColumn(scoreLayout, measureIx, systemIndex, lineIndex, x, y);\r\n        x = measureEstimate.x;\r\n      }\r\n      // ld declared for lint\r\n      const ld = layoutDebug;\r\n      measureEstimate?.measures.forEach((measure) => {\r\n        ld.debugBox(svg, measure.svg.logicalBox, layoutDebug.values.pre);\r\n      });\r\n\r\n      currentLine = currentLine.concat(measureEstimate.measures);\r\n      measureIx += 1;\r\n      systemIndex += 1;\r\n      // If this is the last measure but we have not filled the x extent,\r\n      // still justify the vertical staves and check for page break.\r\n      if (measureIx >= this.score.staves[0].measures.length && measureEstimate !== null) {\r\n        this._justifyY(svg, scoreLayout, measureEstimate, currentLine, true);\r\n        const bottomMeasure = currentLine.reduce((a, b) =>\r\n          a.svg.logicalBox.y + a.svg.logicalBox.height > b.svg.logicalBox.y + b.svg.logicalBox.height ? a : b\r\n        );\r\n        scoreLayout = this._checkPageBreak(scoreLayout, currentLine, bottomMeasure);\r\n      }\r\n    }\r\n    const pl: SmoPageLayout[] | undefined = this.score?.layoutManager?.pageLayouts;\r\n    if (pl && pl.length !== startPageCount) {\r\n      this.setViewport(true);\r\n    }\r\n    layoutDebug.setTimestamp(layoutDebug.codeRegions.COMPUTE, new Date().valueOf() - timestamp);\r\n    this.renderAllMeasures();\r\n  }\r\n\r\n  // ### _estimateColumns\r\n  // the new logic to estimate the dimensions of a column of music, corresponding to\r\n  // a certain measure index.\r\n  // returns:\r\n  // {measures,y,x}  the x and y at the left/bottom of the render\r\n  _estimateColumn(scoreLayout: ScaledPageLayout, measureIx: number, systemIndex: number, lineIndex: number, x: number, y: number): MeasureEstimate {\r\n    const s: any = {};\r\n    const measures = this._getMeasuresInColumn(measureIx);\r\n    let rowInSystem = 0;\r\n    // Keep running tab of accidental widths for justification\r\n    const accidentalMap = {};\r\n    measures.forEach((measure) => {\r\n      smoBeamerFactory.applyBeams(measure);\r\n      measure.measureNumber.systemIndex = systemIndex;\r\n      measure.svg.rowInSystem = rowInSystem;\r\n      measure.svg.lineIndex = lineIndex;\r\n\r\n      // use measure to left to figure out whether I need to render key signature, etc.\r\n      // If I am the first measure, just use self and we always render them on the first measure.\r\n      let measureToLeft = this._measureToLeft(measure);\r\n      if (!measureToLeft) {\r\n        measureToLeft = measure;\r\n      }\r\n      s.measureKeySig = smoMusic.vexKeySignatureTranspose(measure.keySignature, measure.transposeIndex);\r\n      s.keySigLast = smoMusic.vexKeySignatureTranspose(measureToLeft.keySignature, measure.transposeIndex);\r\n      s.tempoLast = measureToLeft.getTempo();\r\n      s.timeSigLast = measureToLeft.timeSignature;\r\n      s.clefLast = measureToLeft.clef;\r\n      this.calculateBeginningSymbols(systemIndex, measure, s.clefLast, s.keySigLast, s.timeSigLast, s.tempoLast);\r\n\r\n      // calculate vertical offsets from the baseline\r\n      const offsets = suiLayoutFormatter.estimateMeasureHeight(measure);\r\n      measure.setYTop(offsets.aboveBaseline, 'render:estimateColumn');\r\n      measure.setY(y - measure.yTop, '_estimateColumns height');\r\n      measure.setX(x, 'render:estimateColumn');\r\n\r\n      // Add custom width to measure:\r\n      measure.setBox(svgHelpers.boxPoints(measure.staffX, y, measure.staffWidth, offsets.belowBaseline - offsets.aboveBaseline), 'render: estimateColumn');\r\n      suiLayoutFormatter.estimateMeasureWidth(measure, scoreLayout.noteSpacing, accidentalMap);\r\n      y = y + measure.svg.logicalBox.height + scoreLayout.intraGap;\r\n      rowInSystem += 1;\r\n    });\r\n\r\n    // justify this column to the maximum width\r\n    const maxMeasure = measures.reduce((a, b) => a.staffX + a.staffWidth > b.staffX + b.staffWidth ? a : b);\r\n    const maxX = maxMeasure.staffX + maxMeasure.staffWidth;\r\n    const maxAdjMeasure = measures.reduce((a, b) => a.svg.adjX > b.svg.adjX  ? a : b);\r\n    const maxAdj = maxAdjMeasure.svg.adjX;\r\n    measures.forEach((measure) => {\r\n      measure.setWidth(measure.staffWidth + (maxX - (measure.staffX + measure.staffWidth)), 'render:estimateColumn');\r\n      measure.svg.adjX = maxAdj;\r\n    });\r\n    const rv = { measures, y, x: maxX };\r\n    return rv;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoSelection, SmoSelector } from '../../smo/xform/selections';\r\nimport { UndoBuffer } from '../../smo/xform/undo';\r\nimport { StaffModifierBase } from '../../smo/data/staffModifiers';\r\nimport { SuiScroller } from './scroller';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { PasteBuffer } from '../../smo/xform/copypaste';\r\nimport { SuiTracker } from './tracker';\r\nimport { SmoScore } from '../../smo/data/score';\r\nimport { SmoActionRecord } from '../../smo/xform/actions';\r\nimport { SuiRenderDemon } from './layoutDemon';\r\nimport { testCase1 } from '../../music/utActions';\r\nimport { SmoModifierBase } from '../../smo/data/common';\r\nimport { SmoGraceNote } from '../../smo/data/noteModifiers';\r\nimport { SuiRenderState } from './renderState';\r\nimport { SmoMeasure } from '../../smo/data/measure';\r\nimport { Action } from '../../smo/xform/actions';\r\n\r\ndeclare var $: any;\r\n\r\nexport interface ViewMapEntry {\r\n  show: boolean;\r\n}\r\n\r\n// ## SuiScoreView\r\n// Do a thing to the music.  Save in undo buffer before.  Render the score to reflect\r\n// the change after.  Map the operation on the score view to the actual score.\r\nexport abstract class SuiScoreView {\r\n  static Instance: SuiScoreView | null = null;\r\n  abstract replayActions(): void;\r\n\r\n  // ### _reverseMapSelection\r\n  // For operations that affect all columns, we operate on the\r\n  // entire score and update the view score.  Some selections\r\n  // will not have an equivalent in the reverse map since the\r\n  // view can be a subset.\r\n  score: SmoScore;\r\n  storeScore: SmoScore;\r\n  staffMap: number[];\r\n  storeUndo: UndoBuffer;\r\n  undoBuffer: UndoBuffer;\r\n  tracker: SuiTracker;\r\n  renderer: any;\r\n  scroller: SuiScroller;\r\n  pasteBuffer: PasteBuffer;\r\n  storePaste: PasteBuffer;\r\n  actionBuffer: SmoActionRecord;\r\n  layoutDemon: SuiRenderDemon;\r\n  constructor(renderer: SuiRenderState, score: SmoScore, scrollSelector: string) {\r\n    this.score = score;\r\n    this.renderer = renderer;\r\n    const scoreJson = score.serialize();\r\n    this.scroller = new SuiScroller(scrollSelector);\r\n    this.pasteBuffer = new PasteBuffer();\r\n    this.storePaste = new PasteBuffer();\r\n    this.tracker = new SuiTracker(this.renderer, this.scroller, this.pasteBuffer);\r\n    this.renderer.setMeasureMapper(this.tracker);\r\n\r\n    this.storeScore = SmoScore.deserialize(JSON.stringify(scoreJson));\r\n    this.undoBuffer = new UndoBuffer();\r\n    this.layoutDemon = new SuiRenderDemon(this.renderer, this.undoBuffer, this.tracker);\r\n    this.storeUndo = new UndoBuffer();\r\n    this.staffMap = this.defaultStaffMap;\r\n    SuiScoreView.Instance = this; // for debugging\r\n    this.setMappedStaffIds();\r\n    this.actionBuffer = new SmoActionRecord();\r\n    this.tracker.recordBuffer = this.actionBuffer;\r\n  }\r\n\r\n  _reverseMapSelection(selection: SmoSelection) {\r\n    const staffIndex = this.staffMap.indexOf(selection.selector.staff);\r\n    if (staffIndex < 0) {\r\n      return null;\r\n    }\r\n    if (typeof(selection.selector.tick) === 'undefined') {\r\n      return SmoSelection.measureSelection(this.score, staffIndex, selection.selector.measure);\r\n    }\r\n    if (typeof(selection.selector.pitches) === 'undefined') {\r\n      return SmoSelection.noteSelection(this.score, staffIndex, selection.selector.measure, selection.selector.voice,\r\n        selection.selector.tick);\r\n    }\r\n    return SmoSelection.pitchSelection(this.score, staffIndex, selection.selector.measure, selection.selector.voice,\r\n      selection.selector.tick, selection.selector.pitches);\r\n  }\r\n  _reverseMapSelections(selections: SmoSelection[]): SmoSelection[] {\r\n    const rv: SmoSelection[] = [];\r\n    selections.forEach((selection) => {\r\n      const rsel = this._reverseMapSelection(selection);\r\n      if (rsel !== null) {\r\n        rv.push(rsel);\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  // ### _getEquivalentSelections\r\n  // The plural form of _getEquivalentSelection\r\n  _getEquivalentSelections(selections: SmoSelection[]): SmoSelection[] {\r\n    const rv: SmoSelection[] = [];\r\n    selections.forEach((selection) => {\r\n      const sel = this._getEquivalentSelection(selection);\r\n      if (sel !== null) {\r\n        rv.push(sel);\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  _undoStaffModifier(label: string, staffModifier: StaffModifierBase, subtype: number) {\r\n    const copy = StaffModifierBase.deserialize(staffModifier.serialize());\r\n    copy.startSelector = this._getEquivalentSelector(copy.startSelector);\r\n    copy.endSelector = this._getEquivalentSelector(copy.endSelector);\r\n    this.undoBuffer.addBuffer(label, UndoBuffer.bufferTypes.STAFF_MODIFIER, SmoSelector.default,\r\n      staffModifier.serialize(), subtype);\r\n    this.storeUndo.addBuffer(label, UndoBuffer.bufferTypes.STAFF_MODIFIER, SmoSelector.default,\r\n      copy.serialize(), subtype);\r\n  }\r\n  // ### getFocusedPage\r\n  // Return the index of the page that is in the center of the client screen.\r\n  getFocusedPage() {\r\n    if (this.score.layoutManager === undefined) {\r\n      return;\r\n    }\r\n    const scrollAvg = this.tracker.scroller.netScroll.y + (this.tracker.scroller.viewport.height / 2);\r\n    const midY = scrollAvg;\r\n    const layoutManager = this.score.layoutManager.getGlobalLayout();\r\n    const lh = layoutManager.pageHeight / layoutManager.svgScale;\r\n    const lw = layoutManager.pageWidth / layoutManager.svgScale;\r\n    const pt = svgHelpers.logicalToClient(this.renderer.svg, svgHelpers.smoBox({ x: lw, y: lh }), this.tracker.scroller.scrollState.scroll);\r\n    return Math.round(midY / pt.y);\r\n  }\r\n  // ### _undoRectangle\r\n  // Create a rectangle undo, like a multiple columns but not necessarily the whole\r\n  // score.\r\n  _undoRectangle(label: string, startSelector: SmoSelector, endSelector: SmoSelector, score: SmoScore, undoBuffer: UndoBuffer) {\r\n    undoBuffer.addBuffer(label, UndoBuffer.bufferTypes.RECTANGLE, SmoSelector.default, { score, topLeft: startSelector, bottomRight: endSelector },\r\n      UndoBuffer.bufferSubtypes.NONE);\r\n  }\r\n  _undoColumn(label: string, measureIndex: number) {\r\n    this.undoBuffer.addBuffer(label, UndoBuffer.bufferTypes.COLUMN, SmoSelector.default, { score: this.score, measureIndex }, \r\n      UndoBuffer.bufferSubtypes.NONE);\r\n    this.storeUndo.addBuffer(label, UndoBuffer.bufferTypes.COLUMN, SmoSelector.default, { score: this.storeScore, measureIndex }, UndoBuffer.bufferSubtypes.NONE);\r\n  }\r\n  _undoScorePreferences(label: string) {\r\n    this.undoBuffer.addBuffer(label, UndoBuffer.bufferTypes.SCORE_ATTRIBUTES, SmoSelector.default, this.score, UndoBuffer.bufferSubtypes.NONE);\r\n    this.storeUndo.addBuffer(label, UndoBuffer.bufferTypes.SCORE_ATTRIBUTES, SmoSelector.default, this.storeScore, UndoBuffer.bufferSubtypes.NONE);\r\n  }\r\n  // ### _getRectangleFromStaffGroup\r\n  // For selections that affect a system of staves, find the rectangle based on one of the\r\n  // staves and return the selectors.\r\n  _getRectangleFromStaffGroup(selection: SmoSelection, staffMap: number[]): { startSelector: SmoSelector, endSelector: SmoSelector } {\r\n    const startSelector: SmoSelector = SmoSelector.default;\r\n    let endSelector: SmoSelector = SmoSelector.default;;\r\n    let staffFilter = [];\r\n    const sygrp = this.score.getSystemGroupForStaff(selection);\r\n    if (sygrp) {\r\n      startSelector.staff = sygrp.startSelector.staff;\r\n      startSelector.measure = selection.selector.measure;      \r\n      endSelector.staff = sygrp.endSelector.staff;\r\n      endSelector.measure = selection.selector.measure;\r\n      // Because of the staff map, some staves may not be in the view,\r\n      // so only include staves actually in the map.\r\n      // staffFilter is all the staves eligible for the group in the view.\r\n      staffFilter = staffMap.filter((map) => map >= sygrp.startSelector.staff && map <= sygrp.endSelector.staff);\r\n      // min is start staff\r\n      startSelector.staff = staffFilter.reduce((a, b) => a < b ? a : b);\r\n      // max is end staff\r\n      endSelector.staff = staffFilter.reduce((a, b) => a > b ? a : b);\r\n    } else {\r\n      startSelector.staff = selection.selector.staff;\r\n      startSelector.measure = selection.selector.measure;\r\n      endSelector = JSON.parse(JSON.stringify(startSelector));\r\n    }\r\n    return { startSelector, endSelector };\r\n  }\r\n\r\n  // ### _undoTrackerSelections\r\n  // Add to the undo buffer the current set of measures selected.\r\n  _undoTrackerMeasureSelections(label: string): SmoSelection[] {\r\n    const measureSelections = SmoSelection.getMeasureList(this.tracker.selections);\r\n    measureSelections.forEach((measureSelection) => {\r\n      const equiv = this._getEquivalentSelection(measureSelection);\r\n      if (equiv !== null) {\r\n        this.undoBuffer.addBuffer(label, UndoBuffer.bufferTypes.MEASURE, measureSelection.selector, measureSelection.measure,\r\n          UndoBuffer.bufferSubtypes.NONE);\r\n        this.storeUndo.addBuffer(label, UndoBuffer.bufferTypes.MEASURE, equiv.selector, equiv.measure,\r\n          UndoBuffer.bufferSubtypes.NONE);\r\n      }\r\n    });\r\n    return measureSelections;\r\n  }\r\n  // ### _undoFirstMeasureSelection\r\n  // operation that only affects the first selection.  Setup undo for the measure\r\n  _undoFirstMeasureSelection(label: string): SmoSelection {\r\n    const sel = this.tracker.selections[0];\r\n    const equiv = this._getEquivalentSelection(sel);\r\n    if (equiv !== null) {\r\n      this.undoBuffer.addBuffer(label, UndoBuffer.bufferTypes.MEASURE, sel.selector, sel.measure,\r\n        UndoBuffer.bufferSubtypes.NONE);\r\n      this.storeUndo.addBuffer(label, UndoBuffer.bufferTypes.MEASURE, equiv.selector, equiv.measure,\r\n        UndoBuffer.bufferSubtypes.NONE);\r\n    }\r\n    return sel;\r\n  }\r\n  _undoSelection(label: string, selection: SmoSelection) {\r\n    const equiv = this._getEquivalentSelection(selection);\r\n    if (equiv !== null) {\r\n      this.undoBuffer.addBuffer(label,\r\n        UndoBuffer.bufferTypes.MEASURE, selection.selector, selection.measure,\r\n        UndoBuffer.bufferSubtypes.NONE);\r\n      this.storeUndo.addBuffer(label,\r\n        UndoBuffer.bufferTypes.MEASURE, equiv.selector, equiv.measure,\r\n        UndoBuffer.bufferSubtypes.NONE);\r\n    }\r\n  }\r\n  _undoSelections(label: string, selections: SmoSelection[]) {\r\n    this.undoBuffer.grouping = true;\r\n    this.storeUndo.grouping = true;\r\n    selections.forEach((selection) => {\r\n      this._undoSelection(label, selection);\r\n    });\r\n    this.undoBuffer.grouping = false;\r\n    this.storeUndo.grouping = false;\r\n  }\r\n\r\n  // ###_renderChangedMeasures\r\n  // Update renderer for measures that have changed\r\n  _renderChangedMeasures(measureSelections: SmoSelection[]) {\r\n    if (!Array.isArray(measureSelections)) {\r\n      measureSelections = [measureSelections];\r\n    }\r\n    measureSelections.forEach((measureSelection) => {\r\n      this.renderer.addToReplaceQueue(measureSelection);\r\n    });\r\n  }\r\n  _renderRectangle(fromSelector: SmoSelector, toSelector: SmoSelector) {\r\n    this._getRectangleSelections(fromSelector, toSelector, this.score).forEach((s) => {\r\n      this.renderer.addToReplaceQueue(s);\r\n    });\r\n  }\r\n\r\n  // ###_renderChangedMeasures\r\n  // Setup undo for operation that affects the whole score\r\n  _undoScore(label: string) {\r\n    this.undoBuffer.addBuffer(label, UndoBuffer.bufferTypes.SCORE, SmoSelector.default, this.score,\r\n      UndoBuffer.bufferSubtypes.NONE);\r\n    this.storeUndo.addBuffer(label, UndoBuffer.bufferTypes.SCORE, SmoSelector.default, this.storeScore,\r\n      UndoBuffer.bufferSubtypes.NONE);\r\n  }\r\n  _getEquivalentSelector(selector: SmoSelector) {\r\n    const rv = JSON.parse(JSON.stringify(selector));\r\n    rv.staff = this.staffMap[selector.staff];\r\n    return rv;\r\n  }\r\n  _getEquivalentSelection(selection: SmoSelection): SmoSelection | null {\r\n    try {\r\n      if (typeof(selection.selector.tick) === 'undefined') {\r\n        return SmoSelection.measureSelection(this.storeScore, this.staffMap[selection.selector.staff], selection.selector.measure);\r\n      }\r\n      if (typeof(selection.selector.pitches) === 'undefined') {\r\n        return SmoSelection.noteSelection(this.storeScore, this.staffMap[selection.selector.staff], selection.selector.measure, selection.selector.voice,\r\n          selection.selector.tick);\r\n      }\r\n      return SmoSelection.pitchSelection(this.storeScore, this.staffMap[selection.selector.staff], selection.selector.measure, selection.selector.voice,\r\n        selection.selector.tick, selection.selector.pitches);\r\n    } catch (ex) {\r\n      console.warn(ex);\r\n      return null;\r\n    }\r\n  }\r\n  _removeStandardModifier(modifier: SmoModifierBase) {\r\n    $(this.renderer.context.svg).find('g.' + modifier.attrs.id).remove();\r\n  }\r\n\r\n  _getEquivalentGraceNote(selection: SmoSelection, gn: SmoGraceNote): SmoGraceNote {\r\n    if (selection.note !== null) {\r\n      const rv = selection.note.getGraceNotes().find((gg) => gg.attrs.id === gn.attrs.id);\r\n      if (rv) {\r\n        return rv;\r\n      }\r\n    }\r\n    return gn;\r\n  }\r\n  _getRectangleSelections(startSelector: SmoSelector, endSelector: SmoSelector, score: SmoScore): SmoSelection[] {\r\n    const rv: SmoSelection[] = [];\r\n    let i = 0;\r\n    let j = 0;\r\n    for (i = startSelector.staff; i <= endSelector.staff; i++) {\r\n      for (j = startSelector.measure; j <= endSelector.measure; j++) {\r\n        const target = SmoSelection.measureSelection(score, i, j);\r\n        if (target !== null) {\r\n          rv.push(target);\r\n        }\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n  // ### groupUndo\r\n  // Indicate we want to group the undo operations into one undo\r\n  groupUndo(val: boolean) {\r\n    this.undoBuffer.grouping = val;\r\n    this.storeUndo.grouping = val;\r\n  }\r\n\r\n  // ### defaultStaffMap\r\n  // Show all staves, 1:1 mapping of view score staff to stored score staff\r\n  get defaultStaffMap(): number[] {\r\n    let i = 0;\r\n    const rv: number[] = [];\r\n    for (i = 0; i < this.storeScore.staves.length; ++i) {\r\n      rv.push(i);\r\n    }\r\n    return rv;\r\n  }\r\n  startRenderingEngine() {\r\n    this.layoutDemon.startDemon();\r\n  }\r\n  static debugUnitTest() {\r\n    const dbg = SuiScoreView.Instance;\r\n    if (dbg === null) {\r\n      return;\r\n    }\r\n    dbg.changeScore(SmoScore.getDefaultScore(SmoScore.defaults, SmoMeasure.defaults));\r\n    dbg.actionBuffer.actions = JSON.parse(testCase1);\r\n    if (SuiScoreView.Instance !== null) {\r\n      dbg.actionBuffer.executeIndex = SuiScoreView.Instance.actionBuffer.actions.length;\r\n    }\r\n    dbg.replayActions();\r\n  }\r\n\r\n  getView(): ViewMapEntry[] {\r\n    const rv = [];\r\n    let i = 0;\r\n    for (i = 0; i < this.storeScore.staves.length; ++i) {\r\n      const show = this.staffMap.indexOf(i) >= 0;\r\n      rv.push({ show });\r\n    }\r\n    return rv;\r\n  }\r\n  playActions(actionJson: Action[]) {\r\n    if (!this.actionBuffer.endCondition) {\r\n      return;\r\n    }\r\n    this.actionBuffer.actions = actionJson;\r\n    this.actionBuffer.resetRunner();\r\n    this.replayActions();\r\n  }\r\n  setMappedStaffIds() {\r\n    this.score.staves.forEach((staff) => {\r\n      staff.setMappedStaffId(this.staffMap[staff.staffId]);\r\n    });\r\n  }\r\n\r\n  // ### setView\r\n  // Send a list of rows with a 'show' boolean in each, we display that line\r\n  // in the staff and hide the rest\r\n  setView(rows: ViewMapEntry[]) {\r\n    let i = 0;\r\n    const any = rows.find((row) => row.show === true);\r\n    if (!any) {\r\n      return;\r\n    }\r\n    this._undoScore('change view');\r\n    const nscore = SmoScore.deserialize(JSON.stringify(this.storeScore.serialize()));\r\n    const staveScore =  SmoScore.deserialize(JSON.stringify(this.storeScore.serialize()));\r\n    nscore.staves = [];\r\n    const staffMap = [];\r\n    for (i = 0; i < rows.length; ++i) {\r\n      const row = rows[i];\r\n      if (row.show) {\r\n        nscore.staves.push(staveScore.staves[i]);\r\n        staffMap.push(i);\r\n      }\r\n    }\r\n    nscore.numberStaves();\r\n    this.staffMap = staffMap;\r\n    this.score = nscore;\r\n    // Indicate which score staff view staves are mapped to, to decide to display\r\n    // modifiers.\r\n    this.setMappedStaffIds();\r\n    this.renderer.score = nscore;\r\n    this.renderer.setViewport(true);\r\n    setTimeout(() => {\r\n      $('body').trigger('forceResizeEvent');\r\n    }, 1);\r\n  }\r\n  // ### viewAll\r\n  // view all the staffs in score mode.\r\n  viewAll() {\r\n    this.score = SmoScore.deserialize(JSON.stringify(this.storeScore.serialize()));\r\n    this.staffMap = this.defaultStaffMap;\r\n    this.setMappedStaffIds();\r\n    this.renderer.score = this.score;\r\n    this.renderer.setViewport(true);\r\n  }\r\n  // ### changeScore\r\n  // Update the view after loading or restoring a completely new score\r\n  changeScore(score: SmoScore) {\r\n    this._undoScore('load new score');\r\n    this.renderer.score = score;\r\n    this.renderer.setViewport(true);\r\n    this.storeScore = SmoScore.deserialize(JSON.stringify(score.serialize()));\r\n    this.score = score;\r\n    this.staffMap = this.defaultStaffMap;\r\n    this.setMappedStaffIds();\r\n    this.actionBuffer.clearActions();\r\n    setTimeout(() => {\r\n      $('body').trigger('forceResizeEvent');\r\n    }, 1);\r\n  }\r\n\r\n  // ### undo\r\n  // for the view score, we the renderer decides what to render\r\n  // depending on what is undone.\r\n  undo() {\r\n    this.renderer.undo(this.undoBuffer);\r\n    // A score-level undo might have changed the score.\r\n    this.score = this.renderer.score;\r\n    this.storeScore = this.storeUndo.undo(this.storeScore);\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiScoreView } from './scoreView';\r\nimport { SmoTextGroup, SmoSystemGroup, SmoPageLayout, SmoGlobalLayout } from '../../smo/data/scoreModifiers';\r\nimport { UndoBuffer, SmoUndoable } from '../../smo/xform/undo';\r\nimport { SmoOperation } from '../../smo/xform/operations';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoScore, SmoScorePreferences, SmoScoreInfo } from '../../smo/data/score';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoDynamicText, SmoNoteModifierBase, SmoGraceNote, SmoArticulation, SmoOrnament, SmoLyric } from '../../smo/data/noteModifiers';\r\nimport { SmoTempoText, SmoVolta, SmoBarline, SmoRepeatSymbol, SmoRehearsalMark, SmoMeasureFormat } from '../../smo/data/measureModifiers';\r\nimport { SuiOscillator } from '../audio/oscillator';\r\nimport { SmoSelection, SmoSelector } from '../../smo/xform/selections';\r\nimport { StaffModifierBase, SmoInstrument } from '../../smo/data/staffModifiers';\r\nimport { SuiRenderState } from './renderState';\r\nimport { SmoMeasure } from '../../smo/data/measure';\r\nimport { htmlHelpers } from '../../common/htmlHelpers';\r\nimport { SmoToMidi } from '../../smo/midi/smoToMidi';\r\nimport { SmoToXml } from '../../smo/mxml/smo2Xml';\r\nimport { SuiActionPlayback } from './actionPlayback';\r\nimport { SmoMicrotone } from '../../smo/data/noteModifiers';\r\nimport { TimeSignature, SvgBox, Pitch, PitchLetter, FontInfo, SmoConfiguration } from '../../smo/data/common';\r\nimport { SmoNote } from '../../smo/data/note';\r\nimport { SmoSystemStaffParams } from '../../smo/data/systemStaff';\r\nimport { KeyEvent } from './tracker';\r\nimport { BatchSelectionOperation } from '../../smo/xform/operations';\r\n\r\ndeclare var $: any;\r\ndeclare var SmoConfig: SmoConfiguration;\r\n\r\n// ## ScoreViewOperations\r\n// MVVM-like operations on the displayed score.\r\n// All operations that can be performed on a 'live' score go through this\r\n// module.  It maps the score view to the actual score and makes sure the\r\n// model and view stay in sync.\r\nexport class SuiScoreViewOperations extends SuiScoreView {\r\n  addTextGroup(textGroup: SmoTextGroup) {\r\n    this.actionBuffer.addAction('addTextGroup', textGroup);\r\n    const altNew = SmoTextGroup.deserialize(textGroup.serialize());\r\n    SmoUndoable.changeTextGroup(this.score, this.undoBuffer, textGroup,\r\n      UndoBuffer.bufferSubtypes.ADD);\r\n    SmoUndoable.changeTextGroup(this.storeScore, this.storeUndo, altNew,\r\n      UndoBuffer.bufferSubtypes.ADD);\r\n    this.renderer.renderScoreModifiers();\r\n  }\r\n\r\n  removeTextGroup(textGroup: SmoTextGroup) {\r\n    this.actionBuffer.addAction('removeTextGroup', textGroup);\r\n    const index = this.score.textGroups.findIndex((grp) => textGroup.attrs.id === grp.attrs.id);\r\n    const altGroup = this.storeScore.textGroups[index];\r\n    SmoUndoable.changeTextGroup(this.score, this.undoBuffer, textGroup,\r\n      UndoBuffer.bufferSubtypes.REMOVE);\r\n    SmoUndoable.changeTextGroup(this.storeScore, this.storeUndo, altGroup,\r\n      UndoBuffer.bufferSubtypes.REMOVE);\r\n    this.renderer.renderScoreModifiers();\r\n  }\r\n\r\n  updateTextGroup(oldVersion: SmoTextGroup, newVersion: SmoTextGroup) {\r\n    this.actionBuffer.addAction('updateTextGroup', oldVersion, newVersion);\r\n    const index = this.score.textGroups.findIndex((grp) => oldVersion.attrs.id === grp.attrs.id);\r\n    SmoUndoable.changeTextGroup(this.score, this.undoBuffer, oldVersion,\r\n      UndoBuffer.bufferSubtypes.UPDATE);\r\n    SmoUndoable.changeTextGroup(this.storeScore, this.storeUndo, this.storeScore.textGroups[index], UndoBuffer.bufferSubtypes.UPDATE);\r\n    const altNew = SmoTextGroup.deserialize(newVersion.serialize());\r\n    this.storeScore.textGroups[index] = altNew;\r\n    // TODO: only render the one TG.\r\n    this.renderer.renderScoreModifiers();\r\n  }\r\n  // ### updateScorePreferences\r\n  // The score preferences for view score have changed, sync them\r\n  updateScorePreferences(pref: SmoScorePreferences) {\r\n    this._undoScorePreferences('Update preferences');\r\n    // TODO: add action buffer here?\r\n    smoSerialize.serializedMerge(SmoScore.preferences, this.score, pref);\r\n    smoSerialize.serializedMerge(SmoScore.preferences, this.storeScore, pref);\r\n    this.renderer.setDirty();\r\n  }\r\n  // ### updateScorePreferences\r\n  // The score preferences for view score have changed, sync them\r\n  updateScoreInfo(scoreInfo: SmoScoreInfo) {\r\n    this._undoScorePreferences('Update preferences');\r\n    // TODO: add action buffer here?\r\n    this.score.scoreInfo = scoreInfo;\r\n    this.storeScore.scoreInfo = JSON.parse(JSON.stringify(scoreInfo));\r\n    this.renderer.setDirty();\r\n  }\r\n\r\n  addRemoveMicrotone(tone: SmoMicrotone) {\r\n    this.actionBuffer.addAction('addRemoveMicrotone', tone);\r\n    const selections = this.tracker.selections;\r\n    const altSelections = this._getEquivalentSelections(selections);\r\n    const measureSelections = this._undoTrackerMeasureSelections('add/remove microtone');\r\n\r\n    SmoOperation.addRemoveMicrotone(null, selections, tone);\r\n    SmoOperation.addRemoveMicrotone(null, altSelections, tone);\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  addDynamic(dynamic: SmoDynamicText) {\r\n    const sel = this.tracker.selections[0];\r\n    if (typeof (dynamic) === 'string') {\r\n      const params = SmoDynamicText.defaults;\r\n      params.selector = sel.selector;\r\n      params.text = dynamic;\r\n      dynamic = new SmoDynamicText(params);\r\n    }\r\n    this.actionBuffer.addAction('addDynamic', dynamic);\r\n    this._undoFirstMeasureSelection('add dynamic');\r\n    this._removeDynamic(sel, dynamic);\r\n    const equiv = this._getEquivalentSelection(sel);\r\n    SmoOperation.addDynamic(sel, dynamic);\r\n    SmoOperation.addDynamic(equiv!, SmoNoteModifierBase.deserialize(dynamic.serialize() as any));\r\n    this.renderer.addToReplaceQueue(sel);\r\n  }\r\n  _removeDynamic(selection: SmoSelection, dynamic: SmoDynamicText) {\r\n    const equiv = this._getEquivalentSelection(selection);\r\n    if (equiv !== null && equiv.note !== null) {\r\n      const altModifiers = equiv.note.getModifiers('SmoDynamicText');\r\n      SmoOperation.removeDynamic(selection, dynamic);\r\n      if (altModifiers.length) {\r\n        SmoOperation.removeDynamic(equiv, altModifiers[0]);\r\n      }\r\n    }\r\n  }\r\n  removeDynamic(dynamic: SmoDynamicText) {\r\n    const sel = this.tracker.modifierSelections[0];\r\n    if (!sel.selection) {\r\n      return;\r\n    }\r\n    this.tracker.selections = [sel.selection];\r\n    this.actionBuffer.addAction('removeDynamic', dynamic);\r\n    this._undoFirstMeasureSelection('remove dynamic');\r\n    this._removeDynamic(sel.selection, dynamic);\r\n    this.renderer.addToReplaceQueue(sel.selection);\r\n  }\r\n  // ### deleteNote\r\n  // we never really delete a note, but we will convert it into a rest and if it's\r\n  // already a rest we will try to hide it.\r\n  deleteNote() {\r\n    this.actionBuffer.addAction('deleteNote');\r\n    const measureSelections = this._undoTrackerMeasureSelections('delete note');\r\n    this.tracker.selections.forEach((sel) => {\r\n      if (sel.note) {\r\n\r\n        const altSel = this._getEquivalentSelection(sel);\r\n\r\n        // set the pitch to be a good position for the rest\r\n        const pitch = JSON.parse(JSON.stringify(\r\n          SmoMeasure.defaultPitchForClef[sel.measure.clef]));\r\n        const altPitch = JSON.parse(JSON.stringify(\r\n          SmoMeasure.defaultPitchForClef[altSel!.measure.clef]));\r\n        sel.note.pitches = [pitch];\r\n        altSel!.note!.pitches = [altPitch];\r\n\r\n        // If the note is a note, make it into a rest.  If the note is a rest already,\r\n        // make it invisible.  If it is invisible already, make it back into a rest.\r\n        if (sel.note.isRest() && !sel.note.hidden) {\r\n          sel.note.makeHidden(true);\r\n          altSel!.note!.makeHidden(true);\r\n        } else {\r\n          sel.note.makeRest();\r\n          altSel!.note!.makeRest();\r\n          sel.note.makeHidden(false);\r\n          altSel!.note!.makeHidden(false);\r\n        }\r\n      }\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  // ### removeLyric\r\n  // The lyric editor moves around, so we can't depend on the tracker for the\r\n  // correct selection.  We get it directly from the editor.\r\n  removeLyric(selector: SmoSelector, lyric: SmoLyric) {\r\n    this.actionBuffer.addAction('removeLyric', selector, lyric);\r\n    const selection = SmoSelection.noteFromSelector(this.score, selector);\r\n    if (selection === null) {\r\n      return;\r\n    }\r\n    this._undoSelection('remove lyric', selection);\r\n    selection.note!.removeLyric(lyric);\r\n    const equiv = this._getEquivalentSelection(selection);\r\n    const storeLyric = equiv!.note!.getLyricForVerse(lyric.verse, lyric.parser);\r\n    if (typeof (storeLyric) !== 'undefined') {\r\n      equiv!.note!.removeLyric(lyric);\r\n    }\r\n    this.renderer.addToReplaceQueue(selection);\r\n  }\r\n\r\n  addOrUpdateLyric(selector: SmoSelector, lyric: SmoLyric) {\r\n    this.actionBuffer.addAction('addOrUpdateLyric', selector, lyric);\r\n    const selection = SmoSelection.noteFromSelector(this.score, selector);\r\n    if (selection === null) {\r\n      return;\r\n    }\r\n    this._undoSelection('update lyric', selection);\r\n    selection.note!.addLyric(lyric);\r\n    const equiv = this._getEquivalentSelection(selection);\r\n    const altLyric = SmoNoteModifierBase.deserialize(lyric.serialize() as any) as SmoLyric;\r\n    equiv!.note!.addLyric(altLyric);\r\n    this.renderer.addToReplaceQueue(selection);\r\n  }\r\n\r\n  depopulateVoice() {\r\n    this.actionBuffer.addAction('depopulateVoice');\r\n    const measureSelections = this._undoTrackerMeasureSelections('depopulate voice');\r\n    measureSelections.forEach((selection) => {\r\n      const ix = selection.measure.getActiveVoice();\r\n      if (ix !== 0) {\r\n        SmoOperation.depopulateVoice(selection, ix);\r\n        const equiv = this._getEquivalentSelection(selection);\r\n        SmoOperation.depopulateVoice(equiv!, ix);\r\n      }\r\n    });\r\n    SmoOperation.setActiveVoice(this.score, 0);\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  _changeActiveVoice(index: number): SmoSelection[] {\r\n    const measuresToAdd: SmoSelection[] = [];\r\n    const measureSelections = SmoSelection.getMeasureList(this.tracker.selections);\r\n    measureSelections.forEach((measureSelection) => {\r\n      if (index === measureSelection.measure.voices.length) {\r\n        measuresToAdd.push(measureSelection);\r\n      }\r\n    });\r\n    return measuresToAdd;\r\n  }\r\n  populateVoice(index: number) {\r\n    const measuresToAdd = this._changeActiveVoice(index);\r\n    if (measuresToAdd.length === 0) {\r\n      SmoOperation.setActiveVoice(this.score, index);\r\n      this.tracker.selectActiveVoice();\r\n      return;\r\n    }\r\n    this.actionBuffer.addAction('populateVoice', index);\r\n    measuresToAdd.forEach((selection) => {\r\n      this._undoSelection('popualteVoice', selection);\r\n      SmoOperation.populateVoice(selection, index);\r\n      const equiv = this._getEquivalentSelection(selection);\r\n      SmoOperation.populateVoice(equiv!, index);\r\n    });\r\n    SmoOperation.setActiveVoice(this.score, index);\r\n    this._renderChangedMeasures(measuresToAdd);\r\n  }\r\n  changeInstrument(instrument: SmoInstrument, selections: SmoSelection[]) {\r\n    if (typeof (selections) === 'undefined') {\r\n      selections = this.tracker.selections;\r\n    }\r\n    this.actionBuffer.addAction('changeInstrument', instrument, selections);\r\n    this._undoSelections('change instrument', selections);\r\n    const altSelections = this._getEquivalentSelections(selections);\r\n    SmoOperation.changeInstrument(instrument, selections);\r\n    SmoOperation.changeInstrument(instrument, altSelections);\r\n    this._renderChangedMeasures(selections);\r\n  }\r\n  setTimeSignature(timeSignature: TimeSignature) {\r\n    this.actionBuffer.addAction('setTimeSignature', timeSignature);\r\n    this._undoScore('Set time signature');\r\n    const selections = this.tracker.selections;\r\n    const altSelections = this._getEquivalentSelections(selections);\r\n    SmoOperation.setTimeSignature(this.score, selections, timeSignature);\r\n    SmoOperation.setTimeSignature(this.storeScore, altSelections, timeSignature);\r\n    this._renderChangedMeasures(SmoSelection.getMeasureList(this.tracker.selections));\r\n  }\r\n  moveStaffUpDown(index: number) {\r\n    this.actionBuffer.addAction('moveStaffUpDown', index);\r\n    this._undoScore('re-order staves');\r\n    // Get staff to move\r\n    const selection = this._getEquivalentSelection(this.tracker.selections[0]);\r\n    // Make the move in the model, and reset the view so we can see the new\r\n    // arrangement\r\n    SmoOperation.moveStaffUpDown(this.storeScore, selection!, index);\r\n    this.viewAll();\r\n  }\r\n  addOrUpdateStaffGroup(staffGroup: SmoSystemGroup) {\r\n    this.actionBuffer.addAction('addOrUpdateStaffGroup', staffGroup);\r\n    this._undoScore('group staves');\r\n    // Assume that the view is now set to full score\r\n    this.score.addOrReplaceSystemGroup(staffGroup);\r\n    this.storeScore.addOrReplaceSystemGroup(staffGroup);\r\n    this.renderer.setDirty();\r\n  }\r\n  addStaffGroupDown(braceType: number) {\r\n    this.actionBuffer.addAction('addStaffGroupDown', braceType);\r\n    this._undoScore('group staves');\r\n    const ft = this._getEquivalentSelection(this.tracker.getExtremeSelection(-1));\r\n    const tt = this._getEquivalentSelection(this.tracker.getExtremeSelection(1));\r\n    const selections = this._getEquivalentSelections(this.tracker.selections);\r\n    const params = SmoSystemGroup.defaults;\r\n    params.startSelector = ft!.selector;\r\n    params.endSelector = tt!.selector;\r\n    params.mapType = SmoSystemGroup.mapTypes.allMeasures;\r\n    params.leftConnector = braceType;\r\n    params.rightConnector = SmoSystemGroup.connectorTypes.single;\r\n\r\n    SmoOperation.addConnectorDown(this.storeScore, selections, new SmoSystemGroup(params));\r\n    this.viewAll();\r\n  }\r\n  // ### updateTempoScore\r\n  // Update the tempo for the entire score\r\n  updateTempoScore(tempo: SmoTempoText, scoreMode: boolean) {\r\n    let measureIndex = 0;\r\n    let startSelection = this.tracker.selections[0];\r\n    this._undoScore('update score tempo');\r\n    this.actionBuffer.addAction('updateTempoScore', tempo, scoreMode);\r\n    if (!scoreMode) {\r\n      startSelection = this.tracker.getExtremeSelection(-1);\r\n    }\r\n    const measureCount = this.score.staves[0].measures.length;\r\n    let endSelection = SmoSelection.measureSelection(this.score,\r\n      startSelection.selector.staff, measureCount - 1);\r\n    if (!scoreMode) {\r\n      endSelection = this.tracker.getExtremeSelection(1);\r\n    }\r\n    if (endSelection !== null) {\r\n      measureIndex = startSelection.selector.measure;\r\n      while (measureIndex <= endSelection.selector.measure) {\r\n        const mi = measureIndex;\r\n        this.score.staves.forEach((staff) => {\r\n          const msel = SmoSelection.measureSelection(this.score,\r\n            staff.staffId, mi);\r\n          if (msel) {\r\n            SmoOperation.addTempo(this.score, msel, tempo);\r\n          }\r\n        });\r\n        measureIndex++;\r\n      }\r\n      measureIndex = startSelection.selector.measure;\r\n      while (measureIndex <= endSelection.selector.measure) {\r\n        const mi = measureIndex;\r\n        this.storeScore.staves.forEach((staff) => {\r\n          const msel = SmoSelection.measureSelection(this.storeScore,\r\n            staff.staffId, mi);\r\n          if (msel !== null) {\r\n            SmoOperation.addTempo(this.storeScore, msel, tempo);\r\n          }\r\n        });\r\n        measureIndex++;\r\n      }\r\n    }\r\n    this.renderer.setRefresh();\r\n  }\r\n  removeTempo(scoreMode: boolean) {\r\n    this.actionBuffer.addAction('removeTempo', scoreMode);\r\n    const startSelection = this.tracker.selections[0];\r\n    if (startSelection.selector.measure > 0) {\r\n      const measureIx = startSelection.selector.measure - 1;\r\n      const target = startSelection.staff.measures[measureIx];\r\n      const tempo = target.getTempo();\r\n      this.updateTempoScore(tempo, scoreMode);\r\n    } else {\r\n      this.updateTempoScore(new SmoTempoText(SmoTempoText.defaults), scoreMode);\r\n    }\r\n  }\r\n  addGraceNote() {\r\n    this.actionBuffer.addAction('addGraceNote');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('add grace note');\r\n    selections.forEach((selection) => {\r\n      const index = selection.note!.getGraceNotes().length;\r\n      const pitches = JSON.parse(JSON.stringify(selection.note!.pitches));\r\n      const grace = new SmoGraceNote({\r\n        pitches, ticks:\r\n          { numerator: 2048, denominator: 1, remainder: 0 }\r\n      });\r\n      SmoOperation.addGraceNote(selection, grace, index);\r\n\r\n      const altPitches = JSON.parse(JSON.stringify(selection.note!.pitches));\r\n      const altGrace = new SmoGraceNote({\r\n        pitches: altPitches, ticks:\r\n          { numerator: 2048, denominator: 1, remainder: 0 }\r\n      });\r\n      altGrace.attrs.id = grace.attrs.id;\r\n      const altSelection = this._getEquivalentSelection(selection);\r\n      SmoOperation.addGraceNote(altSelection!, altGrace, index);\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  removeGraceNote() {\r\n    this.actionBuffer.addAction('removeGraceNote');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('remove grace note');\r\n    selections.forEach((selection) => {\r\n      // TODO: get the correct offset\r\n      SmoOperation.removeGraceNote(selection, 0);\r\n      const altSel = (this._getEquivalentSelection(selection));\r\n      SmoOperation.removeGraceNote(altSel!, 0);\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  slashGraceNotes() {\r\n    this.actionBuffer.addAction('slashGraceNotes');\r\n    const grace = this.tracker.getSelectedGraceNotes();\r\n    const measureSelections = this._undoTrackerMeasureSelections('slash grace note toggle');\r\n    grace.forEach((gn) => {\r\n      SmoOperation.slashGraceNotes(gn);\r\n      if (gn.selection !== null) {\r\n        const altSelection = this._getEquivalentSelection(gn.selection);\r\n        const altGn = this._getEquivalentGraceNote(altSelection!, gn.modifier as SmoGraceNote);\r\n        SmoOperation.slashGraceNotes({\r\n          selection: altSelection, modifier: altGn as any,\r\n          box: SvgBox.default, index: 0\r\n        });\r\n      }\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  // ### transposeSelections\r\n  // tranpose whatever is selected in tracker the given offset.\r\n  transposeSelections(offset: number) {\r\n    this.actionBuffer.addAction('transposeSelections', offset);\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('transpose');\r\n    const grace = this.tracker.getSelectedGraceNotes();\r\n    if (grace.length) {\r\n      grace.forEach((artifact) => {\r\n        if (artifact.selection !== null) {\r\n          const gn1 = artifact.modifier as SmoGraceNote;\r\n          SmoOperation.transposeGraceNotes(artifact.selection, [gn1], offset);\r\n          const altSelection = this._getEquivalentSelection(artifact.selection);\r\n          const gn2 = this._getEquivalentGraceNote(altSelection!, gn1);\r\n          SmoOperation.transposeGraceNotes(artifact.selection, [artifact.modifier as SmoGraceNote], offset);\r\n          SmoOperation.transposeGraceNotes(altSelection!, [gn2], offset);\r\n        }\r\n      });\r\n\r\n    } else {\r\n      selections.forEach((selected) => {\r\n        SmoOperation.transpose(selected, offset);\r\n        const altSel = this._getEquivalentSelection(selected);\r\n        SmoOperation.transpose(altSel!, offset);\r\n      });\r\n      if (selections.length === 1 && this.score.preferences.autoPlay) {\r\n        SuiOscillator.playSelectionNow(selections[0], 1);\r\n      }\r\n    }\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  toggleEnharmonic() {\r\n    this.actionBuffer.addAction('toggleEnharmonic');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('toggle enharmonic');\r\n    const grace = this.tracker.getSelectedGraceNotes();\r\n    if (grace.length) {\r\n      grace.forEach((artifact) => {\r\n        SmoOperation.toggleGraceNoteEnharmonic(artifact.selection!, [artifact.modifier as SmoGraceNote]);\r\n        const altSelection = this._getEquivalentSelection(artifact.selection!);\r\n        const altGr = this._getEquivalentGraceNote(altSelection!, artifact.modifier as SmoGraceNote);\r\n        SmoOperation.toggleGraceNoteEnharmonic(altSelection!,\r\n          [altGr]);\r\n      });\r\n    } else {\r\n      selections.forEach((selected) => {\r\n        if (typeof (selected.selector.pitches) === 'undefined') {\r\n          selected.selector.pitches = [];\r\n        }\r\n        SmoOperation.toggleEnharmonic(selected);\r\n        const altSel = this._getEquivalentSelection(selected);\r\n        SmoOperation.toggleEnharmonic(altSel!);\r\n      });\r\n    }\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  toggleCourtesyAccidentals() {\r\n    this.actionBuffer.addAction('toggleCourtesyAccidentals');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('toggle courtesy accidental');\r\n    const grace = this.tracker.getSelectedGraceNotes();\r\n    if (grace.length) {\r\n      grace.forEach((artifact) => {\r\n        const gn1 = [artifact.modifier] as SmoGraceNote[];\r\n        SmoOperation.toggleGraceNoteCourtesy(artifact.selection, gn1);\r\n        const altSel = this._getEquivalentSelection(artifact.selection!);\r\n        const gn2 = this._getEquivalentGraceNote(altSel!, gn1[0]);\r\n        SmoOperation.toggleGraceNoteCourtesy(altSel!, [gn2]);\r\n      });\r\n    } else {\r\n      selections.forEach((selection) => {\r\n        SmoOperation.toggleCourtesyAccidental(selection);\r\n        const altSel = this._getEquivalentSelection(selection);\r\n        SmoOperation.toggleCourtesyAccidental(altSel!);\r\n      });\r\n    }\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  batchDurationOperation(operation: BatchSelectionOperation) {\r\n    this.actionBuffer.addAction('batchDurationOperation', operation);\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('change duration');\r\n    const grace = this.tracker.getSelectedGraceNotes();\r\n    const graceMap: Record<string, BatchSelectionOperation> = {\r\n      doubleDuration: 'doubleGraceNoteDuration',\r\n      halveDuration: 'halveGraceNoteDuration'\r\n    };\r\n    if (grace.length && typeof (graceMap[operation]) !== 'undefined') {\r\n      operation = graceMap[operation];\r\n      grace.forEach((artifact) => {\r\n        (SmoOperation as any)[operation](artifact.selection, artifact.modifier);\r\n        const altSelection = this._getEquivalentSelection(artifact.selection!);\r\n        const gn2 = this._getEquivalentGraceNote(altSelection!, artifact.modifier as SmoGraceNote);\r\n        (SmoOperation as any)[operation](altSelection!, gn2);\r\n      });\r\n    } else {\r\n      const altAr = this._getEquivalentSelections(selections);\r\n      SmoOperation.batchSelectionOperation(this.score, selections, operation);\r\n      SmoOperation.batchSelectionOperation(this.storeScore, altAr, operation);\r\n    }\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  toggleArticulation(modifier: SmoArticulation | SmoOrnament, ctor: string) {\r\n    this.actionBuffer.addAction('toggleArticulation', modifier, ctor);\r\n    const measureSelections = this._undoTrackerMeasureSelections('toggle articulation');\r\n    this.tracker.selections.forEach((sel) => {\r\n      if (ctor === 'SmoArticulation') {\r\n        const articulation = modifier as SmoArticulation;\r\n        const aa = new SmoArticulation(articulation);\r\n        const altAa = new SmoArticulation(articulation);\r\n        altAa.attrs.id = aa.attrs.id;\r\n        SmoOperation.toggleArticulation(sel, aa);\r\n        const altSelection = this._getEquivalentSelection(sel);\r\n        SmoOperation.toggleArticulation(altSelection!, altAa);\r\n      } else {\r\n        const ornament = modifier as SmoOrnament;\r\n        const aa = new SmoOrnament(ornament);\r\n        const altAa = new SmoOrnament(ornament);\r\n        altAa.attrs.id = aa.attrs.id;\r\n        const altSelection = this._getEquivalentSelection(sel!);\r\n        SmoOperation.toggleOrnament(sel, aa);\r\n        SmoOperation.toggleOrnament(altSelection!, altAa);\r\n      }\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  makeTuplet(numNotes: number) {\r\n    this.actionBuffer.addAction('makeTuplet', numNotes);\r\n    const selection = this.tracker.selections[0];\r\n    const measureSelections = this._undoTrackerMeasureSelections('make tuplet');\r\n    SmoOperation.makeTuplet(selection, numNotes);\r\n    const altSelection = this._getEquivalentSelection(selection!);\r\n    SmoOperation.makeTuplet(altSelection!, numNotes);\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  unmakeTuplet() {\r\n    this.actionBuffer.addAction('unmakeTuplet');\r\n    const selection = this.tracker.selections[0];\r\n    const measureSelections = this._undoTrackerMeasureSelections('unmake tuplet');\r\n    SmoOperation.unmakeTuplet(selection);\r\n    const altSelection = this._getEquivalentSelection(selection);\r\n    SmoOperation.unmakeTuplet(altSelection!);\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  setInterval(interval: number) {\r\n    this.actionBuffer.addAction('setInterval', interval);\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('set interval');\r\n    selections.forEach((selected) => {\r\n      SmoOperation.interval(selected, interval);\r\n      const altSelection = this._getEquivalentSelection(selected);\r\n      SmoOperation.interval(altSelection!, interval);\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  collapseChord() {\r\n    this.actionBuffer.addAction('collapseChord');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('collapse chord');\r\n    selections.forEach((selected) => {\r\n      const note: SmoNote | null = selected.note;\r\n      if (note) {\r\n        const pp = JSON.parse(JSON.stringify(note.pitches[0]));\r\n        const altpp = JSON.parse(JSON.stringify(note.pitches[0]));\r\n        // No operation for this?\r\n        note.pitches = [pp];\r\n        const altSelection = this._getEquivalentSelection(selected);\r\n        altSelection!.note!.pitches = [altpp];\r\n      }\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  toggleSlash() {\r\n    this.actionBuffer.addAction('toggleSlash');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('make slash');\r\n    selections.forEach((selection) => {\r\n      SmoOperation.toggleSlash(selection);\r\n      const altSel = this._getEquivalentSelection(selection);\r\n      SmoOperation.toggleSlash(altSel!);\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  makeRest() {\r\n    this.actionBuffer.addAction('makeRest');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('make rest');\r\n    selections.forEach((selection) => {\r\n      SmoOperation.toggleRest(selection);\r\n      const altSel = this._getEquivalentSelection(selection);\r\n      SmoOperation.toggleRest(altSel!);\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  toggleBeamGroup() {\r\n    this.actionBuffer.addAction('toggleBeamGroup');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('toggle beam group');\r\n    selections.forEach((selection) => {\r\n      SmoOperation.toggleBeamGroup(selection);\r\n      const altSel = this._getEquivalentSelection(selection);\r\n      SmoOperation.toggleBeamGroup(altSel!);\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  toggleBeamDirection() {\r\n    this.actionBuffer.addAction('toggleBeamDirection');\r\n    const selections = this.tracker.selections;\r\n    if (selections.length < 1) {\r\n      return;\r\n    }\r\n    const measureSelections = this._undoTrackerMeasureSelections('toggle beam direction');\r\n    SmoOperation.toggleBeamDirection(selections);\r\n    SmoOperation.toggleBeamDirection(this._getEquivalentSelections(selections));\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  beamSelections() {\r\n    this.actionBuffer.addAction('beamSelections');\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('beam selections');\r\n    SmoOperation.beamSelections(this.score, selections);\r\n    SmoOperation.beamSelections(this.storeScore, this._getEquivalentSelections(selections));\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  addKeySignature(keySignature: string) {\r\n    this.actionBuffer.addAction('addKeySignature', keySignature);\r\n    const measureSelections = this._undoTrackerMeasureSelections('set key signature ' + keySignature);\r\n    measureSelections.forEach((sel) => {\r\n      SmoOperation.addKeySignature(this.score, sel, keySignature);\r\n      const altSel = this._getEquivalentSelection(sel);\r\n      SmoOperation.addKeySignature(this.storeScore, altSel!, keySignature);\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  /**\r\n   * Sets a pitch from the piano widget.\r\n   * @param pitch {Pitch}\r\n   * @param chordPedal {boolean} - indicates we are adding to a chord\r\n   */\r\n  setPitchPiano(pitch: Pitch, chordPedal: boolean) {\r\n    this.actionBuffer.addAction('setAbsolutePitch', pitch);\r\n    const measureSelections = this._undoTrackerMeasureSelections(\r\n      'setAbsolutePitch ' + pitch.letter + '/' + pitch.accidental);\r\n    this.tracker.selections.forEach((selected) => {\r\n      const npitch: Pitch = {\r\n        letter: pitch.letter,\r\n        accidental: pitch.accidental, octave: pitch.octave\r\n      };\r\n      const octave = SmoMeasure.defaultPitchForClef[selected.measure.clef].octave;\r\n      npitch.octave += octave;\r\n      const altSel = this._getEquivalentSelection(selected);\r\n      if (chordPedal && selected.note) {\r\n        selected.note.toggleAddPitch(npitch);\r\n        altSel!.note!.toggleAddPitch(npitch);\r\n      } else {\r\n        SmoOperation.setPitch(selected, [npitch]);\r\n        SmoOperation.setPitch(altSel!, [npitch]);\r\n      }\r\n    });\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  /**\r\n   * Add a pitch to the score at the cursor.  This tries to find the best pitch\r\n   * to match the letter key (F vs F# for instance) based on key and surrounding notes\r\n   * @param letter string\r\n   */\r\n  setPitch(letter: PitchLetter) {\r\n    this.actionBuffer.addAction('setPitch', letter);\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('set pitch ' + letter);\r\n    selections.forEach((selected) => {\r\n      const selector = selected.selector;\r\n      let hintSel = SmoSelection.lastNoteSelection(this.score,\r\n        selector.staff, selector.measure, selector.voice, selector.tick);\r\n      if (!hintSel) {\r\n        hintSel = SmoSelection.nextNoteSelection(this.score,\r\n          selector.staff, selector.measure, selector.voice, selector.tick);\r\n      }\r\n      // The selection no longer exists, possibly deleted\r\n      if (hintSel === null || hintSel.note === null) {\r\n        return;\r\n      }\r\n      const pitch = smoMusic.getLetterNotePitch(hintSel.note.pitches[0],\r\n        letter, hintSel.measure.keySignature);\r\n      SmoOperation.setPitch(selected, [pitch]);\r\n      const altSel = this._getEquivalentSelection(selected);\r\n      SmoOperation.setPitch(altSel!, [pitch]);\r\n      if (this.score.preferences.autoAdvance) {\r\n        this.tracker.moveSelectionRight(null, true);\r\n      }\r\n    });\r\n    if (selections.length === 1 && this.score.preferences.autoPlay) {\r\n      SuiOscillator.playSelectionNow(selections[0], 1);\r\n    }\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  copy() {\r\n    this.actionBuffer.addAction('copy');\r\n    this.pasteBuffer.setSelections(this.score, this.tracker.selections);\r\n    const altAr: SmoSelection[] = [];\r\n    this.tracker.selections.forEach((sel) => {\r\n      const noteSelection = this._getEquivalentSelection(sel);\r\n      if (noteSelection !== null) {\r\n        altAr.push(noteSelection);\r\n      }\r\n    });\r\n    this.storePaste.setSelections(this.storeScore, altAr);\r\n  }\r\n  paste() {\r\n    // We undo the whole score on a paste, since we don't yet know the\r\n    // extent of the overlap\r\n    this.actionBuffer.addAction('paste');\r\n    this._undoScore('paste');\r\n    this.renderer.preserveScroll();\r\n    const firstSelection = this.tracker.selections[0];\r\n    const pasteTarget = firstSelection.selector;\r\n    const altSelection = this._getEquivalentSelection(firstSelection);\r\n    const altTarget = altSelection!.selector;\r\n    this.pasteBuffer.pasteSelections(this.score, pasteTarget);\r\n    this.storePaste.pasteSelections(this.storeScore, altTarget);\r\n    this._renderChangedMeasures(this.pasteBuffer.replacementMeasures);\r\n  }\r\n  setNoteHead(head: string) {\r\n    this.actionBuffer.addAction('setNoteHead', head);\r\n    const selections = this.tracker.selections;\r\n    const measureSelections = this._undoTrackerMeasureSelections('set note head');\r\n    SmoOperation.setNoteHead(selections, head);\r\n    SmoOperation.setNoteHead(this._getEquivalentSelections(selections), head);\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n\r\n  addEnding() {\r\n    // TODO: we should have undo for columns\r\n    this._undoScore('Add Volta');\r\n    this.actionBuffer.addAction('addEnding');\r\n    const ft = this.tracker.getExtremeSelection(-1);\r\n    const tt = this.tracker.getExtremeSelection(1);\r\n    const params = SmoVolta.defaults;\r\n    params.startBar = ft.selector.measure;\r\n    params.endBar = tt.selector.measure;\r\n    params.number = 1;\r\n    const volta = new SmoVolta(params);\r\n    const altVolta = new SmoVolta(params);\r\n    SmoOperation.addEnding(this.storeScore, altVolta);\r\n    SmoOperation.addEnding(this.score, volta);\r\n    this.renderer.setRefresh();\r\n  }\r\n  updateEnding(ending: SmoVolta) {\r\n    this.actionBuffer.addAction('updateEnding', ending);\r\n    this._undoScore('Change Volta');\r\n    $(this.renderer.context.svg).find('g.' + ending.attrs.id).remove();\r\n    SmoOperation.removeEnding(this.storeScore, ending);\r\n    SmoOperation.removeEnding(this.score, ending);\r\n    const altVolta = new SmoVolta(ending);\r\n    SmoOperation.addEnding(this.storeScore, altVolta);\r\n    SmoOperation.addEnding(this.score, ending);\r\n    this.renderer.setRefresh();\r\n  }\r\n  removeEnding(ending: SmoVolta) {\r\n    this.actionBuffer.addAction('removeEnding', ending);\r\n    this._undoScore('Remove Volta');\r\n    $(this.renderer.context.svg).find('g.' + ending.attrs.id).remove();\r\n    SmoOperation.removeEnding(this.storeScore, ending);\r\n    SmoOperation.removeEnding(this.score, ending);\r\n    this.renderer.setRefresh();\r\n  }\r\n  setBarline(position: number, barline: number) {\r\n    this.actionBuffer.addAction('setBarline', position, barline);\r\n    const obj = new SmoBarline({ position, barline });\r\n    const altObj = new SmoBarline({ position, barline });\r\n    const selection = this.tracker.selections[0];\r\n    this._undoColumn('set barline', selection.selector.measure);\r\n    SmoOperation.setMeasureBarline(this.score, selection, obj);\r\n    const altSel = this._getEquivalentSelection(selection);\r\n    SmoOperation.setMeasureBarline(this.storeScore, altSel!, altObj);\r\n    this._renderChangedMeasures([selection]);\r\n  }\r\n  setRepeatSymbol(position: number, symbol: number) {\r\n    this.actionBuffer.addAction('setRepeatSymbol', position, symbol);\r\n    const params = SmoRepeatSymbol.defaults;\r\n    params.position = position;\r\n    params.symbol = symbol;\r\n    const obj = new SmoRepeatSymbol(params);\r\n    const altObj = new SmoRepeatSymbol(params);\r\n    const selection = this.tracker.selections[0];\r\n    this._undoColumn('set repeat symbol', selection.selector.measure);\r\n    SmoOperation.setRepeatSymbol(this.score, selection, obj);\r\n    const altSel = this._getEquivalentSelection(selection);\r\n    SmoOperation.setRepeatSymbol(this.storeScore, altSel!, altObj);\r\n    this._renderChangedMeasures([selection]);\r\n  }\r\n  toggleRehearsalMark() {\r\n    this.actionBuffer.addAction('toggleRehearsalMark');\r\n    const selection = this.tracker.getExtremeSelection(-1);\r\n    const altSelection = this._getEquivalentSelection(selection);\r\n    const cmd = selection.measure.getRehearsalMark() ? 'removeRehearsalMark' : 'addRehearsalMark';\r\n    SmoOperation[cmd](this.score, selection, new SmoRehearsalMark(SmoRehearsalMark.defaults));\r\n    SmoOperation[cmd](this.storeScore, altSelection!, new SmoRehearsalMark(SmoRehearsalMark.defaults));\r\n    this._renderChangedMeasures([selection]);\r\n  }\r\n  _removeStaffModifier(modifier: StaffModifierBase) {\r\n    this.score.staves[modifier.startSelector.staff].removeStaffModifier(modifier);\r\n    const altModifier = StaffModifierBase.deserialize(modifier.serialize());\r\n    altModifier.startSelector = this._getEquivalentSelector(altModifier.startSelector);\r\n    altModifier.endSelector = this._getEquivalentSelector(altModifier.endSelector);\r\n    this.storeScore.staves[altModifier.startSelector.staff].removeStaffModifier(altModifier);\r\n  }\r\n  removeStaffModifier(modifier: StaffModifierBase) {\r\n    this.actionBuffer.addAction('removeStaffModifier', modifier);\r\n    this._undoStaffModifier('Set measure proportion', modifier,\r\n      UndoBuffer.bufferSubtypes.REMOVE);\r\n    this._removeStaffModifier(modifier);\r\n    this._removeStandardModifier(modifier);\r\n    this._renderRectangle(modifier.startSelector, modifier.endSelector);\r\n  }\r\n  addOrUpdateStaffModifier(original: StaffModifierBase, modifier: StaffModifierBase) {\r\n    if (!modifier) {\r\n      if (original) {\r\n        // Handle legacy API changed\r\n        modifier = StaffModifierBase.deserialize(original);\r\n      } else {\r\n        console.warn('update modifier: bad modifier');\r\n        return;\r\n      }\r\n    }\r\n    this.actionBuffer.addAction('addOrUpdateStaffModifier', modifier);\r\n    const existing = this.score.staves[modifier.startSelector.staff]\r\n      .getModifier(modifier);\r\n    const subtype = existing === null ? UndoBuffer.bufferSubtypes.ADD :\r\n      UndoBuffer.bufferSubtypes.UPDATE;\r\n    this._undoStaffModifier('Set measure proportion', original,\r\n      subtype);\r\n    this._removeStaffModifier(modifier);\r\n    const copy = StaffModifierBase.deserialize(modifier.serialize());\r\n    copy.startSelector = this._getEquivalentSelector(copy.startSelector);\r\n    copy.endSelector = this._getEquivalentSelector(copy.endSelector);\r\n    const sel = SmoSelection.noteFromSelector(this.score, modifier.startSelector);\r\n    if (sel !== null) {\r\n      const altSel = this._getEquivalentSelection(sel);\r\n      SmoOperation.addStaffModifier(sel, modifier);\r\n      SmoOperation.addStaffModifier(altSel!, copy);\r\n    }\r\n    this._renderRectangle(modifier.startSelector, modifier.endSelector);\r\n  }\r\n  _lineOperation(op: string) {\r\n    // if (this.tracker.selections.length < 2) {\r\n    //   return;\r\n    // }\r\n    const measureSelections = this._undoTrackerMeasureSelections(op);\r\n    const ft = this.tracker.getExtremeSelection(-1);\r\n    const tt = this.tracker.getExtremeSelection(1);\r\n    const ftAlt = this._getEquivalentSelection(ft);\r\n    const ttAlt = this._getEquivalentSelection(tt);\r\n    const modifier = (SmoOperation as any)[op](ft, tt);\r\n    (SmoOperation as any)[op](ftAlt, ttAlt);\r\n    this._undoStaffModifier('add ' + op, modifier, UndoBuffer.bufferSubtypes.ADD);\r\n    this._renderChangedMeasures(measureSelections);\r\n  }\r\n  crescendo() {\r\n    this.actionBuffer.addAction('crescendo');\r\n    this._lineOperation('crescendo');\r\n  }\r\n  decrescendo() {\r\n    this.actionBuffer.addAction('decrescendo');\r\n    this._lineOperation('decrescendo');\r\n  }\r\n  slur() {\r\n    this.actionBuffer.addAction('slur');\r\n    this._lineOperation('slur');\r\n  }\r\n  tie() {\r\n    this.actionBuffer.addAction('tie');\r\n    this._lineOperation('tie');\r\n  }\r\n  setGlobalLayout(layout: SmoGlobalLayout) {\r\n    this.actionBuffer.addAction('setGlobalLayout', layout);\r\n    this._undoScore('Set Global Layout');\r\n    const original = this.score.layoutManager!.getGlobalLayout().svgScale;\r\n    this.score.layoutManager!.updateGlobalLayout(layout);\r\n    this.score.scaleTextGroups(original / layout.svgScale);\r\n    this.storeScore.layoutManager!.updateGlobalLayout(layout);\r\n    this.renderer.rerenderAll();\r\n  }\r\n  setPageLayout(layout: SmoPageLayout, pageIndex: number) {\r\n    this.actionBuffer.addAction('setPageLayout', layout);\r\n    this._undoScore('Set Page Layout');\r\n    this.actionBuffer.addAction('setScoreLayout', layout);\r\n    this.score.layoutManager!.updatePage(layout, pageIndex);\r\n    this.storeScore.layoutManager!.updatePage(layout, pageIndex);\r\n    this.renderer.rerenderAll();\r\n  }\r\n  setEngravingFontFamily(family: string) {\r\n    this.actionBuffer.addAction('setEngravingFontFamily', family);\r\n    const engrave = this.score.fonts.find((fn) => fn.purpose === SmoScore.fontPurposes.ENGRAVING);\r\n    const altEngrave = this.storeScore.fonts.find((fn) => fn.purpose === SmoScore.fontPurposes.ENGRAVING);\r\n    if (engrave && altEngrave) {\r\n      engrave.family = family;\r\n      altEngrave.family = family;\r\n      SuiRenderState.setFont(engrave.family);\r\n    }\r\n  }\r\n  setChordFont(fontInfo: FontInfo) {\r\n    this.actionBuffer.addAction('setChordFont', fontInfo);\r\n    this._undoScore('Set Chord Font');\r\n    this.score.setChordFont(fontInfo);\r\n    this.storeScore.setChordFont(fontInfo);\r\n    this.renderer.setRefresh();\r\n  }\r\n  setLyricFont(fontInfo: FontInfo) {\r\n    this.actionBuffer.addAction('setLyricFont', fontInfo);\r\n    this._undoScore('Set Lyric Font');\r\n    this.score.setLyricFont(fontInfo);\r\n    this.storeScore.setLyricFont(fontInfo);\r\n    this.renderer.setRefresh();\r\n  }\r\n  setLyricAdjustWidth(value: boolean) {\r\n    this.actionBuffer.addAction('setLyricAdjustWidth', value);\r\n    this._undoScore('Set Lyric Adj Width');\r\n    this.score.setLyricAdjustWidth(value);\r\n    this.storeScore.setLyricAdjustWidth(value);\r\n    this.renderer.setRefresh();\r\n  }\r\n  deleteMeasure() {\r\n    this.actionBuffer.addAction('deleteMeasure');\r\n    this._undoScore('Delete Measure');\r\n    if (this.storeScore.staves[0].measures.length < 2) {\r\n      return;\r\n    }\r\n    const selections = SmoSelection.getMeasureList(this.tracker.selections);\r\n    // THe measures get renumbered, so keep the index at 0\r\n    const index = selections[0].selector.measure;\r\n    selections.forEach((selection) => {\r\n      // Unrender the deleted measure\r\n      this.score.staves.forEach((staff) => {\r\n        this.renderer.unrenderMeasure(staff.measures[index]);\r\n        this.renderer.unrenderMeasure(staff.measures[staff.measures.length - 1]);\r\n        // A little hacky - delete the modifiers if they start or end on\r\n        // the measure\r\n        staff.modifiers.forEach((modifier) => {\r\n          if (modifier.startSelector.measure === index || modifier.endSelector.measure === index) {\r\n            $(this.renderer.context.svg).find('g.' + modifier.attrs.id).remove();\r\n          }\r\n        });\r\n      });\r\n      // Remove the SVG artifacts mapped to this measure.\r\n      this.tracker.deleteMeasure(selection);\r\n      this.score.deleteMeasure(index);\r\n      this.storeScore.deleteMeasure(index);\r\n    });\r\n    this.tracker.loadScore();\r\n    this.renderer.setRefresh();\r\n  }\r\n  addMeasures(append: boolean, numberToAdd: number) {\r\n    let pos = 0;\r\n    let ix = 0;\r\n    this.actionBuffer.addAction('addMeasures', append, numberToAdd);\r\n    this._undoScore('Add Measure');\r\n    for (ix = 0; ix < numberToAdd; ++ix) {\r\n      const measure = this.tracker.getFirstMeasureOfSelection();\r\n      if (measure) {\r\n        const nmeasure = SmoMeasure.getDefaultMeasureWithNotes(measure);\r\n        pos = measure.measureNumber.measureIndex;\r\n        if (append) {\r\n          pos += 1;\r\n        }\r\n        nmeasure.measureNumber.measureIndex = pos;\r\n        nmeasure.setActiveVoice(0);\r\n        this.score.addMeasure(pos);\r\n        this.storeScore.addMeasure(pos);\r\n      }\r\n    }\r\n    this.renderer.setRefresh();\r\n  }\r\n  addMeasure(append: boolean) {\r\n    this.actionBuffer.addAction('addMeasure', append);\r\n    this._undoScore('Add Measure');\r\n    let pos = 0;\r\n    const measure = this.tracker.getFirstMeasureOfSelection();\r\n    if (!measure) {\r\n      return;\r\n    }\r\n    const nmeasure = SmoMeasure.getDefaultMeasureWithNotes(measure);\r\n    pos = measure.measureNumber.measureIndex;\r\n    if (append) {\r\n      pos += 1;\r\n    }\r\n    nmeasure.measureNumber.measureIndex = pos;\r\n    nmeasure.setActiveVoice(0);\r\n    this.score.addMeasure(pos);\r\n    this.storeScore.addMeasure(pos);\r\n    this.renderer.clearLine(measure);\r\n    this.renderer.setRefresh();\r\n  }\r\n  removeStaff() {\r\n    this.actionBuffer.addAction('removeStaff');\r\n    this._undoScore('Remove Instrument');\r\n    if (this.storeScore.staves.length < 2 || this.score.staves.length < 2) {\r\n      return;\r\n    }\r\n    // if we are looking at a subset of the score,\r\n    // revert to the full score view before removing the staff.\r\n    const sel = this.tracker.selections[0];\r\n    const scoreSel = this._getEquivalentSelection(sel);\r\n    const staffIndex = scoreSel!.selector.staff;\r\n    SmoOperation.removeStaff(this.storeScore, staffIndex);\r\n    this.viewAll();\r\n    this.renderer.setRefresh();\r\n  }\r\n  addStaff(instrument: SmoSystemStaffParams) {\r\n    this.actionBuffer.addAction('addStaff', instrument);\r\n    this._undoScore('Add Instrument');\r\n    // if we are looking at a subset of the score, we won't see the new staff.  So\r\n    // revert to the full view\r\n    SmoOperation.addStaff(this.storeScore, instrument);\r\n    this.viewAll();\r\n  }\r\n  saveScore(filename: string) {\r\n    const json = this.storeScore.serialize();\r\n    const jsonText = JSON.stringify(json);\r\n    htmlHelpers.addFileLink(filename, jsonText, $('.saveLink'));\r\n    $('.saveLink a')[0].click();\r\n  }\r\n  saveMidi(filename: string) {\r\n    const bytes = SmoToMidi.convert(this.storeScore);\r\n    htmlHelpers.addFileLink(filename, bytes, $('.saveLink'), 'audio/midi');\r\n    $('.saveLink a')[0].click();\r\n  }\r\n  saveXml(filename: string) {\r\n    const dom = SmoToXml.convert(this.storeScore);\r\n    const ser = new XMLSerializer();\r\n    const xmlText = ser.serializeToString(dom);\r\n    htmlHelpers.addFileLink(filename, xmlText, $('.saveLink'));\r\n    $('.saveLink a')[0].click();\r\n  }\r\n  saveActions(filename: string) {\r\n    const jsonText = JSON.stringify(this.actionBuffer.actions);\r\n    htmlHelpers.addFileLink(filename, jsonText, $('.saveLink'));\r\n    $('.saveLink a')[0].click();\r\n  }\r\n  quickSave() {\r\n    const scoreStr = JSON.stringify(this.storeScore.serialize());\r\n    localStorage.setItem(smoSerialize.localScore, scoreStr);\r\n  }\r\n  createPickup(duration: number) {\r\n    const sel = this.tracker.selections[0];\r\n    const measureIndex = sel.selector.measure;\r\n    this._undoColumn('create pickup', measureIndex);\r\n    this.actionBuffer.addAction('createPickup', duration);\r\n    this.score.convertToPickupMeasure(sel.selector.measure, duration);\r\n    this.storeScore.convertToPickupMeasure(sel.selector.measure, duration);\r\n    this.renderer.setRefresh();\r\n  }\r\n  _columnAction(label: string, value: any, method: string) {\r\n    this.actionBuffer.addAction(label, value);\r\n    const fromSelector = this.tracker.getExtremeSelection(-1).selector;\r\n    const toSelector = this.tracker.getExtremeSelection(1).selector;\r\n    const measureSelections = this.tracker.getSelectedMeasures();\r\n    measureSelections.forEach((m) => {\r\n      this._undoColumn(label + value.toString(), m.selector.measure);\r\n      (SmoOperation as any)[method](this.score, m, value);\r\n      const alt = this._getEquivalentSelection(m);\r\n      (SmoOperation as any)[method](this.storeScore, alt, value);\r\n    });\r\n    this._renderRectangle(fromSelector, toSelector);\r\n  }\r\n  setMeasureFormat(format: SmoMeasureFormat) {\r\n    this._columnAction('set measure format', format, 'setMeasureFormat');\r\n  }\r\n\r\n  replayActions() {\r\n    if (!this.actionBuffer.endCondition) {\r\n      return;\r\n    }\r\n    const prefs = JSON.parse(JSON.stringify(this.score.preferences));\r\n    this.storeScore.preferences.autoPlay = false;\r\n    this.storeScore.preferences.autoAdvance = false;\r\n    this.score.preferences = JSON.parse(JSON.stringify(this.storeScore.preferences));\r\n    const oldPollTime = SmoConfig.demonPollTime;\r\n    const oldRedrawTime = SmoConfig.idleRedrawTime;\r\n    const recover = () => {\r\n      this.score.preferences = prefs;\r\n      this.storeScore.preferences = JSON.parse(JSON.stringify(prefs));\r\n      SmoConfig.demonPollTime = oldPollTime;\r\n      SmoConfig.idleRedrawTime = oldRedrawTime;\r\n    };\r\n    SmoConfig.demonPollTime = 50;\r\n    SmoConfig.idleRedrawTime = 3000;\r\n    const playback = new SuiActionPlayback(this.actionBuffer, this);\r\n    playback.start().then(recover);\r\n  }\r\n\r\n  // Tracker operations, used for macro replay\r\n  moveHome(ev: KeyEvent) {\r\n    this.tracker.moveHome(ev);\r\n  }\r\n  moveEnd(ev: KeyEvent) {\r\n    this.tracker.moveEnd(ev);\r\n  }\r\n  growSelectionLeft() {\r\n    this.tracker.growSelectionLeft();\r\n  }\r\n  growSelectionRight() {\r\n    this.tracker.growSelectionRight();\r\n  }\r\n  advanceModifierSelection(keyEv: KeyEvent) {\r\n    this.tracker.advanceModifierSelection(keyEv);\r\n  }\r\n  growSelectionRightMeasure() {\r\n    this.tracker.growSelectionRightMeasure();\r\n  }\r\n  moveSelectionRight(ev: KeyEvent) {\r\n    this.tracker.moveSelectionRight(ev, true);\r\n  }\r\n  moveSelectionLeft() {\r\n    this.tracker.moveSelectionLeft();\r\n  }\r\n  moveSelectionLeftMeasure() {\r\n    this.tracker.moveSelectionLeftMeasure();\r\n  }\r\n  moveSelectionRightMeasure() {\r\n    this.tracker.moveSelectionRightMeasure();\r\n  }\r\n  moveSelectionPitchUp() {\r\n    this.tracker.moveSelectionPitchUp();\r\n  }\r\n  moveSelectionPitchDown() {\r\n    this.tracker.moveSelectionPitchDown();\r\n  }\r\n  moveSelectionUp() {\r\n    this.tracker.moveSelectionUp();\r\n  }\r\n  moveSelectionDown() {\r\n    this.tracker.moveSelectionDown();\r\n  }\r\n  selectSuggestion(evData: KeyEvent) {\r\n    this.tracker.selectSuggestion(evData);\r\n  }\r\n  intersectingArtifact(evData: SvgBox) {\r\n    this.tracker.intersectingArtifact(evData);\r\n  }\r\n  setSelection(selector: SmoSelector) {\r\n    const selection = SmoSelection.selectionFromSelector(this.score, selector);\r\n    if (selection) {\r\n      this.tracker.selections = [selection];\r\n    }\r\n  }\r\n  selectSuggestionNote(selector: SmoSelector, evData: KeyEvent) {\r\n    const key = SmoSelector.getNoteKey(selector);\r\n    if (typeof (this.tracker.measureNoteMap[key]) !== 'undefined') {\r\n      this.tracker.suggestion = this.tracker.measureNoteMap[SmoSelector.getNoteKey(selector)];\r\n      this.tracker.selectSuggestion(evData);\r\n    }\r\n  }\r\n  selectSuggestionModifier(selector: SmoSelector, evData: KeyEvent, modifierObj: any) {\r\n    let modIndex = -1;\r\n    // TODO: this looks fishy...\r\n    if (typeof (modifierObj.startSelector) !== 'undefined' && typeof (modifierObj.endSelector) !== 'undefined') {\r\n      modIndex = this.tracker.modifierTabs.findIndex((tb) =>\r\n        modifierObj.ctor === tb.modifier.ctor &&\r\n        SmoSelector.eq(tb.selection!.selector, selector) && SmoSelector.eq((tb.modifier as any).startSelector, modifierObj.startSelector) &&\r\n        SmoSelector.eq((tb.modifier as any).endSelector, modifierObj.endSelector));\r\n    } else {\r\n      // TODO: grace notes have multiple per note and no selector\r\n      modIndex = this.tracker.modifierTabs.findIndex((tb) =>\r\n        modifierObj.ctor === tb.modifier.ctor &&\r\n        SmoSelector.eq(tb.selection!.selector, selector));\r\n    }\r\n    if (modIndex >= 0) {\r\n      this.tracker.modifierSuggestion = modIndex;\r\n      this.tracker.selectSuggestion(evData);\r\n    }\r\n  }\r\n  refreshViewport() {\r\n    this.renderer.preserveScroll();\r\n    this.renderer.setViewport(true);\r\n    this.renderer.setRefresh();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { SvgBox, SvgPoint } from '../../smo/data/common';\r\ndeclare var $: any;\r\nexport interface ScrollState {\r\n  initial: SvgPoint,\r\n  scroll: SvgPoint\r\n}\r\n// ## suiScroller\r\n// Respond to scroll events, and handle the scroll of the viewport\r\n//\r\n//\r\n// ---\r\nexport class SuiScroller {\r\n  selector: string;\r\n  _scroll: SvgPoint;\r\n  _scrollInitial: SvgPoint;\r\n  _offsetInitial: SvgPoint;\r\n  viewport: SvgBox = SvgBox.default;\r\n  // ### constructor\r\n  // selector is the scrollable DOM container of the music container\r\n  // (grandparent of svg element)\r\n  constructor(selector: string) {\r\n    this.selector = selector;\r\n    this._scroll = { x: 0, y: 0 };\r\n    this._scrollInitial = { x: 0, y: 0 };\r\n    const scroller = $(selector);\r\n    this._offsetInitial = { x: $(scroller).offset().left, y: $(scroller).offset().top };\r\n    this.updateViewport();\r\n  }\r\n\r\n  get scrollState(): ScrollState {\r\n    const initial = JSON.parse(JSON.stringify(this._scrollInitial));\r\n    const scroll = JSON.parse(JSON.stringify(this._scroll));\r\n    return { initial, scroll };\r\n  }\r\n  restoreScrollState(state: ScrollState) {\r\n    this.scrollOffset(state.scroll.x - this._scroll.x, state.scroll.y - this._scroll.y);\r\n  }\r\n\r\n  // ### handleScroll\r\n  // update viewport in response to scroll events\r\n  handleScroll(x: number, y: number) {\r\n    this._scroll = { x, y };\r\n    this.viewport = svgHelpers.boxPoints(\r\n      $(this.selector).offset().left,\r\n      $(this.selector).offset().top,\r\n      $(this.selector).width(),\r\n      $(this.selector).height());\r\n  }\r\n\r\n  scrollAbsolute(x: number, y: number) {\r\n    $(this.selector)[0].scrollLeft = x;\r\n    $(this.selector)[0].scrollTop = y;\r\n    this.netScroll.x = this._scroll.x = x;\r\n    this.netScroll.y = this._scroll.y = y;\r\n  }\r\n\r\n  // ### scrollVisible\r\n  // Scroll such that the box is fully visible, if possible (if it is\r\n  // not larger than the screen)\r\n  scrollVisibleBox(box: SvgBox) {\r\n    let xoff = 0;\r\n    let yoff = 0;\r\n    const curBox = this.scrollBox;\r\n    if (box.width > curBox.width || box.height > curBox.height) {\r\n      return;\r\n    }\r\n    if (box.height < curBox.height) {\r\n      if (box.y < curBox.y) {\r\n        yoff = box.y - (curBox.y + 25);\r\n      } else if (box.y + box.height > curBox.y + curBox.height) {\r\n        yoff = box.y + box.height - (curBox.y + curBox.height) + 25;\r\n      }\r\n    }\r\n\r\n    if (box.x < curBox.width) {\r\n      if (box.x < curBox.x) {\r\n        xoff = box.x - curBox.x;\r\n      } else if (box.x + box.width > curBox.x + curBox.width) {\r\n        xoff = box.x + box.width - (curBox.x + curBox.width);\r\n      }\r\n    }\r\n\r\n    if (xoff !== 0 || yoff !== 0) {\r\n      this.scrollOffset(xoff, yoff);\r\n    }\r\n  }\r\n  // Update viewport size, and also fix height of scroll region.\r\n  updateViewport() {\r\n    $(this.selector).css('height', (window.innerHeight - $(this.selector).offset().top).toString() + 'px');\r\n    this.viewport = svgHelpers.boxPoints(\r\n      $(this.selector).offset().left,\r\n      $(this.selector).offset().top,\r\n      $(this.selector).width(),\r\n      $(this.selector).height());\r\n  }\r\n\r\n  // ### scrollBox\r\n  // get the current viewport, in scrolled coordinates.  When tracker maps the\r\n  // music element to client coordinates, these are the coordinates used in the\r\n  // map\r\n  get scrollBox(): SvgBox {\r\n    return svgHelpers.boxPoints(this.viewport.x + this.netScroll.x,\r\n      this.viewport.y + this.netScroll.y,\r\n      this.viewport.width,\r\n      this.viewport.height\r\n    );\r\n  }\r\n\r\n  get absScroll(): SvgBox {\r\n    var x = $(this.selector).offset().left + $(this.selector)[0].scrollLeft;\r\n    var y = $(this.selector).offset().top + $(this.selector)[0].scrollTop;\r\n    return svgHelpers.boxPoints(x,\r\n      y,\r\n      this.viewport.width,\r\n      this.viewport.height\r\n    );\r\n  }\r\n\r\n  // ### scrollOffset\r\n  // scroll the offset from the starting scroll point\r\n  scrollOffset(x: number, y: number) {\r\n    const self = this;\r\n    const cur = { x: this._scroll.x, y: this._scroll.y };\r\n    setTimeout(() => {\r\n      if (x) {\r\n        $(this.selector)[0].scrollLeft = cur.x + x;\r\n      }\r\n      if (y) {\r\n        $(this.selector)[0].scrollTop = cur.y + y;\r\n      }\r\n      self.handleScroll($(this.selector)[0].scrollLeft, $(this.selector)[0].scrollTop);\r\n    }, 1);\r\n  }\r\n\r\n  // ### netScroll\r\n  // return the net amount we've scrolled, based on when the maps were make (initial)\r\n  // , the offset of the container, and the absolute coordinates of the scrollbar.\r\n  get netScroll() {\r\n    var xoffset = $(this.selector).offset().left - this._offsetInitial.x;\r\n    var yoffset = $(this.selector).offset().top - this._offsetInitial.y;\r\n    return { x: this._scroll.x - xoffset, y: this._scroll.y - yoffset };\r\n  }\r\n\r\n  // ### invScroll\r\n  // invert the scroll parameters.\r\n  get invScroll() {\r\n    var vect = this.netScroll;\r\n    return { x: vect.x * (-1), y: vect.y * (-1) };\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiInlineText, SuiTextBlock } from './textRender';\r\nimport { PromiseHelpers } from '../../common/promiseHelpers';\r\nimport { OutlineInfo, StrokeInfo, svgHelpers } from '../../common/svgHelpers';\r\nimport { SmoScoreText, SmoTextGroup } from '../../smo/data/scoreModifiers';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\nimport { SuiRenderState } from './renderState';\r\nimport { SmoLyric } from '../../smo/data/noteModifiers';\r\nimport { SmoSelector } from '../../smo/xform/selections';\r\nimport { SuiScroller } from './scroller';\r\nimport { SvgBox } from '../../smo/data/common';\r\nimport { KeyEvent } from './tracker';\r\nimport { SmoNote } from '../../smo/data/note';\r\nimport { SmoScore } from '../../smo/data/score';\r\n\r\nconst VF = eval('Vex.Flow');\r\ndeclare var $: any;\r\n\r\nexport interface SuiTextEditorParams {\r\n  context: any,\r\n  scroller: SuiScroller,\r\n  x: number,\r\n  y: number,\r\n  text: string\r\n}\r\n\r\nexport interface SuiDragSessionParams {\r\n  context: any;\r\n  scroller: SuiScroller;\r\n  xOffset: number;\r\n  yOffset: number;\r\n  textObject: SuiTextBlock;\r\n  dragging: boolean;\r\n  startBox: SvgBox;\r\n  currentBox: SvgBox;\r\n  currentClientBox: SvgBox;\r\n  textGroup: SmoTextGroup;\r\n}\r\n\r\nexport interface SuiLyricEditorParams extends SuiTextEditorParams {\r\n  lyric: SmoLyric\r\n}\r\n\r\nexport interface SuiTextSessionParams {\r\n  scroller: SuiScroller;\r\n  renderer: any;\r\n  scoreText: SmoScoreText;\r\n  text: string;\r\n  x: number;\r\n  y: number;\r\n  textGroup: SmoTextGroup;\r\n}\r\n\r\nexport interface SuiLyricSessionParams {\r\n  score: SmoScore;\r\n  renderer: SuiRenderState;\r\n  scroller: SuiScroller;\r\n  view: any;\r\n  parser: number;\r\n  verse: number;\r\n  selector: SmoSelector;\r\n  selection: SmoSelection;\r\n  note: SmoNote;\r\n  originalText: string;\r\n}\r\n// The heirarchy of text editing objects goes:\r\n// dialog -> component -> session -> editor\r\n//\r\n// Editors and Sessions are defined in this module.\r\n// ### editor\r\n//  handles low-level events and renders the preview using one\r\n// of the text layout objects.\r\n//\r\n// ### session\r\n// creates and destroys editors, e.g. for lyrics that have a Different\r\n// editor instance for each note.\r\n//\r\n// ## SuiTextEditor\r\n// Next-gen text editor.  The base text editor handles the positioning and inserting\r\n// of text blocks into the text area.  The derived class shoud interpret key events.\r\n// A container class will manage the session for starting/stopping the editor\r\n// and retrieving the results into the target object.\r\n\r\nexport class SuiTextEditor {\r\n  static get States(): Record<string, number> {\r\n    return { RUNNING: 1, STOPPING: 2, STOPPED: 4, PENDING_EDITOR: 8 };\r\n  }\r\n  // parsers use this convention to represent text types (superscript)\r\n  static textTypeToChar(textType: number): string {\r\n    if (textType === SuiInlineText.textTypes.superScript) {\r\n      return '^';\r\n    }\r\n    if (textType === SuiInlineText.textTypes.subScript) {\r\n      return '%';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  static textTypeFromChar(char: string): number {\r\n    if (char === '^') {\r\n      return SuiInlineText.textTypes.superScript;\r\n    }\r\n    if (char === '%') {\r\n      return SuiInlineText.textTypes.subScript;\r\n    }\r\n    return SuiInlineText.textTypes.normal;\r\n  }\r\n\r\n  svgText: SuiInlineText | null = null;\r\n  context: any;\r\n  x: number = 0;\r\n  y: number = 0;\r\n  text: string;\r\n  textPos: number = 0;\r\n  selectionStart: number = -1;\r\n  selectionLength: number = -1;\r\n  empty: boolean = true;\r\n  scroller: SuiScroller;\r\n  suggestionIndex: number = -1;\r\n  cursorState: boolean = false;\r\n  cursorRunning: boolean = false;\r\n  textType: number = SuiInlineText.textTypes.normal;\r\n  fontWeight: string = 'normal';\r\n  fontFamily: string = 'Merriweather';\r\n  fontSize: number = 14;\r\n  state: number = SuiTextEditor.States.RUNNING;\r\n  constructor(params: SuiTextEditorParams) {\r\n    this.scroller = params.scroller;\r\n    this.context = params.context;\r\n    this.x = params.x;\r\n    this.y = params.y;\r\n    this.text = params.text;\r\n  }\r\n\r\n  static get strokes(): Record<string, StrokeInfo> {\r\n    return {\r\n      'text-suggestion': {\r\n        stroke: '#cce',\r\n        strokeWidth: 1,\r\n        strokeDasharray: '4,1',\r\n        fill: 'none',\r\n        opacity: 1.0\r\n      },\r\n      'text-selection': {\r\n        stroke: '#99d',\r\n        strokeWidth: 1,\r\n        fill: 'none',\r\n        strokeDasharray: '',\r\n        opacity: 1.0\r\n      }, 'text-highlight': {\r\n        stroke: '#dd9',\r\n        strokeWidth: 1,\r\n        strokeDasharray: '4,1',\r\n        fill: 'none',\r\n        opacity: 1.0\r\n      }, 'text-drag': {\r\n        stroke: '#d99',\r\n        strokeWidth: 1,\r\n        strokeDasharray: '2,1',\r\n        fill: '#eee',\r\n        opacity: 0.3\r\n      }\r\n    };\r\n  }\r\n\r\n  // ### _suggestionParameters\r\n  // Create the svg text outline parameters\r\n  _suggestionParameters(box: SvgBox, strokeName: string): OutlineInfo {\r\n    const outlineStroke = SuiTextEditor.strokes[strokeName];\r\n    return {\r\n      context: this.context, box, classes: strokeName,\r\n      stroke: outlineStroke, scroll: this.scroller.scrollState.scroll,\r\n      clientCoordinates: false\r\n    };\r\n  }\r\n\r\n  // ### _expandSelectionToSuggestion\r\n  // Expand the selection to include the character the user clicked on.\r\n  _expandSelectionToSuggestion() {\r\n    if (this.suggestionIndex < 0) {\r\n      return;\r\n    }\r\n    if (this.selectionStart < 0) {\r\n      this._setSelectionToSugggestion();\r\n      return;\r\n    } else if (this.selectionStart > this.suggestionIndex) {\r\n      const oldStart = this.selectionStart;\r\n      this.selectionStart = this.suggestionIndex;\r\n      this.selectionLength = (oldStart - this.selectionStart) + this.selectionLength;\r\n    } else if (this.selectionStart < this.suggestionIndex\r\n      && this.selectionStart > this.selectionStart + this.selectionLength) {\r\n      this.selectionLength = (this.suggestionIndex - this.selectionStart) + 1;\r\n    }\r\n    this._updateSelections();\r\n  }\r\n\r\n  // ### _setSelectionToSugggestion\r\n  // Set the selection to the character the user clicked on.\r\n  _setSelectionToSugggestion() {\r\n    this.selectionStart = this.suggestionIndex;\r\n    this.selectionLength = 1;\r\n    this.suggestionIndex = -1;\r\n    this._updateSelections();\r\n  }\r\n\r\n  // ### handleMouseEvent\r\n  // Handle hover/click behavior for the text under edit.\r\n  // Returns: true if the event was handled here\r\n  handleMouseEvent(ev: any): boolean {\r\n    let handled = false;\r\n    if (this.svgText === null) {\r\n      return false;\r\n    }\r\n    var blocks = this.svgText.getIntersectingBlocks(svgHelpers.smoBox({\r\n      x: ev.clientX,\r\n      y: ev.clientY\r\n    }), svgHelpers.smoBox(this.scroller.scrollState.scroll));\r\n\r\n    // The mouse is not over the text\r\n    if (!blocks.length) {\r\n      svgHelpers.eraseOutline(this.context.svg, 'text-suggestion');\r\n\r\n      // If the user clicks and there was a previous selection, treat it as selected\r\n      if (ev.type === 'click' && this.suggestionIndex >= 0) {\r\n        if (ev.shiftKey) {\r\n          this._expandSelectionToSuggestion();\r\n        } else {\r\n          this._setSelectionToSugggestion();\r\n        }\r\n        handled = true;\r\n        this.svgText.render();\r\n      }\r\n      return handled;\r\n    }\r\n    handled = true;\r\n    // outline the text that is hovered.  Since mouse is a point\r\n    // there should only be 1\r\n    blocks.forEach((block) => {\r\n      svgHelpers.outlineRect(this._suggestionParameters(block.box, 'text-suggestion'));\r\n      this.suggestionIndex = block.index;\r\n    });\r\n    // if the user clicked on it, add it to the selection.\r\n    if (ev.type === 'click') {\r\n      svgHelpers.eraseOutline(this.context.svg, 'text-suggestion');\r\n      if (ev.shiftKey) {\r\n        this._expandSelectionToSuggestion();\r\n      } else {\r\n        this._setSelectionToSugggestion();\r\n      }\r\n      const npos = this.selectionStart + this.selectionLength;\r\n      if (npos >= 0 && npos <= this.svgText.blocks.length) {\r\n        this.textPos = npos;\r\n      }\r\n      this.svgText.render();\r\n    }\r\n    return handled;\r\n  }\r\n\r\n  // ### _serviceCursor\r\n  // Flash the cursor as a background task\r\n  _serviceCursor() {\r\n    if (this.cursorState) {\r\n      this.svgText?.renderCursorAt(this.textPos - 1, this.textType);\r\n    } else {\r\n      this.svgText?.removeCursor();\r\n    }\r\n    this.cursorState = !this.cursorState;\r\n  }\r\n  // ### _refreshCursor\r\n  // If the text position changes, update the cursor position right away\r\n  // don't wait for blink.\r\n  _refreshCursor() {\r\n    this.svgText?.removeCursor();\r\n    this.cursorState = true;\r\n    this._serviceCursor();\r\n  }\r\n\r\n  get _endCursorCondition(): boolean {\r\n    return this.cursorRunning === false;\r\n  }\r\n\r\n  _cursorPreResolve() {\r\n    this.svgText?.removeCursor();\r\n  }\r\n\r\n  _cursorPoll() {\r\n    this._serviceCursor();\r\n  }\r\n\r\n  // ### startCursorPromise\r\n  // Used by the calling logic to start the cursor.\r\n  // returns a promise that can be pended when the editing ends.\r\n  startCursorPromise(): Promise<any> {\r\n    var self = this;\r\n    this.cursorRunning = true;\r\n    this.cursorState = true;\r\n    self.svgText?.renderCursorAt(this.textPos, SuiInlineText.textTypes.normal);\r\n    return PromiseHelpers.makePromise(this, '_endCursorCondition', '_cursorPreResolve', '_cursorPoll', 333);\r\n  }\r\n  stopCursor() {\r\n    this.cursorRunning = false;\r\n  }\r\n\r\n  // ### setTextPos\r\n  // Set the text position within the editor space and update the cursor\r\n  setTextPos(val: number) {\r\n    this.textPos = val;\r\n    this._refreshCursor();\r\n  }\r\n  // ### moveCursorRight\r\n  // move cursor right within the block of text.\r\n  moveCursorRight() {\r\n    if (this.svgText === null) {\r\n      return;\r\n    }\r\n    if (this.textPos <= this.svgText.blocks.length) {\r\n      this.setTextPos(this.textPos + 1);\r\n    }\r\n  }\r\n  // ### moveCursorRight\r\n  // move cursor left within the block of text.\r\n  moveCursorLeft() {\r\n    if (this.textPos > 0) {\r\n      this.setTextPos(this.textPos - 1);\r\n    }\r\n  }\r\n\r\n  // ### moveCursorRight\r\n  // highlight the text selections\r\n  _updateSelections() {\r\n    let i = 0;\r\n    const end = this.selectionStart + this.selectionLength;\r\n    const start = this.selectionStart;\r\n    this.svgText?.blocks.forEach((block) => {\r\n      const val = start >= 0 && i >= start && i < end;\r\n      this.svgText!.setHighlight(block, val);\r\n      ++i;\r\n    });\r\n  }\r\n\r\n  // ### _checkGrowSelectionLeft\r\n  // grow selection within the bounds\r\n  _checkGrowSelectionLeft() {\r\n    if (this.selectionStart > 0) {\r\n      this.selectionStart -= 1;\r\n      this.selectionLength += 1;\r\n    }\r\n  }\r\n  // ### _checkGrowSelectionRight\r\n  // grow selection within the bounds\r\n  _checkGrowSelectionRight() {\r\n    if (this.svgText === null) {\r\n      return;\r\n    }\r\n    const end = this.selectionStart + this.selectionLength;\r\n    if (end < this.svgText.blocks.length) {\r\n      this.selectionLength += 1;\r\n    }\r\n  }\r\n\r\n  // ### growSelectionLeft\r\n  // handle the selection keys\r\n  growSelectionLeft() {\r\n    if (this.selectionStart === -1) {\r\n      this.moveCursorLeft();\r\n      this.selectionStart = this.textPos;\r\n      this.selectionLength = 1;\r\n    } else if (this.textPos === this.selectionStart) {\r\n      this.moveCursorLeft();\r\n      this._checkGrowSelectionLeft();\r\n    }\r\n    this._updateSelections();\r\n  }\r\n\r\n  // ### growSelectionRight\r\n  // handle the selection keys\r\n  growSelectionRight() {\r\n    if (this.selectionStart === -1) {\r\n      this.selectionStart = this.textPos;\r\n      this.selectionLength = 1;\r\n      this.moveCursorRight();\r\n    } else if (this.selectionStart + this.selectionLength === this.textPos) {\r\n      this._checkGrowSelectionRight();\r\n      this.moveCursorRight();\r\n    }\r\n    this._updateSelections();\r\n  }\r\n\r\n  // ### _clearSelections\r\n  // Clear selected text\r\n  _clearSelections() {\r\n    this.selectionStart = -1;\r\n    this.selectionLength = 0;\r\n  }\r\n\r\n  // ### deleteSelections\r\n  // delete the selected blocks of text/glyphs\r\n  deleteSelections() {\r\n    let i = 0;\r\n    const blockPos = this.selectionStart;\r\n    for (i = 0; i < this.selectionLength; ++i) {\r\n      this.svgText?.removeBlockAt(blockPos); // delete shifts blocks so keep index the same.\r\n    }\r\n    this.setTextPos(blockPos);\r\n    this.selectionStart = -1;\r\n    this.selectionLength = 0;\r\n  }\r\n\r\n  // ### parseBlocks\r\n  // THis can be overridden by the base class to create the correct combination\r\n  // of text and glyph blocks based on the underlying text\r\n  parseBlocks() {\r\n    let i = 0;\r\n    this.svgText = new SuiInlineText({\r\n      context: this.context, startX: this.x, startY: this.y,\r\n      fontFamily: this.fontFamily, fontSize: this.fontSize, fontWeight: this.fontWeight, scroller: this.scroller,\r\n      fontStyle: 'normal'\r\n    });\r\n    for (i = 0; i < this.text.length; ++i) {\r\n      const def = SuiInlineText.blockDefaults;\r\n      def.text = this.text[i]\r\n      this.svgText.addTextBlockAt(i, def);\r\n      this.empty = false;\r\n    }\r\n    this.textPos = this.text.length;\r\n    this.state = SuiTextEditor.States.RUNNING;\r\n    this.svgText.render();\r\n  }\r\n  // ### evKey\r\n  // Handle key events that filter down to the editor\r\n  evKey(evdata: KeyEvent): boolean {\r\n    if (evdata.code === 'ArrowRight') {\r\n      if (evdata.shiftKey) {\r\n        this.growSelectionRight();\r\n      } else {\r\n        this.moveCursorRight();\r\n      }\r\n      this.svgText?.render();\r\n      return true;\r\n    }\r\n    if (evdata.code === 'ArrowLeft') {\r\n      if (evdata.shiftKey) {\r\n        this.growSelectionLeft();\r\n      } else {\r\n        this.moveCursorLeft();\r\n      }\r\n      this.svgText?.render();\r\n      return true;\r\n    }\r\n    if (evdata.code === 'Backspace') {\r\n      if (this.selectionStart >= 0) {\r\n        this.deleteSelections();\r\n      } else {\r\n        if (this.textPos > 0) {\r\n          this.selectionStart = this.textPos - 1;\r\n          this.selectionLength = 1;\r\n          this.deleteSelections();\r\n        }\r\n      }\r\n      this.svgText?.render();\r\n      return true;\r\n    }\r\n    if (evdata.code === 'Delete') {\r\n      if (this.selectionStart >= 0) {\r\n        this.deleteSelections();\r\n      } else {\r\n        if (this.textPos > 0 && this.svgText !== null && this.textPos < this.svgText.blocks.length) {\r\n          this.selectionStart = this.textPos;\r\n          this.selectionLength = 1;\r\n          this.deleteSelections();\r\n        }\r\n      }\r\n      this.svgText?.render();\r\n      return true;\r\n    }\r\n    if (evdata.key.charCodeAt(0) >= 33 && evdata.key.charCodeAt(0) <= 126 && evdata.key.length === 1) {\r\n      if (this.empty) {\r\n        this.svgText?.removeBlockAt(0);\r\n        this.empty = false;\r\n        const def = SuiInlineText.blockDefaults;\r\n        def.text = evdata.key;\r\n        this.svgText?.addTextBlockAt(0, def);\r\n        this.setTextPos(1);\r\n      } else {\r\n        if (this.selectionStart >= 0) {\r\n          this.deleteSelections();\r\n        }\r\n        const def = SuiInlineText.blockDefaults;\r\n        def.text = evdata.key;\r\n        def.textType = this.textType;\r\n        this.svgText?.addTextBlockAt(this.textPos, def);\r\n        this.setTextPos(this.textPos + 1);\r\n      }\r\n      this.svgText?.render();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport class SuiTextBlockEditor extends SuiTextEditor {\r\n  // ### ctor\r\n  // ### args\r\n  // params: {lyric: SmoLyric,...}\r\n  constructor(params: SuiTextEditorParams) {\r\n    super(params);\r\n    this.parseBlocks();\r\n  }\r\n\r\n  _highlightEditor() {\r\n    if (this.svgText === null || this.svgText.blocks.length === 0) {\r\n      return;\r\n    }\r\n    const bbox = this.svgText.getLogicalBox();\r\n    const outlineStroke = SuiTextEditor.strokes['text-highlight'];\r\n    const obj: OutlineInfo = {\r\n      context: this.context, box: bbox, classes: 'text-highlight',\r\n      stroke: outlineStroke, scroll: this.scroller.scrollState.scroll, clientCoordinates: false\r\n    };\r\n    svgHelpers.outlineLogicalRect(obj);\r\n  }\r\n\r\n  getText(): string {\r\n    if (this.svgText !== null) {\r\n      return this.svgText.getText();\r\n    }\r\n    return '';\r\n  }\r\n\r\n  evKey(evdata: KeyEvent): boolean {\r\n    if (evdata.key.charCodeAt(0) === 32) {\r\n      if (this.empty) {\r\n        this.svgText?.removeBlockAt(0);\r\n        this.empty = false;\r\n        const def = SuiInlineText.blockDefaults;\r\n        def.text = ' ';\r\n        this.svgText?.addTextBlockAt(0, def);\r\n        this.setTextPos(1);\r\n      } else {\r\n        if (this.selectionStart >= 0) {\r\n          this.deleteSelections();\r\n        }\r\n        const def = SuiInlineText.blockDefaults;\r\n        def.text = ' ';\r\n        def.textType = this.textType;\r\n        this.svgText?.addTextBlockAt(this.textPos, def);\r\n        this.setTextPos(this.textPos + 1);\r\n      }\r\n      this.svgText?.render();\r\n      return true;\r\n    }\r\n    const rv = super.evKey(evdata);\r\n    this._highlightEditor();\r\n    return rv;\r\n  }\r\n\r\n  stopEditor() {\r\n    this.state = SuiTextEditor.States.STOPPING;\r\n    $(this.context.svg).find('g.vf-text-highlight').remove();\r\n    this.stopCursor();\r\n    this.svgText?.unrender();\r\n  }\r\n}\r\n\r\nexport class SuiLyricEditor extends SuiTextEditor {\r\n  static get States() {\r\n    return { RUNNING: 1, STOPPING: 2, STOPPED: 4 };\r\n  }\r\n  parseBlocks() {\r\n    let i = 0;\r\n    const def = SuiInlineText.defaults;\r\n    def.context = this.context;\r\n    def.startX = this.x;\r\n    def.startY = this.y;\r\n    def.scroller = this.scroller;\r\n    this.svgText = new SuiInlineText(def);\r\n    for (i = 0; i < this.text.length; ++i) {\r\n      const blockP = SuiInlineText.blockDefaults;\r\n      blockP.text = this.text[i];\r\n      this.svgText.addTextBlockAt(i, blockP);\r\n      this.empty = false;\r\n    }\r\n    this.textPos = this.text.length;\r\n    this.state = SuiTextEditor.States.RUNNING;\r\n    this.svgText.render();\r\n  }\r\n\r\n  getText(): string {\r\n    if (this.svgText !== null) {\r\n      return this.svgText.getText();\r\n    }\r\n    return '';\r\n  }\r\n  lyric: SmoLyric;\r\n  state: number = SuiTextEditor.States.PENDING_EDITOR;\r\n\r\n  // ### ctor\r\n  // ### args\r\n  // params: {lyric: SmoLyric,...}\r\n  constructor(params: SuiLyricEditorParams) {\r\n    super(params);\r\n    this.text = params.lyric.getText();\r\n    if (params.lyric.isHyphenated()) {\r\n      this.text += '-';\r\n    }\r\n    this.lyric = params.lyric;\r\n    this.parseBlocks();\r\n  }\r\n\r\n  stopEditor() {\r\n    this.state = SuiTextEditor.States.STOPPING;\r\n    this.stopCursor();\r\n    if (this.svgText !== null) {\r\n      this.svgText.unrender();\r\n    }\r\n  }\r\n}\r\n\r\nexport class SuiChordEditor extends SuiTextEditor {\r\n  static get States() {\r\n    return { RUNNING: 1, STOPPING: 2, STOPPED: 4 };\r\n  }\r\n  static get SymbolModifiers() {\r\n    return {\r\n      NONE: 1,\r\n      SUBSCRIPT: 2,\r\n      SUPERSCRIPT: 3\r\n    };\r\n  }\r\n\r\n  // ### toTextTypeChar\r\n  // Given an old text type and a desited new text type,\r\n  // return what the new text type character should be\r\n  static toTextTypeChar(oldTextType: number, newTextType: number): string {\r\n    const tt = SuiInlineText.getTextTypeResult(oldTextType, newTextType);\r\n    return SuiTextEditor.textTypeToChar(tt);\r\n  }\r\n\r\n  static toTextTypeTransition(oldTextType: number, result: number): string {\r\n    const tt = SuiInlineText.getTextTypeTransition(oldTextType, result);\r\n    return SuiTextEditor.textTypeToChar(tt);\r\n  }\r\n\r\n  setTextType(textType: number) {\r\n    this.textType = textType;\r\n  }\r\n\r\n  // Handle the case where user changed super/subscript in the middle of the\r\n  // string.\r\n  _updateSymbolModifiers() {\r\n    let change = this.textPos;\r\n    let render = false;\r\n    let i = 0;\r\n    for (i = this.textPos; this.svgText !== null && i < this.svgText.blocks.length; ++i) {\r\n      const block = this.svgText!.blocks[i];\r\n      if (block.textType !== this.textType &&\r\n        block.textType !== change) {\r\n        change = block.textType;\r\n        block.textType = this.textType;\r\n        render = true;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    if (render) {\r\n      this.svgText?.render();\r\n    }\r\n  }\r\n  _setSymbolModifier(char: string): boolean {\r\n    if (['^', '%'].indexOf(char) < 0) {\r\n      return false;\r\n    }\r\n    const currentTextType = this.textType;\r\n    const transitionType = SuiTextEditor.textTypeFromChar(char);\r\n    this.textType = SuiInlineText.getTextTypeResult(currentTextType, transitionType);\r\n    this._updateSymbolModifiers();\r\n    return true;\r\n  }\r\n\r\n  parseBlocks() {\r\n    let readGlyph = false;\r\n    let curGlyph = '';\r\n    let blockIx = 0; // so we skip modifier characters\r\n    let i = 0;\r\n    const params = SuiInlineText.defaults;\r\n    params.context = this.context;\r\n    params.startX = this.x;\r\n    params.startY = this.y;\r\n    params.scroller = this.scroller;\r\n    this.svgText = new SuiInlineText(params);\r\n\r\n    for (i = 0; i < this.text.length; ++i) {\r\n      const char = this.text[i];\r\n      const isSymbolModifier = this._setSymbolModifier(char);\r\n      if (char === '@') {\r\n        if (!readGlyph) {\r\n          readGlyph = true;\r\n          curGlyph = '';\r\n        } else {\r\n          this._addGlyphAt(blockIx, curGlyph);\r\n          blockIx += 1;\r\n          readGlyph = false;\r\n        }\r\n      } else if (!isSymbolModifier) {\r\n        if (readGlyph) {\r\n          curGlyph = curGlyph + char;\r\n        } else {\r\n          const blockP = SuiInlineText.blockDefaults;\r\n          blockP.text = char;\r\n          blockP.textType = this.textType;\r\n          this.svgText.addTextBlockAt(blockIx, blockP);\r\n          blockIx += 1;\r\n        }\r\n      }\r\n      this.empty = false;\r\n    }\r\n    this.textPos = blockIx;\r\n    this.state = SuiTextEditor.States.RUNNING;\r\n    this.svgText.render();\r\n  }\r\n\r\n  // ### getText\r\n  // Get the text value that we persist\r\n  getText(): string {\r\n    if (this.svgText === null || this.svgText.blocks.length < 1) {\r\n      return '';\r\n    }\r\n    let text = '';\r\n    let textType = this.svgText.blocks[0].textType;\r\n    this.svgText.blocks.forEach((block) => {\r\n      if (block.textType !== textType) {\r\n        text += SuiChordEditor.toTextTypeTransition(textType, block.textType);\r\n        textType = block.textType;\r\n      }\r\n      if (block.symbolType === SuiInlineText.symbolTypes.GLYPH) {\r\n        text += '@' + block.glyphCode + '@';\r\n      } else {\r\n        text += block.text;\r\n      }\r\n    });\r\n    return text;\r\n  }\r\n\r\n  _addGlyphAt(ix: number, code: string) {\r\n    if (this.selectionStart >= 0) {\r\n      this.deleteSelections();\r\n    }\r\n    const blockP = SuiInlineText.blockDefaults;\r\n    blockP.glyphCode = code;\r\n    blockP.textType = this.textType;\r\n    this.svgText?.addGlyphBlockAt(ix, blockP);\r\n    this.textPos += 1;\r\n  }\r\n\r\n  evKey(evdata: KeyEvent): boolean {\r\n    let edited = false;\r\n    if (this._setSymbolModifier(evdata.key)) {\r\n      return true;\r\n    }\r\n    // Dialog gives us a specific glyph code\r\n    if (evdata.key[0] === '@' && evdata.key.length > 2) {\r\n      const glyph = evdata.key.substr(1, evdata.key.length - 2);\r\n      this._addGlyphAt(this.textPos, glyph);\r\n      this.svgText?.render();\r\n      edited = true;\r\n    } else if (VF.ChordSymbol.glyphs[evdata.key[0]]) { // glyph shortcut like 'b'\r\n      this._addGlyphAt(this.textPos, VF.ChordSymbol.glyphs[evdata.key[0]].code);\r\n      this.svgText?.render();\r\n      edited = true;\r\n    } else {\r\n      // some ordinary key\r\n      edited = super.evKey(evdata);\r\n    }\r\n    if (this.svgText !== null && this.svgText.blocks.length > this.textPos && this.textPos >= 0) {\r\n      this.textType = this.svgText.blocks[this.textPos].textType;\r\n    }\r\n    return edited;\r\n  }\r\n  lyric: SmoLyric;\r\n\r\n  // ### ctor\r\n  // ### args\r\n  // params: {lyric: SmoLyric,...}\r\n  constructor(params: SuiLyricEditorParams) {\r\n    super(params);\r\n    this.text = params.lyric._text;\r\n    this.lyric = params.lyric;\r\n    this.textType = SuiInlineText.textTypes.normal;\r\n    this.parseBlocks();\r\n  }\r\n\r\n  stopEditor() {\r\n    this.state = SuiTextEditor.States.STOPPING;\r\n    this.stopCursor();\r\n    this.svgText?.unrender();\r\n  }\r\n\r\n  // ### _markStopped\r\n  // Indicate this editor session is done running\r\n  _markStopped() {\r\n    this.state = SuiTextEditor.States.STOPPED;\r\n  }\r\n}\r\nexport class SuiDragSession {\r\n  context: any;\r\n  scroller: SuiScroller;\r\n  xOffset: number = 0;\r\n  yOffset: number = 0;\r\n  textObject: SuiTextBlock;\r\n  dragging: boolean = false;\r\n  startBox: SvgBox;\r\n  currentBox: SvgBox;\r\n  currentClientBox: SvgBox;\r\n  textGroup: SmoTextGroup;\r\n  constructor(params: SuiDragSessionParams) {\r\n    this.textGroup = params.textGroup;\r\n    this.context = params.context;\r\n    this.scroller = params.scroller;\r\n    this.xOffset = 0;\r\n    this.yOffset = 0;\r\n    this.textObject = SuiTextBlock.fromTextGroup(this.textGroup, this.context, this.scroller); // SuiTextBlock\r\n    this.dragging = false;\r\n    this.startBox = this.textObject.getLogicalBox();\r\n    this.startBox.y += this.textObject.maxFontHeight(1);\r\n    this.currentBox = svgHelpers.smoBox(this.startBox);\r\n    this.currentClientBox = svgHelpers.smoBox(svgHelpers.logicalToClient(this.context.svg, this.currentBox, this.scroller.scrollState.scroll));\r\n  }\r\n\r\n  _outlineBox() {\r\n    const outlineStroke = SuiTextEditor.strokes['text-drag'];\r\n    const obj: OutlineInfo = {\r\n      context: this.context, box: this.currentBox, classes: 'text-drag',\r\n      stroke: outlineStroke, scroll: this.scroller.scrollState.scroll,\r\n      clientCoordinates: false\r\n    };\r\n    svgHelpers.outlineLogicalRect(obj);\r\n  }\r\n\r\n  startDrag(e: any) {\r\n    if (!svgHelpers.containsPoint(this.currentClientBox, { x: e.clientX, y: e.clientY }, svgHelpers.smoBox(this.scroller.scrollState.scroll))) {\r\n      return;\r\n    }\r\n    this.dragging = true;\r\n    // calculate offset of mouse start vs. box UL\r\n    this.yOffset = this.currentClientBox.y - e.clientY;\r\n    this.xOffset = this.currentClientBox.x - e.clientX;\r\n    this._outlineBox();\r\n  }\r\n\r\n  mouseMove(e: any) {\r\n    if (!this.dragging) {\r\n      return;\r\n    }\r\n    const svgX = this.currentBox.x;\r\n    const svgY = this.currentBox.y;\r\n    this.currentClientBox.x = e.clientX - this.xOffset;\r\n    this.currentClientBox.y = e.clientY - this.yOffset;\r\n    const coor = svgHelpers.clientToLogical(this.context.svg,\r\n      {\r\n        x: this.currentClientBox.x + + this.scroller.scrollState.scroll.x,\r\n        y: this.currentClientBox.y + this.scroller.scrollState.scroll.y,\r\n        width: 0, height: 0\r\n      });\r\n    this.currentBox.x = coor.x;\r\n    this.currentBox.y = coor.y;\r\n    this.textObject.offsetStartX(this.currentBox.x - svgX);\r\n    this.textObject.offsetStartY(this.currentBox.y - svgY);\r\n    this.textObject.render();\r\n    svgHelpers.eraseOutline(this.context.svg, 'text-drag');\r\n    this._outlineBox();\r\n  }\r\n  get deltaX(): number {\r\n    return this.currentBox.x - this.startBox.x;\r\n  }\r\n  get deltaY(): number {\r\n    return this.currentBox.y - this.startBox.y;\r\n  }\r\n\r\n  endDrag() {\r\n    this.textObject.render();\r\n    this.textGroup.offsetX(this.deltaX);\r\n    this.textGroup.offsetY(this.deltaY);\r\n    this.dragging = false;\r\n    svgHelpers.eraseOutline(this.context.svg, 'text-drag');\r\n  }\r\n}\r\n\r\n// ## SuiTextSession\r\n// session for editing plain text\r\nexport class SuiTextSession {\r\n  static get States() {\r\n    return { RUNNING: 1, STOPPING: 2, STOPPED: 4, PENDING_EDITOR: 8 };\r\n  }\r\n  scroller: SuiScroller;\r\n  scoreText: SmoScoreText;\r\n  text: string;\r\n  x: number;\r\n  y: number;\r\n  textGroup: SmoTextGroup;\r\n  fontFamily: string = '';\r\n  fontWeight: string = '';\r\n  fontSize: number = 14;\r\n  state: number = SuiTextEditor.States.PENDING_EDITOR;\r\n  editor: SuiTextBlockEditor | null = null;\r\n  renderer: SuiRenderState;\r\n  cursorPromise: Promise<any> | null = null;\r\n  constructor(params: SuiTextSessionParams) {\r\n    this.scroller = params.scroller;\r\n    this.renderer = params.renderer;\r\n    this.scoreText = params.scoreText;\r\n    this.text = this.scoreText.text;\r\n    this.x = params.x;\r\n    this.y = params.y;\r\n    this.textGroup = params.textGroup;\r\n    this.renderer = params.renderer;\r\n\r\n    // Create a text group if one was not a startup parameter\r\n    if (!this.textGroup) {\r\n      this.textGroup = new SmoTextGroup(SmoTextGroup.defaults);\r\n    }\r\n    // Create a scoreText if one was not a startup parameter, or\r\n    // get it from the text group\r\n    if (!this.scoreText) {\r\n      if (this.textGroup && this.textGroup.textBlocks.length) {\r\n        this.scoreText = this.textGroup.textBlocks[0].text;\r\n      } else {\r\n        const stDef = SmoScoreText.defaults;\r\n        stDef.x = this.x;\r\n        stDef.y = this.y;\r\n        this.scoreText = new SmoScoreText(stDef);\r\n        this.textGroup.addScoreText(this.scoreText, SmoTextGroup.relativePositions.RIGHT);\r\n      }\r\n    }\r\n    this.fontFamily = this.scoreText.fontInfo.family;\r\n    this.fontWeight = this.scoreText.fontInfo.weight;\r\n    this.fontSize = this.scoreText.fontInfo.size;\r\n    this.text = this.scoreText.text;\r\n  }\r\n\r\n  // ### _isRefreshed\r\n  // renderer has partially rendered text(promise condition)\r\n  get _isRefreshed(): boolean {\r\n    return this.renderer.dirty === false;\r\n  }\r\n\r\n  get isStopped(): boolean {\r\n    return this.state === SuiTextEditor.States.STOPPED;\r\n  }\r\n\r\n  get isRunning(): boolean {\r\n    return this.state === SuiTextEditor.States.RUNNING;\r\n  }\r\n\r\n  _markStopped() {\r\n    this.state = SuiTextEditor.States.STOPPED;\r\n  }\r\n\r\n  // ### _isRendered\r\n  // renderer has rendered text(promise condition)\r\n  get _isRendered(): boolean {\r\n    return this.renderer.passState === SuiRenderState.passStates.clean;\r\n  }\r\n\r\n  _removeScoreText() {\r\n    const selector = '#' + this.scoreText.attrs.id;\r\n    $(selector).remove();\r\n  }\r\n\r\n  // ### _startSessionForNote\r\n  // Start the lyric session\r\n  startSession() {\r\n    this.editor = new SuiTextBlockEditor({\r\n      x: this.x, y: this.y, scroller: this.scroller,\r\n      context: this.renderer.context, text: this.scoreText.text\r\n    });\r\n    this.cursorPromise = this.editor.startCursorPromise();\r\n    this.state = SuiTextEditor.States.RUNNING;\r\n    this._removeScoreText();\r\n  }\r\n\r\n  // ### _startSessionForNote\r\n  // Stop the lyric session, return promise for done\r\n  stopSession(): Promise<any> {\r\n    if (this.editor) {\r\n      this.scoreText.text = this.editor.getText();\r\n      this.scoreText.tryParseUnicode(); // convert unicode chars\r\n      this.editor.stopEditor();\r\n    }\r\n    return PromiseHelpers.makePromise(this, '_isRendered', '_markStopped', null, 100);\r\n  }\r\n\r\n  // ### evKey\r\n  // Key handler (pass to editor)\r\n  evKey(evdata: KeyEvent): boolean {\r\n    if (this.state !== SuiTextEditor.States.RUNNING || this.editor === null) {\r\n      return false;\r\n    }\r\n    const rv = this.editor.evKey(evdata);\r\n    if (rv) {\r\n      this._removeScoreText();\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  handleMouseEvent(ev: any) {\r\n    if (this.isRunning && this.editor !== null) {\r\n      this.editor.handleMouseEvent(ev);\r\n    }\r\n  }\r\n}\r\n// ## SuiLyricSession\r\n// Manage editor for lyrics, jupmping from note to note if asked\r\nexport class SuiLyricSession {\r\n  static get States() {\r\n    return { RUNNING: 1, STOPPING: 2, STOPPED: 4, PENDING_EDITOR: 8 };\r\n  }\r\n  score: SmoScore;\r\n  renderer: SuiRenderState;\r\n  scroller: SuiScroller;\r\n  view: any;\r\n  parser: number;\r\n  verse: number;\r\n  selector: SmoSelector;\r\n  selection: SmoSelection | null;\r\n  note: SmoNote | null = null;\r\n  originalText: string;\r\n  lyric: SmoLyric | null = null;\r\n  text: string = '';\r\n  editor: SuiLyricEditor | null = null;\r\n  state: number = SuiTextEditor.States.PENDING_EDITOR;\r\n  cursorPromise: Promise<any> | null = null;\r\n  constructor(params: SuiLyricSessionParams) {\r\n    this.score = params.score;\r\n    this.renderer = params.renderer;\r\n    this.scroller = params.scroller;\r\n    this.view = params.view;\r\n    this.parser = params.parser ? params.parser : SmoLyric.parsers.lyric;\r\n    this.verse = params.verse;\r\n    this.selector = params.selector;\r\n    this.selection = SmoSelection.noteFromSelector(this.score, this.selector);\r\n    if (this.selection !== null) {\r\n      this.note = this.selection.note;\r\n    }\r\n    this.originalText = '';\r\n  }\r\n\r\n  // ### _setLyricForNote\r\n  // Get the text from the editor and update the lyric with it.\r\n  _setLyricForNote() {\r\n    this.lyric = null;\r\n    if (!this.note) {\r\n      return;\r\n    }\r\n    const lar = this.note.getLyricForVerse(this.verse, SmoLyric.parsers.lyric);\r\n    if (lar.length) {\r\n      this.lyric = lar[0] as SmoLyric;\r\n    }\r\n    if (!this.lyric) {\r\n      const scoreFont = this.score.fonts.find((fn) => fn.name === 'lyrics');\r\n      const fontInfo = JSON.parse(JSON.stringify(scoreFont));\r\n      const lyricD = SmoLyric.defaults;\r\n      lyricD._text = '';\r\n      lyricD.verse = this.verse;\r\n      lyricD.fontInfo = fontInfo;\r\n      this.lyric = new SmoLyric(lyricD);\r\n    }\r\n    this.text = this.lyric._text;\r\n    this.originalText = this.text;\r\n    // this.view.addOrUpdateLyric(this.selection.selector, this.lyric);\r\n  }\r\n\r\n  // ### _endLyricCondition\r\n  // Lyric editor has stopped running (promise condition)\r\n  get _endLyricCondition(): boolean {\r\n    return this.editor !== null && this.editor.state !== SuiTextEditor.States.RUNNING;\r\n  }\r\n\r\n  // ### _endLyricCondition\r\n  // renderer has partially rendered text(promise condition)\r\n  get _isRefreshed(): boolean {\r\n    return this.renderer.dirty === false;\r\n  }\r\n\r\n  // ### _isRendered\r\n  // renderer has rendered text(promise condition)\r\n  get _isRendered(): boolean {\r\n    return this.renderer.passState === SuiRenderState.passStates.clean;\r\n  }\r\n\r\n  get _pendingEditor(): boolean {\r\n    return this.state !== SuiTextEditor.States.PENDING_EDITOR;\r\n  }\r\n\r\n  // ### _hideLyric\r\n  // Hide the lyric so you only see the editor.\r\n  _hideLyric() {\r\n    if (this.lyric !== null && this.lyric.selector) {\r\n      $(this.lyric.selector).remove();\r\n    }\r\n  }\r\n\r\n  get isStopped(): boolean {\r\n    return this.state === SuiTextEditor.States.STOPPED;\r\n  }\r\n\r\n  get isRunning(): boolean {\r\n    return this.state === SuiTextEditor.States.RUNNING;\r\n  }\r\n\r\n  // ### _markStopped\r\n  // Indicate this editor session is done running\r\n  _markStopped() {\r\n    this.state = SuiTextEditor.States.STOPPED;\r\n  }\r\n\r\n  // ### _startSessionForNote\r\n  // Start the lyric editor for a note (current selected note)\r\n  _startSessionForNote() {\r\n    if (this.lyric === null || this.note === null || this.note.logicalBox === null) {\r\n      return;\r\n    }\r\n    let startX = this.note.logicalBox.x;\r\n    let startY = this.note.logicalBox.y + this.note.logicalBox.height + this.lyric.fontInfo.size;\r\n    this.lyric.skipRender = true;\r\n    const lyricRendered = this.lyric._text.length > 0;\r\n    if (this.lyric.logicalBox !== null) {\r\n      startX = this.lyric.logicalBox.x;\r\n      startY = this.lyric.logicalBox.y + this.lyric.logicalBox.height;\r\n    }\r\n    this.editor = new SuiLyricEditor({\r\n      context: this.view.renderer.context,\r\n      lyric: this.lyric, x: startX, y: startY, scroller: this.scroller,\r\n      text: this.lyric.getText()\r\n    });\r\n    this.state = SuiTextEditor.States.RUNNING;\r\n    if (!lyricRendered && this.editor !== null && this.editor.svgText !== null) {\r\n      const delta = 2 * this.editor.svgText.maxFontHeight(1.0) * (this.lyric.verse + 1);\r\n      this.editor.svgText.offsetStartY(delta);\r\n    }\r\n    this.cursorPromise = this.editor.startCursorPromise();\r\n    this._hideLyric();\r\n  }\r\n\r\n  // ### _startSessionForNote\r\n  // Start the lyric session\r\n  startSession() {\r\n    this._setLyricForNote();\r\n    this._startSessionForNote();\r\n    this.state = SuiTextEditor.States.RUNNING;\r\n  }\r\n\r\n  // ### _startSessionForNote\r\n  // Stop the lyric session, return promise for done\r\n  stopSession(): Promise<any> {\r\n    if (this.editor && !this._endLyricCondition) {\r\n      this._updateLyricFromEditor();\r\n      this.editor.stopEditor();\r\n    }\r\n    return PromiseHelpers.makePromise(this, '_isRendered', '_markStopped', null, 100);\r\n  }\r\n\r\n  // ### _advanceSelection\r\n  // Based on a skip character, move the editor forward/back one note.\r\n  _advanceSelection(isShift: boolean) {\r\n    const nextSelection = isShift ? SmoSelection.lastNoteSelectionFromSelector(this.score, this.selector)\r\n      : SmoSelection.nextNoteSelectionFromSelector(this.score, this.selector);\r\n    if (nextSelection) {\r\n      this.selector = nextSelection.selector;\r\n      this.selection = nextSelection;\r\n      this.note = nextSelection.note;\r\n      this._setLyricForNote();\r\n      const conditionArray = [];\r\n      this.state = SuiTextEditor.States.PENDING_EDITOR;\r\n      conditionArray.push(PromiseHelpers.makePromiseObj(this, '_endLyricCondition', null, null, 100));\r\n      conditionArray.push(PromiseHelpers.makePromiseObj(this, '_isRefreshed', '_startSessionForNote', null, 100));\r\n      PromiseHelpers.promiseChainThen(conditionArray);\r\n    }\r\n  }\r\n\r\n  // ### advanceSelection\r\n  // external interfoace to move to next/last note\r\n  advanceSelection(isShift: boolean) {\r\n    if (this.isRunning) {\r\n      this._updateLyricFromEditor();\r\n      this._advanceSelection(isShift);\r\n    }\r\n  }\r\n\r\n  removeLyric() {\r\n    if (this.selection && this.lyric) {\r\n      this.view.removeLyric(this.selection.selector, this.lyric);\r\n      this.lyric.skipRender = true;\r\n      this.advanceSelection(false);\r\n    }\r\n  }\r\n\r\n  // ### _updateLyricFromEditor\r\n  // The editor is done running, so update the lyric now.\r\n  _updateLyricFromEditor() {\r\n    if (this.editor === null || this.lyric === null) {\r\n      return;\r\n    }\r\n    const txt = this.editor.getText();\r\n    this.lyric.setText(txt);\r\n    this.lyric.skipRender = false;\r\n    this.editor.stopEditor();\r\n    if (!this.lyric.deleted && this.originalText !== txt && this.selection !== null) {\r\n      this.view.addOrUpdateLyric(this.selection.selector, this.lyric);\r\n    }\r\n  }\r\n  // ### evKey\r\n  // Key handler (pass to editor)\r\n  evKey(evdata: KeyEvent) {\r\n    if (this.state !== SuiTextEditor.States.RUNNING) {\r\n      return;\r\n    }\r\n    if (evdata.key === '-' || evdata.key === ' ') {\r\n      // skip\r\n      const back = evdata.shiftKey && evdata.key === ' ';\r\n      if (evdata.key === '-' && this.editor !== null) {\r\n        this.editor.evKey(evdata);\r\n      }\r\n      this._updateLyricFromEditor();\r\n      this._advanceSelection(back);\r\n    } else if (this.editor !== null) {\r\n      this.editor.evKey(evdata);\r\n      this._hideLyric();\r\n    }\r\n  }\r\n\r\n  // ### handleMouseEvent\r\n  // Mouse event (send to editor)\r\n  handleMouseEvent(ev: any) {\r\n    if (this.state !== SuiTextEditor.States.RUNNING || this.editor === null) {\r\n      return;\r\n    }\r\n    this.editor.handleMouseEvent(ev);\r\n  }\r\n}\r\n\r\nexport class SuiChordSession extends SuiLyricSession {\r\n  editor: SuiLyricEditor | null = null;\r\n  constructor(params: SuiLyricSessionParams) {\r\n    super(params);\r\n    this.parser = SmoLyric.parsers.chord;\r\n  }\r\n  get textType(): number {\r\n    if (this.isRunning && this.editor !== null) {\r\n      return this.editor.textType;\r\n    }\r\n    return SuiInlineText.textTypes.normal;\r\n  }\r\n\r\n  set textType(type) {\r\n    if (this.editor) {\r\n      this.editor.textType = type;\r\n    }\r\n  }\r\n\r\n  // ### evKey\r\n  // Key handler (pass to editor)\r\n  evKey(evdata: KeyEvent): boolean {\r\n    let edited = false;\r\n    if (this.state !== SuiTextEditor.States.RUNNING) {\r\n      return false;\r\n    }\r\n    if (evdata.code === 'Enter') {\r\n      this._updateLyricFromEditor();\r\n      this._advanceSelection(evdata.shiftKey);\r\n      edited = true;\r\n    } else if (this.editor !== null) {\r\n      edited = this.editor.evKey(evdata);\r\n    }\r\n    this._hideLyric();\r\n    return edited;\r\n  }\r\n\r\n  // ### _setLyricForNote\r\n  // Get the text from the editor and update the lyric with it.\r\n  _setLyricForNote() {\r\n    this.lyric = null;\r\n    if (this.note === null) {\r\n      return;\r\n    }\r\n    const lar = this.note.getLyricForVerse(this.verse, this.parser);\r\n    if (lar.length) {\r\n      this.lyric = lar[0] as SmoLyric;\r\n    }\r\n    if (!this.lyric) {\r\n      const scoreFont = this.score.fonts.find((fn) => fn.name === 'chords');\r\n      const fontInfo = JSON.parse(JSON.stringify(scoreFont));\r\n      const ldef = SmoLyric.defaults;\r\n      ldef._text = '';\r\n      ldef.verse = this.verse;\r\n      ldef.parser = this.parser;\r\n      ldef.fontInfo = fontInfo;\r\n      this.lyric = new SmoLyric(ldef);\r\n      this.note.addLyric(this.lyric);\r\n    }\r\n    this.text = this.lyric._text;\r\n  }\r\n  // ### _startSessionForNote\r\n  // Start the lyric editor for a note (current selected note)\r\n  _startSessionForNote() {\r\n    if (this.lyric === null) {\r\n      return;\r\n    }\r\n    if (this.selection === null || this.note === null || this.note.logicalBox === null) {\r\n      return;\r\n    }\r\n    let startX = this.note.logicalBox.x;\r\n    let startY = this.selection.measure.svg.logicalBox.y;\r\n    if (this.lyric.logicalBox !== null) {\r\n      startX = this.lyric.logicalBox.x;\r\n      startY = this.lyric.logicalBox.y + this.lyric.logicalBox.height;\r\n    }\r\n    this.selection.measure.svg.logicalBox.y + this.selection.measure.svg.logicalBox.height - 70;\r\n    this.editor = new SuiChordEditor({\r\n      context: this.view.renderer.context,\r\n      lyric: this.lyric, x: startX, y: startY, scroller: this.scroller,\r\n      text: this.lyric.getText()\r\n    });\r\n    this.state = SuiTextEditor.States.RUNNING;\r\n    if (this.editor !== null && this.editor.svgText !== null) {\r\n      const delta = (-1) * this.editor.svgText.maxFontHeight(1.0) * (this.lyric.verse + 1);\r\n      this.editor.svgText.offsetStartY(delta);\r\n    }\r\n    this.cursorPromise = this.editor.startCursorPromise();\r\n    this._hideLyric();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { svgHelpers, Boxable, OutlineInfo } from '../../common/svgHelpers';\r\nimport { SmoTextGroup, SmoScoreText } from '../../smo/data/scoreModifiers';\r\nimport { SuiTextEditor } from './textEdit';\r\nimport { SuiScroller } from './scroller';\r\nimport { SmoAttrs, SvgBox } from '../../smo/data/common';\r\n\r\n\r\ndeclare var $: any;\r\nconst VF = eval('Vex.Flow');\r\n\r\n// From textfont.ts in VF\r\nexport interface VexTextFontMetrics {\r\n  x_min: number;\r\n  x_max: number;\r\n  y_min: number;\r\n  y_max: number;\r\n  ha: number;\r\n  leftSideBearing: number;\r\n  advanceWidth: number;\r\n}\r\n\r\nexport interface VexTextFont {\r\n  famliy: string,\r\n  weight: string,\r\n  style: string,\r\n  size: number,\r\n  pointsToPixels: number,\r\n  maxHeight: number,\r\n  resolution: number,\r\n  setFontSize(fontSize: number): void,\r\n  getMetricForCharacter(ch: string): VexTextFontMetrics\r\n}\r\nexport interface SuiInlineTextParams {\r\n  fontFamily: string,\r\n  fontWeight: string,\r\n  fontSize: number,\r\n  fontStyle: string,\r\n  startX: number,\r\n  startY: number,\r\n  scroller: SuiScroller,\r\n  context: any\r\n}\r\nexport interface SuiInlineBlock {\r\n  symbolType: number,\r\n  textType: number,\r\n  highlighted: boolean,\r\n  x: number,\r\n  y: number,\r\n  width: number,\r\n  height: number,\r\n  scale: number,\r\n  metrics: any,\r\n  glyph: any,\r\n  glyphCode: string,\r\n  text: string\r\n}\r\nexport interface SuiInlineArtifact {\r\n  block: SuiInlineBlock,\r\n  box: SvgBox,\r\n  index: number\r\n}\r\n// ## textRender.js\r\n// Classes responsible for formatting and rendering text in SVG space.\r\n// ## SuiInlineText\r\n// Inline text is a block of SVG text with the same font.  Each block can\r\n// contain either text or an svg (vex) glyph.  Each block in the text has its own\r\n// metrics so we can support inline svg text editors (cursor).\r\nexport class SuiInlineText {\r\n  static get textTypes() {\r\n    return { normal: 0, superScript: 1, subScript: 2 };\r\n  }\r\n  static get symbolTypes() {\r\n    return {\r\n      GLYPH: 1,\r\n      TEXT: 2,\r\n      LINE: 3\r\n    };\r\n  }\r\n\r\n  // ### textTypeTransitions\r\n  // Given a current text type and a type change request, what is the result\r\n  // text type?  This truth table tells you.\r\n  static get textTypeTransitions(): number[][] {\r\n    return [\r\n      [1, 1, 0],\r\n      [1, 0, 1],\r\n      [1, 2, 2],\r\n      [2, 2, 0],\r\n      [2, 0, 2],\r\n      [2, 1, 1],\r\n      [0, 1, 1],\r\n      [0, 0, 0],\r\n      [0, 2, 2]\r\n    ];\r\n  }\r\n\r\n  static getTextTypeResult(oldType: number, newType: number): number {\r\n    let rv = SuiInlineText.textTypes.normal;\r\n    let i = 0;\r\n    for (i = 0; i < SuiInlineText.textTypeTransitions.length; ++i) {\r\n      const tt = SuiInlineText.textTypeTransitions[i];\r\n      if (tt[0] === oldType && tt[1] === newType) {\r\n        rv = tt[2];\r\n        break;\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  static getTextTypeTransition(oldType: number, result: number): number {\r\n    let rv = SuiInlineText.textTypes.normal;\r\n    let i = 0;\r\n    for (i = 0; i < SuiInlineText.textTypeTransitions.length; ++i) {\r\n      const tt = SuiInlineText.textTypeTransitions[i];\r\n      if (tt[0] === oldType && tt[2] === result) {\r\n        rv = tt[1];\r\n        break;\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n  static get superscriptOffset(): number {\r\n    return VF.ChordSymbol.chordSymbolMetrics.global.superscriptOffset / VF.ChordSymbol.engravingFontResolution;\r\n  }\r\n\r\n  static get subscriptOffset(): number {\r\n    return VF.ChordSymbol.chordSymbolMetrics.global.subscriptOffset / VF.ChordSymbol.engravingFontResolution;\r\n  }\r\n\r\n  get spacing(): number {\r\n    return VF.ChordSymbol.spacingBetweenBlocks;\r\n  }\r\n\r\n  static get defaults(): SuiInlineTextParams {\r\n    return JSON.parse(JSON.stringify({\r\n      blocks: [],\r\n      fontFamily: 'Merriweather',\r\n      fontSize: 14,\r\n      startX: 100,\r\n      startY: 100,\r\n      fontWeight: 500,\r\n      fontStyle: 'normal',\r\n      scale: 1,\r\n      activeBlock: -1,\r\n      artifacts: [],\r\n      classes: '',\r\n      updatedMetrics: false\r\n    }));\r\n  }\r\n  fontFamily: string;\r\n  fontWeight: string;\r\n  fontStyle: string;\r\n  fontSize: number;\r\n  width: number = -1;\r\n  height: number = -1;\r\n\r\n  attrs: SmoAttrs;\r\n  textFont: VexTextFont;\r\n  startX: number;\r\n  startY: number;\r\n  blocks: SuiInlineBlock[] = [];\r\n  updatedMetrics: boolean = false;\r\n  context: any;\r\n  scroller: SuiScroller;\r\n  artifacts: SuiInlineArtifact[] = [];\r\n  logicalBox: SvgBox = SvgBox.default;\r\n  renderedBox: SvgBox = SvgBox.default;\r\n\r\n  updateFontInfo(): VexTextFont {\r\n    return VF.TextFont.getTextFontFromVexFontData({\r\n      family: this.fontFamily,\r\n      weight: this.fontWeight,\r\n      size: this.fontSize,\r\n      style: this.fontStyle\r\n    });\r\n  }\r\n  // ### constructor just creates an empty svg\r\n  constructor(params: SuiInlineTextParams) {\r\n    this.fontFamily = params.fontFamily;\r\n    this.fontWeight = params.fontWeight;\r\n    this.fontStyle = params.fontStyle;\r\n    this.fontSize = params.fontSize;\r\n    this.textFont = this.updateFontInfo();\r\n    this.scroller = params.scroller;\r\n    this.startX = params.startX;\r\n    this.startY = params.startY;\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'SuiInlineText'\r\n    };\r\n    this.context = params.context;\r\n  }\r\n\r\n  static fromScoreText(scoreText: SmoScoreText, context: any, scroller: SuiScroller): SuiInlineText {\r\n    const params: SuiInlineTextParams = {\r\n      fontFamily: scoreText.fontInfo.family,\r\n      fontWeight: scoreText.fontInfo.weight,\r\n      fontStyle: scoreText.fontInfo.style ?? 'normal',\r\n      startX: scoreText.x, startY: scoreText.y,\r\n      scroller,\r\n      fontSize: scoreText.fontInfo.size, context\r\n    };\r\n    const rv = new SuiInlineText(params);\r\n    rv.attrs.id = scoreText.attrs.id;\r\n    const blockParams = SuiInlineText.blockDefaults;\r\n    blockParams.text = scoreText.text;\r\n    rv.addTextBlockAt(0, blockParams);\r\n    return rv;\r\n  }\r\n\r\n  static get blockDefaults(): SuiInlineBlock {\r\n    return JSON.parse(JSON.stringify({\r\n      symbolType: SuiInlineText.symbolTypes.TEXT,\r\n      textType: SuiInlineText.textTypes.normal,\r\n      highlighted: false,\r\n      x: 0,\r\n      y: 0,\r\n      width: 0,\r\n      height: 0,\r\n      scale: 1.0,\r\n      metrics: {},\r\n      glyph: {},\r\n      text: '',\r\n      glyphCode: ''\r\n    }));\r\n  }\r\n\r\n  // ### pointsToPixels\r\n  // The font size is specified in points, convert to 'pixels' in the svg space\r\n  get pointsToPixels(): number {\r\n    return this.textFont.pointsToPixels;\r\n  }\r\n\r\n  offsetStartX(offset: number) {\r\n    this.startX += offset;\r\n    this.blocks.forEach((block) => {\r\n      block.x += offset;\r\n    });\r\n  }\r\n\r\n  offsetStartY(offset: number) {\r\n    this.startY += offset;\r\n    this.blocks.forEach((block) => {\r\n      block.y += offset;\r\n    });\r\n  }\r\n  maxFontHeight(scale: number): number {\r\n    return this.textFont.maxHeight * scale;\r\n  }\r\n\r\n  _glyphOffset(block: SuiInlineBlock): number {\r\n    return block.metrics.yOffset / VF.ChordSymbol.engravingFontResolution * this.pointsToPixels * block.scale;\r\n  }\r\n\r\n  // ### _calculateBlockIndex\r\n  // Based on the font metrics, compute the width of the strings and glyph that make up\r\n  // this block.\r\n  _calculateBlockIndex() {\r\n    var curX = this.startX;\r\n    var maxH = 0;\r\n    let superXAlign = 0;\r\n    let superXWidth = 0;\r\n    let prevBlock: SuiInlineBlock | null = null;\r\n    let i = 0;\r\n    this.textFont.setFontSize(this.fontSize);\r\n    this.blocks.forEach((block) => {\r\n      // super/subscript\r\n      const sp = this.isSuperscript(block);\r\n      const sub = this.isSubcript(block);\r\n\r\n      block.width = 0;\r\n      block.height = 0;\r\n\r\n      // coeff for sub/super script\r\n      const subAdj = (sp || sub) ? VF.ChordSymbol.superSubRatio : 1.0;\r\n      // offset for super/sub\r\n      let subOffset = 0;\r\n      if (sp) {\r\n        subOffset = SuiInlineText.superscriptOffset * this.pointsToPixels;\r\n      } else if (sub) {\r\n        subOffset = SuiInlineText.subscriptOffset * this.pointsToPixels;\r\n      } else {\r\n        subOffset = 0;\r\n      }\r\n      block.x = curX;\r\n      if (block.symbolType === SuiInlineText.symbolTypes.TEXT) {\r\n        for (i = 0; i < block.text.length; ++i) {\r\n          const ch = block.text[i];\r\n\r\n          const glyph = this.textFont.getMetricForCharacter(ch);\r\n          block.width += ((glyph.advanceWidth) / this.textFont.resolution) * this.pointsToPixels * block.scale * subAdj;\r\n          const blockHeight = (glyph.ha / this.textFont.resolution) * this.pointsToPixels * block.scale;\r\n          block.height = block.height < blockHeight ? blockHeight : block.height;\r\n          block.y = this.startY + (subOffset * block.scale);\r\n        }\r\n      } else if (block.symbolType === SuiInlineText.symbolTypes.GLYPH) {\r\n        block.width = (block.metrics.advanceWidth / VF.ChordSymbol.engravingFontResolution) * this.pointsToPixels * block.scale;\r\n        block.height = (block.glyph.metrics.ha / VF.ChordSymbol.engravingFontResolution) * this.pointsToPixels * block.scale;\r\n        block.x += block.metrics.leftSideBearing / VF.ChordSymbol.engravingFontResolution * this.pointsToPixels * block.scale;\r\n        block.y = this.startY + this._glyphOffset(block) + subOffset;\r\n      }\r\n      // Line subscript up with super if the follow each other\r\n      if (sp) {\r\n        if (superXAlign === 0) {\r\n          superXAlign = block.x;\r\n        }\r\n      } else if (sub) {\r\n        if (superXAlign > 0 && prevBlock !== null) {\r\n          block.x = superXAlign;\r\n          superXWidth = prevBlock.x + prevBlock.width;\r\n          curX = superXAlign;\r\n          superXAlign = 0;\r\n        } else {\r\n          if (superXWidth > 0 && superXWidth < block.width + block.x) {\r\n            superXWidth = block.width + block.x;\r\n          }\r\n        }\r\n      } else if (superXWidth > 0) {\r\n        block.x = superXWidth + VF.ChordSymbol.spacingBetweenBlocks;\r\n        superXWidth = 0;\r\n      } else {\r\n        superXAlign = 0;\r\n      }\r\n      curX += block.width;\r\n      maxH = block.height > maxH ? maxH : block.height;\r\n      prevBlock = block;\r\n    });\r\n    this.width = curX - this.startX;\r\n    this.height = maxH;\r\n    this.updatedMetrics = true;\r\n  }\r\n\r\n  // ### getLogicalBox\r\n  // return the calculated svg metrics.  In SMO parlance the\r\n  // logical box is in SVG space, 'renderedBox' is in client space.\r\n  getLogicalBox(): SvgBox {\r\n    let rv: SvgBox = SvgBox.default;\r\n    if (!this.updatedMetrics) {\r\n      this._calculateBlockIndex();\r\n    }\r\n    const adjBox = (box: SvgBox) => {\r\n      const nbox = svgHelpers.smoBox(box);\r\n      nbox.y = nbox.y - nbox.height;\r\n      return nbox;\r\n    };\r\n    this.blocks.forEach((block) => {\r\n      if (!rv.x) {\r\n        rv = svgHelpers.smoBox(adjBox(block));\r\n      } else {\r\n        rv = svgHelpers.unionRect(rv, adjBox(block));\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  // ### renderCursorAt\r\n  // When we are using textLayout to render editor, create a cursor that adjusts it's size\r\n  renderCursorAt(position: number, textType: number) {\r\n    let adjH = 0;\r\n    let adjY = 0;\r\n    if (!this.updatedMetrics) {\r\n      this._calculateBlockIndex();\r\n    }\r\n    const group = this.context.openGroup();\r\n    group.id = 'inlineCursor';\r\n    const h = this.fontSize;\r\n    if (this.blocks.length <= position || position < 0) {\r\n      svgHelpers.renderCursor(group, this.startX, this.startY - h, h);\r\n      this.context.closeGroup();\r\n      return;\r\n    }\r\n    const block = this.blocks[position];\r\n    adjH = block.symbolType === SuiInlineText.symbolTypes.GLYPH ? h / 2 : h;\r\n    // For glyph, add y adj back to the cursor since it's not a glyph\r\n    adjY = block.symbolType === SuiInlineText.symbolTypes.GLYPH ? block.y - this._glyphOffset(block) :\r\n      block.y;\r\n    if (typeof (textType) === 'number' && textType !== SuiInlineText.textTypes.normal) {\r\n      const ratio = textType !== SuiInlineText.textTypes.normal ? VF.ChordSymbol.superSubRatio : 1.0;\r\n      adjH = adjH * ratio;\r\n      if (textType !== block.textType) {\r\n        if (textType === SuiInlineText.textTypes.superScript) {\r\n          adjY -= h / 2;\r\n        } else {\r\n          adjY += h / 2;\r\n        }\r\n      }\r\n    }\r\n    svgHelpers.renderCursor(group, block.x + block.width, adjY - (adjH * block.scale), adjH * block.scale);\r\n    this.context.closeGroup();\r\n  }\r\n  removeCursor() {\r\n    $('svg #inlineCursor').remove();\r\n  }\r\n  unrender() {\r\n    $('svg #' + this.attrs.id).remove();\r\n  }\r\n  getIntersectingBlocks(box: SvgBox, scroll: SvgBox): SuiInlineArtifact[] {\r\n    if (!this.artifacts) {\r\n      return [];\r\n    }\r\n    return svgHelpers.findIntersectingArtifact(box, this.artifacts, scroll) as SuiInlineArtifact[];\r\n  }\r\n  _addBlockAt(position: number, block: SuiInlineBlock) {\r\n    if (position >= this.blocks.length) {\r\n      this.blocks.push(block);\r\n    } else {\r\n      this.blocks.splice(position, 0, block);\r\n    }\r\n  }\r\n  removeBlockAt(position: number) {\r\n    this.blocks.splice(position, 1);\r\n    this.updatedMetrics = false;\r\n  }\r\n\r\n  // ### addTextBlockAt\r\n  // Add a text block to the line of text.\r\n  // params must contain at least:\r\n  // {text:'xxx'}\r\n  addTextBlockAt(position: number, params: SuiInlineBlock) {\r\n    const block: SuiInlineBlock = JSON.parse(JSON.stringify(SuiInlineText.blockDefaults));\r\n    Vex.Merge(block, params);\r\n    block.text = params.text;\r\n    block.scale = params.scale ? params.scale : 1;\r\n    this._addBlockAt(position, block);\r\n    this.updatedMetrics = false;\r\n  }\r\n  _getGlyphBlock(params: SuiInlineBlock): SuiInlineBlock {\r\n    const block = JSON.parse(JSON.stringify(SuiInlineText.blockDefaults));\r\n    block.symbolType = SuiInlineText.symbolTypes.GLYPH;\r\n    block.glyphCode = params.glyphCode;\r\n    block.glyph = new VF.Glyph(block.glyphCode, this.fontSize);\r\n    block.metrics = VF.ChordSymbol.getMetricForGlyph(block.glyphCode);\r\n    block.scale = (params.textType && params.textType !== SuiInlineText.textTypes.normal) ?\r\n      2 * VF.ChordSymbol.superSubRatio * block.metrics.scale : 2 * block.metrics.scale;\r\n\r\n    block.textType = params.textType ? params.textType : SuiInlineText.textTypes.normal;\r\n\r\n    block.glyph.scale = block.glyph.scale * block.scale;\r\n    return block;\r\n  }\r\n  // ### addGlyphBlockAt\r\n  // Add a glyph block to the line of text.  Params must include:\r\n  // {glyphCode:'csymDiminished'}\r\n  addGlyphBlockAt(position: number, params: SuiInlineBlock) {\r\n    const block = this._getGlyphBlock(params);\r\n    this._addBlockAt(position, block);\r\n    this.updatedMetrics = false;\r\n  }\r\n  isSuperscript(block: SuiInlineBlock): boolean {\r\n    return block.textType === SuiInlineText.textTypes.superScript;\r\n  }\r\n  isSubcript(block: SuiInlineBlock): boolean {\r\n    return block.textType === SuiInlineText.textTypes.subScript;\r\n  }\r\n  getHighlight(block: SuiInlineBlock): boolean {\r\n    return block.highlighted;\r\n  }\r\n  setHighlight(block: SuiInlineBlock, value: boolean) {\r\n    block.highlighted = value;\r\n  }\r\n\r\n  rescale(scale: number) {\r\n    scale = (scale * this.fontSize < 6) ? 6 / this.fontSize : scale;\r\n    scale = (scale * this.fontSize > 72) ? 72 / this.fontSize : scale;\r\n    this.blocks.forEach((block) => {\r\n      block.scale = scale;\r\n    });\r\n    this.updatedMetrics = false;\r\n  }\r\n\r\n  render() {\r\n    $('svg #' + this.attrs.id).remove();\r\n\r\n    if (!this.updatedMetrics) {\r\n      this._calculateBlockIndex();\r\n    }\r\n\r\n    this.context.setFont(this.fontFamily, this.fontSize, this.fontWeight);\r\n    const group = this.context.openGroup();\r\n    const mmClass = 'suiInlineText';\r\n    let ix = 0;\r\n    group.classList.add('vf-' + this.attrs.id);\r\n    group.classList.add(this.attrs.id);\r\n    group.classList.add(mmClass);\r\n    group.id = this.attrs.id;\r\n    this.artifacts = [];\r\n\r\n    this.blocks.forEach((block) => {\r\n      var bg = this.context.openGroup();\r\n      bg.classList.add('textblock-' + this.attrs.id + ix);\r\n      this._drawBlock(block);\r\n      this.context.closeGroup();\r\n      const artifact: SuiInlineArtifact = { block, box: SvgBox.default, index: 0 };\r\n      artifact.box = svgHelpers.smoBox(bg.getBoundingClientRect());\r\n      artifact.index = ix;\r\n      this.artifacts.push(artifact);\r\n      ix += 1;\r\n    });\r\n    this.context.closeGroup();\r\n    this.logicalBox = svgHelpers.smoBox(group.getBBox());\r\n    this.renderedBox = svgHelpers.smoBox(svgHelpers.logicalToClient(this.context.svg, this.logicalBox, this.scroller.scrollState.scroll));\r\n  }\r\n\r\n  _drawBlock(block: SuiInlineBlock) {\r\n    const sp = this.isSuperscript(block);\r\n    const sub = this.isSubcript(block);\r\n    const highlight = this.getHighlight(block);\r\n    const y = block.y;\r\n\r\n    if (highlight) {\r\n      this.context.save();\r\n      this.context.setFillStyle('#999');\r\n    }\r\n\r\n    // This is how svgcontext expects to get 'style'\r\n    const weight = this.fontWeight + ',' + this.fontStyle;\r\n\r\n    if (sp || sub) {\r\n      this.context.save();\r\n      this.context.setFont(this.fontFamily, this.fontSize * VF.ChordSymbol.superSubRatio * block.scale, weight);\r\n    } else {\r\n      this.context.setFont(this.fontFamily, this.fontSize * block.scale, weight);\r\n    }\r\n    if (block.symbolType === SuiInlineText.symbolTypes.TEXT) {\r\n      this.context.fillText(block.text, block.x, y);\r\n    } else if (block.symbolType === SuiInlineText.symbolTypes.GLYPH) {\r\n      block.glyph.render(this.context, block.x, y);\r\n    }\r\n    if (sp || sub) {\r\n      this.context.restore();\r\n    }\r\n    if (highlight) {\r\n      this.context.restore();\r\n    }\r\n  }\r\n\r\n  getText(): string {\r\n    let rv = '';\r\n    this.blocks.forEach((block) => {\r\n      rv += block.text;\r\n    });\r\n    return rv;\r\n  }\r\n}\r\n\r\nexport interface SuiTextBlockBlock {\r\n  text: SuiInlineText;\r\n  position: number;\r\n  activeText: boolean;\r\n}\r\nexport interface SuiTextBlockParams {\r\n  blocks: SuiTextBlockBlock[];\r\n  scroller: SuiScroller;\r\n  spacing: number;\r\n  context: any;\r\n  skipRender: boolean;\r\n  justification: number;\r\n}\r\nexport interface SuiTextBlockJusityCalc {\r\n  blocks: SuiInlineText[], minx: number, maxx: number, width: number\r\n}\r\n// ## SuiTextBlock\r\n// A text block is a set of inline blocks that can be aligned/arranged in different ways.\r\nexport class SuiTextBlock {\r\n  static get relativePosition() {\r\n    return {\r\n      ABOVE: SmoTextGroup.relativePositions.ABOVE,\r\n      BELOW: SmoTextGroup.relativePositions.BELOW,\r\n      LEFT: SmoTextGroup.relativePositions.LEFT,\r\n      RIGHT: SmoTextGroup.relativePositions.RIGHT\r\n    };\r\n  }\r\n  inlineBlocks: SuiTextBlockBlock[] = [];\r\n  scroller: SuiScroller;\r\n  spacing: number = 0;\r\n  context: any;\r\n  skipRender: boolean;\r\n  currentBlockIndex: number = 0;\r\n  justification: number;\r\n  currentBlock: SuiTextBlockBlock | null = null;\r\n  renderedBox: SvgBox | null = null;\r\n  logicalBox: SvgBox = SvgBox.default;\r\n  constructor(params: SuiTextBlockParams) {\r\n    this.inlineBlocks = [];\r\n    this.scroller = params.scroller;\r\n    this.spacing = 0;\r\n    this.context = params.context;\r\n    this.skipRender = false; // used when editing the text\r\n    if (params.blocks.length < 1) {\r\n      const inlineParams = SuiInlineText.defaults;\r\n      inlineParams.scroller = this.scroller;\r\n      inlineParams.context = this.context;\r\n      const inst = new SuiInlineText(inlineParams);\r\n      params.blocks = [{ text: inst, position: SmoTextGroup.relativePositions.RIGHT, activeText: true }];\r\n    }\r\n    params.blocks.forEach((block) => {\r\n      if (!this.currentBlock) {\r\n        this.currentBlock = block;\r\n        this.currentBlockIndex = 0;\r\n      }\r\n      this.inlineBlocks.push(block);\r\n    });\r\n    this.justification = params.justification ? params.justification :\r\n      SmoTextGroup.justifications.LEFT;\r\n  }\r\n  render() {\r\n    this.unrender();\r\n    this.renderedBox = null;\r\n    this.inlineBlocks.forEach((block) => {\r\n      block.text.render();\r\n      if (block.activeText) {\r\n        this._outlineBox(this.context, block.text.logicalBox);\r\n      }\r\n      if (!this.renderedBox) {\r\n        this.renderedBox = svgHelpers.smoBox(block.text.renderedBox);\r\n        this.logicalBox = svgHelpers.smoBox(block.text.logicalBox);\r\n      } else {\r\n        this.renderedBox = svgHelpers.unionRect(this.renderedBox, block.text.renderedBox);\r\n        this.logicalBox = svgHelpers.unionRect(this.logicalBox, block.text.logicalBox);\r\n      }\r\n    });\r\n  }\r\n  _outlineBox(context: any, box: SvgBox) {\r\n    const outlineStroke = SuiTextEditor.strokes['text-highlight'];\r\n    const obj: OutlineInfo = {\r\n      context, box, classes: 'text-drag',\r\n      stroke: outlineStroke, scroll: this.scroller.scrollState.scroll, clientCoordinates: false\r\n    };\r\n    svgHelpers.outlineLogicalRect(obj);\r\n  }\r\n\r\n  offsetStartX(offset: number) {\r\n    this.inlineBlocks.forEach((block) => {\r\n      block.text.offsetStartX(offset);\r\n    });\r\n  }\r\n\r\n  offsetStartY(offset: number) {\r\n    this.inlineBlocks.forEach((block) => {\r\n      block.text.offsetStartY(offset);\r\n    });\r\n  }\r\n\r\n  rescale(scale: number) {\r\n    this.inlineBlocks.forEach((block) => {\r\n      block.text.rescale(scale);\r\n    });\r\n  }\r\n\r\n  get x(): number {\r\n    return this.getLogicalBox().x;\r\n  }\r\n  get y(): number {\r\n    return this.getLogicalBox().y;\r\n  }\r\n\r\n  maxFontHeight(scale: number): number {\r\n    let rv = 0;\r\n    this.inlineBlocks.forEach((block) => {\r\n      const blockHeight = block.text.maxFontHeight(scale);\r\n      rv = blockHeight > rv ? blockHeight : rv;\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  static inlineParamsFromScoreText(scoreText: SmoScoreText, context: any, scroller: SuiScroller): SuiInlineTextParams {\r\n    const rv: SuiInlineTextParams = {\r\n      fontFamily: scoreText.fontInfo.family,\r\n      startX: scoreText.x, startY: scoreText.y, fontWeight: scoreText.fontInfo.weight,\r\n      fontStyle: scoreText.fontInfo.style ?? 'normal',\r\n      fontSize: scoreText.fontInfo.size, context, scroller\r\n    };\r\n    return rv;\r\n  }\r\n  static blockFromScoreText(scoreText: SmoScoreText, context: any, position: number, scroller: SuiScroller): SuiTextBlockBlock {\r\n    var inlineText = SuiInlineText.fromScoreText(scoreText, context, scroller);\r\n    return { text: inlineText, position, activeText: true };\r\n  }\r\n\r\n  getLogicalBox(): SvgBox {\r\n    return this._calculateBoundingClientRect();\r\n  }\r\n  getRenderedBox(): SvgBox {\r\n    return svgHelpers.smoBox(svgHelpers.logicalToClient(this.context.svg, this._calculateBoundingClientRect(), this.scroller.scrollState.scroll));\r\n  }\r\n  _calculateBoundingClientRect(): SvgBox {\r\n    let rv: SvgBox = SvgBox.default;\r\n    this.inlineBlocks.forEach((block) => {\r\n      if (!rv.x) {\r\n        rv = block.text.getLogicalBox();\r\n      } else {\r\n        rv = svgHelpers.unionRect(rv, block.text.getLogicalBox());\r\n      }\r\n    });\r\n    rv.y = rv.y - rv.height;\r\n    return rv;\r\n  }\r\n  static fromTextGroup(tg: SmoTextGroup, context: any, scroller: SuiScroller): SuiTextBlock {\r\n    const blocks: SuiTextBlockBlock[] = [];\r\n\r\n    // Create an inline block for each ScoreText\r\n    tg.textBlocks.forEach((stBlock) => {\r\n      const st = stBlock.text;\r\n      const newText = SuiTextBlock.blockFromScoreText(st, context, stBlock.position, scroller);\r\n      newText.activeText = stBlock.activeText;\r\n      blocks.push(newText);\r\n    });\r\n    const rv = new SuiTextBlock({\r\n      blocks, justification: tg.justification, spacing: tg.spacing, context, scroller,\r\n      skipRender: false\r\n    });\r\n    rv._justify();\r\n    return rv;\r\n  }\r\n  unrender() {\r\n    this.inlineBlocks.forEach((block) => {\r\n      const selector = '#' + block.text.attrs.id;\r\n      $(selector).remove();\r\n    });\r\n  }\r\n  // ### _justify\r\n  // justify the blocks according to the group justify policy and the\r\n  // relative position of the blocks\r\n  _justify() {\r\n    let hIx = 0;\r\n    let left = 0;\r\n    let minx = 0;\r\n    let maxx = 0;\r\n    let lvl = 0;\r\n    let maxwidth = 0;\r\n    let runningWidth = 0;\r\n    let runningHeight = 0;\r\n    if (!this.inlineBlocks.length) {\r\n      return;\r\n    }\r\n    minx = this.inlineBlocks[0].text.startX;\r\n    // We justify relative to first block x/y.\r\n    const initialX = this.inlineBlocks[0].text.startX;\r\n    const initialY = this.inlineBlocks[0].text.startY;\r\n    const vert: Record<string, SuiTextBlockJusityCalc> = {};\r\n    this.inlineBlocks.forEach((inlineBlock) => {\r\n      const block = inlineBlock.text;\r\n      const blockBox = block.getLogicalBox();\r\n      // If this is a horizontal positioning, reset to first blokc position\r\n      //\r\n      if (hIx > 0) {\r\n        block.startX = initialX;\r\n        block.startY = initialY;\r\n      }\r\n      minx = block.startX < minx ? block.startX : minx;\r\n      maxx = (block.startX + blockBox.width) > maxx ? block.startX + blockBox.width : maxx;\r\n\r\n      lvl = inlineBlock.position === SmoTextGroup.relativePositions.ABOVE ? lvl + 1 : lvl;\r\n      lvl = inlineBlock.position === SmoTextGroup.relativePositions.BELOW ? lvl - 1 : lvl;\r\n      if (inlineBlock.position === SmoTextGroup.relativePositions.RIGHT) {\r\n        block.startX += runningWidth;\r\n        if (hIx > 0) {\r\n          block.startX += this.spacing;\r\n        }\r\n      }\r\n      if (inlineBlock.position === SmoTextGroup.relativePositions.LEFT) {\r\n        if (hIx > 0) {\r\n          block.startX = minx - blockBox.width;\r\n          minx = block.startX;\r\n          block.startX -= this.spacing;\r\n        }\r\n      }\r\n      if (inlineBlock.position === SmoTextGroup.relativePositions.BELOW) {\r\n        block.startY += runningHeight;\r\n        if (hIx > 0) {\r\n          block.startY += this.spacing;\r\n        }\r\n      }\r\n      if (inlineBlock.position === SmoTextGroup.relativePositions.ABOVE) {\r\n        block.startY -= runningHeight;\r\n        if (hIx > 0) {\r\n          block.startY -= this.spacing;\r\n        }\r\n      }\r\n      if (!vert[lvl]) {\r\n        vert[lvl] = {\r\n          blocks: [block], minx: block.startX, maxx: block.startX + blockBox.width,\r\n          width: blockBox.width\r\n        };\r\n        maxwidth = vert[lvl].width;\r\n        vert[lvl].blocks = [block];\r\n        vert[lvl].minx = block.startX;\r\n        vert[lvl].maxx = block.startX + blockBox.width;\r\n        maxwidth = vert[lvl].width = blockBox.width;\r\n      } else {\r\n        vert[lvl].blocks.push(block);\r\n        vert[lvl].minx = vert[lvl].minx < block.startX ? vert[lvl].minx : block.startX;\r\n        vert[lvl].maxx = vert[lvl].maxx > (block.startX + blockBox.width) ?\r\n          vert[lvl].maxx : (block.startX + blockBox.width);\r\n        vert[lvl].width += blockBox.width;\r\n        maxwidth = maxwidth > vert[lvl].width ? maxwidth : vert[lvl].width;\r\n      }\r\n      runningWidth += blockBox.width;\r\n      runningHeight += blockBox.height;\r\n      hIx += 1;\r\n      block.updatedMetrics = false;\r\n    });\r\n\r\n    const levels = Object.keys(vert);\r\n\r\n    // Horizontal justify the vertical blocks\r\n    levels.forEach((level) => {\r\n      const vobj = vert[level];\r\n      if (this.justification === SmoTextGroup.justifications.LEFT) {\r\n        left = minx - vobj.minx;\r\n      } else if (this.justification === SmoTextGroup.justifications.RIGHT) {\r\n        left = maxx - vobj.maxx;\r\n      } else {\r\n        left = (maxwidth / 2) - (vobj.width / 2);\r\n        left += minx - vobj.minx;\r\n      }\r\n      vobj.blocks.forEach((block) => {\r\n        block.offsetStartX(left);\r\n      });\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiMapper, LocalModifier, SuiRendererBase } from './mapper';\r\nimport { svgHelpers, StrokeInfo, OutlineInfo } from '../../common/svgHelpers';\r\nimport { SmoSelection, SmoSelector, ModifierTab } from '../../smo/xform/selections';\r\nimport { SuiRenderState } from './renderState';\r\nimport { htmlHelpers } from '../../common/htmlHelpers';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SuiOscillator } from '../audio/oscillator';\r\nimport { SmoActionRecord } from '../../smo/xform/actions';\r\nimport { SmoScore } from '../../smo/data/score';\r\nimport { StaffModifierBase } from '../../smo/data/staffModifiers';\r\nimport { SvgBox, SvgPoint } from '../../smo/data/common';\r\nimport { SuiScroller } from './scroller';\r\nimport { PasteBuffer } from '../../smo/xform/copypaste';\r\nimport { SmoNote } from '../../smo/data/note';\r\nimport { SmoMeasure } from '../../smo/data/measure';\r\n\r\ndeclare var $: any;\r\n\r\nexport interface KeyEvent {\r\n  type: string, shiftKey: boolean, ctrlKey: boolean, altKey: boolean, key: string, keyCode: string,\r\n  code: string\r\n}\r\n/**\r\n * SuiTracker\r\n A tracker maps the UI elements to the logical elements ,and allows the user to\r\n move through the score and make selections, for navigation and editing.\r\n */\r\nexport class SuiTracker extends SuiMapper {\r\n  idleTimer: number = Date.now();\r\n  recordBuffer: SmoActionRecord | null = null;\r\n  // timer: NodeJS.Timer | null = null;\r\n  suggestFadeTimer: NodeJS.Timer | null = null;\r\n  constructor(renderer: SuiRendererBase, scroller: SuiScroller, pasteBuffer: PasteBuffer) {\r\n    super(renderer, scroller, pasteBuffer);\r\n  }\r\n  // ### _checkBoxOffset\r\n  // If the mapped note and actual note don't match, re-render the notes so they do.\r\n  // Otherwise the selections are off.\r\n  _checkBoxOffset() {\r\n    const note = this.selections[0].note as SmoNote;\r\n    const r = note.renderedBox;\r\n    if (!r) {\r\n      return;\r\n    }\r\n    const abs = svgHelpers.logicalToClient(this.renderer.svg, svgHelpers.smoBox(note.logicalBox), this.scroller.scrollState.scroll);\r\n    const ydiff = Math.abs(r.y - abs.y);\r\n    const xdiff = Math.abs(r.x - abs.x);\r\n    const preventScroll = $('body').hasClass('modal');\r\n\r\n    if (ydiff > 1 || xdiff > 1) {\r\n      if (this.renderer.passState === SuiRenderState.passStates.replace ||\r\n        this.renderer.passState === SuiRenderState.passStates.clean) {\r\n        console.log('tracker: rerender conflicting map');\r\n        this.renderer.remapAll();\r\n      }\r\n      if (!preventScroll) {\r\n        console.log('prevent scroll conflicting map');\r\n        $('body').addClass('modal');\r\n        this.renderer.renderPromise().then(() => {\r\n          $('body').removeClass('modal');\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  replaceSelectedMeasures() {\r\n    const mm = SmoSelection.getMeasureList(this.selections);\r\n    this.renderer.addToReplaceQueue(mm);\r\n  }\r\n\r\n  // ### renderElement\r\n  // the element the score is rendered on\r\n  get renderElement(): Element {\r\n    return this.renderer.renderElement;\r\n  }\r\n\r\n  get score(): SmoScore {\r\n    return this.renderer.score;\r\n  }\r\n\r\n  get svg(): SVGSVGElement {\r\n    return this.renderer.svg;\r\n  }\r\n\r\n  clearMusicCursor() {\r\n    $('.workspace #birdy').remove();\r\n  }\r\n\r\n  // ### musicCursor\r\n  // the little birdie that follows the music as it plays\r\n  musicCursor(selector: SmoSelector) {\r\n    const key = SmoSelector.getNoteKey(selector);\r\n    // Get note from 0th staff if we can\r\n    if (this.measureNoteMap[key]) {\r\n      const measureSel = SmoSelection.measureSelection(this.renderer.score,\r\n        this.renderer.score.staves.length - 1, selector.measure);\r\n      const zmeasureSel = SmoSelection.measureSelection(this.renderer.score,\r\n        0, selector.measure);\r\n      const measure = measureSel?.measure as SmoMeasure;\r\n      const y1: number = zmeasureSel?.measure?.svg?.renderedBox?.y ?? 0;\r\n      const y2: number = zmeasureSel?.measure?.svg?.renderedBox?.height ?? 0;\r\n      const sy: number = this.scroller.netScroll.y;\r\n      const y = (y1 - y2) - sy;\r\n\r\n      const mbox = measure?.svg?.renderedBox ?? SvgBox.default;\r\n      const noteSel = this.measureNoteMap[key] as SmoSelection;\r\n      const pos: SvgPoint = noteSel.scrollBox ?? SvgPoint.default;\r\n      const b = htmlHelpers.buildDom;\r\n      const r = b('span').classes('birdy icon icon-arrow-down').attr('id', 'birdy');\r\n      $('.workspace #birdy').remove();\r\n      const rd = r.dom();\r\n      const x = pos.x;\r\n      $(rd).css('top', y).css('left', x);\r\n      $('.workspace').append(rd);\r\n      // todo, need lower right for x\r\n      if (mbox) {\r\n      this.scroller.scrollVisibleBox(svgHelpers.boxPoints(\r\n        mbox.x, mbox.y, mbox.width, mbox.height));\r\n      }\r\n    }\r\n  }\r\n\r\n  // ### selectModifierById\r\n  // programatically select a modifier by ID.  Used by text editor.\r\n  selectId(id: string) {\r\n    this.modifierIndex = this.modifierTabs.findIndex((mm) =>  mm.modifier.attrs.id === id);\r\n  }\r\n\r\n  getSelectedModifier() {\r\n    if (this.modifierSelections.length) {\r\n      return this.modifierSelections[0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getSelectedModifiers() {\r\n    return this.modifierSelections;\r\n  }\r\n\r\n  static serializeEvent(evKey: KeyEvent | null): any {\r\n    if (!evKey) {\r\n      return [];\r\n    }\r\n    const rv = {};\r\n    smoSerialize.serializedMerge(['type', 'shiftKey', 'ctrlKey', 'altKey', 'key', 'keyCode'], evKey, rv);\r\n    return rv;\r\n  }\r\n\r\n  advanceModifierSelection(keyEv: KeyEvent | null) {\r\n    if (!keyEv) {\r\n      return;\r\n    }\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('advanceModifierSelection', SuiTracker.serializeEvent(keyEv));\r\n    }\r\n\r\n    this.idleTimer = Date.now();\r\n    this.eraseRect('staffModifier');\r\n    const offset = keyEv.key === 'ArrowLeft' ? -1 : 1;\r\n\r\n    if (!this.modifierTabs.length) {\r\n      return;\r\n    }\r\n    this.modifierIndex = this.modifierIndex + offset;\r\n    this.modifierIndex = (this.modifierIndex === -2 && this.localModifiers.length) ?\r\n      this.localModifiers.length - 1 : this.modifierIndex;\r\n    if (this.modifierIndex >= this.localModifiers.length || this.modifierIndex < 0) {\r\n      this.modifierIndex = -1;\r\n      this.modifierSelections = [];\r\n      return;\r\n    }\r\n    const local: LocalModifier = this.localModifiers[this.modifierIndex];\r\n    const box: SvgBox = svgHelpers.smoBox(local.box) as SvgBox;\r\n    this.modifierSelections = [{ index: 0, box, modifier: local.modifier, selection: local.selection }];\r\n    this._highlightModifier();\r\n  }\r\n\r\n  static stringifyBox(box: SvgBox): string {\r\n    return '{x:' + box.x + ',y:' + box.y + ',width:' + box.width + ',height:' + box.height + '}';\r\n  }\r\n\r\n  // ### _getOffsetSelection\r\n  // Get the selector that is the offset of the first existing selection\r\n  _getOffsetSelection(offset: number) {\r\n    let testSelection = this.getExtremeSelection(Math.sign(offset));\r\n    const scopyTick = JSON.parse(JSON.stringify(testSelection.selector));\r\n    const scopyMeasure = JSON.parse(JSON.stringify(testSelection.selector));\r\n    scopyTick.tick += offset;\r\n    scopyMeasure.measure += offset;\r\n    const targetMeasure = SmoSelection.measureSelection(this.score, testSelection.selector.staff,\r\n      scopyMeasure.measure);\r\n    if (targetMeasure && targetMeasure.measure && targetMeasure.measure.voices.length <= scopyMeasure.voice) {\r\n      scopyMeasure.voice = 0;\r\n    }\r\n    if (targetMeasure && targetMeasure.measure) {\r\n      scopyMeasure.tick = (offset < 0) ? targetMeasure.measure.voices[scopyMeasure.voice].notes.length - 1 : 0;\r\n    }\r\n\r\n    if (testSelection.measure.voices.length > scopyTick.voice &&\r\n      testSelection.measure.voices[scopyTick.voice].notes.length > scopyTick.tick && scopyTick.tick >= 0) {\r\n      if (testSelection.selector.voice !== testSelection.measure.getActiveVoice()) {\r\n        scopyTick.voice = testSelection.measure.getActiveVoice();\r\n        testSelection = this._getClosestTick(scopyTick);\r\n        return testSelection.selector;\r\n      }\r\n      return scopyTick;\r\n    } else if (targetMeasure &&\r\n      scopyMeasure.measure < testSelection.staff.measures.length && scopyMeasure.measure >= 0) {\r\n      return scopyMeasure;\r\n    }\r\n    return testSelection.selector;\r\n  }\r\n\r\n  getSelectedGraceNotes(): ModifierTab[] {\r\n    if (!this.modifierSelections.length) {\r\n      return [];\r\n    }\r\n    const ff = this.modifierSelections.filter((mm) =>\r\n      mm.modifier.attrs.type === 'SmoGraceNote'\r\n    );\r\n    return ff;\r\n  }\r\n\r\n  isGraceNoteSelected(): boolean {\r\n    if (this.modifierSelections.length) {\r\n      const ff = this.modifierSelections.findIndex((mm) => mm.modifier.attrs.type === 'SmoGraceNote');\r\n      return ff >= 0;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  _growGraceNoteSelections(offset: number) {\r\n    this.idleTimer = Date.now();\r\n    const far = this.modifierSelections.filter((mm) => mm.modifier.attrs.type === 'SmoGraceNote');\r\n    if (!far.length) {\r\n      return;\r\n    }\r\n    const ix = (offset < 0) ? 0 : far.length - 1;\r\n    const sel: ModifierTab = far[ix] as ModifierTab;\r\n    const left = this.modifierTabs.filter((mt) =>\r\n      mt.modifier?.attrs?.type === 'SmoGraceNote' && sel.selection && mt.selection &&\r\n      SmoSelector.sameNote(mt.selection.selector, sel.selection.selector)\r\n    );\r\n    if (ix + offset < 0 || ix + offset >= left.length) {\r\n      return;\r\n    }\r\n    this.modifierSelections.push(left[ix + offset]);\r\n    this._highlightModifier();\r\n  }\r\n  get autoPlay() {\r\n    return this.renderer.score.preferences.autoPlay;\r\n  }\r\n\r\n  growSelectionRight() {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('growSelectionRight');\r\n    }\r\n    this._growSelectionRight(false);\r\n  }\r\n  _growSelectionRight(skipPlay: boolean): number {\r\n    this.idleTimer = Date.now();\r\n    if (this.isGraceNoteSelected()) {\r\n      this._growGraceNoteSelections(1);\r\n      return 0;\r\n    }\r\n    const nselect = this._getOffsetSelection(1);\r\n    // already selected\r\n    const artifact = this._getClosestTick(nselect);\r\n    if (!artifact) {\r\n      return 0;\r\n    }\r\n    if (this.selections.find((sel) => SmoSelector.sameNote(sel.selector, artifact.selector))) {\r\n      return 0;\r\n    }\r\n    if (!this.mapping && this.autoPlay && skipPlay === false) {\r\n      SuiOscillator.playSelectionNow(artifact, 1);\r\n    }\r\n    this.selections.push(artifact);\r\n    this.deferHighlight();\r\n    this._createLocalModifiersList();\r\n    return (artifact.note as SmoNote).tickCount;\r\n  }\r\n  moveHome(evKey: KeyEvent) {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveHome', SuiTracker.serializeEvent(evKey));\r\n    }\r\n    this.idleTimer = Date.now();\r\n    const ls = this.selections[0].staff;\r\n    if (evKey.ctrlKey) {\r\n      const mm = ls.measures[0];\r\n      const homeSel = this._getClosestTick({ staff: ls.staffId,\r\n        measure: 0, voice: mm.getActiveVoice(), tick: 0, pitches: [] });\r\n      if (evKey.shiftKey) {\r\n        this._selectBetweenSelections(this.selections[0], homeSel);\r\n      } else {\r\n        this.selections = [homeSel];\r\n        this.deferHighlight();\r\n        this._createLocalModifiersList();\r\n        if (homeSel.measure.svg.renderedBox) {\r\n          this.scroller.scrollVisibleBox(homeSel.measure.svg.renderedBox);\r\n        }\r\n      }\r\n    } else {\r\n      const system = this.selections[0].measure.svg.lineIndex;\r\n      const lm = ls.measures.find((mm) =>\r\n        mm.svg.lineIndex === system && mm.measureNumber.systemIndex === 0);\r\n      const mm = lm as SmoMeasure;\r\n      const homeSel = this._getClosestTick({ staff: ls.staffId,\r\n        measure: mm.measureNumber.measureIndex, voice: mm.getActiveVoice(),\r\n        tick: 0, pitches: [] });\r\n      if (evKey.shiftKey) {\r\n        this._selectBetweenSelections(this.selections[0], homeSel);\r\n      } else if (homeSel?.measure?.svg?.renderedBox) {\r\n        this.selections = [homeSel];\r\n        this.scroller.scrollVisibleBox(homeSel.measure.svg.renderedBox);\r\n        this.deferHighlight();\r\n        this._createLocalModifiersList();\r\n      }\r\n    }\r\n  }\r\n  moveEnd(evKey: KeyEvent) {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveEnd', SuiTracker.serializeEvent(evKey));\r\n    }\r\n    this.idleTimer = Date.now();\r\n    const ls = this.selections[0].staff;\r\n    if (evKey.ctrlKey) {\r\n      const lm = ls.measures[ls.measures.length - 1];\r\n      const voiceIx = lm.getActiveVoice();\r\n      const voice = lm.voices[voiceIx];\r\n      const endSel = this._getClosestTick({ staff: ls.staffId,\r\n        measure: ls.measures.length - 1, voice: voiceIx, tick: voice.notes.length - 1, pitches: [] });\r\n      if (evKey.shiftKey) {\r\n        this._selectBetweenSelections(this.selections[0], endSel);\r\n      } else {\r\n        this.selections = [endSel];\r\n        this.deferHighlight();\r\n        this._createLocalModifiersList();\r\n        if (endSel.measure.svg.renderedBox) {\r\n          this.scroller.scrollVisibleBox(endSel.measure.svg.renderedBox);\r\n        }\r\n      }\r\n    } else {\r\n      const system = this.selections[0].measure.svg.lineIndex;\r\n      // find the largest measure index on this staff in this system\r\n      const measures = ls.measures.filter((mm) =>\r\n        mm.svg.lineIndex === system);\r\n      const lm = measures.reduce((a, b) =>\r\n        b.measureNumber.measureIndex > a.measureNumber.measureIndex ? b : a);\r\n      const ticks = lm.voices[lm.getActiveVoice()].notes.length;\r\n      const endSel = this._getClosestTick({ staff: ls.staffId,\r\n        measure: lm.measureNumber.measureIndex, voice: lm.getActiveVoice(), tick: ticks - 1, pitches: [] });\r\n      if (evKey.shiftKey) {\r\n        this._selectBetweenSelections(this.selections[0], endSel);\r\n      } else {\r\n        this.selections = [endSel];\r\n        this.deferHighlight();\r\n        this._createLocalModifiersList();\r\n        if (endSel.measure.svg.renderedBox) {\r\n          this.scroller.scrollVisibleBox(endSel.measure.svg.renderedBox);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  growSelectionRightMeasure() {\r\n    let toSelect = 0;\r\n    const rightmost = this.getExtremeSelection(1);\r\n    const ticksLeft = rightmost.measure.voices[rightmost.measure.activeVoice]\r\n      .notes.length - rightmost.selector.tick;\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('growSelectionRightMeasure');\r\n    }\r\n    if (ticksLeft === 0) {\r\n      if (rightmost.selector.measure < rightmost.staff.measures.length) {\r\n        const mix = rightmost.selector.measure + 1;\r\n        toSelect = rightmost.staff.measures[mix]\r\n          .voices[rightmost.staff.measures[mix].activeVoice].notes.length;\r\n      }\r\n    } else {\r\n      toSelect = ticksLeft;\r\n    }\r\n    while (toSelect > 0) {\r\n      this._growSelectionRight(true);\r\n      toSelect -= 1;\r\n    }\r\n  }\r\n\r\n  growSelectionLeft(): number {\r\n    if (this.isGraceNoteSelected()) {\r\n      this._growGraceNoteSelections(-1);\r\n      return 0;\r\n    }\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('growSelectionLeft');\r\n    }\r\n    this.idleTimer = Date.now();\r\n    const nselect = this._getOffsetSelection(-1);\r\n    // already selected\r\n    const artifact = this._getClosestTick(nselect);\r\n    if (!artifact) {\r\n      return 0;\r\n    }\r\n    if (this.selections.find((sel) => SmoSelector.sameNote(sel.selector, artifact.selector))) {\r\n      return 0;\r\n    }\r\n    this.selections.push(artifact);\r\n    if (this.autoPlay) {\r\n      SuiOscillator.playSelectionNow(artifact, 1);\r\n    }\r\n    this.deferHighlight();\r\n    this._createLocalModifiersList();\r\n    return (artifact.note as SmoNote).tickCount;\r\n  }\r\n\r\n  // if we are being moved right programmatically, avoid playing the selected note.\r\n  moveSelectionRight(evKey: KeyEvent | null, skipPlay: boolean) {\r\n    if (this.selections.length === 0) {\r\n      return;\r\n    }\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveSelectionRight', SuiTracker.serializeEvent(evKey));\r\n    }\r\n    const nselect = this._getOffsetSelection(1);\r\n    this._replaceSelection(nselect, skipPlay);\r\n  }\r\n\r\n  moveSelectionLeft() {\r\n    if (this.selections.length === 0) {\r\n      return;\r\n    }\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveSelectionLeft');\r\n    }\r\n    const nselect = this._getOffsetSelection(-1);\r\n    this._replaceSelection(nselect, false);\r\n  }\r\n  moveSelectionLeftMeasure() {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveSelectionLeftMeasure');\r\n    }\r\n    this._moveSelectionMeasure(-1);\r\n  }\r\n  moveSelectionRightMeasure() {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveSelectionRightMeasure');\r\n    }\r\n    this._moveSelectionMeasure(1);\r\n  }\r\n  moveSelectionOffset(offset: number) {\r\n    let i = 0;\r\n    const fcn = (offset >= 0 ? 'moveSelectionRight' : 'moveSelectionLeft');\r\n    offset = (offset < 0) ? -1 * offset : offset;\r\n    for (i = 0; i < offset; ++i) {\r\n      this[fcn](null, false);\r\n    }\r\n  }\r\n\r\n  _moveSelectionMeasure(offset: number) {\r\n    const selection = this.getExtremeSelection(Math.sign(offset));\r\n    this.idleTimer = Date.now();\r\n    const selector = JSON.parse(JSON.stringify(selection.selector));\r\n    selector.measure += offset;\r\n    selector.tick = 0;\r\n    const selObj = this._getClosestTick(selector);\r\n    if (selObj) {\r\n      this.selections = [selObj];\r\n    }\r\n    this.deferHighlight();\r\n    this._createLocalModifiersList();\r\n  }\r\n\r\n  setSelection(selection: SmoSelector) {\r\n    const selObj = this._getClosestTick(selection);\r\n    this.idleTimer = Date.now();\r\n    if (selObj) {\r\n      this.selections = [selObj];\r\n    }\r\n    this.deferHighlight();\r\n  }\r\n\r\n  _moveStaffOffset(offset: number) {\r\n    if (this.selections.length === 0) {\r\n      return;\r\n    }\r\n    this.idleTimer = Date.now();\r\n    const nselector = JSON.parse(JSON.stringify(this.selections[0].selector));\r\n    nselector.staff = this.score.incrementActiveStaff(offset);\r\n    this.selections = [this._getClosestTick(nselector)];\r\n    this.deferHighlight();\r\n    this._createLocalModifiersList();\r\n  }\r\n\r\n  // ### _moveSelectionPitch\r\n  // Suggest a specific pitch in a chord, so we can transpose just the one note vs. the whole chord.\r\n  _moveSelectionPitch(index: number) {\r\n    this.idleTimer = Date.now();\r\n    if (!this.selections.length) {\r\n      return;\r\n    }\r\n    const sel = this.selections[0];\r\n    const note = sel.note as SmoNote;\r\n    if (note.pitches.length < 2) {\r\n      this.pitchIndex = -1;\r\n      return;\r\n    }\r\n    this.pitchIndex = (this.pitchIndex + index) % note.pitches.length;\r\n    sel.selector.pitches = [];\r\n    sel.selector.pitches.push(this.pitchIndex);\r\n    this._highlightPitchSelection(note, this.pitchIndex);\r\n  }\r\n  moveSelectionPitchUp() {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveSelectionPitchUp');\r\n    }\r\n    this._moveSelectionPitch(1);\r\n  }\r\n  moveSelectionPitchDown() {\r\n    if (!this.selections.length) {\r\n      return;\r\n    }\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveSelectionPitchDown');\r\n    }\r\n    this._moveSelectionPitch((this.selections[0].note as SmoNote).pitches.length - 1);\r\n  }\r\n\r\n  moveSelectionUp() {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveSelectionUp');\r\n    }\r\n    this._moveStaffOffset(-1);\r\n  }\r\n  moveSelectionDown() {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('moveSelectionDown');\r\n    }\r\n    this._moveStaffOffset(1);\r\n  }\r\n\r\n  containsArtifact(): boolean {\r\n    return this.selections.length > 0;\r\n  }\r\n\r\n  _replaceSelection(nselector: SmoSelector, skipPlay: boolean) {\r\n    var artifact = SmoSelection.noteSelection(this.score, nselector.staff, nselector.measure, nselector.voice, nselector.tick);\r\n    if (!artifact) {\r\n      artifact = SmoSelection.noteSelection(this.score, nselector.staff, nselector.measure, 0, nselector.tick);\r\n    }\r\n    if (!artifact) {\r\n      artifact = SmoSelection.noteSelection(this.score, nselector.staff, nselector.measure, 0, 0);\r\n    }\r\n    if (!artifact) {\r\n      // disappeared - default to start\r\n      artifact = SmoSelection.noteSelection(this.score, 0, 0, 0, 0);\r\n    }\r\n    if (!skipPlay && this.autoPlay && artifact) {\r\n      SuiOscillator.playSelectionNow(artifact, 1);\r\n    }\r\n    if (!artifact) {\r\n      return;\r\n    }\r\n\r\n    // clear modifier selections\r\n    this.clearModifierSelections();\r\n    this.score.setActiveStaff(nselector.staff);\r\n    const mapKey = Object.keys(this.measureNoteMap).find((k) =>\r\n      artifact && SmoSelector.sameNote(this.measureNoteMap[k].selector, artifact.selector)\r\n    );\r\n    if (!mapKey) {\r\n      return;\r\n    }\r\n    const mapped = this.measureNoteMap[mapKey];\r\n    // If this is a new selection, remove pitch-specific and replace with note-specific\r\n    if (!nselector.pitches || nselector.pitches.length === 0) {\r\n      this.pitchIndex = -1;\r\n    }\r\n\r\n    this.selections = [mapped];\r\n    this.deferHighlight();\r\n    this._createLocalModifiersList();\r\n  }\r\n\r\n  getFirstMeasureOfSelection() {\r\n    if (this.selections.length) {\r\n      return this.selections[0].measure;\r\n    }\r\n    return null;\r\n  }\r\n  // ## measureIterator\r\n  // Description: iterate over the any measures that are part of the selection\r\n  getSelectedMeasures(): SmoSelection[] {\r\n    const set: number[] = [];\r\n    const rv: SmoSelection[] = [];\r\n    this.selections.forEach((sel) => {\r\n      const measure = SmoSelection.measureSelection(this.score, sel.selector.staff, sel.selector.measure);\r\n      if (measure) {\r\n        const ix = measure.selector.measure;\r\n        if (set.indexOf(ix) === -1) {\r\n          set.push(ix);\r\n          rv.push(measure);\r\n        }\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  _selectFromToInStaff(sel1: SmoSelection, sel2: SmoSelection) {\r\n    this.selections = [];\r\n    this.idleTimer = Date.now();\r\n    const order = [sel1, sel2].sort((a, b) => SmoSelector.lteq(a.selector, b.selector) ? -1 : 1);\r\n\r\n    // TODO: we could iterate directly over the selectors, that would be faster\r\n    Object.keys(this.measureNoteMap).forEach((k) => {\r\n      const obj = this.measureNoteMap[k];\r\n      if (SmoSelector.gteq(obj.selector, order[0].selector) && SmoSelector.lteq(obj.selector, order[1].selector)) {\r\n        this.selections.push(obj);\r\n      }\r\n    });\r\n  }\r\n\r\n  _addSelection(selection: SmoSelection) {\r\n    const ar: SmoSelection[] = this.selections.filter((sel) =>\r\n      SmoSelector.neq(sel.selector, selection.selector)\r\n    );\r\n    if (this.autoPlay) {\r\n      SuiOscillator.playSelectionNow(selection, 1);\r\n    }\r\n    ar.push(selection);\r\n    this.selections = ar;\r\n  }\r\n\r\n  recordSelectSuggestion(ev: KeyEvent, selector: SmoSelector) {\r\n    if (this.recordBuffer) {\r\n      this.recordBuffer.addAction('selectSuggestionNote', selector, SuiTracker.serializeEvent(ev));\r\n    }\r\n  }\r\n  recordModifierSelectSuggestion(ev: KeyEvent) {\r\n    if (this.recordBuffer) {\r\n      const artifact = this.modifierTabs[this.modifierSuggestion];\r\n      if (!artifact) {\r\n        this.clearModifierSelections();\r\n        return; // in SVG but not in model, ignore.\r\n      }\r\n      const modKey = artifact.modifier.serialize();\r\n      if (artifact === null || artifact.selection === null) {\r\n        return;\r\n      }\r\n      const selector = artifact.selection.selector;\r\n      this.recordBuffer.addAction('selectSuggestionModifier', selector,\r\n        SuiTracker.serializeEvent(ev), modKey);\r\n    }\r\n  }\r\n  _selectBetweenSelections(s1: SmoSelection, s2: SmoSelection) {\r\n    const min = SmoSelector.gt(s1.selector, s2.selector) ? s2 : s1;\r\n    const max = SmoSelector.lt(min.selector, s2.selector) ? s2 : s1;\r\n    this._selectFromToInStaff(min, max);\r\n    this._createLocalModifiersList();\r\n    this.deferHighlight();\r\n  }\r\n  // ### _matchSelectionToModifier\r\n  // assumes a modifier is selected\r\n  _matchSelectionToModifier() {\r\n    const mod = this.modifierSelections[0].modifier;\r\n    if ((mod as StaffModifierBase).startSelector && (mod as StaffModifierBase).endSelector) {\r\n      const sm = mod as StaffModifierBase;\r\n      const s1: SmoSelection | null = SmoSelection.noteFromSelector(this.score, sm.startSelector);\r\n      const s2: SmoSelection | null = SmoSelection.noteFromSelector(this.score, sm.endSelector);\r\n      if (s1 && s2) {\r\n        this._selectBetweenSelections(s1, s2);\r\n      }\r\n    }\r\n  }\r\n  selectSuggestion(ev: KeyEvent) {\r\n    if (!this.suggestion || !this.suggestion.measure) {\r\n      return;\r\n    }\r\n    this.idleTimer = Date.now();\r\n\r\n    if (this.modifierSuggestion >= 0) {\r\n      if (this.suggestFadeTimer) {\r\n        clearTimeout(this.suggestFadeTimer);\r\n      }\r\n      this.recordModifierSelectSuggestion(ev);\r\n      this.modifierIndex = -1;\r\n      this.modifierSelections = [this.modifierTabs[this.modifierSuggestion]];\r\n      this.modifierSuggestion = -1;\r\n      // If we selected due to a mouse click, move the selection to the\r\n      // selected modifier\r\n      // this._matchSelectionToModifier();\r\n      this._highlightModifier();\r\n      return;\r\n    } else if (ev.type === 'click') {\r\n      this.clearModifierSelections(); // if we click on a non-modifier, clear the\r\n      // modifier selections\r\n    }\r\n\r\n    if (ev.shiftKey) {\r\n      const sel1 = this.getExtremeSelection(-1);\r\n      if (sel1.selector.staff === this.suggestion.selector.staff) {\r\n        this.recordSelectSuggestion(ev, this.suggestion.selector);\r\n        this._selectBetweenSelections(sel1, this.suggestion);\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (ev.ctrlKey) {\r\n      this.recordSelectSuggestion(ev, this.suggestion.selector);\r\n      this._addSelection(this.suggestion);\r\n      this._createLocalModifiersList();\r\n      this.deferHighlight();\r\n      return;\r\n    }\r\n    if (this.autoPlay) {\r\n      SuiOscillator.playSelectionNow(this.suggestion,1);\r\n    }\r\n\r\n    const preselected = this.selections[0] ?\r\n      SmoSelector.sameNote(this.suggestion.selector, this.selections[0].selector) && this.selections.length === 1 : false;\r\n\r\n    const note = this.selections[0].note as SmoNote;\r\n    if (preselected && note.pitches.length > 1) {\r\n      this.pitchIndex =  (this.pitchIndex + 1) % note.pitches.length;\r\n      this.selections[0].selector.pitches = [this.pitchIndex];\r\n      this.recordSelectSuggestion(ev, this.selections[0].selector);\r\n    } else {\r\n      this.recordSelectSuggestion(ev, this.suggestion.selector);\r\n      this.selections = [this.suggestion];\r\n    }\r\n    if (preselected && this.modifierTabs.length) {\r\n      const mods  = this.modifierTabs.filter((mm) => mm.selection && SmoSelector.sameNote(mm.selection.selector, this.selections[0].selector));\r\n      if (mods.length) {\r\n        this.modifierSelections[0] = mods[0];\r\n        this.modifierIndex = mods[0].index;\r\n        this._highlightModifier();\r\n        return;\r\n      }\r\n    }\r\n    this.score.setActiveStaff(this.selections[0].selector.staff);\r\n    this.deferHighlight();\r\n    this._createLocalModifiersList();\r\n  }\r\n\r\n  static get strokes(): Record<string, StrokeInfo> {\r\n    return {\r\n      suggestion: {\r\n        stroke: '#fc9',\r\n        strokeWidth: 2,\r\n        strokeDasharray: '4,1',\r\n        fill: 'none',\r\n        opacity: 1.0\r\n      },\r\n      selection: {\r\n        stroke: '#99d',\r\n        strokeWidth: 2,\r\n        strokeDasharray: 2,\r\n        fill: 'none',\r\n        opacity: 1.0\r\n      },\r\n      staffModifier: {\r\n        stroke: '#933',\r\n        strokeWidth: 2,\r\n        fill: 'none',\r\n        strokeDasharray: 0,\r\n        opacity: 1.0\r\n      }\r\n    };\r\n  }\r\n\r\n  _setFadeTimer() {\r\n    if (this.suggestFadeTimer) {\r\n      clearTimeout(this.suggestFadeTimer);\r\n    }\r\n    const tracker = this;\r\n    this.suggestFadeTimer = setTimeout(() => {\r\n      if (tracker.containsArtifact()) {\r\n        tracker.eraseRect('suggestion');\r\n        tracker.modifierSuggestion = -1;\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  _setModifierAsSuggestion(artifact: ModifierTab): void {\r\n    if (!artifact.box) {\r\n      return;\r\n    }\r\n    this.modifierSuggestion = artifact.index;\r\n    this._drawRect(artifact.box, 'suggestion');\r\n    this._setFadeTimer();\r\n  }\r\n\r\n  _setArtifactAsSuggestion(artifact: SmoSelection) {\r\n    const sameSel =\r\n      this.selections.find((ss) => SmoSelector.sameNote(ss.selector, artifact.selector));\r\n\r\n    if (sameSel || !artifact.box) {\r\n      return;\r\n    }\r\n    this.modifierSuggestion = -1;\r\n\r\n    this.suggestion = artifact;\r\n    this._drawRect(artifact.box, 'suggestion');\r\n    this._setFadeTimer();\r\n  }\r\n\r\n  eraseAllSelections() {\r\n    const strokeKeys = Object.keys(SuiTracker.strokes);\r\n    strokeKeys.forEach((key) => {\r\n      this.eraseRect(key);\r\n    });\r\n  }\r\n\r\n  eraseRect(stroke: string) {\r\n    $(this.renderElement).find('g.vf-' + stroke).remove();\r\n  }\r\n\r\n  _highlightModifier() {\r\n    let box: SvgBox | null = null;\r\n    if (!this.modifierSelections.length) {\r\n      return;\r\n    }\r\n    this.modifierSelections.forEach((artifact) => {\r\n      if (box === null) {\r\n        box = artifact.modifier.renderedBox ?? null;\r\n      } else {\r\n        box = svgHelpers.unionRect(box, svgHelpers.smoBox(artifact.modifier.renderedBox));\r\n      }\r\n    });\r\n    if (box === null) {\r\n      return;\r\n    }\r\n    this._drawRect(box, 'staffModifier');\r\n  }\r\n\r\n  _highlightPitchSelection(note: SmoNote, index: number) {\r\n    this.eraseAllSelections();\r\n    const noteDiv = $(this.renderElement).find('#' + note.renderId);\r\n    const heads = noteDiv.find('.vf-notehead');\r\n    if (!heads.length) {\r\n      return;\r\n    }\r\n    const headEl = heads[index];\r\n    const lbox = svgHelpers.smoBox(headEl.getBBox());\r\n    const box: SvgBox = svgHelpers.smoBox(svgHelpers.logicalToClient(this.svg, lbox, this.scroller.scrollState.scroll));\r\n    this._drawRect(box, 'staffModifier');\r\n  }\r\n\r\n  _highlightActiveVoice(selection: SmoSelection) {\r\n    let i = 0;\r\n    const selector = selection.selector;\r\n    for (i = 1; i <= 4; ++i) {\r\n      const cl = 'v' + i.toString() + '-active';\r\n      $('body').removeClass(cl);\r\n    }\r\n    const c2 = 'v' + (selector.voice + 1).toString() + '-active';\r\n    $('body').addClass(c2);\r\n  }\r\n  // The user has just switched voices, select the active voice\r\n  selectActiveVoice() {\r\n    const selection = this.selections[0];\r\n    const selector = JSON.parse(JSON.stringify(selection.selector));\r\n    selector.voice = selection.measure.activeVoice;\r\n    this.selections = [this._getClosestTick(selector)];\r\n    this.deferHighlight();\r\n  }\r\n\r\n  highlightSelection() {\r\n    let i = 0;\r\n    let prevSel: SmoSelection | null = null;\r\n    let curBox: SvgBox = SvgBox.default;\r\n    this.idleTimer = Date.now();\r\n    const grace = this.getSelectedGraceNotes();\r\n    // If this is not a note with grace notes, logically unselect the grace notes\r\n    if (grace && grace.length && grace[0].selection && this.selections.length) {\r\n      if (!SmoSelector.sameNote(grace[0].selection.selector, this.selections[0].selector)) {\r\n        this.clearModifierSelections();\r\n      } else {\r\n        this._highlightModifier();\r\n        return;\r\n      }\r\n    }\r\n    const note = this.selections[0].note as SmoNote;\r\n    if (this.pitchIndex >= 0 && this.selections.length === 1 &&\r\n      this.pitchIndex < note.pitches.length) {\r\n      this._highlightPitchSelection(note, this.pitchIndex);\r\n      this._highlightActiveVoice(this.selections[0]);\r\n      return;\r\n    }\r\n\r\n    this.pitchIndex = -1;\r\n    this.eraseAllSelections();\r\n    if (this.selections.length === 1 && note.renderedBox) {\r\n      this._checkBoxOffset();\r\n      this._drawRect(note.renderedBox, 'selection');\r\n      this._highlightActiveVoice(this.selections[0]);\r\n      return;\r\n    }\r\n    const sorted = this.selections.sort((a, b) => SmoSelector.gt(a.selector, b.selector) ? 1 : -1);\r\n    prevSel = sorted[0];\r\n    // rendered yet?\r\n    if (!prevSel || !prevSel.box) {\r\n      return;\r\n    }\r\n    curBox = svgHelpers.smoBox(prevSel.box);\r\n    const boxes: SvgBox[] = [];\r\n    for (i = 1; i < sorted.length; ++i) {\r\n      const sel = sorted[i];\r\n      if (!sel.box || !prevSel.box) {\r\n        continue;\r\n      }\r\n      const ydiff = Math.abs(prevSel.box.y - sel.box.y);\r\n      if (sel.selector.staff === prevSel.selector.staff && ydiff < 1.0) {\r\n        curBox = svgHelpers.unionRect(curBox, sel.box);\r\n      } else if (curBox) {\r\n        boxes.push(curBox);\r\n        curBox = svgHelpers.smoBox(sel.box);\r\n      }\r\n      this._highlightActiveVoice(sel);\r\n      prevSel = sel;\r\n    }\r\n    boxes.push(curBox);\r\n    if (this.modifierSelections.length) {\r\n      boxes.push(this.modifierSelections[0].box);\r\n    }\r\n    this._drawRect(boxes, 'selection');\r\n  }\r\n\r\n  _suggestionParameters(box: SvgBox | SvgBox[], strokeName: string): OutlineInfo {\r\n    const stroke: StrokeInfo = (SuiTracker.strokes as any)[strokeName];\r\n    return {\r\n      context: this.renderer.context, box, classes: strokeName,\r\n      stroke, scroll: this.scroller.scrollState.scroll, clientCoordinates: false\r\n    };\r\n  }\r\n\r\n  _drawRect(bb: SvgBox | SvgBox[], stroke: string) {\r\n    svgHelpers.outlineRect(this._suggestionParameters(bb, stroke));\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoBarline } from '../../smo/data/measureModifiers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\n\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface GlyphInfo {\r\n  width: number,\r\n  height: number,\r\n  yTop: number,\r\n  yBottom: number,\r\n  spacingRight: number,\r\n  vexGlyph: string | null\r\n}\r\n\r\nexport class vexGlyph {\r\n  // ### glyphPixels\r\n  // Used to convert vex glyph sizes to pixels for computation.\r\n  // Vex glyph font size (points) is 38, convert to pixels (96 / 72)\r\n  // and divide by glyph resolution\r\n  static get glyphPixels() {\r\n    return 96 * (38 / (VF.DEFAULT_FONT_STACK[0].getResolution() * 72));\r\n  }\r\n  static width(smoGlyph: GlyphInfo) {\r\n    if (smoGlyph.vexGlyph) {\r\n      const vf: any = VF.DEFAULT_FONT_STACK[0].getGlyphs()[smoGlyph.vexGlyph];\r\n      return (vf.x_max - vf.x_min) * vexGlyph.glyphPixels;\r\n    }\r\n    return smoGlyph.width;\r\n  }\r\n  static accidental(a: string): GlyphInfo {\r\n    return vexGlyph.accidentals[a];\r\n  }\r\n  static barWidth(b: SmoBarline): number {\r\n    const str = SmoBarline.barlineString(b);\r\n    const cc = vexGlyph.dimensions[str];\r\n    return cc.width + cc.spacingRight;\r\n  }\r\n  static accidentalWidth(accidental: string): number {\r\n    return vexGlyph.width(vexGlyph.accidentals[accidental]);\r\n  }\r\n  static get accidentals(): Record<string, GlyphInfo> {\r\n    return {\r\n      'b': vexGlyph.dimensions.flat,\r\n      '#': vexGlyph.dimensions.sharp,\r\n      'bb': vexGlyph.dimensions.doubleFlat,\r\n      '##': vexGlyph.dimensions.doubleSharp,\r\n      'n': vexGlyph.dimensions.natural\r\n    };\r\n  }\r\n  static get tempo(): GlyphInfo {\r\n    return vexGlyph.dimensions.tempo;\r\n  }\r\n  static keySignatureLength(key: string) {\r\n    return smoMusic.getSharpsInKeySignature(key) * vexGlyph.width(vexGlyph.dimensions.sharp) +\r\n      smoMusic.getFlatsInKeySignature(key) * vexGlyph.width(vexGlyph.dimensions.flat) +\r\n      vexGlyph.dimensions.keySignature.spacingRight;\r\n  }\r\n  static get timeSignature() {\r\n    return vexGlyph.dimensions.timeSignature;\r\n  }\r\n  static get dot() {\r\n    return vexGlyph.dimensions.dot;\r\n  }\r\n\r\n  static get tupletBeam() {\r\n    return vexGlyph.dimensions.tupletBeam;\r\n  }\r\n  static get stem() {\r\n    return vexGlyph.dimensions.stem;\r\n  }\r\n  static get flag() {\r\n    return vexGlyph.dimensions.flag;\r\n  }\r\n  static clef(c: string): GlyphInfo {\r\n    const key = c.toLowerCase() + 'Clef';\r\n    if (!vexGlyph.dimensions[key]) {\r\n      return vexGlyph.dimensions.tenorClef;\r\n    }\r\n    return vexGlyph.dimensions[key];\r\n  }\r\n  static get dimensions(): Record<string, GlyphInfo> {\r\n    return {\r\n      tupletBeam: {\r\n        width: 5,\r\n        height: 6,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 5,\r\n        vexGlyph: null\r\n      },\r\n      singleBar: {\r\n        width: 1,\r\n        height: 41,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 5,\r\n        vexGlyph: null\r\n      },\r\n      endBar: {\r\n        width: 5.22,\r\n        height: 40.99,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 10,\r\n        vexGlyph: null\r\n      },\r\n      doubleBar: {\r\n        width: 3.22,\r\n        height: 40.99,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 0,\r\n        vexGlyph: null\r\n      },\r\n      endRepeat: {\r\n        width: 6,\r\n        height: 40.99,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 0,\r\n        vexGlyph: null\r\n      },\r\n      startRepeat: {\r\n        width: 6,\r\n        height: 40.99,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 5,\r\n        vexGlyph: null\r\n      },\r\n      noteHead: {\r\n        width: 15.3,\r\n        height: 10.48,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 10.71,\r\n        vexGlyph: 'noteheadBlack'\r\n      },\r\n      dot: {\r\n        width: 15,\r\n        height: 5,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 2,\r\n        vexGlyph: 'augmentationDot'\r\n      }, // This isn't accurate, but I don't\r\n      // want to add extra space just for clef.\r\n      trebleClef: {\r\n        width: 35,\r\n        height: 68.32,\r\n        yTop: 3,\r\n        yBottom: 3,\r\n        spacingRight: 10,\r\n        vexGlyph: 'gClef'\r\n      },\r\n      bassClef: {\r\n        width: 36,\r\n        height: 31.88,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 5,\r\n        vexGlyph: 'fClef'\r\n      },\r\n      altoClef: {\r\n        width: 31.5,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        height: 85.5,\r\n        spacingRight: 10,\r\n        vexGlyph: 'cClef'\r\n      },\r\n      tenorClef: {\r\n        width: 31.5,\r\n        yTop: 10,\r\n        yBottom: 0,\r\n        height: 41,\r\n        spacingRight: 10,\r\n        vexGlyph: 'cClef'\r\n      },\r\n      timeSignature: {\r\n        width: 22.36,\r\n        height: 85,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 5,\r\n        vexGlyph: 'timeSig4'\r\n      },\r\n      tempo: {\r\n        width: 10,\r\n        height: 37,\r\n        yTop: 37,\r\n        yBottom: 0,\r\n        spacingRight: 0,\r\n        vexGlyph: null\r\n      },\r\n      flat: {\r\n        width: 15,\r\n        height: 23.55,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 2,\r\n        vexGlyph: 'accidentalFlat'\r\n      },\r\n      keySignature: {\r\n        width: 0,\r\n        height: 85.5,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 10,\r\n        vexGlyph: null\r\n      },\r\n      sharp: {\r\n        width: 17,\r\n        height: 62,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 2,\r\n        vexGlyph: 'accidentalSharp',\r\n      },\r\n      natural: {\r\n        width: 15,\r\n        height: 53.35,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 2,\r\n        vexGlyph: 'accidentalNatural',\r\n      },\r\n      doubleSharp: {\r\n        height: 10.04,\r\n        width: 21.63,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 2,\r\n        vexGlyph: 'accidentalDoubleSharp'\r\n      },\r\n      doubleFlat: {\r\n        width: 13.79,\r\n        height: 49.65,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 2,\r\n        vexGlyph: 'accidentalDoubleFlat'\r\n      }, stem: {\r\n        width: 1,\r\n        height: 35,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 0,\r\n        vexGlyph: null\r\n      }, flag: {\r\n        width: 10,\r\n        height: 35,\r\n        yTop: 0,\r\n        yBottom: 0,\r\n        spacingRight: 0,\r\n        vexGlyph: 'flag8thUp' // use for width measurements all flags\r\n      }\r\n    };\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n// ## Description:\r\n// This file calls the vexflow routines that actually render a\r\n// measure of music.  If multiple measures are justified in a\r\n// column, the rendering is deferred until all the measures have been\r\n// preformatted.\r\nimport { SmoNote } from '../../smo/data/note';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { layoutDebug } from '../sui/layoutDebug';\r\nimport { SmoRepeatSymbol, SmoMeasureText, SmoBarline, SmoMeasureModifierBase, SmoRehearsalMark } from '../../smo/data/measureModifiers';\r\nimport { SourceSerifProFont } from '../../styles/font_metrics/ssp-serif-metrics';\r\nimport { SourceSansProFont } from '../../styles/font_metrics/ssp-sans-metrics';\r\nimport { SmoOrnament, SmoArticulation, SmoDynamicText, SmoLyric } from '../../smo/data/noteModifiers';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\nimport { SmoMeasure, MeasureTickmaps } from '../../smo/data/measure';\r\n\r\ndeclare var $: any;\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport class VxMeasure {\r\n  context: any;\r\n  printing: boolean;\r\n  selection: SmoSelection;\r\n  smoMeasure: SmoMeasure;\r\n  rendered: boolean = false;\r\n  noteToVexMap: Record<string, any> = {};\r\n  beamToVexMap: Record<string, any> = {};\r\n  tupletToVexMap: Record<string, any> = {};\r\n  vexNotes: any[] = [];\r\n  vexBeamGroups: any[] = [];\r\n  vexTuplets: any[] = [];\r\n  tickmapObject: MeasureTickmaps | null = null;\r\n  stave: any; // vex stave\r\n  voiceNotes: any; // notes for current voice, as rendering\r\n  voiceAr: any[] = [];\r\n  formatter: any = null;\r\n\r\n\r\n  constructor(context: any, selection: SmoSelection, printing: boolean) {\r\n    this.context = context;\r\n    this.rendered = false;\r\n    this.selection = selection;\r\n    this.smoMeasure = this.selection.measure;\r\n    this.printing = printing;\r\n    this.tupletToVexMap = {};\r\n    this.vexNotes = [];\r\n    this.vexBeamGroups = [];\r\n    this.vexBeamGroups = [];\r\n    this.beamToVexMap = {};\r\n  }\r\n\r\n  static get fillStyle() {\r\n    return '#000';\r\n  }\r\n\r\n  // ## Description:\r\n  // decide whether to force stem direction for multi-voice, or use the default.\r\n  // ## TODO:\r\n  // use x position of ticks in other voices, pitch of note, and consider\r\n  // stem direction modifier.\r\n  applyStemDirection(vxParams: any, voiceIx: number, flagState: number) {\r\n    if (this.smoMeasure.voices.length === 1 && flagState === SmoNote.flagStates.auto) {\r\n      vxParams.auto_stem = true;\r\n    } else if (flagState !== SmoNote.flagStates.auto) {\r\n      vxParams.stem_direction = flagState === SmoNote.flagStates.up ? 1 : -1;\r\n    } else if (voiceIx % 2) {\r\n      vxParams.stem_direction = -1;\r\n    } else {\r\n      vxParams.stem_direction = 1;\r\n    }\r\n  }\r\n\r\n  // We add microtones to the notes, without regard really to how they interact\r\n  _createMicrotones(smoNote: SmoNote, vexNote: any) {\r\n    const tones = smoNote.getMicrotones();\r\n    tones.forEach((tone) => {\r\n      const acc = new VF.Accidental(tone.toVex);\r\n      vexNote.addAccidental(tone.pitch, acc);\r\n    });\r\n  }\r\n  _createAccidentals(smoNote: SmoNote, vexNote: any, tickIndex: number, voiceIx: number) {\r\n    let i = 0;\r\n    if (smoNote.noteType === '/') {\r\n      return;\r\n    }\r\n    smoNote.accidentalsRendered = [];\r\n    for (i = 0; i < smoNote.pitches.length && this.tickmapObject !== null; ++i) {\r\n      const pitch = smoNote.pitches[i];\r\n      const duration = this.tickmapObject.tickmaps[voiceIx].durationMap[tickIndex];\r\n      const keyAccidental = smoMusic.getAccidentalForKeySignature(pitch, this.smoMeasure.keySignature);\r\n      const accidentals = this.tickmapObject.accidentalArray.filter((ar) =>\r\n        ar.duration < duration && ar.pitches[pitch.letter]);\r\n      const acLen = accidentals.length;\r\n      const declared = acLen > 0 ?\r\n        accidentals[acLen - 1].pitches[pitch.letter].pitch.accidental : keyAccidental;\r\n\r\n      if ((declared !== pitch.accidental\r\n        || pitch.cautionary) && smoNote.noteType === 'n') {\r\n        const acc = new VF.Accidental(pitch.accidental);\r\n\r\n        if (pitch.cautionary) {\r\n          acc.setAsCautionary();\r\n        }\r\n        smoNote.accidentalsRendered.push(pitch.accidental);\r\n        vexNote.addAccidental(i, acc);\r\n      } else {\r\n        smoNote.accidentalsRendered.push('');\r\n      }\r\n    }\r\n    for (i = 0; i < smoNote.dots; ++i) {\r\n      vexNote.addDotToAll();\r\n    }\r\n    this._createMicrotones(smoNote, vexNote);\r\n  }\r\n\r\n  _createJazzOrnaments(smoNote: SmoNote, vexNote: any) {\r\n    const o = smoNote.getJazzOrnaments();\r\n    o.forEach((ll) => {\r\n      const mod = new VF.Ornament(ll.toVex());\r\n      vexNote.addModifier(mod, 0);\r\n    });\r\n  }\r\n\r\n  _createOrnaments(smoNote: SmoNote, vexNote: any) {\r\n    const o = smoNote.getOrnaments();\r\n    o.forEach((ll) => {\r\n      const mod = new VF.Ornament(ll.ornament);\r\n      if (ll.offset === SmoOrnament.offsets.after) {\r\n        mod.setDelayed(true);\r\n      }\r\n      vexNote.addModifier(mod, 0);\r\n    });\r\n  }\r\n  _addLyricAnnotationToNote(vexNote: any, lyric: SmoLyric) {\r\n    let classString = 'lyric lyric-' + lyric.verse;\r\n    let text = lyric.getText();\r\n    if (lyric.skipRender) {\r\n      return;\r\n    }\r\n    if (!text.length && lyric.isHyphenated()) {\r\n      text = '-';\r\n    }\r\n    // no text, no hyphen, don't add it.\r\n    if (!text.length) {\r\n      return;\r\n    }\r\n    const vexL = new VF.Annotation(text); // .setReportWidth(lyric.adjustNoteWidth);\r\n    vexL.setAttribute(lyric.attrs.id); //\r\n\r\n    // If we adjusted this note for the lyric, adjust the lyric as well.\r\n    vexL.setFont(lyric.fontInfo.family, lyric.fontInfo.size, lyric.fontInfo.weight);\r\n    vexL.setVerticalJustification(VF.Annotation.VerticalJustify.BOTTOM);\r\n    vexNote.addAnnotation(0, vexL);\r\n    if (lyric.isHyphenated()) {\r\n      classString += ' lyric-hyphen';\r\n    }\r\n    vexL.addClass(classString);\r\n  }\r\n\r\n  _addChordChangeToNote(vexNote: any, lyric: SmoLyric) {\r\n    const cs = new VF.ChordSymbol();\r\n    const blocks = lyric.getVexChordBlocks();\r\n    blocks.forEach((block) => {\r\n      if (block.glyph) {\r\n        cs.addGlyph(block.glyph, block);\r\n      } else {\r\n        cs.addGlyphOrText(block.text, block);\r\n      }\r\n    });\r\n    cs.setFont(lyric.fontInfo.family, lyric.fontInfo.size).setReportWidth(lyric.adjustNoteWidth);\r\n    vexNote.addModifier(cs, 0);\r\n    const classString = 'chord chord-' + lyric.verse;\r\n    cs.addClass(classString);\r\n  }\r\n\r\n  _createLyric(smoNote: SmoNote, vexNote: any) {\r\n    const lyrics = smoNote.getTrueLyrics();\r\n    if (smoNote.noteType !== '/') {\r\n      lyrics.forEach((bll) => {\r\n        const ll = bll as SmoLyric;\r\n        this._addLyricAnnotationToNote(vexNote, ll);\r\n      });\r\n    }\r\n    const chords = smoNote.getChords();\r\n    chords.forEach((chord) => {\r\n      this._addChordChangeToNote(vexNote, chord);\r\n    });\r\n  }\r\n\r\n  _createGraceNotes(smoNote: SmoNote, vexNote: any) {\r\n    let i = 0;\r\n    const gar = smoNote.getGraceNotes();\r\n    var toBeam = true;\r\n    if (gar && gar.length) {\r\n      const group: any[] = [];\r\n      gar.forEach((g) => {\r\n        const gr = new VF.GraceNote(g.toVexGraceNote());\r\n        for (i = 0; i < g.pitches.length; ++i) {\r\n          const pitch = g.pitches[i];\r\n          if (!pitch.accidental) {\r\n            console.warn('no accidental in grace note');\r\n          }\r\n          if (pitch.accidental && pitch.accidental !== 'n' || pitch.cautionary) {\r\n            const accidental = new VF.Accidental(pitch.accidental);\r\n            if (pitch.cautionary) {\r\n              accidental.setAsCautionary();\r\n            }\r\n            gr.addAccidental(i, accidental);\r\n          }\r\n        }\r\n        if (g.tickCount() >= 4096) {\r\n          toBeam = false;\r\n        }\r\n        gr.addClass('grace-note'); // note: this doesn't work :(\r\n\r\n        g.renderId = gr.attrs.id;\r\n        group.push(gr);\r\n      });\r\n      const grace: any = new VF.GraceNoteGroup(group);\r\n      if (toBeam) {\r\n        grace.beamNotes();\r\n      }\r\n      vexNote.addModifier(grace, 0);\r\n    }\r\n  }\r\n\r\n  // ## Description:\r\n  // convert a smoNote into a vxNote so it can be rasterized\r\n  _createVexNote(smoNote: SmoNote, tickIndex: number, voiceIx: number) {\r\n    let vexNote: any = {};\r\n    let timestamp = new Date().valueOf();\r\n    // If this is a tuplet, we only get the duration so the appropriate stem\r\n    // can be rendered.  Vex calculates the actual ticks later when the tuplet is made\r\n    var duration =\r\n      smoNote.isTuplet ?\r\n        smoMusic.closestVexDuration(smoNote.tickCount) :\r\n        smoMusic.ticksToDuration[smoNote.tickCount];\r\n\r\n    if (typeof (duration) === 'undefined') {\r\n      console.warn('bad duration in measure ' + this.smoMeasure.measureNumber.measureIndex);\r\n      duration = '8';\r\n    }\r\n    // transpose for instrument-specific keys\r\n    const keys = smoMusic.smoPitchesToVexKeys(smoNote.pitches, 0, smoNote.noteHead);\r\n    const noteParams = {\r\n      clef: smoNote.clef,\r\n      keys,\r\n      duration: duration + smoNote.noteType\r\n    };\r\n\r\n    if (smoNote.noteType === '/') {\r\n      vexNote = new VF.GlyphNote(new VF.Glyph('repeatBarSlash', 40), { duration });\r\n      smoNote.renderId = 'vf-' + vexNote.attrs.id; // where does 'vf' come from?\r\n    } else {\r\n      this.applyStemDirection(noteParams, voiceIx, smoNote.flagState);\r\n      layoutDebug.setTimestamp(layoutDebug.codeRegions.PREFORMATA, new Date().valueOf() - timestamp);\r\n      timestamp = new Date().valueOf();\r\n      vexNote = new VF.StaveNote(noteParams);\r\n      layoutDebug.setTimestamp(layoutDebug.codeRegions.PREFORMATB, new Date().valueOf() - timestamp);\r\n      timestamp = new Date().valueOf();\r\n      if (smoNote.fillStyle) {\r\n        vexNote.setStyle({ fillStyle: smoNote.fillStyle });\r\n      }\r\n      vexNote.attrs.classes = 'voice-' + voiceIx;\r\n      smoNote.renderId = 'vf-' + vexNote.attrs.id; // where does 'vf' come from?\r\n    }\r\n\r\n    this._createAccidentals(smoNote, vexNote, tickIndex, voiceIx);\r\n    this._createLyric(smoNote, vexNote);\r\n    this._createOrnaments(smoNote, vexNote);\r\n    this._createJazzOrnaments(smoNote, vexNote);\r\n    this._createGraceNotes(smoNote, vexNote);\r\n    layoutDebug.setTimestamp(layoutDebug.codeRegions.PREFORMATC, new Date().valueOf() - timestamp);\r\n\r\n    return vexNote;\r\n  }\r\n\r\n  _renderArticulations(vix: number) {\r\n    const i = 0;\r\n    this.smoMeasure.voices[vix].notes.forEach((smoNote) => {\r\n      smoNote.articulations.forEach((art) => {\r\n        const vx = this.noteToVexMap[smoNote.attrs.id];\r\n        const position: number = SmoArticulation.positionToVex[art.position];\r\n        const vexArt = SmoArticulation.articulationToVex[art.articulation];\r\n        const vxArt = new VF.Articulation(vexArt).setPosition(position);\r\n        vx.addArticulation(i, vxArt);\r\n      });\r\n    });\r\n  }\r\n\r\n  _renderNoteGlyph(smoNote: SmoNote, textObj: SmoDynamicText) {\r\n    var x = this.noteToVexMap[smoNote.attrs.id].getAbsoluteX() + textObj.xOffset;\r\n    // the -3 is copied from vexflow textDynamics\r\n    var y = this.stave.getYForLine(textObj.yOffsetLine - 3) + textObj.yOffsetPixels;\r\n    var group = this.context.openGroup();\r\n    group.classList.add(textObj.attrs.id + '-' + smoNote.attrs.id);\r\n    group.classList.add(textObj.attrs.id);\r\n    textObj.text.split('').forEach((ch) => {\r\n      const glyphCode = VF.TextDynamics.GLYPHS[ch];\r\n      if (glyphCode) {\r\n        const glyph = new VF.Glyph(glyphCode.code, textObj.fontSize);\r\n        glyph.render(this.context, x, y);\r\n        x += VF.TextDynamics.GLYPHS[ch].width;\r\n      }\r\n    });\r\n    textObj.logicalBox = svgHelpers.smoBox(group.getBBox());\r\n    this.context.closeGroup();\r\n  }\r\n\r\n  renderDynamics() {\r\n    this.smoMeasure.voices.forEach((voice) => {\r\n      voice.notes.forEach((smoNote) => {\r\n        const mods = smoNote.textModifiers.filter((mod) =>\r\n          mod.attrs.type === 'SmoDynamicText'\r\n        );\r\n        mods.forEach((btm) => {\r\n          const tm = btm as SmoDynamicText;\r\n          this._renderNoteGlyph(smoNote, tm);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  // ## Description:\r\n  // create an a array of VF.StaveNote objects to render the active voice.\r\n  createVexNotes(voiceIx: number) {\r\n    let i = 0;\r\n    this.voiceNotes = [];\r\n    const voice = this.smoMeasure.voices[voiceIx];\r\n    for (i = 0;\r\n      i < voice.notes.length; ++i) {\r\n      const smoNote = voice.notes[i];\r\n      const vexNote = this._createVexNote(smoNote, i, voiceIx);\r\n      this.noteToVexMap[smoNote.attrs.id] = vexNote;\r\n      this.vexNotes.push(vexNote);\r\n      this.voiceNotes.push(vexNote);\r\n      if (isNaN(smoNote.ticks.numerator) || isNaN(smoNote.ticks.denominator)\r\n        || isNaN(smoNote.ticks.remainder)) {\r\n        throw ('vxMeasure: NaN in ticks');\r\n      }\r\n    }\r\n    this._renderArticulations(voiceIx);\r\n  }\r\n\r\n  // ### createVexBeamGroups\r\n  // create the VX beam groups. VexFlow has auto-beaming logic, but we use\r\n  // our own because the user can specify stem directions, breaks etc.\r\n  createVexBeamGroups(vix: number) {\r\n    let keyNoteIx = -1;\r\n    let i = 0;\r\n    let j = 0;\r\n    let stemDirection = VF.Stem.DOWN;\r\n    for (i = 0; i < this.smoMeasure.beamGroups.length; ++i) {\r\n      const bg = this.smoMeasure.beamGroups[i];\r\n      if (bg.voice !== vix) {\r\n        continue;\r\n      }\r\n      const vexNotes = [];\r\n      keyNoteIx = bg.notes.findIndex((nn) => nn.noteType === 'n');\r\n\r\n      // Fix stem bug: key off first non-rest note.\r\n      keyNoteIx = (keyNoteIx >= 0) ? keyNoteIx : 0;\r\n      for (j = 0; j < bg.notes.length; ++j) {\r\n        const note = bg.notes[j];\r\n        if (note.noteType === '/') {\r\n          continue;\r\n        }\r\n        const vexNote = this.noteToVexMap[note.attrs.id];\r\n        // some type of redraw condition?\r\n        if (typeof (vexNote) === 'undefined') {\r\n          return;\r\n        }\r\n        if (keyNoteIx === j) {\r\n          stemDirection = note.flagState === SmoNote.flagStates.auto ?\r\n            vexNote.getStemDirection() : note.toVexStemDirection();\r\n        }\r\n        vexNote.setStemDirection(stemDirection);\r\n        vexNotes.push(this.noteToVexMap[note.attrs.id]);\r\n      }\r\n      const vexBeam = new VF.Beam(vexNotes);\r\n      this.beamToVexMap[bg.attrs.id] = vexBeam;\r\n      this.vexBeamGroups.push(vexBeam);\r\n    }\r\n  }\r\n\r\n  // ### createVexTuplets\r\n  // Create the VF tuplet objects based on the smo tuplet objects\r\n  // that have been defined.\r\n  createVexTuplets(vix: number) {\r\n    var j = 0;\r\n    var i = 0;\r\n    this.vexTuplets = [];\r\n    this.tupletToVexMap = {};\r\n    for (i = 0; i < this.smoMeasure.tuplets.length; ++i) {\r\n      const tp = this.smoMeasure.tuplets[i];\r\n      if (tp.voice !== vix) {\r\n        continue;\r\n      }\r\n      const vexNotes = [];\r\n      for (j = 0; j < tp.notes.length; ++j) {\r\n        const smoNote = tp.notes[j];\r\n        vexNotes.push(this.noteToVexMap[smoNote.attrs.id]);\r\n      }\r\n      const direction = tp.getStemDirection(this.smoMeasure.clef) === SmoNote.flagStates.up ?\r\n        VF.Tuplet.LOCATION_TOP : VF.Tuplet.LOCATION_BOTTOM;\r\n      const vexTuplet = new VF.Tuplet(vexNotes, {\r\n        num_notes: tp.num_notes,\r\n        notes_occupied: tp.notes_occupied,\r\n        ratioed: false,\r\n        bracketed: true,\r\n        location: direction\r\n      });\r\n      this.tupletToVexMap[tp.attrs.id] = vexTuplet;\r\n      this.vexTuplets.push(vexTuplet);\r\n    }\r\n  }\r\n  unrender() {\r\n    $(this.context.svg).find('g.' + this.smoMeasure.attrs.id).remove();\r\n  }\r\n\r\n  handleMeasureModifiers() {\r\n    const sb = this.smoMeasure.getStartBarline();\r\n    const eb = this.smoMeasure.getEndBarline();\r\n    const sym = this.smoMeasure.getRepeatSymbol();\r\n\r\n    // don't create a begin bar for any but the 1st measure.\r\n    if (this.smoMeasure.measureNumber.systemIndex !== 0 && sb.barline === SmoBarline.barlines.singleBar\r\n      && this.smoMeasure.format.padLeft === 0) {\r\n      this.stave.setBegBarType(VF.Barline.type.NONE);\r\n    } else {\r\n      this.stave.setBegBarType(sb.toVexBarline());\r\n    }\r\n    if (eb.barline !== SmoBarline.barlines.singleBar) {\r\n      this.stave.setEndBarType(eb.toVexBarline());\r\n    }\r\n    if (sym && sym.symbol !== SmoRepeatSymbol.symbols.None) {\r\n      const rep = new VF.Repetition(sym.toVexSymbol(), sym.xOffset + this.smoMeasure.staffX, sym.yOffset);\r\n      this.stave.modifiers.push(rep);\r\n    }\r\n    const tms = this.smoMeasure.getMeasureText();\r\n    // TODO: set font\r\n    tms.forEach((tmb: SmoMeasureModifierBase) => {\r\n      const tm = tmb as SmoMeasureText;\r\n      const offset = tm.position === SmoMeasureText.positions.left ? this.smoMeasure.format.padLeft : 0;\r\n      this.stave.setText(\r\n        tm.text, tm.toVexPosition(), {\r\n        shift_x: tm.adjustX + offset, shift_y: tm.adjustY, justification: tm.toVexJustification()\r\n      });\r\n\r\n      // hack - we can't create staveText directly so this is the only way I could set the font\r\n      const ar = this.stave.getModifiers();\r\n      const vm = ar[ar.length - 1];\r\n      vm.setFont(tm.fontInfo);\r\n    });\r\n\r\n    const rmb = this.smoMeasure.getRehearsalMark();\r\n    const rm = rmb as SmoRehearsalMark;\r\n    if (rm) {\r\n      this.stave.setSection(rm.symbol, 0);\r\n    }\r\n\r\n    const tempo = this.smoMeasure.getTempo();\r\n    if (tempo && this.smoMeasure.svg.forceTempo) {\r\n      this.stave.setTempo(tempo.toVexTempo(), -1 * tempo.yOffset);\r\n      const vexTempo = this.stave.modifiers.find((mod: any) => mod.attrs.type === 'StaveTempo');\r\n      vexTempo.font = { family: SourceSerifProFont.fontFamily, size: 14, weight: 'bold' };\r\n    }\r\n  }\r\n\r\n  // ## Description:\r\n  // Create all Vex notes and modifiers.  We defer the format and rendering so\r\n  // we can align across multiple staves\r\n  preFormat() {\r\n    var j = 0;\r\n    $(this.context.svg).find('g.' + this.smoMeasure.getClassId()).remove();\r\n\r\n    const key = smoMusic.vexKeySignatureTranspose(this.smoMeasure.keySignature, 0);\r\n    const canceledKey = this.smoMeasure.canceledKeySignature ? smoMusic.vexKeySignatureTranspose(this.smoMeasure.canceledKeySignature, 0)\r\n      : this.smoMeasure.canceledKeySignature;\r\n\r\n    const staffX = this.smoMeasure.staffX + this.smoMeasure.format.padLeft;\r\n\r\n    this.stave = new VF.Stave(staffX, this.smoMeasure.staffY, this.smoMeasure.staffWidth - this.smoMeasure.format.padLeft,\r\n      { font: { family: SourceSansProFont.fontFamily, size: '12pt' }, fill_style: VxMeasure.fillStyle });\r\n    // If there is padLeft, draw an invisible box so the padding is included in the measure box\r\n    if (this.smoMeasure.format.padLeft) {\r\n      this.context.rect(this.smoMeasure.staffX, this.smoMeasure.staffY, this.smoMeasure.format.padLeft, 50, {\r\n        fill: 'none', 'stroke-width': 1, stroke: 'white'\r\n      });\r\n    }\r\n\r\n    this.stave.options.space_above_staff_ln = 0; // don't let vex place the staff, we want to.\r\n\r\n    // Add a clef and time signature.\r\n    if (this.smoMeasure.svg.forceClef) {\r\n      this.stave.addClef(this.smoMeasure.clef);\r\n    }\r\n    if (this.smoMeasure.svg.forceKeySignature) {\r\n      const sig = new VF.KeySignature(key);\r\n      if (this.smoMeasure.canceledKeySignature) {\r\n        sig.cancelKey(canceledKey);\r\n      }\r\n      sig.addToStave(this.stave);\r\n    }\r\n    if (this.smoMeasure.svg.forceTimeSignature) {\r\n      this.stave.addTimeSignature(this.smoMeasure.timeSignature.timeSignature);\r\n    }\r\n    // Connect it to the rendering context and draw!\r\n    this.stave.setContext(this.context);\r\n\r\n    this.handleMeasureModifiers();\r\n\r\n    this.tickmapObject = this.smoMeasure.createMeasureTickmaps();\r\n\r\n    this.voiceAr = [];\r\n    this.vexNotes = [];\r\n    this.noteToVexMap = {};\r\n\r\n    // If there are multiple voices, add them all to the formatter at the same time so they don't collide\r\n    for (j = 0; j < this.smoMeasure.voices.length; ++j) {\r\n      this.createVexNotes(j);\r\n      this.createVexTuplets(j);\r\n      this.createVexBeamGroups(j);\r\n\r\n      // Create a voice in 4/4 and add above notes\r\n      const voice = new VF.Voice({\r\n        num_beats: this.smoMeasure.numBeats,\r\n        beat_value: this.smoMeasure.beatValue\r\n      }).setMode(VF.Voice.Mode.SOFT);\r\n      voice.addTickables(this.voiceNotes);\r\n      this.voiceAr.push(voice);\r\n    }\r\n\r\n    // Need to format for x position, then set y position before drawing dynamics.\r\n    this.formatter = new VF.Formatter({ softmaxFactor: this.smoMeasure.format.customProportion, globalSoftmax: false });\r\n    this.voiceAr.forEach((voice) => {\r\n      this.formatter.joinVoices([voice]);\r\n    });\r\n  }\r\n  format(voices: any[]) {\r\n    const timestamp = new Date().valueOf();\r\n    this.formatter.format(voices,\r\n      this.smoMeasure.staffWidth -\r\n      (this.smoMeasure.svg.adjX + this.smoMeasure.svg.adjRight + this.smoMeasure.format.padLeft) - 10);\r\n    layoutDebug.setTimestamp(layoutDebug.codeRegions.FORMAT, new Date().valueOf() - timestamp);\r\n  }\r\n  render() {\r\n    var self = this;\r\n    var group = this.context.openGroup();\r\n    var mmClass = this.smoMeasure.getClassId();\r\n    var j = 0;\r\n    const timestamp = new Date().valueOf();\r\n    try {\r\n      group.classList.add(this.smoMeasure.attrs.id);\r\n      group.classList.add(mmClass);\r\n      group.id = this.smoMeasure.attrs.id;\r\n\r\n      this.stave.draw();\r\n\r\n      for (j = 0; j < this.voiceAr.length; ++j) {\r\n        this.voiceAr[j].draw(this.context, this.stave);\r\n      }\r\n\r\n      this.vexBeamGroups.forEach((b) => {\r\n        b.setContext(self.context).draw();\r\n      });\r\n\r\n      this.vexTuplets.forEach((tuplet) => {\r\n        tuplet.setContext(self.context).draw();\r\n      });\r\n      // this._updateLyricDomSelectors();\r\n      this.renderDynamics();\r\n      // this.smoMeasure.adjX = this.stave.start_x - (this.smoMeasure.staffX);\r\n\r\n      this.context.closeGroup();\r\n      layoutDebug.setTimestamp(layoutDebug.codeRegions.RENDER, new Date().valueOf() - timestamp);\r\n\r\n      const lbox = this.stave.getBoundingBox();\r\n      this.smoMeasure.setBox({ x: lbox.x, y: lbox.y, width: lbox.w, height: lbox.h }, 'vxMeasure bounding box');\r\n      this.rendered = true;\r\n    } catch (exc) {\r\n      console.warn('unable to render measure ' + this.smoMeasure.measureNumber.measureIndex);\r\n      this.context.closeGroup();\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { VxMeasure } from './vxMeasure';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { SmoLyric } from '../../smo/data/noteModifiers';\r\nimport { SmoStaffHairpin, SmoSlur, StaffModifierBase, SmoTie } from '../../smo/data/staffModifiers';\r\nimport { SmoScore } from '../../smo/data/score';\r\nimport { SmoMeasure } from '../../smo/data/measure';\r\nimport { SvgBox } from '../../smo/data/common';\r\nimport { SuiMapper } from '../sui/mapper';\r\nimport { SuiScroller } from '../sui/scroller';\r\nimport { SmoNote } from '../../smo/data/note';\r\nimport { SmoSystemStaff } from '../../smo/data/systemStaff';\r\nimport { SmoVolta } from '../../smo/data/measureModifiers';\r\n\r\ndeclare var $: any;\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface VoltaInfo {\r\n  smoMeasure: SmoMeasure,\r\n  ending: SmoVolta\r\n}\r\n/**\r\n *  Create a system of staves and draw music on it.\r\n * */\r\nexport class VxSystem {\r\n  context: any;\r\n  leftConnector: any[] = [null, null];\r\n  score: SmoScore;\r\n  vxMeasures: VxMeasure[] = [];\r\n  smoMeasures: SmoMeasure[] = [];\r\n  lineIndex: number;\r\n  maxStaffIndex: number;\r\n  maxSystemIndex: number;\r\n  width: number;\r\n  staves: SmoSystemStaff[] = [];\r\n  endcaps: any[] = [];\r\n  endings: any[] = [];\r\n  box: SvgBox = SvgBox.default;\r\n  currentY: number;\r\n  topY: number;\r\n  clefWidth: number;\r\n  ys: number[] = [];\r\n  measures: VxMeasure[] = [];\r\n  modifiers: any[] = [];\r\n  constructor(context: any, topY: number, lineIndex: number, score: SmoScore) {\r\n    this.context = context;\r\n    this.lineIndex = lineIndex;\r\n    this.score = score;\r\n    this.maxStaffIndex = -1;\r\n    this.maxSystemIndex = -1;\r\n    this.width = -1;\r\n    this.staves = [];\r\n    this.endcaps = [];\r\n    this.endings = [];\r\n    this.currentY = 0;\r\n    this.topY = topY;\r\n    this.clefWidth = 70;\r\n    this.ys = [];\r\n  }\r\n\r\n  getVxMeasure(smoMeasure: SmoMeasure) {\r\n    let i = 0;\r\n    for (i = 0; i < this.vxMeasures.length; ++i) {\r\n      const vm = this.vxMeasures[i];\r\n      if (vm.smoMeasure.attrs.id === smoMeasure.attrs.id) {\r\n        return vm;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getVxNote(smoNote: SmoNote): VxMeasure | null {\r\n    let i = 0;\r\n    if (!smoNote) {\r\n      return null;\r\n    }\r\n    for (i = 0; i < this.measures.length; ++i) {\r\n      const mm = this.measures[i];\r\n      if (mm.noteToVexMap[smoNote.attrs.id]) {\r\n        return mm.noteToVexMap[smoNote.attrs.id];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  minMax(): { min: number, max: number } {\r\n    const mar = this.staves[0].measures.map((mm) => mm.measureNumber.measureIndex);\r\n    const min = mar.reduce((a, b) => a < b ? a : b);\r\n    const max = mar.reduce((a, b) => a > b ? a : b);\r\n    return { min, max };\r\n  }\r\n\r\n  _updateChordOffsets(note: SmoNote) {\r\n    var i = 0;\r\n    for (i = 0; i < 3; ++i) {\r\n      const chords = note.getLyricForVerse(i, SmoLyric.parsers.chord);\r\n      chords.forEach((bchord) => {\r\n        const chord = bchord as SmoLyric;\r\n        const dom = $(this.context.svg).find(chord.selector)[0];\r\n        if (dom) {\r\n          dom.setAttributeNS('', 'transform', 'translate(' + chord.translateX + ' ' + (-1 * chord.translateY) + ')');\r\n        }\r\n      });\r\n    }\r\n  }\r\n  _lowestYLowestVerse(lyrics: SmoLyric[]) {\r\n    let lowVerse = 5;\r\n    let lowestY = 0;\r\n    lyrics.forEach((lyric: SmoLyric) => {\r\n      if (lyric.logicalBox && lyric.verse < lowVerse) {\r\n        lowestY = lyric.logicalBox.y;\r\n        lowVerse = lyric.verse;\r\n      }\r\n      if (lyric.verse === lowVerse && lyric.logicalBox && lyric.logicalBox.y > lowestY) {\r\n        lowestY = lyric.logicalBox.y;\r\n      }\r\n    });\r\n    this.vxMeasures.forEach((vxMeasure) => {\r\n      vxMeasure.smoMeasure.voices.forEach((voice) => {\r\n        voice.notes.forEach((note) => {\r\n          const lyrics = note.getTrueLyrics();\r\n          if (lyrics.length) {\r\n            const topVerse = lyrics.reduce((a, b) => a.verse < b.verse ? a : b);\r\n            if (topVerse && topVerse.logicalBox) {\r\n              const offset = lowestY - topVerse.logicalBox.y;\r\n              lyrics.forEach((lyric) => {\r\n                lyric.adjY = offset + lyric.translateY;\r\n              });\r\n            }\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  // ### updateLyricOffsets\r\n  // Adjust the y position for all lyrics in the line so they are even.\r\n  // Also replace '-' with a longer dash do indicate 'until the next measure'\r\n  updateLyricOffsets() {\r\n    let i = 0;\r\n    for (i = 0; i < this.score.staves.length; ++i) {\r\n      const tmpI = i;\r\n      const lyricsDash: SmoLyric[] = [];\r\n      const lyricHyphens: SmoLyric[] = [];\r\n      const lyricVerseMap: Record<number, SmoLyric[]> = {};\r\n      const lyrics: SmoLyric[] = [];\r\n      // is this necessary? They should all be from the current line\r\n      const vxMeasures = this.vxMeasures.filter((vx) =>\r\n        vx.smoMeasure.measureNumber.staffId === tmpI\r\n      );\r\n\r\n      // All the lyrics on this line\r\n      // The vertical bounds on each line\r\n      vxMeasures.forEach((mm) => {\r\n        var smoMeasure = mm.smoMeasure;\r\n\r\n        // Get lyrics from any voice.\r\n        smoMeasure.voices.forEach((voice) => {\r\n          voice.notes.forEach((note) => {\r\n            this._updateChordOffsets(note);\r\n            note.getTrueLyrics().forEach((ll: SmoLyric) => {\r\n              const hasLyric = ll.getText().length > 0 || ll.isHyphenated();\r\n              if (hasLyric && !lyricVerseMap[ll.verse]) {\r\n                lyricVerseMap[ll.verse] = [];\r\n              }\r\n              if (hasLyric && ll.logicalBox) {\r\n                lyricVerseMap[ll.verse].push(ll);\r\n                lyrics.push(ll);\r\n              }\r\n            });\r\n          });\r\n        });\r\n      });\r\n      // calculate y offset so the lyrics all line up\r\n      this._lowestYLowestVerse(lyrics);\r\n      const vkey: string[] = Object.keys(lyricVerseMap).sort((a, b) => parseInt(a, 10) - parseInt(b, 10));\r\n      vkey.forEach((sverse) => {\r\n        const verse = parseInt(sverse, 10);\r\n        let hyphenLyric: SmoLyric | null = null;\r\n        const lastVerse = lyricVerseMap[verse][lyricVerseMap[verse].length - 1].attrs.id;\r\n        lyricVerseMap[verse].forEach((ll: SmoLyric) => {\r\n          if (hyphenLyric !== null && hyphenLyric.logicalBox !== null && ll.logicalBox !== null) {\r\n            const x = ll.logicalBox.x - (ll.logicalBox.x -\r\n              (hyphenLyric.logicalBox.x + hyphenLyric.logicalBox.width)) / 2;\r\n            ll.hyphenX = x;\r\n            lyricHyphens.push(ll);\r\n          }\r\n          if (ll.isHyphenated() && ll.logicalBox !== null) {\r\n            if (ll.attrs.id === lastVerse) {\r\n              // Last word on the system, place the hyphen after the word\r\n              ll.hyphenX = ll.logicalBox.x + ll.logicalBox.width + ll.fontInfo.size / 2;\r\n              lyricHyphens.push(ll);\r\n            } else if (ll.getText().length) {\r\n              // place the hyphen 1/2 between next word and this one.\r\n              hyphenLyric = ll;\r\n            }\r\n          } else {\r\n            hyphenLyric = null;\r\n          }\r\n        });\r\n      });\r\n      lyrics.forEach((lyric) => {\r\n        const dom = $(this.context.svg).find(lyric.selector)[0];\r\n        if (typeof (dom) !== 'undefined') {\r\n          dom.setAttributeNS('', 'transform', 'translate(' + lyric.adjX + ' ' + lyric.adjY + ')');\r\n          // Keep track of lyrics that are 'dash'\r\n          if (lyric.isDash()) {\r\n            lyricsDash.push(lyric);\r\n          }\r\n        }\r\n      });\r\n      lyricHyphens.forEach((lyric) => {\r\n        const parent = $(this.context.svg).find(lyric.selector)[0];\r\n        if (parent && lyric.logicalBox !== null) {\r\n          const text = document.createElementNS(svgHelpers.namespace, 'text');\r\n          text.textContent = '-';\r\n          text.setAttributeNS('', 'x', lyric.hyphenX.toString());\r\n          text.setAttributeNS('', 'y', (lyric.logicalBox.y + (lyric.logicalBox.height * 2) / 3).toString());\r\n          const fontSize = lyric.fontInfo.size * 1.2;\r\n          text.setAttributeNS('', 'fontSize', '' + fontSize + 'pt');\r\n          parent.appendChild(text);\r\n        }\r\n      });\r\n      lyricsDash.forEach((lyric) => {\r\n        const parent = $(this.context.svg).find(lyric.selector)[0];\r\n        if (parent && lyric.logicalBox !== null) {\r\n          const line = document.createElementNS(svgHelpers.namespace, 'line');\r\n          const ymax = Math.round(lyric.logicalBox.y + lyric.logicalBox.height / 2);\r\n          const offset = Math.round(lyric.logicalBox.width / 2);\r\n          line.setAttributeNS('', 'x1', (lyric.logicalBox.x - offset).toString());\r\n          line.setAttributeNS('', 'y1', ymax.toString());\r\n          line.setAttributeNS('', 'x2', (lyric.logicalBox.x + lyric.logicalBox.width + offset).toString());\r\n          line.setAttributeNS('', 'y2', ymax.toString());\r\n          line.setAttributeNS('', 'stroke-width', '1');\r\n          line.setAttributeNS('', 'fill', 'none');\r\n          line.setAttributeNS('', 'stroke', '#999999');\r\n          parent.appendChild(line);\r\n          const text = $(this.context.svg).find(lyric.selector).find('text')[0];\r\n          text.setAttributeNS('', 'fill', '#fff');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // ### renderModifier\r\n  // render a line-type modifier that is associated with a staff (e.g. slur)\r\n  renderModifier(scroller: SuiScroller, modifier: StaffModifierBase, vxStart: any, vxEnd: any, smoStart: SmoSelection, smoEnd: SmoSelection) {\r\n    let xoffset = 0;\r\n    const setSameIfNull = (a: any, b: any) => {\r\n      if (typeof (a) === 'undefined' || a === null) {\r\n        return b;\r\n      }\r\n      return a;\r\n    };\r\n    if (smoStart && smoStart.note && smoStart.note.noteType === '/') {\r\n      return;\r\n    } if (smoEnd && smoEnd.note && smoEnd.note.noteType === '/') {\r\n      return;\r\n    }\r\n    // if it is split between lines, render one artifact for each line, with a common class for\r\n    // both if it is removed.\r\n    if (vxStart) {\r\n      $(this.context.svg).find('g.' + modifier.attrs.id).remove();\r\n    }\r\n    const artifactId = modifier.attrs.id + '-' + this.lineIndex;\r\n    const group = this.context.openGroup();\r\n    group.classList.add(modifier.attrs.id);\r\n    group.classList.add(artifactId);\r\n    if (modifier.ctor === 'SmoStaffHairpin') {\r\n      const hp = modifier as SmoStaffHairpin;\r\n      if (!vxStart && !vxEnd) {\r\n        this.context.closeGroup();\r\n      }\r\n      vxStart = setSameIfNull(vxStart, vxEnd);\r\n      vxEnd = setSameIfNull(vxEnd, vxStart);\r\n      const hairpin = new VF.StaveHairpin({\r\n        first_note: vxStart,\r\n        last_note: vxEnd\r\n      }, hp.hairpinType);\r\n      hairpin.setRenderOptions({\r\n        height: hp.height,\r\n        y_shift: hp.yOffset,\r\n        left_shift_px: hp.xOffsetLeft,\r\n        right_shift_px: hp.xOffsetRight\r\n      });\r\n      hairpin.setContext(this.context).setPosition(hp.position).draw();\r\n    } else if (modifier.ctor === 'SmoSlur') {\r\n      const startNote: SmoNote = smoStart!.note as SmoNote;\r\n      const slur = modifier as SmoSlur;\r\n      const lyric = startNote.longestLyric() as SmoLyric;\r\n      if (lyric && lyric.getText()) {\r\n        // If there is a lyric, the bounding box of the start note is stretched to the right.\r\n        // slide the slur left, and also make it a bit wider.\r\n        const xtranslate = (-1 * lyric.getText().length * 6);\r\n        xoffset += (xtranslate / 2) - SmoSlur.defaults.xOffset;\r\n      }\r\n      const curve = new VF.Curve(vxStart, vxEnd,\r\n        {\r\n          thickness: slur.thickness,\r\n          x_shift: slur.xOffset,\r\n          y_shift: slur.yOffset,\r\n          spacing: slur.spacing,\r\n          cps: slur.controlPoints,\r\n          invert: slur.invert,\r\n          position: slur.position\r\n        });\r\n      curve.setContext(this.context).draw();\r\n    } else if (modifier.ctor === 'SmoTie') {\r\n      const ctie = modifier as SmoTie;\r\n      const startNote: SmoNote = smoStart!.note as SmoNote;\r\n      const endNote: SmoNote = smoEnd!.note as SmoNote;\r\n      if (ctie.lines.length > 0) {\r\n        // Hack: if a chord changed, the ties may no longer be valid.  We should check\r\n        // this when it changes.\r\n        ctie.checkLines(startNote, endNote);\r\n        const fromLines = ctie.lines.map((ll) => ll.from);\r\n        const toLines = ctie.lines.map((ll) => ll.to);\r\n        const tie = new VF.StaveTie({\r\n          first_note: vxStart,\r\n          last_note: vxEnd,\r\n          first_indices: fromLines,\r\n          last_indices: toLines\r\n        });\r\n        Vex.Merge(tie.render_options, ctie.vexOptions);\r\n        tie.setContext(this.context).draw();\r\n      }\r\n    }\r\n\r\n    this.context.closeGroup();\r\n    if (xoffset) {\r\n      const slurBox = $('.' + artifactId)[0];\r\n      svgHelpers.translateElement(slurBox, xoffset, 0);\r\n    }\r\n    modifier.logicalBox = svgHelpers.smoBox(group.getBBox());\r\n    modifier.renderedBox = svgHelpers.smoBox(svgHelpers.logicalToClient(this.context.svg, modifier.logicalBox, scroller.scrollState.scroll));\r\n  }\r\n\r\n  renderEndings(scroller: SuiScroller) {\r\n    let j = 0;\r\n    let i = 0;\r\n    const minMax = this.minMax();\r\n    const voltas = this.staves[0].getVoltaMap(minMax.min, minMax.max);\r\n    for (j = 0; j < this.smoMeasures.length; ++j) {\r\n      let pushed = false;\r\n      const smoMeasure = this.smoMeasures[j];\r\n      // Only draw volta on top staff of system\r\n      if (smoMeasure.svg.rowInSystem > 0) {\r\n        continue;\r\n      }\r\n      const vxMeasure = this.getVxMeasure(smoMeasure);\r\n      const voAr: VoltaInfo[] = [];\r\n      for (i = 0; i < voltas.length && vxMeasure !== null; ++i) {\r\n        const ending = voltas[i];\r\n        const mix = smoMeasure.measureNumber.measureIndex;\r\n        if (ending.startBar === mix) {\r\n          $(this.context.svg).find('g.' + ending.attrs.id).remove();\r\n        }\r\n        if ((ending.startBar <= mix) && (ending.endBar >= mix) && vxMeasure.stave !== null) {\r\n          const group = this.context.openGroup(null, ending.attrs.id);\r\n          group.classList.add(ending.attrs.id);\r\n          group.classList.add(ending.endingId);\r\n          const vtype = ending.toVexVolta(smoMeasure.measureNumber.measureIndex);\r\n          const vxVolta = new VF.Volta(vtype, ending.number, smoMeasure.staffX + ending.xOffsetStart, ending.yOffset);\r\n          vxVolta.setContext(this.context).draw(vxMeasure.stave, -1 * ending.xOffsetEnd);\r\n          this.context.closeGroup();\r\n          ending.logicalBox = svgHelpers.smoBox(group.getBBox());\r\n          ending.renderedBox = svgHelpers.smoBox(svgHelpers.logicalToClient(this.context.svg, ending.logicalBox, scroller.scrollState.scroll));\r\n          if (!pushed) {\r\n            voAr.push({ smoMeasure, ending });\r\n            pushed = true;\r\n          }\r\n          vxMeasure.stave.modifiers.push(vxVolta);\r\n        }\r\n      }\r\n      // Adjust real height of measure to match volta height\r\n      for (i = 0; i < voAr.length; ++i) {\r\n        const mm = voAr[i].smoMeasure;\r\n        const ending = voAr[i].ending;\r\n        if (ending.logicalBox !== null) {\r\n          const delta = mm.svg.logicalBox.y - ending.logicalBox.y;\r\n          if (delta > 0) {\r\n            mm.setBox(svgHelpers.boxPoints(\r\n              mm.svg.logicalBox.x, mm.svg.logicalBox.y - delta, mm.svg.logicalBox.width, mm.svg.logicalBox.height + delta),\r\n              'vxSystem adjust for volta');\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  getMeasureByIndex(measureIndex: number, staffId: number) {\r\n    let i = 0;\r\n    for (i = 0; i < this.smoMeasures.length; ++i) {\r\n      const mm = this.smoMeasures[i];\r\n      if (measureIndex === mm.measureNumber.measureIndex && staffId === mm.measureNumber.staffId) {\r\n        return mm;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // ## renderMeasure\r\n  // ## Description:\r\n  // Create the graphical (VX) notes and render them on svg.  Also render the tuplets and beam\r\n  // groups\r\n  renderMeasure(smoMeasure: SmoMeasure, measureMapper: SuiMapper, printing: boolean) {\r\n    let brackets = false;\r\n    const staff = this.score.staves[smoMeasure.measureNumber.staffId];\r\n    const staffId = staff.staffId;\r\n    const systemIndex = smoMeasure.measureNumber.systemIndex;\r\n    const selection = SmoSelection.measureSelection(this.score, staff.staffId, smoMeasure.measureNumber.measureIndex);\r\n    this.smoMeasures.push(smoMeasure);\r\n    if (this.staves.length <= staffId) {\r\n      this.staves.push(staff);\r\n    }\r\n    if (selection === null) {\r\n      return;\r\n    }\r\n\r\n    const vxMeasure: any = new VxMeasure(this.context, selection, printing);\r\n\r\n    // create the vex notes, beam groups etc. for the measure\r\n    vxMeasure.preFormat();\r\n    this.vxMeasures.push(vxMeasure);\r\n\r\n    const lastStaff = (staffId === this.score.staves.length - 1);\r\n    const smoGroupMap: Record<string, any> = {};\r\n\r\n    // If this is the last staff in the column, render the column with justification\r\n    if (lastStaff) {\r\n      this.vxMeasures.forEach((vv: any) => {\r\n        if (!vv.rendered) {\r\n          const systemGroup = this.score.getSystemGroupForStaff(vv.selection);\r\n          const justifyGroup: string = (systemGroup && vv.smoMeasure.getAutoJustify()) ? systemGroup.attrs.id : vv.selection.staff.attrs.id;\r\n          if (!smoGroupMap[justifyGroup]) {\r\n            smoGroupMap[justifyGroup] = { firstMeasure: vv, voices: [] };\r\n          }\r\n          smoGroupMap[justifyGroup].voices =\r\n            smoGroupMap[justifyGroup].voices.concat(vv.voiceAr);\r\n        }\r\n      });\r\n    }\r\n    const keys = Object.keys(smoGroupMap);\r\n    keys.forEach((key) => {\r\n      smoGroupMap[key].firstMeasure.format(smoGroupMap[key].voices);\r\n    });\r\n    if (lastStaff) {\r\n      this.vxMeasures.forEach((vv) => {\r\n        if (!vv.rendered) {\r\n          vv.render();\r\n          // unit test codes don't have tracker.\r\n          if (measureMapper) {\r\n            const tmpStaff: SmoSystemStaff | undefined = this.staves.find((ss) => ss.staffId === vv.smoMeasure.measureNumber.staffId);\r\n            if (tmpStaff) {\r\n              measureMapper.mapMeasure(tmpStaff, vv.smoMeasure, printing);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    // Keep track of the y coordinate for the nth staff\r\n    const renderedConnection: Record<string, number> = {};\r\n\r\n    if (systemIndex === 0 && lastStaff) {\r\n      $(this.context.svg).find('g.lineBracket-' + this.lineIndex).remove();\r\n      const group = this.context.openGroup();\r\n      group.classList.add('lineBracket-' + this.lineIndex);\r\n      group.classList.add('lineBracket');\r\n      this.vxMeasures.forEach((vv) => {\r\n        const systemGroup = this.score.getSystemGroupForStaff(vv.selection);\r\n        if (systemGroup && !renderedConnection[systemGroup.attrs.id]) {\r\n          renderedConnection[systemGroup.attrs.id] = 1;\r\n          const startSel = this.vxMeasures[systemGroup.startSelector.staff];\r\n          const endSel = this.vxMeasures[systemGroup.endSelector.staff];\r\n          if (startSel && endSel) {\r\n            const c1 = new VF.StaveConnector(startSel.stave, endSel.stave)\r\n              .setType(systemGroup.leftConnectorVx());\r\n            c1.setContext(this.context).draw();\r\n            brackets = true;\r\n          }\r\n        }\r\n      });\r\n\r\n      if (!brackets && this.vxMeasures.length > 1) {\r\n        const c2 = new VF.StaveConnector(this.vxMeasures[0].stave, this.vxMeasures[this.vxMeasures.length - 1].stave,\r\n          VF.StaveConnector.type.SINGLE_LEFT);\r\n        c2.setContext(this.context).draw();\r\n      }\r\n      this.context.closeGroup();\r\n    } else if (lastStaff && smoMeasure.measureNumber.measureIndex + 1 < staff.measures.length) {\r\n      if (staff.measures[smoMeasure.measureNumber.measureIndex + 1].measureNumber.systemIndex === 0) {\r\n        const endMeasure = vxMeasure;\r\n        const startMeasure = this.vxMeasures.find((vv) => vv.selection.selector.staff === 0 &&\r\n          vv.selection.selector.measure === vxMeasure.selection.selector.measure);\r\n        if (endMeasure && startMeasure) {\r\n          $(this.context.svg).find('g.endBracket-' + this.lineIndex).remove();\r\n          const group = this.context.openGroup();\r\n          group.classList.add('endBracket-' + this.lineIndex);\r\n          group.classList.add('endBracket');\r\n          const c2 = new VF.StaveConnector(startMeasure.stave, endMeasure.stave)\r\n            .setType(VF.StaveConnector.type.SINGLE_RIGHT);\r\n          c2.setContext(this.context).draw();\r\n          this.context.closeGroup();\r\n        }\r\n      }\r\n    }\r\n\r\n    // keep track of left-hand side for system connectors\r\n    if (systemIndex === 0) {\r\n      if (staffId === 0) {\r\n        this.leftConnector[0] = vxMeasure.stave;\r\n      } else if (staffId > this.maxStaffIndex) {\r\n        this.maxStaffIndex = staffId;\r\n        this.leftConnector[1] = vxMeasure.stave;\r\n      }\r\n    } else if (smoMeasure.measureNumber.systemIndex > this.maxSystemIndex) {\r\n      this.endcaps = [];\r\n      this.endcaps.push(vxMeasure.stave);\r\n      this.maxSystemIndex = smoMeasure.measureNumber.systemIndex;\r\n    } else if (smoMeasure.measureNumber.systemIndex === this.maxSystemIndex) {\r\n      this.endcaps.push(vxMeasure.stave);\r\n    }\r\n    this.measures.push(vxMeasure);\r\n  }\r\n}\r\n","export interface SmoAttrs {\r\n    id: string,\r\n    type: string\r\n}\r\n\r\nexport interface SmoObjectParams {\r\n    ctor: string\r\n}\r\n\r\nexport interface Ticks {\r\n    numerator: number,\r\n    denominator: number,\r\n    remainder: number\r\n}\r\n\r\nexport type PitchLetter = 'a' | 'b' | 'c' | 'd' | 'e' | 'f' | 'g';\r\n\r\nexport interface PitchKey {\r\n    letter: PitchLetter,\r\n    accidental: string\r\n}\r\nexport interface Pitch {\r\n    letter: PitchLetter,\r\n    accidental: string,\r\n    octave: number,\r\n    cautionary?: boolean\r\n}\r\n\r\n\r\nexport interface FontInfo {\r\n    size: number;\r\n    weight: string;\r\n    family: string;\r\n    style?: string;\r\n}\r\n\r\nexport interface MeasureNumber {\r\n    measureIndex: number,\r\n    localIndex: number,\r\n    systemIndex: number,\r\n    staffId: number\r\n}\r\nexport class SvgPoint {\r\n    x: number;\r\n    y: number;\r\n    static get default() {\r\n        return { x: 0, y: 0 };\r\n    }\r\n    constructor() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n}\r\nexport class SvgBox {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n    static get default(): SvgBox {\r\n        return { x: 0, y: 0, width: -1, height: -1 };\r\n    }\r\n    constructor() {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.width = -1;\r\n        this.height = -1;\r\n    }\r\n}\r\nexport interface Transposable {\r\n    pitches: Pitch[],\r\n    noteType: string,\r\n    renderId: string | null,\r\n    renderedBox: SvgBox | null,\r\n    logicalBox: SvgBox | null\r\n}\r\n\r\nexport interface SmoObjectParams {\r\n    ctor: string\r\n}\r\n\r\nexport interface SmoModifierBase {\r\n    ctor: string,\r\n    renderedBox: SvgBox | null,\r\n    logicalBox: SvgBox | null,\r\n    attrs: SmoAttrs\r\n}\r\n\r\nexport type Clef = 'treble' | 'bass' | 'tenor' | 'alto' | 'soprano' | 'percussion'\r\n    | 'mezzo-soprano' | 'baritone-c' | 'baritone-f' | 'subbass' | 'french';\r\n\r\nexport class TimeSignature {\r\n    timeSignature: string = '4/4';\r\n    actualBeats: number = 4;\r\n    beatDuration: number = 4;\r\n    useSymbol: boolean = false;\r\n    display: boolean = true;\r\n\r\n    static equal(ts1: TimeSignature, ts2: TimeSignature): boolean {\r\n        return (ts1.actualBeats == ts2.actualBeats && ts1.beatDuration == ts2.beatDuration);\r\n    }\r\n}\r\nexport interface SmoConfiguration {\r\n    smoPath?: string,\r\n    language: string,\r\n    scoreLoadOrder? : string[],\r\n    scoreLoadJson?: string,\r\n    smoDomContainer?: string,\r\n    vexDomContainer?: string,\r\n    domSource?: string,\r\n    ribbon?: true,\r\n    keyCommands?: true,\r\n    menus?: true,\r\n    title?: string,\r\n    libraryUrl?: string,\r\n    languageDir: string,\r\n    demonPollTime: number, // how often we poll the score to see if it changed\r\n    idleRedrawTime: number\r\n}\r\n\r\n      \r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport {\r\n  SmoBarline, SmoMeasureModifierBase, SmoRepeatSymbol, SmoTempoText, SmoMeasureFormat,\r\n  SmoVolta, SmoRehearsalMarkParams, SmoRehearsalMark, SmoTempoTextParams\r\n} from './measureModifiers';\r\nimport { SmoNote } from './note';\r\nimport { SmoTuplet } from './tuplet';\r\nimport { layoutDebug } from '../../render/sui/layoutDebug';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { TickMap, TickAccidental } from '../xform/tickMap';\r\nimport { MeasureNumber, SvgBox, SmoAttrs, Pitch, PitchLetter, Clef, FontInfo, TimeSignature } from './common';\r\n\r\nexport interface SmoVoice {\r\n  notes: SmoNote[]\r\n}\r\n\r\nexport interface TickMappable {\r\n  voices: SmoVoice[],\r\n  keySignature: string\r\n}\r\n\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface ISmoBeamGroup {\r\n  notes: SmoNote[],\r\n  voice: number,\r\n  attrs: SmoAttrs\r\n}\r\nexport interface MeasureSvg {\r\n  staffWidth: number,\r\n  unjustifiedWidth: number,\r\n  staffX: number,\r\n  staffY: number,\r\n  logicalBox: SvgBox,\r\n  renderedBox: SvgBox | null,\r\n  yTop: number,\r\n  adjX: number,\r\n  adjRight: number,\r\n  history: string[],\r\n  lineIndex: number,\r\n  rowInSystem: number,\r\n  forceClef: boolean,\r\n  forceKeySignature: boolean,\r\n  forceTimeSignature: boolean,\r\n  forceTempo: boolean\r\n}\r\n\r\nexport interface MeasureTickmaps {\r\n  tickmaps: TickMap[],\r\n  accidentalMap: Record<string | number, Record<PitchLetter, TickAccidental>>,\r\n  accidentalArray: AccidentalArray[]\r\n}\r\nexport interface SmoMeasureParams {\r\n  timeSignature: TimeSignature,\r\n  keySignature: string,\r\n  canceledKeySignature: string | null,\r\n  padRight: number,\r\n  tuplets: SmoTuplet[],\r\n  transposeIndex: number,\r\n  rightMargin: number,\r\n  staffY: number,\r\n  // bars: [1, 1], // follows enumeration in VF.Barline\r\n  measureNumber: MeasureNumber,\r\n  clef: Clef,\r\n  voices: SmoVoice[],\r\n  activeVoice: number,\r\n  tempo: SmoTempoText,\r\n  format: SmoMeasureFormat | null,\r\n  modifiers: SmoMeasureModifierBase[]\r\n}\r\n\r\nexport interface AccidentalArray {\r\n  duration: string | number,\r\n  pitches: Record<PitchLetter, TickAccidental>\r\n}\r\n\r\n// ## SmoMeasure - data for a measure of music\r\n// Many rules of musical engraving are enforced at a measure level, e.g. the duration of\r\n// notes, accidentals, etc.\r\n// ### See Also:\r\n// Measures contain *notes*, *tuplets*, and *beam groups*.  So see `SmoNote`, etc.\r\n// Measures are contained in staves, see also `SystemStaff.js`\r\n// ## SmoMeasure Methods:\r\nexport class SmoMeasure implements SmoMeasureParams, TickMappable {\r\n  static get timeSignatureDefault(): TimeSignature {\r\n    return JSON.parse(JSON.stringify({\r\n      timeSignature: '4/4',\r\n      actualBeats: 4,\r\n      beatDuration: 4,\r\n      useSymbol: false,\r\n      display: true\r\n    }));\r\n  }\r\n  static readonly _defaults: SmoMeasureParams = {\r\n    timeSignature: SmoMeasure.timeSignatureDefault,\r\n    keySignature: 'C',\r\n    canceledKeySignature: null,\r\n    padRight: 10,\r\n    tuplets: [],\r\n    transposeIndex: 0,\r\n    modifiers: [],\r\n    rightMargin: 2,\r\n    staffY: 40,\r\n    // bars: [1, 1], // follows enumeration in VF.Barline\r\n    measureNumber: {\r\n      localIndex: 0,\r\n      systemIndex: 0,\r\n      measureIndex: 0,\r\n      staffId: 0\r\n    },\r\n    clef: 'treble',\r\n    voices: [],\r\n    format: new SmoMeasureFormat(SmoMeasureFormat.defaults),\r\n    activeVoice: 0,\r\n    tempo: new SmoTempoText(SmoTempoText.defaults)\r\n  }\r\n\r\n  static get defaults(): SmoMeasureParams {\r\n    const proto: any = JSON.parse(JSON.stringify(SmoMeasure._defaults));\r\n    proto.format = new SmoMeasureFormat(SmoMeasureFormat.defaults);\r\n    proto.tempo = new SmoTempoText(SmoTempoText.defaults);\r\n    proto.modifiers.push(new SmoBarline({\r\n      position: SmoBarline.positions.start,\r\n      barline: SmoBarline.barlines.singleBar\r\n    }));\r\n    proto.modifiers.push(new SmoBarline({\r\n      position: SmoBarline.positions.end,\r\n      barline: SmoBarline.barlines.singleBar\r\n    }));\r\n    return proto;\r\n  }\r\n  static convertLegacyTimeSignature(ts: string) {\r\n    const rv = SmoMeasure.timeSignatureDefault;\r\n    const num = ts.split('/')[0];\r\n    const den = ts.split('/')[1];\r\n    rv.timeSignature = ts;\r\n    rv.beatDuration = parseInt(num, 10);\r\n    rv.actualBeats = parseInt(den, 10);\r\n    return rv;\r\n  }\r\n  timeSignature: TimeSignature = SmoMeasure.timeSignatureDefault;\r\n  keySignature: string = '';\r\n  canceledKeySignature: string = '';\r\n  padRight: number = 10;\r\n  tuplets: SmoTuplet[] = [];\r\n  transposeIndex: number = 0;\r\n  modifiers: SmoMeasureModifierBase[] = [];\r\n  rightMargin: number = 2;\r\n  // bars: [1, 1], // follows enumeration in VF.Barline\r\n  measureNumber: MeasureNumber = {\r\n    localIndex: 0,\r\n    systemIndex: 0,\r\n    measureIndex: 0,\r\n    staffId: 0\r\n  };\r\n  clef: Clef = 'treble';\r\n  voices: SmoVoice[] = [];\r\n  activeVoice: number = 0;\r\n  tempo: SmoTempoText;\r\n  beamGroups: ISmoBeamGroup[] = [];\r\n  svg: MeasureSvg;\r\n  format: SmoMeasureFormat;\r\n  attrs: SmoAttrs;\r\n\r\n  constructor(params: SmoMeasureParams) {\r\n    this.tempo = new SmoTempoText(SmoTempoText.defaults);\r\n    this.svg = {\r\n      staffWidth: 0,\r\n      unjustifiedWidth: 0,\r\n      staffX: 0,\r\n      staffY: 0,\r\n      logicalBox: {\r\n        x: 0, y: 0, width: 0, height: 0\r\n      },\r\n      renderedBox: null,\r\n      yTop: 0,\r\n      adjX: 0,\r\n      adjRight: 0,\r\n      history: [],\r\n      lineIndex: 0,\r\n      rowInSystem: 0,\r\n      forceClef: false,\r\n      forceKeySignature: false,\r\n      forceTimeSignature: false,\r\n      forceTempo: false\r\n    };\r\n\r\n    const defaults = SmoMeasure.defaults;\r\n    smoSerialize.serializedMerge(SmoMeasure.defaultAttributes, defaults, this);\r\n    smoSerialize.serializedMerge(SmoMeasure.defaultAttributes, params, this);\r\n    // Handle legacy time signature format\r\n    if (params.timeSignature) {\r\n      const tsAny = params.timeSignature as any;\r\n      if (typeof(tsAny) === 'string') {\r\n        this.timeSignature = SmoMeasure.convertLegacyTimeSignature(tsAny);\r\n      }\r\n    }\r\n    this.voices = params.voices ? params.voices : [];\r\n    this.tuplets = params.tuplets ? params.tuplets : [];\r\n    this.modifiers = params.modifiers ? params.modifiers : defaults.modifiers;\r\n\r\n    this.setDefaultBarlines();\r\n\r\n    this.keySignature = smoMusic.vexKeySigWithOffset(this.keySignature, this.transposeIndex);\r\n\r\n    if (typeof (params.format) === 'undefined') {\r\n      this.format = new SmoMeasureFormat(SmoMeasureFormat.defaults);\r\n      this.format.measureIndex = this.measureNumber.measureIndex;\r\n    } else {\r\n      this.format = new SmoMeasureFormat(params.format);\r\n    }\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'SmoMeasure'\r\n    };\r\n  }\r\n\r\n  // ### defaultAttributes\r\n  // attributes that are to be serialized for a measure.\r\n  static get defaultAttributes() {\r\n    return [\r\n      'timeSignature', 'keySignature',\r\n      'measureNumber',\r\n      'activeVoice', 'clef', 'transposeIndex',\r\n      'adjX', 'format', 'rightMargin'\r\n    ];\r\n  }\r\n\r\n  static get formattingOptions() {\r\n    return ['customStretch', 'customProportion', 'autoJustify', 'systemBreak',\r\n      'pageBreak', 'padLeft'];\r\n  }\r\n  static get systemOptions() {\r\n    return ['systemBreak', 'pageBreak'];\r\n  }\r\n  static get columnMappedAttributes() {\r\n    return ['timeSignature', 'keySignature', 'tempo'];\r\n  }\r\n  static get serializableAttributes() {\r\n    const rv: any = [];\r\n    SmoMeasure.defaultAttributes.forEach((attr) => {\r\n      if (SmoMeasure.columnMappedAttributes.indexOf(attr) < 0) {\r\n        rv.push(attr);\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  // Return true if the time signatures are the same, for display purposes (e.g. if a time sig change\r\n  // is required)\r\n  static timeSigEqual(o1: TimeSignature, o2: TimeSignature) {\r\n    return o1.timeSignature === o2.timeSignature && o1.useSymbol === o2.useSymbol;\r\n  }\r\n\r\n  // ### serializeColumnMapped\r\n  // Some measure attributes that apply to the entire column are serialized\r\n  // separately.  Serialize those attributes, but only add them to the\r\n  // hash if they already exist for an earlier measure\r\n  serializeColumnMapped(attrColumnHash: any, attrCurrentValue: any) {\r\n    let curValue = '';\r\n    SmoMeasure.columnMappedAttributes.forEach((attr) => {\r\n      const field: any = (this as any)[attr];\r\n      if (field) {\r\n        curValue = field;\r\n        if (!attrColumnHash[attr]) {\r\n          attrColumnHash[attr] = {};\r\n          attrCurrentValue[attr] = {};\r\n        }\r\n        const curAttrHash = attrColumnHash[attr];\r\n        // If this is key signature, make sure we normalize to concert pitch\r\n        // from instrument pitch\r\n        if (attr === 'keySignature') {\r\n          curValue = smoMusic.vexKeySigWithOffset(curValue, -1 * this.transposeIndex);\r\n        }\r\n        if (field.ctor && field.ctor === 'SmoTempoText') {\r\n          if (field.compare(attrCurrentValue[attr]) === false) {\r\n            curAttrHash[this.measureNumber.measureIndex] = curValue;\r\n            attrCurrentValue[attr] = curValue;\r\n          }\r\n        } else if (attrCurrentValue[attr] !== curValue) {\r\n          curAttrHash[this.measureNumber.measureIndex] = curValue;\r\n          attrCurrentValue[attr] = curValue;\r\n        }\r\n      } // else attr doesn't exist in this measure\r\n    });\r\n  }\r\n\r\n  // ### serialize\r\n  // Convert this measure object to a JSON object, recursively serializing all the notes,\r\n  // note modifiers, etc.\r\n  serialize() {\r\n    const params: any = {};\r\n    let ser = true;\r\n    smoSerialize.serializedMergeNonDefault(SmoMeasure.defaults, SmoMeasure.serializableAttributes, this, params);\r\n    // measure number can't be defaulted b/c tempos etc. can map to default measure\r\n    params.measureNumber = JSON.parse(JSON.stringify(this.measureNumber));\r\n    params.tuplets = [];\r\n    params.voices = [];\r\n    params.modifiers = [];\r\n\r\n    this.tuplets.forEach((tuplet) => {\r\n      params.tuplets.push(tuplet.serialize());\r\n    });\r\n\r\n    this.voices.forEach((voice) => {\r\n      const obj: any = {\r\n        notes: []\r\n      };\r\n      voice.notes.forEach((note) => {\r\n        obj.notes.push(note.serialize());\r\n      });\r\n      params.voices.push(obj);\r\n    });\r\n\r\n    this.modifiers.forEach((modifier) => {\r\n      ser = true;\r\n      /* don't serialize default modifiers */\r\n      if (modifier.ctor === 'SmoBarline' && (modifier as SmoBarline).position === SmoBarline.positions.start &&\r\n        (modifier as SmoBarline).barline === SmoBarline.barlines.singleBar) {\r\n        ser = false;\r\n      } else if (modifier.ctor === 'SmoBarline' && (modifier as SmoBarline).position === SmoBarline.positions.end\r\n        && (modifier as SmoBarline).barline === SmoBarline.barlines.singleBar) {\r\n        ser = false;\r\n      } else if (modifier.ctor === 'SmoTempoText') {\r\n        // we don't save tempo text as a modifier anymore\r\n        ser = false;\r\n      } else if ((modifier as SmoRepeatSymbol).ctor === 'SmoRepeatSymbol' && (modifier as SmoRepeatSymbol).position === SmoRepeatSymbol.positions.start\r\n        && (modifier as SmoRepeatSymbol).symbol === SmoRepeatSymbol.symbols.None) {\r\n        ser = false;\r\n      }\r\n      if (ser) {\r\n        params.modifiers.push(modifier.serialize());\r\n      }\r\n    });\r\n    return params;\r\n  }\r\n\r\n  // ### deserialize\r\n  // restore a serialized measure object.  Usually called as part of deserializing a score,\r\n  // but can also be used to restore a measure due to an undo operation.\r\n  static deserialize(jsonObj: any) {\r\n    let j = 0;\r\n    let i = 0;\r\n    const voices = [];\r\n    const noteSum = [];\r\n    for (j = 0; j < jsonObj.voices.length; ++j) {\r\n      const voice = jsonObj.voices[j];\r\n      const notes: any = [];\r\n      voices.push({\r\n        notes\r\n      });\r\n      for (i = 0; i < voice.notes.length; ++i) {\r\n        const noteParams = voice.notes[i];\r\n        const smoNote = SmoNote.deserialize(noteParams);\r\n        notes.push(smoNote);\r\n        noteSum.push(smoNote);\r\n      }\r\n    }\r\n\r\n    const tuplets = [];\r\n    for (j = 0; j < jsonObj.tuplets.length; ++j) {\r\n      const tupJson = jsonObj.tuplets[j];\r\n      const noteAr = noteSum.filter((nn: any) =>\r\n        nn.isTuplet && nn.tuplet.id === tupJson.attrs.id);\r\n\r\n      // Bug fix:  A tuplet with no notes may be been overwritten\r\n      // in a copy/paste operation\r\n      if (noteAr.length > 0) {\r\n        tupJson.notes = noteAr;\r\n        const tuplet = new SmoTuplet(tupJson);\r\n        tuplets.push(tuplet);\r\n      }\r\n    }\r\n\r\n    const modifiers: SmoMeasureModifierBase[] = [];\r\n    jsonObj.modifiers.forEach((modParams: any) => {\r\n      const modifier: SmoMeasureModifierBase = SmoMeasureModifierBase.deserialize(modParams);\r\n      modifiers.push(modifier);\r\n    });\r\n    const params: SmoMeasureParams = SmoMeasure.defaults;\r\n    smoSerialize.serializedMerge(SmoMeasure.defaultAttributes, jsonObj, params);\r\n    params.voices = voices;\r\n    params.tuplets = tuplets;\r\n    params.modifiers = modifiers;\r\n    const rv = new SmoMeasure(params);\r\n    if (jsonObj.tempo) {\r\n      rv.tempo = new SmoTempoText(jsonObj.tempo);\r\n    }\r\n\r\n    // Handle migration for measure-mapped parameters\r\n    rv.modifiers.forEach((mod) => {\r\n      if (mod.ctor === 'SmoTempoText') {\r\n        rv.tempo = (mod as SmoTempoText);\r\n      }\r\n    });\r\n    if (!rv.tempo) {\r\n      rv.tempo = new SmoTempoText(SmoTempoText.defaults);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### defaultPitchForClef\r\n  // Accessor for clef objects, which are set at a measure level.\r\n  // #### TODO: learn what all these clefs are\r\n  static get defaultPitchForClef(): Record<Clef, Pitch> {\r\n    return {\r\n      'treble': {\r\n        letter: 'b',\r\n        accidental: 'n',\r\n        octave: 4\r\n      },\r\n      'bass': {\r\n        letter: 'd',\r\n        accidental: 'n',\r\n        octave: 3\r\n      },\r\n      'tenor': {\r\n        letter: 'a',\r\n        accidental: 'n',\r\n        octave: 3\r\n      },\r\n      'alto': {\r\n        letter: 'c',\r\n        accidental: 'n',\r\n        octave: 4\r\n      },\r\n      'soprano': {\r\n        letter: 'b',\r\n        accidental: 'n',\r\n        octave: 4\r\n      },\r\n      'percussion': {\r\n        letter: 'b',\r\n        accidental: 'n',\r\n        octave: 4\r\n      },\r\n      'mezzo-soprano': {\r\n        letter: 'b',\r\n        accidental: 'n',\r\n        octave: 4\r\n      },\r\n      'baritone-c': {\r\n        letter: 'b',\r\n        accidental: 'n',\r\n        octave: 3\r\n      },\r\n      'baritone-f': {\r\n        letter: 'e',\r\n        accidental: 'n',\r\n        octave: 3\r\n      },\r\n      'subbass': {\r\n        letter: 'd',\r\n        accidental: '',\r\n        octave: 2\r\n      },\r\n      'french': {\r\n        letter: 'b',\r\n        accidental: '',\r\n        octave: 4\r\n      } // no idea\r\n    };\r\n  }\r\n  static _emptyMeasureNoteType: string = 'r';\r\n  static set emptyMeasureNoteType(tt) {\r\n    SmoMeasure._emptyMeasureNoteType = tt;\r\n  }\r\n  static get emptyMeasureNoteType() {\r\n    return SmoMeasure._emptyMeasureNoteType;\r\n  }\r\n  // ### getDefaultNotes\r\n  // Get a measure full of default notes for a given timeSignature/clef.\r\n  // returns 8th notes for triple-time meters, etc.\r\n  static getDefaultNotes(params: SmoMeasureParams) {\r\n    let beamBeats = 0;\r\n    let beats = 0;\r\n    let i = 0;\r\n    let ticks = {\r\n      numerator: 4096,\r\n      denominator: 1,\r\n      remainder: 0\r\n    };\r\n    if (params === null) {\r\n      params = SmoMeasure.defaults;\r\n    }\r\n    if (!params.timeSignature) {\r\n      params.timeSignature = SmoMeasure.timeSignatureDefault;\r\n    }\r\n    params.clef = params.clef ? params.clef : 'treble';\r\n    beamBeats = ticks.numerator;\r\n    beats = params.timeSignature.actualBeats;\r\n    if (params.timeSignature.beatDuration === 8) {\r\n      ticks = {\r\n        numerator: 2048,\r\n        denominator: 1,\r\n        remainder: 0\r\n      };\r\n      if (params.timeSignature.actualBeats % 3 === 0) {\r\n        ticks.numerator = 2048 * 3;\r\n        beats = params.timeSignature.actualBeats / 3;\r\n      }\r\n      beamBeats = 2048 * 3;\r\n    }\r\n    const pitches: Pitch =\r\n      JSON.parse(JSON.stringify(SmoMeasure.defaultPitchForClef[params.clef]));\r\n    const rv = [];\r\n\r\n    // Treat 2/2 like 4/4 time.\r\n    if (params.timeSignature.beatDuration === 2) {\r\n      beats = beats * 2;\r\n    }\r\n\r\n    for (i = 0; i < beats; ++i) {\r\n      const note = new SmoNote({\r\n        noteHead: 'n',\r\n        clef: params.clef,\r\n        pitches: [pitches],\r\n        ticks,\r\n        beamBeats,\r\n        noteType: SmoMeasure.emptyMeasureNoteType,\r\n        textModifiers: [],\r\n        articulations: [],\r\n        graceNotes: [],\r\n        ornaments: [],\r\n        tones: [],\r\n        endBeam: false,\r\n        fillStyle: '',\r\n        flagState: SmoNote.flagStates.auto,\r\n        hidden: false\r\n      });\r\n      rv.push(note);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### getDefaultMeasure\r\n  // For create the initial or new measure, get a measure with notes.\r\n  static getDefaultMeasure(params: SmoMeasureParams): SmoMeasure {\r\n    const obj: any = {};\r\n    smoSerialize.serializedMerge(SmoMeasure.defaultAttributes, SmoMeasure.defaults, obj);\r\n    smoSerialize.serializedMerge(SmoMeasure.defaultAttributes, params, obj);\r\n    // Don't copy column-formatting options to new measure in new column\r\n    smoSerialize.serializedMerge(SmoMeasure.formattingOptions, SmoMeasure.defaults, obj);\r\n    // Don't redisplay tempo for a new measure\r\n    const rv = new SmoMeasure(obj);\r\n    if (rv.tempo && rv.tempo.display) {\r\n      rv.tempo.display = false;\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### SmoMeasure.getDefaultMeasureWithNotes\r\n  // Get a new measure with the appropriate notes for the supplied clef, instrument\r\n  static getDefaultMeasureWithNotes(params: SmoMeasureParams) {\r\n    var measure = SmoMeasure.getDefaultMeasure(params);\r\n    measure.voices.push({\r\n      notes: SmoMeasure.getDefaultNotes(params)\r\n    });\r\n    // fix a bug.\r\n    // new measures only have 1 voice, make sure active voice is 0\r\n    measure.activeVoice = 0;\r\n    return measure;\r\n  }\r\n\r\n  setDefaultBarlines() {\r\n    if (!this.getStartBarline()) {\r\n      this.modifiers.push(new SmoBarline({\r\n        position: SmoBarline.positions.start,\r\n        barline: SmoBarline.barlines.singleBar\r\n      }));\r\n    }\r\n    if (!this.getEndBarline()) {\r\n      this.modifiers.push(new SmoBarline({\r\n        position: SmoBarline.positions.end,\r\n        barline: SmoBarline.barlines.singleBar\r\n      }));\r\n    }\r\n  }\r\n\r\n  setForcePageBreak(val: boolean) {\r\n    this.format.pageBreak = val;\r\n  }\r\n\r\n  setForceSystemBreak(val: boolean) {\r\n    this.format.systemBreak = val;\r\n  }\r\n\r\n  setAutoJustify(val: boolean) {\r\n    this.format.autoJustify = val;\r\n  }\r\n  getAutoJustify() {\r\n    return this.format.autoJustify;\r\n  }\r\n  getForceSystemBreak() {\r\n    return this.format.systemBreak;\r\n  }\r\n\r\n  getForcePageBreak() {\r\n    return this.format.pageBreak;\r\n  }\r\n\r\n  // ###   SVG mixins\r\n  // We store some rendering data in the instance for UI mapping.\r\n  get staffWidth() {\r\n    return this.svg.staffWidth;\r\n  }\r\n\r\n  setWidth(width: number, description: string) {\r\n    if (layoutDebug.flagSet(layoutDebug.values.measureHistory)) {\r\n      this.svg.history.push('setWidth ' + this.staffWidth + '=> ' + width + ' ' + description);\r\n    }\r\n    if (isNaN(width)) {\r\n      throw ('NAN in setWidth');\r\n    }\r\n    this.svg.staffWidth = width;\r\n  }\r\n\r\n  get staffX(): number {\r\n    return this.svg.staffX;\r\n  }\r\n\r\n  setX(x: number, description: string) {\r\n    if (isNaN(x)) {\r\n      throw ('NAN in setX');\r\n    }\r\n    layoutDebug.measureHistory(this, 'staffX', x, description);\r\n    this.svg.staffX = Math.round(x);\r\n  }\r\n\r\n  get staffY(): number {\r\n    return this.svg.staffY;\r\n  }\r\n\r\n  setY(y: number, description: string) {\r\n    if (isNaN(y)) {\r\n      throw ('NAN in setY');\r\n    }\r\n    layoutDebug.measureHistory(this, 'staffY', y, description);\r\n    this.svg.staffY = Math.round(y);\r\n  }\r\n\r\n  get yTop(): number {\r\n    return this.svg.yTop;\r\n  }\r\n\r\n  setYTop(y: number, description: string) {\r\n    layoutDebug.measureHistory(this, 'yTop', y, description);\r\n    this.svg.yTop = y;\r\n  }\r\n\r\n  setBox(box: SvgBox, description: string) {\r\n    layoutDebug.measureHistory(this, 'logicalBox', box, description);\r\n    this.svg.logicalBox = svgHelpers.smoBox(box);\r\n  }\r\n\r\n  saveUnjustifiedWidth() {\r\n    this.svg.unjustifiedWidth = this.svg.staffWidth;\r\n  }\r\n\r\n  // ### getClassId\r\n  // create a identifier unique to this measure index so it can be easily removed.\r\n  getClassId() {\r\n    return 'mm-' + this.measureNumber.staffId + '-' + this.measureNumber.measureIndex;\r\n  }\r\n\r\n  pickupMeasure(duration: number) {\r\n    const timeSig = this.timeSignature;\r\n    const proto = SmoMeasure.deserialize(this.serialize());\r\n    proto.attrs.id = VF.Element.newID();\r\n    const note = proto.voices[0].notes[0];\r\n    proto.voices = [];\r\n    note.pitches = [note.pitches[0]];\r\n    note.ticks.numerator = duration;\r\n    note.makeRest();\r\n    proto.voices.push({ notes: [note] });\r\n    proto.timeSignature = timeSig;\r\n    return proto;\r\n  }\r\n\r\n  // ### getRenderedNote\r\n  // The renderer puts a mapping between rendered svg groups and\r\n  // the logical notes in SMO.  The UI needs this mapping to be interactive,\r\n  // figure out where a note is rendered, what its bounding box is, etc.\r\n  getRenderedNote(id: string) {\r\n    let j = 0;\r\n    let i = 0;\r\n    for (j = 0; j < this.voices.length; ++j) {\r\n      const voice = this.voices[j];\r\n      for (i = 0; i < voice.notes.length; ++i) {\r\n        const note = voice.notes[i];\r\n        if (note.renderId === id) {\r\n          return {\r\n            smoNote: note,\r\n            voice: j,\r\n            tick: i\r\n          };\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getNotes() {\r\n    return this.voices[this.activeVoice].notes;\r\n  }\r\n\r\n  getActiveVoice() {\r\n    return this.activeVoice;\r\n  }\r\n\r\n  setActiveVoice(vix: number) {\r\n    if (vix >= 0 && vix < this.voices.length) {\r\n      this.activeVoice = vix;\r\n    }\r\n  }\r\n\r\n  tickmapForVoice(voiceIx: number) {\r\n    return new TickMap(this, voiceIx);\r\n  }\r\n\r\n  // ### createMeasureTickmaps\r\n  // A tickmap is a map of notes to ticks for the measure.  It is speciifc per-voice\r\n  // since each voice may have different numbers of ticks.  The accidental map is\r\n  // overall since accidentals in one voice apply to accidentals in the other\r\n  // voices.  So we return the tickmaps and the overall accidental map.\r\n  createMeasureTickmaps(): MeasureTickmaps {\r\n    let i = 0;\r\n    const tickmapArray: TickMap[] = [];\r\n    const accidentalMap: Record<string | number, Record<PitchLetter, TickAccidental>> =\r\n      {} as Record<string | number, Record<PitchLetter, TickAccidental>>;\r\n    for (i = 0; i < this.voices.length; ++i) {\r\n      tickmapArray.push(this.tickmapForVoice(i));\r\n    }\r\n\r\n    for (i = 0; i < this.voices.length; ++i) {\r\n      const tickmap: TickMap = tickmapArray[i];\r\n      const durationKeys: string[] = Object.keys((tickmap.durationAccidentalMap));\r\n\r\n      durationKeys.forEach((durationKey: string) => {\r\n        if (!accidentalMap[durationKey]) {\r\n          accidentalMap[durationKey] = tickmap.durationAccidentalMap[durationKey];\r\n        } else {\r\n          const amap = accidentalMap[durationKey];\r\n          const tickable: Record<PitchLetter, TickAccidental> = tickmap.durationAccidentalMap[durationKey];\r\n          const letterKeys: PitchLetter[] = Object.keys(tickable) as Array<PitchLetter>;\r\n          letterKeys.forEach((pitchKey) => {\r\n            if (!amap[pitchKey]) {\r\n              amap[pitchKey] = tickmap.durationAccidentalMap[durationKey][pitchKey];\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n    // duration: duration, pitches: Record<PitchLetter,TickAccidental>\r\n    const accidentalArray: AccidentalArray[] = [];\r\n    Object.keys(accidentalMap).forEach((durationKey) => {\r\n      accidentalArray.push({ duration: durationKey, pitches: accidentalMap[durationKey] });\r\n    });\r\n    return {\r\n      tickmaps: tickmapArray,\r\n      accidentalMap,\r\n      accidentalArray\r\n    };\r\n  }\r\n  // ### createRestNoteWithDuration\r\n  // pad some duration of music with rests.\r\n  static createRestNoteWithDuration(duration: number, clef: Clef): SmoNote {\r\n    const pitch: Pitch = JSON.parse(JSON.stringify(\r\n      SmoMeasure.defaultPitchForClef[clef]));\r\n    const note = new SmoNote(SmoNote.defaults);\r\n    note.pitches = [pitch];\r\n    note.noteType = 'r';\r\n    note.hidden = true;\r\n    note.ticks = { numerator: duration, denominator: 1, remainder: 0 };\r\n    return note;\r\n  }\r\n\r\n  getMaxTicksVoice() {\r\n    let i = 0;\r\n    let max = 0;\r\n    for (i = 0; i < this.voices.length; ++i) {\r\n      const voiceTicks = this.getTicksFromVoice(i);\r\n      max = Math.max(voiceTicks, max);\r\n    }\r\n    return max;\r\n  }\r\n\r\n  getTicksFromVoice(voiceIndex: number): number {\r\n    let ticks = 0;\r\n    this.voices[voiceIndex].notes.forEach((note) => {\r\n      ticks += note.tickCount;\r\n    });\r\n    return ticks;\r\n  }\r\n\r\n  isPickup(): boolean {\r\n    const ticks = this.getTicksFromVoice(0);\r\n    const goal = smoMusic.timeSignatureToTicks(this.timeSignature.timeSignature);\r\n    return (ticks < goal);\r\n  }\r\n\r\n  clearBeamGroups() {\r\n    this.beamGroups = [];\r\n  }\r\n\r\n  // ### updateLyricFont\r\n  // Update the lyric font, which is the same for all lyrics.\r\n  setLyricFont(fontInfo: FontInfo) {\r\n    this.voices.forEach((voice) => {\r\n      voice.notes.forEach((note) => {\r\n        note.setLyricFont(fontInfo);\r\n      });\r\n    });\r\n  }\r\n  setLyricAdjustWidth(adjustNoteWidth: boolean) {\r\n    this.voices.forEach((voice) => {\r\n      voice.notes.forEach((note) => {\r\n        note.setLyricAdjustWidth(adjustNoteWidth);\r\n      });\r\n    });\r\n  }\r\n\r\n  setChordAdjustWidth(adjustNoteWidth: boolean) {\r\n    this.voices.forEach((voice) => {\r\n      voice.notes.forEach((note) => {\r\n        note.setChordAdjustWidth(adjustNoteWidth);\r\n      });\r\n    });\r\n  }\r\n\r\n  // ### updateLyricFont\r\n  // Update the lyric font, which is the same for all lyrics.\r\n  setChordFont(fontInfo: FontInfo) {\r\n    this.voices.forEach((voice) => {\r\n      voice.notes.forEach((note) => {\r\n        note.setChordFont(fontInfo);\r\n      });\r\n    });\r\n  }\r\n\r\n  // ### tuplet methods.\r\n  //\r\n  // #### tupletNotes\r\n  tupletNotes(tuplet: SmoTuplet) {\r\n    let j = 0;\r\n    let i = 0;\r\n    const tnotes = [];\r\n    for (j = 0; j < this.voices.length; ++j) {\r\n      const vnotes = this.voices[j].notes;\r\n      for (i = 0; i < vnotes.length; ++i) {\r\n        const note = vnotes[i] as SmoNote;\r\n        if (note.tuplet && note.tuplet.id === tuplet.attrs.id) {\r\n          tnotes.push(vnotes[i]);\r\n        }\r\n      }\r\n    }\r\n    return tnotes;\r\n  }\r\n\r\n  // #### tupletIndex\r\n  // return the index of the given tuplet\r\n  tupletIndex(tuplet: SmoTuplet) {\r\n    let j = 0;\r\n    let i = 0;\r\n    for (j = 0; j < this.voices.length; ++j) {\r\n      const notes = this.voices[j].notes;\r\n      for (i = 0; i < notes.length; ++i) {\r\n        const note = notes[i] as SmoNote;\r\n        if (note.tuplet && note.tuplet.id === tuplet.attrs.id) {\r\n          return i;\r\n        }\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  // #### getTupletForNote\r\n  // Finds the tuplet for a given note, or null if there isn't one.\r\n  getTupletForNote(note: SmoNote | null): SmoTuplet | null {\r\n    let i = 0;\r\n    if (!note) {\r\n      return null;\r\n    }\r\n    if (!note.isTuplet) {\r\n      return null;\r\n    }\r\n    for (i = 0; i < this.tuplets.length; ++i) {\r\n      const tuplet = this.tuplets[i];\r\n      if (note.tuplet !== null && tuplet.attrs.id === note.tuplet.id) {\r\n        return tuplet;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  removeTupletForNote(note: SmoNote) {\r\n    let i = 0;\r\n    const tuplets = [];\r\n    for (i = 0; i < this.tuplets.length; ++i) {\r\n      const tuplet = this.tuplets[i];\r\n      if (note.tuplet !== null && note.tuplet.id !== tuplet.attrs.id) {\r\n        tuplets.push(tuplet);\r\n      }\r\n    }\r\n    this.tuplets = tuplets;\r\n  }\r\n\r\n  // ### populateVoice\r\n  // Create a new voice in this measure, and populate it with the default note\r\n  // for this measure/key/clef\r\n  populateVoice(index: number) {\r\n    if (index !== this.voices.length) {\r\n      return;\r\n    }\r\n    this.voices.push({ notes: SmoMeasure.getDefaultNotes(this) });\r\n    this.activeVoice = index;\r\n  }\r\n  _removeSingletonModifier(name: string) {\r\n    const ar = this.modifiers.filter(obj => obj.attrs.type !== name);\r\n    this.modifiers = ar;\r\n  }\r\n\r\n  _getSingletonModifier(name: string): SmoMeasureModifierBase | undefined {\r\n    return this.modifiers.find(obj => obj.attrs.type === name);\r\n  }\r\n\r\n  addRehearsalMark(parameters: SmoRehearsalMarkParams) {\r\n    this._removeSingletonModifier('SmoRehearsalMark');\r\n    this.modifiers.push(new SmoRehearsalMark(parameters));\r\n  }\r\n  removeRehearsalMark() {\r\n    this._removeSingletonModifier('SmoRehearsalMark');\r\n  }\r\n  getRehearsalMark(): SmoMeasureModifierBase | undefined {\r\n    return this._getSingletonModifier('SmoRehearsalMark');\r\n  }\r\n  getModifiersByType(type: string) {\r\n    return this.modifiers.filter((mm) => type === mm.attrs.type);\r\n  }\r\n\r\n  addTempo(params: SmoTempoTextParams) {\r\n    this.tempo = new SmoTempoText(params);\r\n  }\r\n  removeTempo() {\r\n    this.tempo = new SmoTempoText(SmoTempoText.defaults);\r\n  }\r\n  getTempo() {\r\n    if (typeof (this.tempo) === 'undefined') {\r\n      this.tempo = new SmoTempoText(SmoTempoText.defaults);\r\n    }\r\n    return this.tempo;\r\n  }\r\n  addMeasureText(mod: SmoMeasureModifierBase) {\r\n    var exist = this.modifiers.filter((mm) =>\r\n      mm.attrs.id === mod.attrs.id\r\n    );\r\n    if (exist.length) {\r\n      return;\r\n    }\r\n    this.modifiers.push(mod);\r\n  }\r\n\r\n  getMeasureText() {\r\n    return this.modifiers.filter(obj => obj.ctor === 'SmoMeasureText');\r\n  }\r\n\r\n  removeMeasureText(id: string) {\r\n    var ar = this.modifiers.filter(obj => obj.attrs.id !== id);\r\n    this.modifiers = ar;\r\n  }\r\n\r\n  setRepeatSymbol(rs: SmoRepeatSymbol) {\r\n    const ar: SmoMeasureModifierBase[] = [];\r\n    let toAdd = true;\r\n    const exSymbol = this.getRepeatSymbol();\r\n    if (exSymbol && exSymbol.symbol === rs.symbol) {\r\n      toAdd = false;\r\n    }\r\n    this.modifiers.forEach((modifier) => {\r\n      if (modifier.ctor !== 'SmoRepeatSymbol') {\r\n        ar.push(modifier);\r\n      }\r\n    });\r\n    this.modifiers = ar;\r\n    if (toAdd) {\r\n      ar.push(rs);\r\n    }\r\n  }\r\n  getRepeatSymbol(): SmoRepeatSymbol | null {\r\n    const rv = this.modifiers.filter(obj => obj.ctor === 'SmoRepeatSymbol');\r\n    if (rv.length > 0) {\r\n      return rv[0] as SmoRepeatSymbol;\r\n    }\r\n    return null;\r\n  }\r\n  clearRepeatSymbols() {\r\n    const ar: SmoMeasureModifierBase[] = [];\r\n    this.modifiers.forEach((modifier) => {\r\n      if (modifier.ctor !== 'SmoRepeatSymbol') {\r\n        ar.push(modifier);\r\n      }\r\n    });\r\n    this.modifiers = ar;\r\n  }\r\n\r\n  setBarline(barline: SmoBarline) {\r\n    var ar: SmoMeasureModifierBase[] = [];\r\n    this.modifiers.forEach((modifier) => {\r\n      if (modifier.ctor !== 'SmoBarline') {\r\n        const o = modifier as SmoBarline;\r\n        if (o.position !== barline.position) {\r\n          ar.push(o);\r\n        }\r\n      } else {\r\n        ar.push(modifier);\r\n      }\r\n    });\r\n    this.modifiers = ar;\r\n    ar.push(barline);\r\n  }\r\n\r\n  _getBarline(pos: number): SmoBarline {\r\n    let rv = null;\r\n    this.modifiers.forEach((modifier) => {\r\n      if (modifier.ctor === 'SmoBarline' && (modifier as SmoBarline).position === pos) {\r\n        rv = modifier;\r\n      }\r\n    });\r\n    if (rv === null) {\r\n      return new SmoBarline(SmoBarline.defaults);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  getEndBarline(): SmoBarline {\r\n    return this._getBarline(SmoBarline.positions.end);\r\n  }\r\n  getStartBarline(): SmoBarline {\r\n    return this._getBarline(SmoBarline.positions.start);\r\n  }\r\n\r\n  addNthEnding(ending: SmoVolta) {\r\n    const mods = [];\r\n    this.modifiers.forEach((modifier) => {\r\n      if (modifier.ctor !== 'SmoVolta' || (modifier as SmoVolta).startBar !== ending.startBar ||\r\n        (modifier as SmoVolta).endBar !== ending.endBar) {\r\n        mods.push(modifier);\r\n      }\r\n    });\r\n    mods.push(ending);\r\n    this.modifiers = mods;\r\n  }\r\n\r\n  removeNthEnding(number: number) {\r\n    const mods: SmoMeasureModifierBase[] = [];\r\n    this.modifiers.forEach((modifier) => {\r\n      if (modifier.ctor !== 'SmoVolta' || (modifier as SmoVolta).number !== number) {\r\n        mods.push(modifier);\r\n      }\r\n    });\r\n    this.modifiers = mods;\r\n  }\r\n\r\n  getNthEndings(): SmoVolta[] {\r\n    const rv: SmoVolta[] = [];\r\n    this.modifiers.forEach((modifier: SmoMeasureModifierBase) => {\r\n      if (modifier.ctor === 'SmoVolta') {\r\n        rv.push(modifier as SmoVolta);\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  getEndEndings(): SmoVolta[] {\r\n    const rv: SmoVolta[] = [];\r\n    this.modifiers.forEach((modifier: SmoMeasureModifierBase) => {\r\n      if (modifier.ctor === 'SmoVolta' && (modifier as SmoVolta).endBar === this.measureNumber.systemIndex\r\n        && (modifier as SmoVolta).startBar !== this.measureNumber.systemIndex) {\r\n        rv.push(modifier as SmoVolta);\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  getMidEndings(): SmoVolta[] {\r\n    const rv: SmoVolta[] = [];\r\n    this.modifiers.forEach((modifier) => {\r\n      if (modifier.ctor === 'SmoVolta' && (modifier as SmoVolta).endBar > this.measureNumber.systemIndex\r\n        && (modifier as SmoVolta).startBar < this.measureNumber.systemIndex) {\r\n        rv.push(modifier as SmoVolta);\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  get numBeats() {\r\n    return this.timeSignature!.actualBeats;\r\n  }\r\n  setKeySignature(sig: string) {\r\n    this.keySignature = sig;\r\n    this.voices.forEach((voice) => {\r\n      voice.notes.forEach((note) => {\r\n        note.keySignature = sig;\r\n      });\r\n    });\r\n  }\r\n  get beatValue(): number {\r\n    return this.timeSignature.beatDuration;\r\n  }\r\n\r\n  setMeasureNumber(num: MeasureNumber) {\r\n    this.measureNumber = num;\r\n  }\r\n\r\n  getBeamGroupForNote(note: SmoNote) {\r\n    let i = 0;\r\n    let j = 0;\r\n    for (i = 0; i < this.beamGroups.length; ++i) {\r\n      const bg = this.beamGroups[i];\r\n      for (j = 0; j < bg.notes.length; ++j) {\r\n        if (bg.notes[j].attrs.id === note.attrs.id) {\r\n          return bg;\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoAttrs, MeasureNumber, FontInfo, SmoObjectParams, SvgBox,  SmoModifierBase } from './common';\r\nimport { SmoSelector } from '../xform/selections';\r\n\r\nconst VF = eval('Vex.Flow');\r\n// ## Measure modifiers are elements that are attached to the bar itself, like barlines or measure-specific text,\r\n// repeats - lots of stuff\r\nexport abstract class SmoMeasureModifierBase implements SmoModifierBase {\r\n  attrs: SmoAttrs;\r\n  ctor: string;\r\n  renderedBox: SvgBox | null = null;\r\n  logicalBox: SvgBox | null = null;\r\n  constructor(ctor: string) {\r\n    this.ctor = ctor;\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: ctor\r\n    };\r\n  }\r\n  static deserialize(jsonObj: SmoObjectParams) {\r\n    const ctor = eval('globalThis.Smo.' + jsonObj.ctor);\r\n    const rv = new ctor(jsonObj);\r\n    return rv;\r\n  }\r\n  abstract serialize(): any;\r\n}\r\n\r\nexport interface SmoMeasureFormatParams {\r\n  customStretch: number | null,\r\n  customProportion: number | null,\r\n  autoJustify: boolean | null,\r\n  systemBreak: boolean | null,\r\n  pageBreak: boolean | null,\r\n  padLeft: number | null,\r\n  padAllInSystem: boolean | null,\r\n  measureIndex: number | null\r\n}\r\nexport interface ISmoMeasureFormatMgr {\r\n  format: SmoMeasureFormatParams,\r\n  measureNumber: MeasureNumber\r\n}\r\nexport class SmoMeasureFormat extends SmoMeasureModifierBase implements SmoMeasureFormatParams {\r\n  static get attributes() {\r\n    return ['customStretch', 'customProportion', 'autoJustify', 'systemBreak', 'pageBreak', 'padLeft', 'measureIndex'];\r\n  }\r\n  static get formatAttributes() {\r\n    return ['customStretch', 'customProportion', 'autoJustify', 'systemBreak', 'pageBreak', 'padLeft'];\r\n  }\r\n  static fromLegacyMeasure(measure: any) {\r\n    const o: any = {};\r\n    SmoMeasureFormat.formatAttributes.forEach((attr: string | number) => {\r\n      if (typeof (measure[attr]) !== 'undefined') {\r\n        o[attr] = measure[attr];\r\n      } else {\r\n        const rhs = (SmoMeasureFormat.defaults as any)[attr];\r\n        o[attr] = rhs;\r\n      }\r\n      o.measureIndex = measure.measureNumber.measureIndex;\r\n    });\r\n    return new SmoMeasureFormat(o);\r\n  }\r\n  static get defaults(): SmoMeasureFormatParams {\r\n    return JSON.parse(JSON.stringify({\r\n      customStretch: 0,\r\n      customProportion: 100,\r\n      systemBreak: false,\r\n      pageBreak: false,\r\n      padLeft: 0,\r\n      padAllInSystem: true,\r\n      autoJustify: true,\r\n      measureIndex: 0\r\n    }));\r\n  }\r\n  customStretch: number = 0;\r\n  customProportion: number = 100;\r\n  systemBreak: boolean = false;\r\n  pageBreak: boolean = false;\r\n  padLeft: number = 0;\r\n  padAllInSystem: boolean = false;\r\n  autoJustify: boolean = true;\r\n  measureIndex: number = 0;\r\n  eq(o: SmoMeasureFormatParams) {\r\n    let rv = true;\r\n    SmoMeasureFormat.formatAttributes.forEach((attr: string | number) => {\r\n      const obj1 = (o as any)[attr];\r\n      const obj2 = (this as any)[attr];\r\n      if (obj1 !== obj2) {\r\n        rv = false;\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  get isDefault() {\r\n    return this.eq(SmoMeasureFormat.defaults);\r\n  }\r\n  constructor(parameters: SmoMeasureFormatParams | null) {\r\n    super('SmoMeasureFormat');\r\n    let pobj: any = parameters;\r\n    if (typeof(parameters) === 'undefined' || parameters === null) {\r\n      pobj = {};\r\n    }\r\n    SmoMeasureFormat.attributes.forEach((attr) => {\r\n      const to = typeof ((pobj as any)[attr]);\r\n      if (to === 'undefined') {\r\n        (this as any)[attr] = (SmoMeasureFormat.defaults as any)[attr];\r\n      } else {\r\n        (this as any)[attr] = (pobj as any)[attr];\r\n      }\r\n    });\r\n  }\r\n  formatMeasure(mm: ISmoMeasureFormatMgr) {\r\n    mm.format = new SmoMeasureFormat(this);\r\n    mm.format.measureIndex = mm.measureNumber.measureIndex;\r\n  }\r\n  serialize() {\r\n    const params = { ctor: 'SmoMeasureFormat' };\r\n    smoSerialize.serializedMergeNonDefault(SmoMeasureFormat.defaults, SmoMeasureFormat.attributes, this, params);\r\n    return params;\r\n  }\r\n}\r\nexport interface SmoBarlineParams {\r\n  position: number | null,\r\n  barline: number | null\r\n}\r\n\r\nexport class SmoBarline extends SmoMeasureModifierBase {\r\n  static readonly positions: Record<string, number> = {\r\n    start: 0,\r\n    end: 1\r\n  };\r\n\r\n  static readonly barlines: Record<string, number> = {\r\n    singleBar: 0,\r\n    doubleBar: 1,\r\n    endBar: 2,\r\n    startRepeat: 3,\r\n    endRepeat: 4,\r\n    noBar: 5\r\n  }\r\n\r\n  static get _barlineToString() {\r\n    return ['singleBar', 'doubleBar', 'endBar', 'startRepeat', 'endRepeat', 'noBar'];\r\n  }\r\n  static barlineString(inst: SmoBarline) {\r\n    return SmoBarline._barlineToString[inst.barline];\r\n  }\r\n\r\n  static get defaults(): SmoBarlineParams {\r\n    return JSON.parse(JSON.stringify({\r\n      position: SmoBarline.positions.end,\r\n      barline: SmoBarline.barlines.singleBar\r\n    }));\r\n  }\r\n\r\n  static get attributes() {\r\n    return ['position', 'barline'];\r\n  }\r\n  serialize() {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoBarline.defaults, SmoBarline.attributes, this, params);\r\n    params.ctor = 'SmoBarline';\r\n    return params;\r\n  }\r\n\r\n  constructor(parameters: SmoBarlineParams | null) {\r\n    super('SmoBarline');\r\n    let ops = parameters as any;\r\n    if (typeof(parameters) === 'undefined' || parameters === null) {\r\n      ops = {};\r\n    }\r\n    smoSerialize.serializedMerge(SmoBarline.attributes, SmoBarline.defaults, this);\r\n    smoSerialize.serializedMerge(SmoBarline.attributes, ops, this);\r\n  }\r\n\r\n  static get toVexBarline() {\r\n    return [VF.Barline.type.SINGLE, VF.Barline.type.DOUBLE, VF.Barline.type.END,\r\n      VF.Barline.type.REPEAT_BEGIN, VF.Barline.type.REPEAT_END, VF.Barline.type.NONE];\r\n  }\r\n  static get toVexPosition() {\r\n    return [VF.StaveModifier.BEGIN, VF.StaveModifier.END];\r\n  }\r\n  barline: number = SmoBarline.barlines.singleBar;\r\n  position: number = SmoBarline.positions.start;\r\n\r\n  toVexBarline(): number {\r\n    return SmoBarline.toVexBarline[this.barline];\r\n  }\r\n  toVexPosition(): number {\r\n    return SmoBarline.toVexPosition[this.position];\r\n  }\r\n}\r\n\r\nexport interface SmoRepeatSymbolParams {\r\n  symbol: number,\r\n  xOffset: number,\r\n  yOffset: number,\r\n  position: number\r\n}\r\nexport class SmoRepeatSymbol extends SmoMeasureModifierBase {\r\n  static readonly symbols: Record<string, number> = {\r\n    None: 0,\r\n    Coda: 1,\r\n    Segno: 2,\r\n    Dc: 3,\r\n    ToCoda: 1,\r\n    DcAlCoda: 4,\r\n    DcAlFine: 5,\r\n    Ds: 6,\r\n    DsAlCoda: 7,\r\n    DsAlFine: 8,\r\n    Fine: 9\r\n  }\r\n\r\n  static readonly defaultXOffset: number[] = [0, 0, 0, -20, -60, -60, -50, -60, -50, -40]\r\n\r\n  static readonly positions: Record<string, number> = {\r\n    start: 0,\r\n    end: 1\r\n  }\r\n  static get defaults(): SmoRepeatSymbolParams {\r\n    return JSON.parse(JSON.stringify({\r\n      symbol: SmoRepeatSymbol.symbols.Coda,\r\n      xOffset: 0,\r\n      yOffset: 30,\r\n      position: SmoRepeatSymbol.positions.end\r\n    }));\r\n  }\r\n  static get toVexSymbol() {\r\n    return [VF.Repetition.type.NONE, VF.Repetition.type.CODA_LEFT, VF.Repetition.type.SEGNO_LEFT, VF.Repetition.type.DC,\r\n      VF.Repetition.type.DC_AL_CODA, VF.Repetition.type.DC_AL_FINE, VF.Repetition.type.DS,\r\n      VF.Repetition.type.DS_AL_CODA, VF.Repetition.type.DS_AL_FINE, VF.Repetition.type.FINE];\r\n  }\r\n  static get attributes() {\r\n    return ['symbol', 'xOffset', 'yOffset', 'position'];\r\n  }\r\n  symbol: number = SmoRepeatSymbol.symbols.Coda;\r\n  xOffset: number = 0;\r\n  yOffset: number = 30;\r\n  position: number = SmoRepeatSymbol.positions.end;\r\n  toVexSymbol() {\r\n    return SmoRepeatSymbol.toVexSymbol[this.symbol];\r\n  }\r\n  serialize() {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoRepeatSymbol.defaults, SmoRepeatSymbol.attributes, this, params);\r\n    params.ctor = 'SmoRepeatSymbol';\r\n    return params;\r\n  }\r\n  constructor(parameters: SmoRepeatSymbolParams) {\r\n    super('SmoRepeatSymbol');\r\n    smoSerialize.serializedMerge(SmoRepeatSymbol.attributes, SmoRepeatSymbol.defaults, this);\r\n    this.xOffset = SmoRepeatSymbol.defaultXOffset[parameters.symbol];\r\n    smoSerialize.serializedMerge(SmoRepeatSymbol.attributes, parameters, this);\r\n  }\r\n}\r\n\r\nexport interface SmoVoltaParams {\r\n  startBar: number,\r\n  endBar: number,\r\n  xOffsetStart: number,\r\n  xOffsetEnd: number,\r\n  yOffset: number,\r\n  number: number\r\n}\r\nexport class SmoVolta extends SmoMeasureModifierBase {\r\n  startBar: number = 1;\r\n  endBar: number = 1;\r\n  xOffsetStart: number = 0;\r\n  xOffsetEnd: number = 0;\r\n  yOffset: number = 20;\r\n  number: number = 1;\r\n  endingId: string | null = null;\r\n  startSelector: SmoSelector | null = null;\r\n  endSelector: SmoSelector | null = null;\r\n  constructor(parameters: SmoVoltaParams) {\r\n    super('SmoVolta');\r\n    smoSerialize.serializedMerge(SmoVolta.attributes, SmoVolta.defaults, this);\r\n    smoSerialize.serializedMerge(SmoVolta.attributes, parameters, this);\r\n  }\r\n  get id() {\r\n    return this.attrs.id;\r\n  }\r\n  get type() {\r\n    return this.attrs.type;\r\n  }\r\n  static get attributes() {\r\n    return ['startBar', 'endBar', 'endingId', 'startSelector', 'endSelector', 'xOffsetStart', 'xOffsetEnd', 'yOffset', 'number'];\r\n  }\r\n  static get editableAttributes() {\r\n    return ['xOffsetStart', 'xOffsetEnd', 'yOffset', 'number'];\r\n  }\r\n\r\n  serialize() {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoVolta.defaults, SmoVolta.attributes, this, params);\r\n    params.ctor = 'SmoVolta';\r\n    return params;\r\n  }\r\n\r\n  static get defaults(): SmoVoltaParams {\r\n    return JSON.parse(JSON.stringify({\r\n      startBar: 1,\r\n      endBar: 1,\r\n      xOffsetStart: 0,\r\n      xOffsetEnd: 0,\r\n      yOffset: 20,\r\n      number: 1\r\n    }));\r\n  }\r\n\r\n  toVexVolta(measureNumber: number) {\r\n    if (this.startBar === measureNumber && this.startBar === this.endBar) {\r\n      return VF.Volta.type.BEGIN_END;\r\n    }\r\n    if (this.startBar === measureNumber) {\r\n      return VF.Volta.type.BEGIN;\r\n    }\r\n    if (this.endBar === measureNumber) {\r\n      return VF.Volta.type.END;\r\n    }\r\n    if (this.startBar < measureNumber && this.endBar > measureNumber) {\r\n      return VF.Volta.type.MID;\r\n    }\r\n    return VF.Volta.type.NONE;\r\n  }\r\n}\r\n\r\nexport interface SmoMeasureTextParams {\r\n  position: number,\r\n  fontInfo: FontInfo,\r\n  text: string,\r\n  adjustX: number,\r\n  adjustY: number,\r\n  justification: number\r\n}\r\nexport class SmoMeasureText extends SmoMeasureModifierBase {\r\n  static readonly positions: Record<string, number> = {\r\n    above: 0, below: 1, left: 2, right: 3, none: 4\r\n  }\r\n\r\n  static readonly justifications: Record<string, number> = {\r\n    left: 0, right: 1, center: 2\r\n  }\r\n\r\n  static readonly _positionToString: string[] = ['above', 'below', 'left', 'right']\r\n\r\n  static get toVexPosition() {\r\n    return [VF.Modifier.Position.ABOVE, VF.Modifier.Position.BELOW, VF.Modifier.Position.LEFT, VF.Modifier.Position.RIGHT];\r\n  }\r\n  static get toVexJustification() {\r\n    return [VF.TextNote.LEFT, VF.TextNote.RIGHT, VF.TextNote.CENTER];\r\n  }\r\n\r\n  toVexJustification() {\r\n    return SmoMeasureText.toVexJustification[this.justification];\r\n  }\r\n  toVexPosition() {\r\n    return SmoMeasureText.toVexPosition[parseInt(this.position as any, 10)];\r\n  }\r\n  static get attributes() {\r\n    return ['position', 'fontInfo', 'text', 'adjustX', 'adjustY', 'justification'];\r\n  }\r\n\r\n  static readonly defaults: SmoMeasureTextParams = {\r\n    position: SmoMeasureText.positions.above,\r\n    fontInfo: {\r\n      size: 9,\r\n      family: 'times',\r\n      style: 'normal',\r\n      weight: 'normal'\r\n    },\r\n    text: 'Smo',\r\n    adjustX: 0,\r\n    adjustY: 0,\r\n    justification: SmoMeasureText.justifications.center\r\n  }\r\n  justification: number = SmoMeasureText.justifications.center;\r\n  position: number = SmoMeasureText.positions.above;\r\n  text: string = '';\r\n  adjustX: number = 0;\r\n  adjustY: number = 0;\r\n  fontInfo: FontInfo = {\r\n    size: 9,\r\n    family: 'times',\r\n    style: 'normal',\r\n    weight: 'normal'\r\n  };\r\n  serialize() {\r\n    var params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoMeasureText.defaults, SmoMeasureText.attributes, this, params);\r\n    params.ctor = 'SmoMeasureText';\r\n    return params;\r\n  }\r\n\r\n  constructor(parameters: SmoMeasureTextParams | null) {\r\n    super('SmoMeasureText');\r\n    let pobj = parameters as any;\r\n    if (pobj === null) {\r\n      pobj = SmoMeasureText.defaults;\r\n    }\r\n    smoSerialize.serializedMerge(SmoMeasureText.attributes, SmoMeasureText.defaults, this);\r\n    smoSerialize.serializedMerge(SmoMeasureText.attributes, pobj, this);\r\n\r\n    // right-justify left text and left-justify right text by default\r\n    if (!pobj.justification) {\r\n      // eslint-disable-next-line\r\n      this.justification = (this.position === SmoMeasureText.positions.left) ? SmoMeasureText.justifications.right :\r\n        (this.position === SmoMeasureText.positions.right ? SmoMeasureText.justifications.left : this.justification);\r\n    }\r\n  }\r\n}\r\n\r\nexport interface SmoRehearsalMarkParams {\r\n  position: number,\r\n  cardinality: string,\r\n  symbol: string,\r\n  increment: boolean\r\n}\r\nexport class SmoRehearsalMark extends SmoMeasureModifierBase {\r\n  static readonly cardinalities: Record<string, string> = {\r\n    capitals: 'capitals', lowerCase: 'lowerCase', numbers: 'numbers'\r\n  }\r\n  static readonly positions: Record<string, number> = {\r\n    above: 0, below: 1, left: 2, right: 3\r\n  }\r\n\r\n  static get _positionToString(): string[] {\r\n    return ['above', 'below', 'left', 'right'];\r\n  }\r\n\r\n  // TODO: positions don't work.\r\n  static get defaults(): SmoRehearsalMarkParams {\r\n    return JSON.parse(JSON.stringify({\r\n      position: SmoRehearsalMark.positions.above,\r\n      cardinality: SmoRehearsalMark.cardinalities.capitals,\r\n      symbol: 'A',\r\n      increment: true\r\n    }));\r\n  }\r\n  static get attributes() {\r\n    return ['cardinality', 'symbol', 'position', 'increment'];\r\n  }\r\n  position: number = SmoRehearsalMark.positions.above;\r\n  cardinality: string = SmoRehearsalMark.cardinalities.capitals;\r\n  symbol: string = 'A';\r\n  increment: boolean = true;\r\n\r\n  getIncrement() {\r\n    if (this.cardinality !== 'number') {\r\n      const code = this.symbol.charCodeAt(0) + 1;\r\n      const symbol = String.fromCharCode(code);\r\n      return symbol;\r\n    } else {\r\n      return (parseInt(this.symbol, 10) + 1).toString();\r\n    }\r\n  }\r\n  getInitial() {\r\n    // eslint-disable-next-line\r\n    return this.cardinality === SmoRehearsalMark.cardinalities.capitals ? 'A' :\r\n      (this.cardinality === SmoRehearsalMark.cardinalities.lowerCase ? 'a' : '1');\r\n  }\r\n  serialize() {\r\n    var params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoRehearsalMark.defaults, SmoRehearsalMark.attributes, this, params);\r\n    params.ctor = 'SmoRehearsalMark';\r\n    return params;\r\n  }\r\n  constructor(parameters: SmoRehearsalMarkParams) {\r\n    super('SmoRehearsalMark');\r\n    let pobj = parameters;\r\n    if (typeof(pobj) === 'undefined' || pobj === null) {\r\n      pobj = SmoRehearsalMark.defaults;\r\n    }\r\n    smoSerialize.serializedMerge(SmoRehearsalMark.attributes, SmoRehearsalMark.defaults, this);\r\n    smoSerialize.serializedMerge(SmoRehearsalMark.attributes, pobj, this);\r\n    if (!pobj.symbol) {\r\n      this.symbol = this.getInitial();\r\n    }\r\n  }\r\n}\r\n\r\nexport interface SmoTempoTextParams {\r\n  tempoMode: string,\r\n  bpm: number,\r\n  beatDuration: number,\r\n  tempoText: string,\r\n  yOffset: number,\r\n  display: boolean,\r\n  customText: string\r\n}\r\n// ### SmoTempoText\r\n// Tempo marking and also the information about the tempo.\r\nexport class SmoTempoText extends SmoMeasureModifierBase implements SmoTempoTextParams {\r\n  static get tempoModes(): Record<string, string> {\r\n    return {\r\n      durationMode: 'duration',\r\n      textMode: 'text',\r\n      customMode: 'custom'\r\n    };\r\n  }\r\n  static get tempoTexts(): Record<string, string> {\r\n    return {\r\n      larghissimo: 'Larghissimo',\r\n      grave: 'Grave',\r\n      lento: 'Lento',\r\n      largo: 'Largo',\r\n      larghetto: 'Larghetto',\r\n      adagio: 'Adagio',\r\n      adagietto: 'Adagietto',\r\n      andante_moderato: 'Andante moderato',\r\n      andante: 'Andante',\r\n      andantino: 'Andantino',\r\n      moderator: 'Moderato',\r\n      allegretto: 'Allegretto',\r\n      allegro: 'Allegro',\r\n      vivace: 'Vivace',\r\n      presto: 'Presto',\r\n      prestissimo: 'Prestissimo'\r\n    };\r\n  }\r\n\r\n  static get defaults(): SmoTempoTextParams {\r\n    return JSON.parse(JSON.stringify({\r\n      tempoMode: SmoTempoText.tempoModes.durationMode,\r\n      bpm: 120,\r\n      beatDuration: 4096,\r\n      tempoText: SmoTempoText.tempoTexts.allegro,\r\n      yOffset: 0,\r\n      display: false,\r\n      customText: ''\r\n    }));\r\n  }\r\n  static get attributes() {\r\n    return ['tempoMode', 'bpm', 'display', 'beatDuration', 'tempoText', 'yOffset', 'customText'];\r\n  }\r\n  tempoMode: string = SmoTempoText.tempoModes.durationMode\r\n  bpm: number = 120;\r\n  beatDuration: number = 4096;\r\n  tempoText: string = 'Allegro';\r\n  yOffset: number = 0;\r\n  display: boolean = false;\r\n  customText: string = '';\r\n\r\n  compare(instance: SmoTempoText) {\r\n    var rv = true;\r\n    SmoTempoText.attributes.forEach((attr) => {\r\n      if ((this as any)[attr] !== (instance as any)[attr]) {\r\n        rv = false;\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  _toVexTextTempo() {\r\n    return { name: this.tempoText };\r\n  }\r\n\r\n  // ### eq\r\n  // Return equality wrt the tempo marking, e.g. 2 allegro in textMode will be equal but\r\n  // an allegro and duration 120bpm will not.\r\n  static eq(t1: SmoTempoText, t2: SmoTempoText) {\r\n    if (t1.tempoMode !== t2.tempoMode) {\r\n      return false;\r\n    }\r\n    if (t1.tempoMode === SmoTempoText.tempoModes.durationMode) {\r\n      return t1.bpm === t2.bpm && t1.beatDuration === t2.beatDuration;\r\n    }\r\n    if (t1.tempoMode === SmoTempoText.tempoModes.textMode) {\r\n      return t1.tempoText === t2.tempoText;\r\n    } else {\r\n      return t1.bpm === t2.bpm && t1.beatDuration === t2.beatDuration &&\r\n        t1.tempoText === t2.tempoText;\r\n    }\r\n  }\r\n\r\n  static get bpmFromText(): Record<string, number> {\r\n    const rv: any = {};\r\n    rv[SmoTempoText.tempoTexts.larghissimo] = 24;\r\n    rv[SmoTempoText.tempoTexts.grave] = 40;\r\n    rv[SmoTempoText.tempoTexts.lento] = 45;\r\n    rv[SmoTempoText.tempoTexts.largo] = 40;\r\n    rv[SmoTempoText.tempoTexts.larghetto] = 60;\r\n    rv[SmoTempoText.tempoTexts.adagio] = 72;\r\n    rv[SmoTempoText.tempoTexts.adagietto] = 72;\r\n    rv[SmoTempoText.tempoTexts.andante_moderato] = 72;\r\n    rv[SmoTempoText.tempoTexts.andante] = 84;\r\n    rv[SmoTempoText.tempoTexts.andantino] = 92;\r\n    rv[SmoTempoText.tempoTexts.moderator] = 96;\r\n    rv[SmoTempoText.tempoTexts.allegretto] = 96;\r\n    rv[SmoTempoText.tempoTexts.allegro] = 120;\r\n    rv[SmoTempoText.tempoTexts.vivace] = 144;\r\n    rv[SmoTempoText.tempoTexts.presto] = 168;\r\n    rv[SmoTempoText.tempoTexts.prestissimo] = 240;\r\n\r\n    return rv as Record<string, number>;\r\n  }\r\n\r\n  _toVexDurationTempo() {\r\n    var vd = smoMusic.ticksToDuration[this.beatDuration];\r\n    var dots = (vd.match(/d/g) || []).length;\r\n    vd = vd.replace(/d/g, '');\r\n    const rv: any = { duration: vd, dots, bpm: this.bpm };\r\n    if (this.customText.length) {\r\n      rv.name = this.customText;\r\n    }\r\n    return rv;\r\n  }\r\n  toVexTempo() {\r\n    if (this.tempoMode === SmoTempoText.tempoModes.durationMode ||\r\n      this.tempoMode === SmoTempoText.tempoModes.customMode) {\r\n      return this._toVexDurationTempo();\r\n    }\r\n    return this._toVexTextTempo();\r\n  }\r\n  serialize() {\r\n    var params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoTempoText.defaults, SmoTempoText.attributes, this, params);\r\n    params.ctor = 'SmoTempoText';\r\n    return params;\r\n  }\r\n  constructor(parameters: SmoTempoTextParams | null) {\r\n    super('SmoTempoText');\r\n    let pobj: any = parameters;\r\n    if (typeof(pobj) === 'undefined' || pobj === null) {\r\n      pobj = {};\r\n    }\r\n    smoSerialize.serializedMerge(SmoTempoText.attributes, SmoTempoText.defaults, this);\r\n    smoSerialize.serializedMerge(SmoTempoText.attributes, pobj, this);\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoNoteModifierBase, SmoArticulation, SmoLyric, SmoGraceNote, SmoMicrotone, SmoOrnament } from './noteModifiers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { Ticks, Pitch, SmoAttrs, FontInfo, Transposable, PitchLetter, SvgBox } from './common';\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface TupletInfo {\r\n  id: string;\r\n}\r\nexport interface SmoNoteParams {\r\n  noteType: string,\r\n  noteHead: string,\r\n  clef: string,\r\n  textModifiers: SmoNoteModifierBase[],\r\n  articulations: SmoArticulation[],\r\n  graceNotes: SmoGraceNote[],\r\n  ornaments: SmoGraceNote[],\r\n  tones: SmoMicrotone[],\r\n  endBeam: boolean,\r\n  fillStyle: string | null,\r\n  hidden: boolean,\r\n  beamBeats: number,\r\n  flagState: number,\r\n  ticks: Ticks,\r\n  pitches: Pitch[],\r\n}\r\n\r\n// ## SmoNote\r\n// ## Description:\r\n// Data for a musical note.  THe most-contained-thing, except there can be note modifiers\r\n// Basic note information.  Leaf node of the SMO dependency tree (so far)\r\n// ## SmoNote Methods\r\n// ---\r\nexport class SmoNote implements Transposable {\r\n  // ### Description:\r\n  // see defaults for params format.\r\n  constructor(params: SmoNoteParams) {\r\n    smoSerialize.serializedMerge(SmoNote.parameterArray, params, this);\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'SmoNote'\r\n    }; // else inherit\r\n  }\r\n  static get flagStates() {\r\n    return { auto: 0, up: 1, down: 2 };\r\n  }\r\n  attrs: SmoAttrs;\r\n  flagState: number = SmoNote.flagStates.auto;\r\n  textModifiers: SmoNoteModifierBase[] = [];\r\n  articulations: SmoArticulation[] = [];\r\n  ornaments: SmoOrnament[] = [];\r\n  pitches: Pitch[] = [];\r\n  noteHead: string = '';\r\n  clef: string = 'treble';\r\n  graceNotes: SmoGraceNote[] = [];\r\n  noteType: string = 'n';\r\n  fillStyle: string = '';\r\n  hidden: boolean = false;\r\n  tuplet: TupletInfo | null = null;\r\n  tones: SmoMicrotone[] = [];\r\n  endBeam: boolean = false;\r\n  ticks: Ticks = { numerator: 4096, denominator: 1, remainder: 0 };\r\n  beamBeats: number = 4096;\r\n  beam_group: SmoAttrs | null = null;\r\n  renderId: string | null = null;\r\n  keySignature: string = 'c';\r\n  logicalBox: SvgBox | null = null;\r\n  renderedBox: SvgBox | null = null;\r\n  accidentalsRendered: string[] = [];// set by renderer if accidental is to display\r\n\r\n  static get parameterArray() {\r\n    return ['ticks', 'pitches', 'noteType', 'tuplet', 'clef',\r\n      'endBeam', 'beamBeats', 'flagState', 'noteHead', 'fillStyle', 'hidden'];\r\n  }\r\n  static get defaults(): SmoNoteParams {\r\n    return JSON.parse(JSON.stringify({\r\n      noteType: 'n',\r\n      noteHead: 'n',\r\n      clef: 'treble',\r\n      textModifiers: [],\r\n      articulations: [],\r\n      graceNotes: [],\r\n      ornaments: [],\r\n      tones: [],\r\n      endBeam: false,\r\n      fillStyle: '',\r\n      hidden: false,\r\n      beamBeats: 4096,\r\n      flagState: SmoNote.flagStates.auto,\r\n      ticks: {\r\n        numerator: 4096,\r\n        denominator: 1,\r\n        remainder: 0\r\n      },\r\n      pitches: [{\r\n        letter: 'b',\r\n        octave: 4,\r\n        accidental: ''\r\n      }],\r\n    }));\r\n  }\r\n  toggleFlagState() {\r\n    this.flagState = (this.flagState + 1) % 3;\r\n  }\r\n\r\n  toVexStemDirection() {\r\n    return (this.flagState === SmoNote.flagStates.up ? VF.Stem.UP : VF.Stem.DOWN);\r\n  }\r\n  get id() {\r\n    return this.attrs.id;\r\n  }\r\n\r\n  get dots() {\r\n    if (this.isTuplet) {\r\n      return 0;\r\n    }\r\n    const vexDuration = smoMusic.ticksToDuration[this.tickCount];\r\n    if (!vexDuration) {\r\n      return 0;\r\n    }\r\n    return vexDuration.split('d').length - 1;\r\n  }\r\n\r\n  // ### _addModifier\r\n  // ### Description\r\n  // add or remove sFz, mp, etc.\r\n  _addModifier(dynamic: SmoNoteModifierBase, toAdd: boolean) {\r\n    var tms = [];\r\n    this.textModifiers.forEach((tm) => {\r\n      if (tm.attrs.type !== dynamic.attrs.type) {\r\n        tms.push(tm);\r\n      }\r\n    });\r\n    if (toAdd) {\r\n      tms.push(dynamic);\r\n    }\r\n    this.textModifiers = tms;\r\n  }\r\n\r\n  _addArticulation(articulation: SmoArticulation, toAdd: boolean) {\r\n    var tms = [];\r\n    this.articulations.forEach((tm) => {\r\n      if (tm.articulation !== articulation.articulation) {\r\n        tms.push(tm);\r\n      }\r\n    });\r\n    if (toAdd) {\r\n      tms.push(articulation);\r\n    }\r\n    this.articulations = tms;\r\n  }\r\n\r\n  addModifier(dynamic: SmoNoteModifierBase) {\r\n    this._addModifier(dynamic, true);\r\n  }\r\n  removeModifier(dynamic: SmoNoteModifierBase) {\r\n    this._addModifier(dynamic, false);\r\n  }\r\n  getModifiers(type: string) {\r\n    var ms = this.textModifiers.filter((mod) =>\r\n      mod.attrs.type === type\r\n    );\r\n    return ms;\r\n  }\r\n\r\n  longestLyric() {\r\n    const tms: SmoNoteModifierBase[] = this.textModifiers.filter((mod: SmoNoteModifierBase) =>\r\n      mod.attrs.type === 'SmoLyric' && (mod as SmoLyric).parser === SmoLyric.parsers.lyric\r\n    );\r\n    if (!tms.length) {\r\n      return null;\r\n    }\r\n    return tms.reduce((m1, m2) =>\r\n      (m1 as SmoLyric).getText().length > (m2 as SmoLyric).getText().length ? m1 : m2\r\n    );\r\n  }\r\n\r\n  addLyric(lyric: SmoLyric) {\r\n    const tms = this.textModifiers.filter((mod: SmoNoteModifierBase) =>\r\n      mod.attrs.type !== 'SmoLyric' || (mod as SmoLyric).parser !== lyric.parser ||\r\n        (mod as SmoLyric).verse !== lyric.verse\r\n    );\r\n    tms.push(lyric);\r\n    this.textModifiers = tms;\r\n  }\r\n\r\n  getTrueLyrics(): SmoLyric[] {\r\n    const ms = this.textModifiers.filter((mod) =>\r\n      mod.attrs.type === 'SmoLyric' && (mod as SmoLyric).parser === SmoLyric.parsers.lyric);\r\n    ms.sort((a, b) => (a as SmoLyric).verse - (b as SmoLyric).verse);\r\n    return (ms as SmoLyric[]);\r\n  }\r\n\r\n  getChords(): SmoLyric[] {\r\n    const ms = this.textModifiers.filter((mod) =>\r\n      mod.attrs.type === 'SmoLyric' && (mod as SmoLyric).parser === SmoLyric.parsers.chord\r\n    );\r\n    return ms as SmoLyric[];\r\n  }\r\n\r\n  removeLyric(lyric: SmoLyric) {\r\n    const tms = this.textModifiers.filter((mod: SmoNoteModifierBase) =>\r\n      mod.attrs.type !== 'SmoLyric' || (mod as SmoLyric).verse !== lyric.verse || (mod as SmoLyric).parser !== lyric.parser\r\n    );\r\n    this.textModifiers = tms;\r\n  }\r\n\r\n  getLyricForVerse(verse: number, parser: number) {\r\n    return this.textModifiers.filter((mod) =>\r\n      mod.attrs.type === 'SmoLyric' && (mod as SmoLyric).parser === parser && (mod as SmoLyric).verse === verse\r\n    );\r\n  }\r\n\r\n  // ### setLyricFont\r\n  // Lyric font is score-wide, so we set all lyrics to the same thing.\r\n  setLyricFont(fontInfo: FontInfo) {\r\n    const lyrics = this.getTrueLyrics();\r\n\r\n    lyrics.forEach((lyric) => {\r\n      lyric.fontInfo = JSON.parse(JSON.stringify(fontInfo));\r\n    });\r\n  }\r\n\r\n  // ### setLyricFont\r\n  // Set whether we ajust note width for lyrics, a scope-wide setting.\r\n  setLyricAdjustWidth(adjustNoteWidth: boolean) {\r\n    const lyrics = this.getTrueLyrics();\r\n    lyrics.forEach((lyric) => {\r\n      lyric.adjustNoteWidth = adjustNoteWidth;\r\n    });\r\n  }\r\n\r\n  setChordAdjustWidth(adjustNoteWidth: boolean) {\r\n    const chords = this.getChords();\r\n    chords.forEach((chord) => {\r\n      chord.adjustNoteWidth = adjustNoteWidth;\r\n    });\r\n  }\r\n\r\n  setChordFont(fontInfo: FontInfo) {\r\n    const chords = this.getChords();\r\n    chords.forEach((chord) => {\r\n      chord.fontInfo = JSON.parse(JSON.stringify(fontInfo));\r\n    });\r\n  }\r\n\r\n  getOrnaments() {\r\n    return this.ornaments.filter((oo) => oo.isJazz() === false);\r\n  }\r\n\r\n  getJazzOrnaments() {\r\n    return this.ornaments.filter((oo) => oo.isJazz());\r\n  }\r\n\r\n  toggleOrnament(ornament: SmoOrnament) {\r\n    const aix = this.ornaments.filter((a) =>\r\n      a.attrs.type === 'SmoOrnament' && a.ornament === ornament.ornament\r\n    );\r\n    if (!aix.length) {\r\n      this.ornaments.push(ornament);\r\n    } else {\r\n      this.ornaments = [];\r\n    }\r\n  }\r\n\r\n  // Toggle between articulation above, below, or remove\r\n  toggleArticulation(articulation: SmoArticulation) {\r\n    var aix = this.articulations.findIndex((a) =>\r\n      a.articulation === articulation.articulation\r\n    );\r\n    if (aix >= 0) {\r\n      const cur = this.articulations[aix];\r\n      if (cur.position === SmoArticulation.positions.above) {\r\n        cur.position = SmoArticulation.positions.below;\r\n        return;\r\n      } else {\r\n        this._addArticulation(articulation, false);\r\n        return;\r\n      }\r\n    }\r\n    this._addArticulation(articulation, true);\r\n  }\r\n\r\n  static _sortPitches(note: Transposable) {\r\n    const canon = VF.Music.canonical_notes;\r\n    const keyIndex = ((pitch: Pitch) =>\r\n      canon.indexOf(pitch.letter) + pitch.octave * 12\r\n    );\r\n    note.pitches.sort((a, b) => keyIndex(a) - keyIndex(b));\r\n  }\r\n  setNoteHead(noteHead: string) {\r\n    if (this.noteHead === noteHead) {\r\n      this.noteHead = '';\r\n    } else {\r\n      this.noteHead = noteHead;\r\n    }\r\n  }\r\n  addGraceNote(graceNote: SmoGraceNote, offset: number) {\r\n    if (typeof(offset) === 'undefined') {\r\n      offset = 0;\r\n    }\r\n    graceNote.clef = this.clef;\r\n    this.graceNotes.push(graceNote);\r\n  }\r\n  removeGraceNote(offset: number) {\r\n    if (offset >= this.graceNotes.length) {\r\n      return;\r\n    }\r\n    this.graceNotes.splice(offset, 1);\r\n  }\r\n  getGraceNotes() {\r\n    return this.graceNotes;\r\n  }\r\n  static addPitchOffset(note: Transposable, offset: number) {\r\n    if (note.pitches.length === 0) {\r\n      return;\r\n    }\r\n    note.noteType = 'n';\r\n    const pitch = note.pitches[0];\r\n    note.pitches.push(smoMusic.getKeyOffset(pitch, offset));\r\n    SmoNote._sortPitches(note);\r\n  }\r\n  addPitchOffset(offset: number) {\r\n    if (this.pitches.length === 0) {\r\n      return;\r\n    }\r\n    this.noteType = 'n';\r\n    const pitch = this.pitches[0];\r\n    this.pitches.push(smoMusic.getKeyOffset(pitch, offset));\r\n    SmoNote._sortPitches(this);\r\n  }\r\n  toggleRest() {\r\n    this.noteType = (this.noteType === 'r' ? 'n' : 'r');\r\n  }\r\n  toggleSlash() {\r\n    this.noteType = (this.noteType === '/' ? 'n' : '/');\r\n  }\r\n  makeSlash() {\r\n    this.noteType = '/';\r\n  }\r\n  makeRest() {\r\n    this.noteType = 'r';\r\n  }\r\n  isRest() {\r\n    return this.noteType === 'r';\r\n  }\r\n  isSlash() {\r\n    return this.noteType === '/';\r\n  }\r\n\r\n  makeNote() {\r\n    this.noteType = 'n';\r\n    // clear fill style if we were hiding rests\r\n    this.fillStyle = '';\r\n    this.hidden = false;\r\n  }\r\n  makeHidden(val: boolean) {\r\n    this.hidden = val;\r\n    this.fillStyle = val ? '#aaaaaa7f' : '';\r\n  }\r\n\r\n  get isTuplet(): boolean {\r\n    return this.tuplet !== null && this.tuplet.id !== null;\r\n  }\r\n\r\n  addMicrotone(tone: SmoMicrotone) {\r\n    const ar = this.tones.filter((tn: SmoMicrotone) => tn.pitch !== tone.pitch);\r\n    ar.push(tone);\r\n    this.tones = ar;\r\n  }\r\n  removeMicrotone(tone: SmoMicrotone) {\r\n    const ar = this.tones.filter((tn) => tn.pitch !== tone.pitch\r\n      && tone.tone !== tn.tone);\r\n    this.tones = ar;\r\n  }\r\n\r\n  getMicrotones() {\r\n    return this.tones;\r\n  }\r\n  static toggleEnharmonic(pitch: Pitch) {\r\n    const lastLetter = pitch.letter;\r\n    let vexPitch = smoMusic.stripVexOctave(smoMusic.pitchToVexKey(pitch));\r\n    vexPitch = smoMusic.getEnharmonic(vexPitch);\r\n\r\n    pitch.letter = vexPitch[0] as PitchLetter;\r\n    pitch.accidental = vexPitch.length > 1 ?\r\n      vexPitch.substring(1, vexPitch.length) : 'n';\r\n    pitch.octave += smoMusic.letterChangedOctave(lastLetter, pitch.letter);\r\n    return pitch;\r\n  }\r\n\r\n  transpose(pitchArray: number[], offset: number, keySignature: string) {\r\n    return SmoNote._transpose(this, pitchArray, offset, keySignature);\r\n  }\r\n  // ### addPitch\r\n  // used to add chord and pitch by piano widget\r\n  toggleAddPitch(pitch: Pitch) {\r\n    const pitches: Pitch[] = [];\r\n    let exists = false;\r\n    this.pitches.forEach((o) => {\r\n      if (o.letter !== pitch.letter ||\r\n        o.octave !== pitch.octave ||\r\n        o.accidental !== pitch.accidental) {\r\n        pitches.push(o);\r\n      } else {\r\n        exists = true;\r\n      }\r\n    });\r\n    this.pitches = pitches;\r\n    if (!exists) {\r\n      this.pitches.push(JSON.parse(JSON.stringify(pitch)));\r\n      this.noteType = 'n';\r\n    }\r\n    SmoNote._sortPitches(this);\r\n  }\r\n  static _transpose(note: Transposable, pitchArray:number[], offset: number, keySignature: string) {\r\n    let index: number = 0;\r\n    let j: number = 0;\r\n    let letterKey: string = 'a';\r\n    note.noteType = 'n';\r\n    if (pitchArray.length === 0) {\r\n      note.pitches.forEach((m) => {\r\n        pitchArray.push(note.pitches.indexOf(m));\r\n      });\r\n    }\r\n    for (j = 0; j < pitchArray.length; ++j) {\r\n      index = pitchArray[j];\r\n      if (index + 1 > note.pitches.length) {\r\n        SmoNote.addPitchOffset(note, offset);\r\n      } else {\r\n        const pitch = smoMusic.getKeyOffset(note.pitches[index], offset);\r\n        if (keySignature) {\r\n          letterKey = pitch.letter + pitch.accidental;\r\n          letterKey = smoMusic.getKeyFriendlyEnharmonic(letterKey, keySignature);\r\n          pitch.letter = letterKey[0] as PitchLetter;\r\n          if (letterKey.length < 2) {\r\n            pitch.accidental = 'n';\r\n          } else {\r\n            pitch.accidental = letterKey.substring(1);\r\n          }\r\n        }\r\n        note.pitches[index] = pitch;\r\n      }\r\n    }\r\n    SmoNote._sortPitches(note);\r\n    return note;\r\n  }\r\n  get tickCount() {\r\n    return this.ticks.numerator / this.ticks.denominator + this.ticks.remainder;\r\n  }\r\n\r\n  static clone(note: SmoNote) {\r\n    var rv = SmoNote.deserialize(note.serialize());\r\n\r\n    // make sure id is unique\r\n    rv.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'SmoNote'\r\n    };\r\n    return rv;\r\n  }\r\n\r\n  // ## Description:\r\n  // Clone the note, but use the different duration.  Changes the length\r\n  // of the note but nothing else.\r\n  static cloneWithDuration(note: SmoNote, ticks: Ticks | number) {\r\n    if (typeof(ticks) === 'number') {\r\n      ticks = { numerator: ticks, denominator: 1, remainder: 0 };\r\n    }\r\n    const rv = SmoNote.clone(note);\r\n    rv.ticks = ticks;\r\n    return rv;\r\n  }\r\n  static serializeModifier(modifiers: SmoNoteModifierBase[]) : object[] {\r\n    const rv: object[] = [];\r\n    modifiers.forEach((modifier: SmoNoteModifierBase) => {\r\n      rv.push(modifier.serialize());\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  _serializeModifiers(params: any) {\r\n    params.textModifiers = SmoNote.serializeModifier(this.textModifiers);\r\n    params.graceNotes = SmoNote.serializeModifier(this.graceNotes);\r\n    params.articulations = SmoNote.serializeModifier(this.articulations);\r\n    params.ornaments = SmoNote.serializeModifier(this.ornaments);\r\n    params.tones = SmoNote.serializeModifier(this.tones);\r\n  }\r\n  serialize() {\r\n    var params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoNote.defaults, SmoNote.parameterArray, this, params);\r\n    if (params.ticks) {\r\n      params.ticks = JSON.parse(JSON.stringify(params.ticks));\r\n    }\r\n    this._serializeModifiers(params);\r\n    return params;\r\n  }\r\n\r\n  static deserialize(jsonObj: any) {\r\n    var note = new SmoNote(jsonObj);\r\n    if (jsonObj.textModifiers) {\r\n      jsonObj.textModifiers.forEach((mod: any) => {\r\n        note.textModifiers.push(SmoNoteModifierBase.deserialize(mod));\r\n      });\r\n    }\r\n    if (jsonObj.graceNotes) {\r\n      jsonObj.graceNotes.forEach((mod: any) => {\r\n        note.graceNotes.push(SmoNoteModifierBase.deserialize(mod));\r\n      });\r\n    }\r\n    if (jsonObj.ornaments) {\r\n      jsonObj.ornaments.forEach((mod: any) => {\r\n        note.ornaments.push(SmoNoteModifierBase.deserialize(mod));\r\n      });\r\n    }\r\n    if (jsonObj.articulations) {\r\n      jsonObj.articulations.forEach((mod: any) => {\r\n        note.articulations.push(SmoNoteModifierBase.deserialize(mod));\r\n      });\r\n    }\r\n    if (jsonObj.tones) {\r\n      jsonObj.tones.forEach((mod: any) => {\r\n        note.tones.push(SmoNoteModifierBase.deserialize(mod));\r\n      });\r\n    }\r\n    // Due to a bug, text modifiers were serialized into noteModifiers array\r\n    if (jsonObj.noteModifiers) {\r\n      jsonObj.noteModifiers.forEach((mod: any) => {\r\n        note.textModifiers.push(SmoNoteModifierBase.deserialize(mod));\r\n      });\r\n    }\r\n    return note;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoAttrs, Ticks, Pitch, FontInfo, SmoObjectParams, Transposable, SvgBox, SmoModifierBase } from './common';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoSelector } from '../xform/selections';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\n\r\nconst VF = eval('Vex.Flow');\r\n// const Smo = eval('globalThis.Smo');\r\n\r\n// ## SmoNoteModifierBase\r\n// A note modifier is anything that is mapped to the note, but not part of the\r\n// pitch itself.  This includes grace notes, and note-text like lyrics\r\nexport abstract class SmoNoteModifierBase implements SmoModifierBase {\r\n  attrs: SmoAttrs;\r\n  ctor: string;\r\n  renderedBox: SvgBox | null = null;\r\n  logicalBox: SvgBox | null = null;\r\n  constructor(ctor: string) {\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: ctor\r\n    };\r\n    this.ctor = ctor;\r\n  }\r\n  static deserialize(jsonObj: SmoObjectParams) {\r\n    const ctor = eval('globalThis.Smo.' + jsonObj.ctor);\r\n    if (typeof (ctor) === 'undefined') {\r\n      console.log('ouch bad ctor for ' + jsonObj.ctor);\r\n    }\r\n    const rv = new ctor(jsonObj);\r\n    return rv;\r\n  }\r\n  abstract serialize(): any;\r\n}\r\n\r\nexport interface GraceNoteParams extends SmoModifierBase {\r\n  ctor: string,\r\n  flagState: number,\r\n  noteType: string,\r\n  beamBeats: number,\r\n  endBeam: boolean,\r\n  clef: string,\r\n  slash: boolean,\r\n  ticks: Ticks,\r\n  pitches: Pitch[],\r\n}\r\n\r\nexport class SmoGraceNote extends SmoNoteModifierBase implements Transposable {\r\n  static get flagStates() {\r\n    return { auto: 0, up: 1, down: 2 };\r\n  }\r\n  static get defaults(): GraceNoteParams {\r\n    return JSON.parse(JSON.stringify({\r\n      ctor: 'SmoGraceNote',\r\n      flagState: SmoGraceNote.flagStates.auto,\r\n      noteType: 'n',\r\n      beamBeats: 4096,\r\n      endBeam: false,\r\n      clef: 'treble',\r\n      slash: false,\r\n      ticks: {\r\n        numerator: 4096,\r\n        denominator: 1,\r\n        remainder: 0\r\n      },\r\n      pitches: [{\r\n        letter: 'b',\r\n        octave: 4,\r\n        accidental: ''\r\n      }]\r\n    }));\r\n  }\r\n  // TODO: Matches SmoNote - move to smoMusic?\r\n  static get parameterArray() {\r\n    const rv: string[] = [];\r\n    // eslint-disable-next-line\r\n    for (const key in SmoGraceNote.defaults) {\r\n      rv.push(key);\r\n    }\r\n    return rv;\r\n  }\r\n  ticks: Ticks = SmoGraceNote.defaults.ticks;\r\n  pitches: Pitch[] = [];\r\n  slash: boolean = false;\r\n  clef: string = 'treble';\r\n  noteType: string = 'n';\r\n  renderId: string | null = null;\r\n\r\n  tickCount() {\r\n    return this.ticks.numerator / this.ticks.denominator + this.ticks.remainder;\r\n  }\r\n\r\n  toVexGraceNote() {\r\n    const p = smoMusic.smoPitchesToVex(this.pitches);\r\n    const rv = { duration: smoMusic.closestVexDuration(this.tickCount()), keys: p, slash: this.slash };\r\n    return rv;\r\n  }\r\n\r\n  serialize() {\r\n    const params = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoGraceNote.defaults,\r\n      SmoGraceNote.parameterArray, this, params);\r\n    return params;\r\n  }\r\n\r\n  constructor(parameters: Partial<GraceNoteParams>) {\r\n    super('SmoGraceNote');\r\n    smoSerialize.serializedMerge(SmoGraceNote.parameterArray, SmoGraceNote.defaults, this);\r\n    smoSerialize.serializedMerge(SmoGraceNote.parameterArray, parameters, this);\r\n  }\r\n}\r\n\r\nexport interface SmoMicrotoneParams extends SmoObjectParams {\r\n  tone: string,\r\n  pitch: Pitch\r\n}\r\n// ## SmoMicrotone\r\n// Microtones are treated similarly to ornaments at this time.  There are not\r\n// rules for persisting throughout a measure.\r\nexport class SmoMicrotone extends SmoNoteModifierBase {\r\n  tone: number = SmoMicrotone.pitchCoeff.flat125ar;\r\n  pitch: Pitch = { letter: 'c', octave: 4, accidental: 'n' };\r\n\r\n  // This is how VexFlow notates them\r\n  static readonly smoToVex: Record<string, string> = {\r\n    flat75sz: 'db',\r\n    flat25sz: 'd',\r\n    flat25ar: 'bs',\r\n    flat125ar: 'afhf',\r\n    sharp75: '++',\r\n    sharp125: 'ashs',\r\n    sharp25: '+',\r\n    sori: 'o',\r\n    koron: 'k'\r\n  }\r\n\r\n  // The audio frequency offsets\r\n  static readonly pitchCoeff: Record<string, number> = {\r\n    flat75sz: -1.5,\r\n    flat25sz: -0.5,\r\n    flat25ar: -0.5,\r\n    flat125ar: -2.5,\r\n    sharp75: 1.5,\r\n    sharp125: 2.5,\r\n    sharp25: 0.5,\r\n    sori: 0.5,\r\n    koron: -0.5\r\n  }\r\n\r\n  get toPitchCoeff(): number {\r\n    return SmoMicrotone.pitchCoeff[this.tone];\r\n  }\r\n\r\n  get toVex(): string {\r\n    return SmoMicrotone.smoToVex[this.tone];\r\n  }\r\n  static readonly defaults: SmoMicrotoneParams = {\r\n    ctor: 'SmoMicrotone',\r\n    tone: 'flat25sz',\r\n    pitch: { letter: 'c', octave: 4, accidental: 'n' }\r\n  }\r\n  static get parameterArray() {\r\n    const rv: string[] = [];\r\n    // eslint-disable-next-line\r\n    for (const key in SmoMicrotone.defaults) {\r\n      rv.push(key);\r\n    }\r\n    return rv;\r\n  }\r\n  serialize(): object {\r\n    var params = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoMicrotone.defaults,\r\n      SmoMicrotone.parameterArray, this, params);\r\n    return params;\r\n  }\r\n  constructor(parameters: SmoMicrotoneParams) {\r\n    super(parameters.ctor);\r\n    smoSerialize.serializedMerge(SmoMicrotone.parameterArray, SmoMicrotone.defaults, this);\r\n    smoSerialize.serializedMerge(SmoMicrotone.parameterArray, parameters, this);\r\n  }\r\n}\r\n\r\nexport interface SmoOrnamentParams extends SmoObjectParams {\r\n  ctor: string,\r\n  position?: string,\r\n  offset?: string,\r\n  ornament: string,\r\n}\r\n// ## SmoOrnament\r\n// Maps to a vexflow ornament like trill etc.\r\nexport class SmoOrnament extends SmoNoteModifierBase {\r\n  static readonly ornaments: Record<string, string> = {\r\n    mordent: 'mordent',\r\n    mordentInverted: 'mordent_inverted',\r\n    turn: 'turn',\r\n    turnInverted: 'turn_inverted',\r\n    trill: 'tr',\r\n    upprail: 'upprail',\r\n    prailup: 'prailup',\r\n    praildown: 'praildown',\r\n    upmordent: 'upmordent',\r\n    downmordent: 'downmordent',\r\n    lineprail: 'linepraile',\r\n    prailprail: 'prailprail',\r\n    scoop: 'scoop',\r\n    fall_short: 'fall',\r\n    dropLong: 'fallLong',\r\n    doit: 'doit',\r\n    doitLong: 'doitLong',\r\n    flip: 'flip',\r\n    smear: 'smear'\r\n  }\r\n  static get jazzOrnaments(): string[] {\r\n    return ['SCOOP', 'FALL_SHORT', 'FALL_LONG', 'DOIT', 'LIFT', 'FLIP', 'SMEAR'];\r\n  }\r\n  toVex() {\r\n    return SmoOrnament.ornaments[this.ornament.toLowerCase()];\r\n  }\r\n\r\n  isJazz() {\r\n    return SmoOrnament.jazzOrnaments.indexOf(this.ornament) >= 0;\r\n  }\r\n  position: string = SmoOrnament.positions.above;\r\n  offset: string = 'on';\r\n  ornament: string = SmoOrnament.ornaments.mordent;\r\n\r\n  static get parameterArray() {\r\n    const rv: string[] = [];\r\n    // eslint-disable-next-line\r\n    for (const key in SmoOrnament.defaults) {\r\n      rv.push(key);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  static get positions() {\r\n    return {\r\n      above: 'above',\r\n      below: 'below'\r\n    };\r\n  }\r\n  static get offsets() {\r\n    return {\r\n      on: 'on',\r\n      after: 'after'\r\n    };\r\n  }\r\n  static get defaults(): SmoOrnamentParams {\r\n    return JSON.parse(JSON.stringify({\r\n      ctor: 'SmoOrnament',\r\n      ornament: SmoOrnament.ornaments.mordent,\r\n      position: SmoOrnament.positions.above,\r\n      offset: SmoOrnament.offsets.on\r\n    }));\r\n  }\r\n  serialize(): object {\r\n    var params = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoOrnament.defaults,\r\n      SmoOrnament.parameterArray, this, params);\r\n    return params;\r\n  }\r\n  constructor(parameters: SmoOrnamentParams) {\r\n    super('SmoOrnament');\r\n    smoSerialize.serializedMerge(SmoOrnament.parameterArray, SmoOrnament.defaults, this);\r\n    smoSerialize.serializedMerge(SmoOrnament.parameterArray, parameters, this);\r\n    // this.selector = parameters.selector;\r\n  }\r\n}\r\n\r\nexport interface SmoArticulationParameters extends SmoObjectParams {\r\n  ctor: string,\r\n  position?: string,\r\n  offset?: number,\r\n  articulation: string,\r\n  selector?: SmoSelector\r\n}\r\nexport class SmoArticulation extends SmoNoteModifierBase {\r\n  static get articulations() {\r\n    return {\r\n      accent: 'accent',\r\n      staccato: 'staccato',\r\n      marcato: 'marcato',\r\n      tenuto: 'tenuto',\r\n      upStroke: 'upStroke',\r\n      downStroke: 'downStroke',\r\n      pizzicato: 'pizzicato',\r\n      fermata: 'fermata'\r\n    };\r\n  }\r\n  static get positions() {\r\n    return {\r\n      above: 'above',\r\n      below: 'below'\r\n    };\r\n  }\r\n  static get articulationToVex(): Record<string, string> {\r\n    return {\r\n      accent: 'a>',\r\n      staccato: 'a.',\r\n      marcato: 'a^',\r\n      tenuto: 'a-',\r\n      upStroke: 'a|',\r\n      downStroke: 'am',\r\n      pizzicato: 'ao',\r\n      fermata: 'a@a'\r\n    };\r\n  }\r\n\r\n  static get vexToArticulation(): Record<string, string> {\r\n    return {\r\n      'a>': 'accent',\r\n      'a.': 'staccato',\r\n      'a^': 'marcato',\r\n      'a-': 'tenuto',\r\n      'a|': 'upStroke',\r\n      'am': 'downStroke',\r\n      'ao': 'pizzicato',\r\n      'a@a': 'fermata'\r\n    };\r\n  }\r\n  static get parameterArray(): string[] {\r\n    const rv: string[] = [];\r\n    // eslint-disable-next-line\r\n    for (const key in SmoArticulation.defaults) {\r\n      rv.push(key);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  static get positionToVex(): Record<string, number> {\r\n    return {\r\n      'above': 3,\r\n      'below': 4\r\n    };\r\n  }\r\n  static get defaults(): SmoArticulationParameters {\r\n    return JSON.parse(JSON.stringify({\r\n      ctor: 'SmoArticulation',\r\n      position: SmoArticulation.positions.above,\r\n      articulation: SmoArticulation.articulations.accent\r\n    }));\r\n  }\r\n  position: string = SmoOrnament.positions.above;\r\n  offset: number = 0;\r\n  articulation: string = SmoArticulation.articulations.accent;\r\n  adjX: number = 0;\r\n\r\n  serialize(): object {\r\n    var params = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoArticulation.defaults,\r\n      SmoArticulation.parameterArray, this, params);\r\n    return params;\r\n  }\r\n  constructor(parameters: SmoArticulationParameters) {\r\n    super('SmoArticulation');\r\n    smoSerialize.serializedMerge(SmoArticulation.parameterArray, SmoArticulation.defaults, this);\r\n    smoSerialize.serializedMerge(SmoArticulation.parameterArray, parameters, this);\r\n    // this.selector = parameters.selector;\r\n  }\r\n}\r\n\r\nexport interface VexAnnotationParams {\r\n  glyph?: string,\r\n  symbolModifier?: string,\r\n  symbolType: number,\r\n  text?: string\r\n}\r\n\r\nexport interface SmoLyricPersist extends SmoObjectParams {\r\n  ctor: string,\r\n  endChar: string,\r\n  fontInfo: FontInfo,\r\n  classes: string,\r\n  verse: number,\r\n  parser: number,\r\n  adjustNoteWidthLyric: boolean,\r\n  adjustNoteWidthChord: boolean,\r\n  fill: string,\r\n  scaleX: number,\r\n  scaleY: number,\r\n  translateX: number,\r\n  translateY: number,\r\n  _text: string | null\r\n}\r\n\r\nexport interface SmoLyricParams extends SmoLyricPersist {\r\n  ctor: string,\r\n  endChar: string,\r\n  fontInfo: FontInfo,\r\n  classes: string,\r\n  verse: number,\r\n  parser: number,\r\n  adjustNoteWidthLyric: boolean,\r\n  adjustNoteWidthChord: boolean,\r\n  fill: string,\r\n  scaleX: number,\r\n  scaleY: number,\r\n  translateX: number,\r\n  translateY: number,\r\n  text: string,\r\n  _text: string | null,\r\n  selector?: SmoSelector\r\n}\r\n\r\n// ## SmoLyric\r\n// Lyrics and Chords are both notated represented by\r\n// instances of this class.  The parser enum says\r\n// which is which\r\nexport class SmoLyric extends SmoNoteModifierBase {\r\n  static readonly parsers: Record<string, number> = {\r\n    lyric: 0, anaylysis: 1, chord: 2\r\n  }\r\n  static get defaults(): SmoLyricParams {\r\n    return JSON.parse(JSON.stringify({\r\n      ctor: 'SmoLyric',\r\n      _text: '\\xa0',\r\n      endChar: '',\r\n      verse: 0,\r\n      fontInfo: {\r\n        size: 12,\r\n        family: 'times',\r\n        style: 'normal',\r\n        weight: 'normal'\r\n      },\r\n      fill: 'black',\r\n      classes: 'score-text',\r\n      scaleX: 1.0,\r\n      scaleY: 1.0,\r\n      translateX: 0,\r\n      translateY: 0,\r\n      adjustNoteWidthLyric: true,\r\n      adjustNoteWidthChord: false,\r\n      parser: SmoLyric.parsers.lyric\r\n    }));\r\n  }\r\n  static get symbolPosition() {\r\n    return {\r\n      SUPERSCRIPT: 1,\r\n      SUBSCRIPT: 2,\r\n      NORMAL: 3\r\n    };\r\n  }\r\n\r\n  static toVexPosition(chordPos: number) {\r\n    if (chordPos === SmoLyric.symbolPosition.NORMAL) {\r\n      return VF.ChordSymbol.symbolModifiers.NONE;\r\n    } else if (chordPos === SmoLyric.symbolPosition.SUPERSCRIPT) {\r\n      return VF.ChordSymbol.symbolModifiers.SUPERSCRIPT;\r\n    }\r\n    return VF.ChordSymbol.symbolModifiers.SUBSCRIPT;\r\n  }\r\n\r\n  static get persistArray(): string[] {\r\n    const rv: string[] = [];\r\n    // eslint-disable-next-line\r\n    for (const key in SmoLyric.defaults) {\r\n      rv.push(key);\r\n    }\r\n    return rv;\r\n  }\r\n  static get parameterArray(): string[] {\r\n    const rv = SmoLyric.persistArray;\r\n    rv.push('selector', 'text');\r\n    return rv;\r\n  }\r\n\r\n  ctor: string = 'SmoLyric';\r\n  _text: string = '';\r\n  endChar: string = '';\r\n  fontInfo: FontInfo = {\r\n    size: 12,\r\n    family: 'Merriweather',\r\n    style: 'normal',\r\n    weight: 'normal'\r\n  };\r\n  parser: number = SmoLyric.parsers.lyric;\r\n  selector: string | null = null; // used by UI\r\n  adjustNoteWidthLyric: boolean = true;\r\n  adjustNoteWidthChord: boolean = false;\r\n  verse: number = 0;\r\n  skipRender: boolean = false;\r\n  fill: string = '';\r\n  scaleX: number = 1.0;\r\n  scaleY: number = 1.0;\r\n  translateX: number = 0;\r\n  translateY: number = 0;\r\n  classes: string = '';\r\n  adjX: number = 0;\r\n  adjY: number = 0;\r\n  hyphenX: number = 0;\r\n  deleted: boolean = false;\r\n\r\n  serialize(): object {\r\n    var params = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoLyric.defaults,\r\n      SmoLyric.persistArray, this, params);\r\n    return params;\r\n  }\r\n\r\n  // For lyrics, we default to adjust note width on lyric size.  For chords, this is almost never what\r\n  // you want, so it is off by default.\r\n  get adjustNoteWidth() {\r\n    return (this.parser === SmoLyric.parsers.lyric) ? this.adjustNoteWidthLyric : this.adjustNoteWidthChord;\r\n  }\r\n  set adjustNoteWidth(val) {\r\n    if (this.parser === SmoLyric.parsers.lyric) {\r\n      this.adjustNoteWidthLyric = val;\r\n    } else {\r\n      this.adjustNoteWidthChord = val;\r\n    }\r\n  }\r\n\r\n  // ### getClassSelector\r\n  // returns a selector used to find this text block within a note.\r\n  getClassSelector(): string {\r\n    var parser = (this.parser === SmoLyric.parsers.lyric ? 'lyric' : 'chord');\r\n    return 'g.' + parser + '-' + this.verse;\r\n  }\r\n\r\n  setText(text: string) {\r\n    // For chords, trim all whitespace\r\n    if (this.parser !== SmoLyric.parsers.lyric) {\r\n      if (text.trim().length) {\r\n        text.replace(/\\s/g, '');\r\n      }\r\n    }\r\n    this._text = text;\r\n  }\r\n\r\n  isHyphenated() {\r\n    const text = this._text.trim();\r\n    return this.parser === SmoLyric.parsers.lyric &&\r\n      text.length &&\r\n      text[text.length - 1] === '-';\r\n  }\r\n\r\n  getText() {\r\n    const text = this._text.trim();\r\n    if (this.isHyphenated()) {\r\n      return smoSerialize.tryParseUnicode(text.substr(0, text.length - 1)).trim();\r\n    }\r\n    return smoSerialize.tryParseUnicode(text);\r\n  }\r\n\r\n  isDash() {\r\n    return this.getText().length === 0 && this.isHyphenated();\r\n  }\r\n\r\n  static _chordGlyphFromCode(code: string) {\r\n    const obj = Object.keys(VF.ChordSymbol.glyphs).find((glyph) => VF.ChordSymbol.glyphs[glyph].code === code);\r\n    return obj;\r\n  }\r\n  static _tokenizeChordString(str: string) {\r\n    // var str = this._text;\r\n    const reg = /^([A-Z|a-z|0-9|]+)/g;\r\n    let mmm = str.match(reg);\r\n    let tokeType = '';\r\n    let toke = '';\r\n    const tokens = [];\r\n    while (str.length) {\r\n      if (!mmm) {\r\n        tokeType = str[0];\r\n        tokens.push(tokeType);\r\n        str = str.slice(1, str.length);\r\n      } else {\r\n        toke = mmm[0].substr(0, mmm[0].length);\r\n        str = str.slice(toke.length, str.length);\r\n        tokens.push(toke);\r\n        tokeType = '';\r\n        toke = '';\r\n      }\r\n      mmm = str.match(reg);\r\n    }\r\n    return tokens;\r\n  }\r\n\r\n  getVexChordBlocks() {\r\n    let mod = VF.ChordSymbol.symbolModifiers.NONE;\r\n    let isGlyph = false;\r\n    const tokens = SmoLyric._tokenizeChordString(this._text);\r\n    const blocks: VexAnnotationParams[] = [];\r\n    tokens.forEach((token) => {\r\n      if (token === '^') {\r\n        mod = (mod === VF.ChordSymbol.symbolModifiers.SUPERSCRIPT) ?\r\n          VF.ChordSymbol.symbolModifiers.NONE : VF.ChordSymbol.symbolModifiers.SUPERSCRIPT;\r\n      } else if (token === '%') {\r\n        mod = (mod === VF.ChordSymbol.symbolModifiers.SUBSCRIPT) ?\r\n          VF.ChordSymbol.symbolModifiers.NONE : VF.ChordSymbol.symbolModifiers.SUBSCRIPT;\r\n      } else if (token === '@') {\r\n        isGlyph = !isGlyph;\r\n      } else if (token.length) {\r\n        if (isGlyph) {\r\n          const glyph = SmoLyric._chordGlyphFromCode(token);\r\n          blocks.push({\r\n            glyph, symbolModifier: mod,\r\n            symbolType: VF.ChordSymbol.symbolTypes.GLYPH\r\n          });\r\n        } else {\r\n          blocks.push({\r\n            text: token, symbolModifier: mod,\r\n            symbolType: VF.ChordSymbol.symbolTypes.TEXT\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return blocks;\r\n  }\r\n\r\n  constructor(parameters: SmoLyricParams) {\r\n    super('SmoLyric');\r\n    smoSerialize.serializedMerge(SmoLyric.parameterArray, SmoLyric.defaults, this);\r\n    smoSerialize.serializedMerge(SmoLyric.parameterArray, parameters, this);\r\n    // backwards-compatibility for lyric text\r\n    if (parameters.text) {\r\n      this._text = parameters.text;\r\n    }\r\n\r\n    // Return these for the text editor that expects them.\r\n    // this.translateX = this.translateY = 0;\r\n    this.scaleX = this.scaleY = 1.0;\r\n\r\n    // calculated adjustments for alignment purposes\r\n    this.adjY = 0;\r\n    this.adjX = 0;\r\n    // this.verse = parseInt(this.verse, 10);\r\n\r\n    if (!this.attrs) {\r\n      this.attrs = {\r\n        id: VF.Element.newID(),\r\n        type: parameters.ctor\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\nexport interface SmoDynamicTextPersist extends SmoObjectParams {\r\n  ctor: string,\r\n  xOffset: number,\r\n  fontSize: number,\r\n  yOffsetLine: number,\r\n  yOffsetPixels: number,\r\n  text: string\r\n}\r\nexport interface SmoDynamicTextParams extends SmoDynamicTextPersist {\r\n  ctor: string,\r\n  xOffset: number,\r\n  fontSize: number,\r\n  yOffsetLine: number,\r\n  yOffsetPixels: number,\r\n  text: string,\r\n  selector: SmoSelector\r\n}\r\n\r\n// ## SmoDynamicText\r\n// ## Description:\r\n// standard dynamics text\r\nexport class SmoDynamicText extends SmoNoteModifierBase {\r\n  static get dynamics(): Record<string, string> {\r\n    // matches VF.modifier\r\n    return {\r\n      PP: 'pp',\r\n      P: 'p',\r\n      MP: 'mp',\r\n      MF: 'mf',\r\n      F: 'f',\r\n      FF: 'ff',\r\n      SFZ: 'sfz'\r\n    };\r\n  }\r\n  static get defaults(): SmoDynamicTextParams {\r\n    return JSON.parse(JSON.stringify({\r\n      ctor: 'SmoDynamicText',\r\n      xOffset: 0,\r\n      fontSize: 38,\r\n      yOffsetLine: 11,\r\n      yOffsetPixels: 0,\r\n      text: SmoDynamicText.dynamics.MP,\r\n    }));\r\n  }\r\n  static get persistArray(): string[] {\r\n    const rv: string[] = [];\r\n    // eslint-disable-next-line\r\n    for (const key in SmoDynamicText.defaults) {\r\n      rv.push(key);\r\n    }\r\n    return rv;\r\n  }\r\n  static get parameterArray(): string[] {\r\n    const rv = SmoDynamicText.persistArray;\r\n    rv.push('selector');\r\n    return rv;\r\n  }\r\n  selector: SmoSelector;\r\n  text: string = '';\r\n  yOffsetLine: number = 11;\r\n  yOffsetPixels: number = 0;\r\n  xOffset: number = 0;\r\n  fontSize: number = 38;\r\n  serialize(): object {\r\n    var params = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoDynamicText.defaults,\r\n      SmoDynamicText.persistArray, this, params);\r\n    return params;\r\n  }\r\n  constructor(parameters: SmoDynamicTextParams) {\r\n    super('SmoDynamicText');\r\n    Vex.Merge(this, SmoDynamicText.defaults);\r\n    smoSerialize.filteredMerge(SmoDynamicText.parameterArray, parameters, this);\r\n    this.selector = parameters.selector;\r\n\r\n    if (!this.attrs) {\r\n      this.attrs = {\r\n        id: VF.Element.newID(),\r\n        type: 'SmoDynamicText'\r\n      };\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoSystemGroup, SmoTextGroup, SmoScoreModifierBase, SmoPageLayout, SmoLayoutManager, SmoFormattingManager } from './scoreModifiers';\r\nimport { SmoSystemStaff, SmoSystemStaffParams } from './systemStaff';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoMeasure, SmoMeasureParams } from './measure';\r\nimport { SmoMeasureFormat, SmoMeasureModifierBase } from './measureModifiers';\r\nimport { SmoSelector, SmoSelection } from '../xform/selections';\r\nimport { Clef, FontInfo } from './common';\r\nimport { SmoNoteModifierBase } from './noteModifiers';\r\nimport { StaffModifierBase } from './staffModifiers';\r\n\r\nexport interface FontPurpose {\r\n  name: string,\r\n  purpose: number,\r\n  family: string,\r\n  size: number,\r\n  custom: boolean\r\n}\r\nexport class SmoScoreInfo {\r\n  name: string = 'Smoosical'; // deprecated\r\n  title: string = 'Smoosical';\r\n  subTitle: string = '(Op. 1)';\r\n  composer: string = 'Me';\r\n  copyright: string = '';\r\n  version: number = 1;\r\n}\r\nexport class SmoScorePreferences {\r\n  autoPlay: boolean = true;\r\n  autoAdvance: boolean = true;\r\n  defaultDupleDuration: number = 4096;\r\n  defaultTripleDuration: number = 6144;\r\n  customProportion: number = 100;\r\n}\r\nexport interface SmoScoreParams {\r\n  instrumentMap: any[],\r\n  fonts: FontPurpose[],\r\n  staffWidth: number,\r\n  scoreInfo: SmoScoreInfo,\r\n  preferences: SmoScorePreferences,\r\n  startIndex: number,\r\n  staves: SmoSystemStaff[],\r\n  activeStaff: number,\r\n  textGroups: SmoTextGroup[],\r\n  systemGroups: SmoSystemGroup[],\r\n  layoutManager?: SmoLayoutManager,\r\n  formattingManager?: SmoFormattingManager\r\n}\r\n\r\nexport type SmoModifier = SmoNoteModifierBase | SmoMeasureModifierBase | StaffModifierBase | SmoScoreModifierBase;\r\n\r\n// ## SmoScore\r\n// ## Description:\r\n// The whole score.\r\n// ## Score methods:\r\n// ---\r\nexport class SmoScore {\r\n  instrumentMap: any[] = []\r\n  fonts: FontPurpose[] = []\r\n  staffWidth: number = 1600\r\n  scoreInfo: SmoScoreInfo = new SmoScoreInfo();\r\n  preferences: SmoScorePreferences = new SmoScorePreferences();\r\n  startIndex: number = 0;\r\n  staves: SmoSystemStaff[] = [];\r\n  activeStaff: number = 0;\r\n  textGroups: SmoTextGroup[] = [];\r\n  systemGroups: SmoSystemGroup[] = [];\r\n  layoutManager?: SmoLayoutManager;\r\n  formattingManager?: SmoFormattingManager\r\n  constructor(params: SmoScoreParams) {\r\n    Vex.Merge(this, SmoScore.defaults);\r\n    Vex.Merge(this, params);\r\n    if (!this.layoutManager) {\r\n      this.layoutManager = new SmoLayoutManager(SmoLayoutManager.defaults);\r\n    }\r\n    if (!this.formattingManager) {\r\n      this.formattingManager = new SmoFormattingManager(SmoFormattingManager.defaults);\r\n    }\r\n    if (this.staves.length) {\r\n      this.numberStaves();\r\n    }\r\n\r\n    this.updateMeasureFormats();\r\n  }\r\n  static get engravingFonts(): Record<string, string> {\r\n    return { Bravura: 'Bravura', Gonville: 'Gonville', Petaluma: 'Petaluma' };\r\n  }\r\n  static get fontPurposes(): Record<string, number> {\r\n    return { ENGRAVING: 1, SCORE: 2, CHORDS: 3, LYRICS: 4 };\r\n  }\r\n  static get defaults(): SmoScoreParams {\r\n    return {\r\n      // legacy layout structure.  Now we use pages.\r\n      instrumentMap: [],\r\n      fonts: [\r\n        { name: 'engraving', purpose: SmoScore.fontPurposes.ENGRAVING, family: 'Bravura', size: 1, custom: false },\r\n        { name: 'score', purpose: SmoScore.fontPurposes.SCORE, family: 'Merriweather', size: 14, custom: false },\r\n        { name: 'chords', purpose: SmoScore.fontPurposes.CHORDS, family: 'Roboto Slab', size: 14, custom: false },\r\n        { name: 'lyrics', purpose: SmoScore.fontPurposes.LYRICS, family: 'Merriweather', size: 12, custom: false }\r\n      ],\r\n      staffWidth: 1600,\r\n      scoreInfo: {\r\n        name: 'Smoosical', // deprecated\r\n        title: 'Smoosical',\r\n        subTitle: '(Op. 1)',\r\n        composer: 'Me',\r\n        copyright: '',\r\n        version: 1,\r\n      },\r\n      preferences: {\r\n        autoPlay: true,\r\n        autoAdvance: true,\r\n        defaultDupleDuration: 4096,\r\n        defaultTripleDuration: 6144,\r\n        customProportion: 100\r\n      },\r\n      startIndex: 0,\r\n      staves: [],\r\n      activeStaff: 0,\r\n      textGroups: [],\r\n      systemGroups: []\r\n    };\r\n  }\r\n  static get pageSizes(): string[] {\r\n    return ['letter', 'tabloid', 'A4', 'custom'];\r\n  }\r\n  static get pageDimensions() {\r\n    return {\r\n      'letter': { width: 8 * 96 + 48, height: 11 * 96 },\r\n      'letterLandscape': { width: 11 * 96, height: 8 * 96 + 48 },\r\n      'tabloid': { width: 1632, height: 1056 },\r\n      'A4': { width: 794, height: 1122 },\r\n      'A4Landscape': { width: 1122, height: 794 },\r\n      'custom': { width: 1, height: 1 }\r\n    };\r\n  }\r\n\r\n  static get defaultAttributes() {\r\n    return ['startIndex', 'renumberingMap', 'renumberIndex', 'fonts',\r\n      'preferences', 'scoreInfo'];\r\n  }\r\n  static get preferences() {\r\n    return ['preferences', 'fonts', 'scoreInfo'];\r\n  }\r\n  serializeColumnMapped() {\r\n    const attrColumnHash = {};\r\n    const attrCurrentValue = {};\r\n    this.staves[0].measures.forEach((measure) => {\r\n      measure.serializeColumnMapped(attrColumnHash, attrCurrentValue);\r\n    });\r\n    return attrColumnHash;\r\n  }\r\n\r\n  // ### deserializeColumnMapped\r\n  // Column-mapped attributes stay the same in each measure until\r\n  // changed, like key-signatures.  We don't store each measure value to\r\n  // make the files smaller\r\n  static deserializeColumnMapped(scoreObj: any) {\r\n    let curValue: number = 0;\r\n    let mapIx: number = 0;\r\n    if (!scoreObj.columnAttributeMap) {\r\n      return;\r\n    }\r\n    const attrs = Object.keys(scoreObj.columnAttributeMap);\r\n    scoreObj.staves.forEach((staff: any) => {\r\n      const attrIxMap: any = {};\r\n      attrs.forEach((attr) => {\r\n        attrIxMap[attr] = 0;\r\n      });\r\n\r\n      staff.measures.forEach((measure: any) => {\r\n        attrs.forEach((attr) => {\r\n          mapIx = attrIxMap[attr];\r\n          const curHash = scoreObj.columnAttributeMap[attr];\r\n          const attrKeys: any = Object.keys(curHash);\r\n          curValue = curHash[attrKeys[mapIx.toString()]];\r\n          attrKeys.sort((a: string, b: string) => parseInt(a, 10) > parseInt(b, 10) ? 1 : -1);\r\n          if (attrKeys.length > mapIx + 1) {\r\n            if (measure.measureNumber.measureIndex >= attrKeys[mapIx + 1]) {\r\n              mapIx += 1;\r\n              curValue = curHash[attrKeys[mapIx.toString()]];\r\n            }\r\n          }\r\n          measure[attr] = curValue;\r\n          attrIxMap[attr] = mapIx;\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  // ### serialize\r\n  // ### Serialize the score.  The resulting JSON string will contain all the staves, measures, etc.\r\n  serialize(): any {\r\n    const params = {};\r\n    let obj: any = {\r\n      score: params,\r\n      layoutManager: {},\r\n      measureFormats: {},\r\n      staves: [],\r\n      textGroups: [],\r\n      systemGroups: []\r\n    };\r\n    if (this.layoutManager) {\r\n      obj.layoutManager = this.layoutManager.serialize();\r\n    }\r\n    if (this.formattingManager) {\r\n      obj.measureFormats = this.formattingManager.serialize();\r\n    }\r\n    smoSerialize.serializedMerge(SmoScore.defaultAttributes, this, params);\r\n    this.staves.forEach((staff: SmoSystemStaff) => {\r\n      obj.staves.push(staff.serialize());\r\n    });\r\n    // Score text is not part of text group, so don't save separately.\r\n    this.textGroups.forEach((tg) => {\r\n      if (tg.isTextVisible()) {\r\n        obj.textGroups.push(tg.serialize());\r\n      }\r\n    });\r\n    this.systemGroups.forEach((gg) => {\r\n      obj.systemGroups.push(gg.serialize());\r\n    });\r\n    obj.columnAttributeMap = this.serializeColumnMapped();\r\n    smoSerialize.jsonTokens(obj);\r\n    obj = smoSerialize.detokenize(obj, smoSerialize.tokenValues);\r\n    obj.dictionary = smoSerialize.tokenMap;\r\n    return obj;\r\n  }\r\n  // ### upConvertLayout\r\n  // Convert legacy score layout to layoutManager object parameters\r\n  static upConvertLayout(jsonObj: any) {\r\n    let i = 0;\r\n    jsonObj.layoutManager = {};\r\n    SmoLayoutManager.attributes.forEach((attr) => {\r\n      jsonObj.layoutManager[attr] = jsonObj.score.layout[attr];\r\n    });\r\n    jsonObj.layoutManager.pageLayouts = [];\r\n    for (i = 0; i < jsonObj.score.layout.pages; ++i) {\r\n      const pageSetting = JSON.parse(JSON.stringify(SmoPageLayout.defaults));\r\n      SmoPageLayout.attributes.forEach((attr) => {\r\n        if (typeof (jsonObj.score.layout[attr]) !== 'undefined') {\r\n          pageSetting[attr] = jsonObj.score.layout[attr];\r\n        }\r\n      });\r\n      jsonObj.layoutManager.pageLayouts.push(pageSetting);\r\n    }\r\n  }\r\n\r\n  // ### deserialize\r\n  // Restore an earlier JSON string.  Unlike other deserialize methods, this one expects the string.\r\n  static deserialize(jsonString: any) {\r\n    let jsonObj = JSON.parse(jsonString);\r\n    let upconvertFormat = false;\r\n    let formattingManager = null;\r\n    if (jsonObj.dictionary) {\r\n      jsonObj = smoSerialize.detokenize(jsonObj, jsonObj.dictionary);\r\n    }\r\n    upconvertFormat = typeof (jsonObj.measureFormats) === 'undefined';\r\n    const params: any = {};\r\n    const staves: SmoSystemStaff[] = [];\r\n    jsonObj.textGroups = jsonObj.textGroups ? jsonObj.textGroups : [];\r\n\r\n    // Explode the sparse arrays of attributes into the measures\r\n    SmoScore.deserializeColumnMapped(jsonObj);\r\n    if (typeof (jsonObj.score.preferences) !== 'undefined' && typeof (jsonObj.score.preferences.customProportion) === 'number') {\r\n      SmoMeasureFormat.defaults.customProportion = jsonObj.score.preferences.customProportion;\r\n    }\r\n    // up-convert legacy layout data\r\n    if (jsonObj.score.layout) {\r\n      SmoScore.upConvertLayout(jsonObj);\r\n    }\r\n    const layoutManager = new SmoLayoutManager(jsonObj.layoutManager);\r\n    if (!upconvertFormat) {\r\n      formattingManager = new SmoFormattingManager({ measureFormats: jsonObj.measureFormats });\r\n    }\r\n\r\n    // params.layout = JSON.parse(JSON.stringify(SmoScore.defaults.layout));\r\n    smoSerialize.serializedMerge(\r\n      SmoScore.defaultAttributes,\r\n      jsonObj.score, params);\r\n\r\n    jsonObj.staves.forEach((staffObj: any) => {\r\n      const staff = SmoSystemStaff.deserialize(staffObj);\r\n      staves.push(staff);\r\n    });\r\n\r\n    const textGroups: SmoTextGroup[] = [];\r\n    jsonObj.textGroups.forEach((tg: any) => {\r\n      textGroups.push(SmoTextGroup.deserialize(tg));\r\n    });\r\n\r\n    const systemGroups: SmoSystemGroup[] = [];\r\n    if (jsonObj.systemGroups) {\r\n      jsonObj.systemGroups.forEach((tt: any) => {\r\n        var st = SmoScoreModifierBase.deserialize(tt);\r\n        st.autoLayout = false; // since this has been layed out, presumably, before save\r\n        systemGroups.push(st);\r\n      });\r\n    }\r\n    params.staves = staves;\r\n    if (upconvertFormat) {\r\n      formattingManager = SmoScore.measureFormatFromLegacyScore(params, jsonObj);\r\n    }\r\n    params.formattingManager = formattingManager;\r\n    params.layoutManager = layoutManager;\r\n    const score = new SmoScore(params);\r\n    score.textGroups = textGroups;\r\n    score.systemGroups = systemGroups;\r\n    score.scoreInfo.version += 1;\r\n    return score;\r\n  }\r\n  // ## fromLegacyScore\r\n  // Convert measure formatting from legacy scores, that had the formatting\r\n  // per measure, to the new way that has a separate formatting object.\r\n  static measureFormatFromLegacyScore(score: SmoScore, jsonObj: any): SmoFormattingManager | null {\r\n    let current: SmoMeasureFormat | null = null;\r\n    let previous: SmoMeasureFormat | null = null;\r\n    const measureFormats: SmoMeasureFormat[] = [];\r\n    score.staves[0].measures.forEach((measure: SmoMeasure) => {\r\n      if (current === null) {\r\n        current = SmoMeasureFormat.fromLegacyMeasure(jsonObj.staves[0].measures[measure.measureNumber.measureIndex]);\r\n        measureFormats[measure.measureNumber.measureIndex] = current;\r\n      } else {\r\n        previous = current;\r\n        current = SmoMeasureFormat.fromLegacyMeasure(jsonObj.staves[0].measures[measure.measureNumber.measureIndex]);\r\n        if (!current.eq(previous)) {\r\n          measureFormats[measure.measureNumber.measureIndex] = current;\r\n        }\r\n      }\r\n    });\r\n    return new SmoFormattingManager({ measureFormats });\r\n  }\r\n\r\n  // ### getDefaultScore\r\n  // Gets a score consisting of a single measure with all the defaults.\r\n  static getDefaultScore(scoreDefaults: SmoScoreParams, measureDefaults: SmoMeasureParams | null) {\r\n    scoreDefaults = typeof (scoreDefaults) !== 'undefined' ? scoreDefaults : SmoScore.defaults;\r\n    measureDefaults = typeof (measureDefaults) !== 'undefined' ? measureDefaults : SmoMeasure.defaults;\r\n    const score = new SmoScore(scoreDefaults);\r\n    score.formattingManager = new SmoFormattingManager(SmoFormattingManager.defaults);\r\n    score.addStaff(SmoSystemStaff.defaults);\r\n    const measure: SmoMeasure = SmoMeasure.getDefaultMeasure(measureDefaults as SmoMeasureParams);\r\n    score.addMeasure(0);\r\n    measure.voices.push({\r\n      notes: SmoMeasure.getDefaultNotes(measureDefaults as SmoMeasureParams)\r\n    });\r\n    return score;\r\n  }\r\n\r\n  // ### getEmptyScore\r\n  // Create a score object, but don't populate it with anything.\r\n  static getEmptyScore(scoreDefaults: SmoScoreParams) {\r\n    const score = new SmoScore(scoreDefaults);\r\n    score.addStaff(SmoSystemStaff.defaults);\r\n    return score;\r\n  }\r\n\r\n  // ### numberStaves\r\n  // recursively renumber staffs and measures.\r\n  numberStaves() {\r\n    let i = 0;\r\n    for (i = 0; i < this.staves.length; ++i) {\r\n      const stave = this.staves[i];\r\n      stave.staffId = i;\r\n      stave.numberMeasures();\r\n    }\r\n  }\r\n\r\n  updateMeasureFormats() {\r\n    this.staves.forEach((staff) => {\r\n      staff.measures.forEach((measure) => {\r\n        (this.formattingManager as SmoFormattingManager).updateFormat(measure);\r\n      });\r\n    });\r\n  }\r\n  // ### addDefaultMeasureWithNotes\r\n  // ### Description:\r\n  // Add a measure to the score with the supplied parameters at the supplied index.\r\n  // The defaults per staff may be different depending on the clef, key of the staff.\r\n  addDefaultMeasureWithNotes(measureIndex: number, parameters: SmoMeasureParams) {\r\n    this.staves.forEach((staff) => {\r\n      const defaultMeasure =\r\n        SmoMeasure.getDefaultMeasureWithNotes(parameters);\r\n      staff.addMeasure(measureIndex, defaultMeasure);\r\n    });\r\n  }\r\n\r\n  // ### deleteMeasure\r\n  // Delete the measure at the supplied index in all the staves.\r\n  deleteMeasure(measureIndex: number) {\r\n    this.staves.forEach((staff) => {\r\n      staff.deleteMeasure(measureIndex);\r\n    });\r\n    // adjust offset if text was attached to any missing measures after the deleted one.\r\n    this.textGroups.forEach((tg: SmoTextGroup) => {\r\n      if (tg.attachToSelector && (tg.selector as SmoSelector).measure >= measureIndex && (tg.selector as SmoSelector).measure > 0) {\r\n        (tg.selector as SmoSelector).measure -= 1;\r\n      }\r\n    });\r\n  }\r\n\r\n  convertToPickupMeasure(measureIndex: number, duration: number) {\r\n    let i = 0;\r\n    for (i = 0; i < this.staves.length; ++i) {\r\n      const staff = this.staves[i];\r\n      const protomeasure = staff.measures[measureIndex].pickupMeasure(duration);\r\n      staff.measures[measureIndex] = protomeasure;\r\n    }\r\n    this.numberStaves();\r\n  }\r\n\r\n  addPickupMeasure(measureIndex: number, duration: number) {\r\n    this.convertToPickupMeasure(measureIndex, duration);\r\n  }\r\n  getPrototypeMeasure(measureIndex: number, staffIndex: number) {\r\n    const staff = this.staves[staffIndex];\r\n    let protomeasure: SmoMeasureParams = {} as SmoMeasureParams;\r\n\r\n    // Since this staff may already have instrument settings, use the\r\n    // immediately preceeding or post-ceding measure if it exists.\r\n    if (measureIndex < staff.measures.length) {\r\n      protomeasure = staff.measures[measureIndex];\r\n    } else if (staff.measures.length) {\r\n      protomeasure = staff.measures[staff.measures.length - 1];\r\n    }\r\n    return SmoMeasure.getDefaultMeasureWithNotes(protomeasure);\r\n  }\r\n\r\n  // ### addMeasure\r\n  // Give a measure prototype, create a new measure and add it to each staff, with the\r\n  // correct settings for current time signature/clef.\r\n  addMeasure(measureIndex: number) {\r\n    let i = 0;\r\n    for (i = 0; i < this.staves.length; ++i) {\r\n      const staff = this.staves[i];\r\n      const nmeasure = this.getPrototypeMeasure(measureIndex, i);\r\n      if (nmeasure.voices.length <= nmeasure.getActiveVoice()) {\r\n        nmeasure.setActiveVoice(0);\r\n      }\r\n      staff.addMeasure(measureIndex, nmeasure);\r\n    }\r\n    // Update offsets for score modifiers that have a selector\r\n    this.textGroups.forEach((tg: SmoTextGroup) => {\r\n      if (typeof (tg.selector) === 'undefined') {\r\n        return;\r\n      }\r\n      if (tg.attachToSelector && tg.selector.measure >= measureIndex && tg.selector.measure < this.staves[0].measures.length) {\r\n        tg.selector.measure += 1;\r\n      }\r\n    });\r\n    this.numberStaves();\r\n  }\r\n\r\n  // ### replaceMeasure\r\n  // Replace the measure at the given location.  Probably due to an undo operation or paste.\r\n  replaceMeasure(selector: SmoSelector, measure: SmoMeasure) {\r\n    var staff = this.staves[selector.staff];\r\n    staff.measures[selector.measure] = measure;\r\n  }\r\n\r\n  getSystemGroupForStaff(selection: SmoSelection) {\r\n    const staffId: number = selection.staff.staffId;\r\n    const measureIndex: number = selection.measure.measureNumber.measureIndex;\r\n    const exist = this.systemGroups.find((sg: SmoSystemGroup) =>\r\n      sg.startSelector.staff <= staffId &&\r\n      sg.endSelector.staff >= staffId &&\r\n      (sg.mapType === SmoSystemGroup.mapTypes.allMeasures ||\r\n        (sg.startSelector.measure <= measureIndex &&\r\n          sg.endSelector.measure >= measureIndex))\r\n    );\r\n    return exist;\r\n  }\r\n\r\n  getStavesForGroup(group: SmoSystemGroup) {\r\n    return this.staves.filter((staff) => staff.staffId >= group.startSelector.staff &&\r\n      staff.staffId <= group.endSelector.staff);\r\n  }\r\n\r\n  // ### addOrReplaceSystemGroup\r\n  // Add a new staff grouping, or replace it if it overlaps and is different, or\r\n  // remove it if it is identical (toggle)\r\n  addOrReplaceSystemGroup(newGroup: SmoSystemGroup) {\r\n    // Replace this group for any groups that overlap it.\r\n    this.systemGroups = this.systemGroups.filter((sg) => !sg.overlaps(newGroup));\r\n    this.systemGroups.push(newGroup);\r\n  }\r\n\r\n  // ### replace staff\r\n  // Probably due to an undo operation, replace the staff at the given index.\r\n  replaceStaff(index: number, staff: SmoSystemStaff) {\r\n    const staves = [];\r\n    let i = 0;\r\n    for (i = 0; i < this.staves.length; ++i) {\r\n      if (i !== index) {\r\n        staves.push(this.staves[i]);\r\n      } else {\r\n        staves.push(staff);\r\n      }\r\n    }\r\n    this.staves = staves;\r\n  }\r\n  // ### addKeySignature\r\n  // Add a key signature at the specified index in all staves.\r\n  addKeySignature(measureIndex: number, key: string) {\r\n    this.staves.forEach((staff) => {\r\n      // Consider transpose for key of instrument\r\n      const netOffset = staff.measures[measureIndex].transposeIndex;\r\n      const newKey = smoMusic.vexKeySigWithOffset(key, netOffset);\r\n      staff.addKeySignature(measureIndex, newKey);\r\n    });\r\n  }\r\n\r\n  // ### addInstrument\r\n  // add a new staff (instrument) to the score\r\n  addStaff(parameters: SmoSystemStaffParams) {\r\n    let i = 0;\r\n    if (this.staves.length === 0) {\r\n      const staff = new SmoSystemStaff(parameters);\r\n      this.staves.push(staff);\r\n      this.activeStaff = 0;\r\n      // For part views, we renumber the staves even if there is only one staff.\r\n      if (staff.measures.length) {\r\n        this.numberStaves();\r\n      }\r\n      return;\r\n    }\r\n    if (!parameters) {\r\n      parameters = SmoSystemStaff.defaults;\r\n    }\r\n    const proto = this.staves[0];\r\n    const measures = [];\r\n    for (i = 0; i < proto.measures.length; ++i) {\r\n      const newParams: SmoMeasureParams = {} as SmoMeasureParams;\r\n      const measure: SmoMeasure = proto.measures[i];\r\n      smoSerialize.serializedMerge(SmoMeasure.defaultAttributes, measure, newParams);\r\n      newParams.clef = parameters.instrumentInfo.clef as Clef;\r\n      newParams.transposeIndex = parameters.instrumentInfo.keyOffset;\r\n      const newMeasure = SmoMeasure.getDefaultMeasureWithNotes(newParams);\r\n      newMeasure.measureNumber = measure.measureNumber;\r\n      // Consider key change if the proto measure is non-concert pitch\r\n      newMeasure.keySignature =\r\n        smoMusic.vexKeySigWithOffset(newMeasure.keySignature,\r\n          newMeasure.transposeIndex - measure.transposeIndex);\r\n      newMeasure.modifiers = [];\r\n      measure.modifiers.forEach((modifier) => {\r\n        const nmod: SmoMeasureModifierBase = SmoMeasureModifierBase.deserialize(modifier);\r\n        newMeasure.modifiers.push(nmod);\r\n      });\r\n      measures.push(newMeasure);\r\n    }\r\n    parameters.measures = measures;\r\n    const staff = new SmoSystemStaff(parameters);\r\n    this.staves.push(staff);\r\n    this.activeStaff = this.staves.length - 1;\r\n    this.numberStaves();\r\n  }\r\n\r\n  // ### removeStaff\r\n  // Remove stave at the given index\r\n  removeStaff(index: number) {\r\n    const staves: SmoSystemStaff[] = [];\r\n    let ix = 0;\r\n    this.staves.forEach((staff) => {\r\n      if (ix !== index) {\r\n        staves.push(staff);\r\n      }\r\n      ix += 1;\r\n    });\r\n    this.staves = staves;\r\n    this.numberStaves();\r\n  }\r\n\r\n  swapStaves(index1: number, index2: number) {\r\n    if (this.staves.length < index1 || this.staves.length < index2) {\r\n      return;\r\n    }\r\n    const tmpStaff = this.staves[index1];\r\n    this.staves[index1] = this.staves[index2];\r\n    this.staves[index2] = tmpStaff;\r\n    this.numberStaves();\r\n  }\r\n\r\n  _updateTextGroup(textGroup: SmoTextGroup, toAdd: boolean) {\r\n    const tgid = typeof (textGroup) === 'string' ? textGroup :\r\n      textGroup.attrs.id;\r\n    const ar = this.textGroups.filter((tg) => tg.attrs.id !== tgid);\r\n    this.textGroups = ar;\r\n    if (toAdd) {\r\n      this.textGroups.push(textGroup);\r\n    }\r\n  }\r\n  addTextGroup(textGroup: SmoTextGroup) {\r\n    this._updateTextGroup(textGroup, true);\r\n  }\r\n  getTextGroups() {\r\n    return this.textGroups;\r\n  }\r\n  scaleTextGroups(scale: number) {\r\n    this.textGroups.forEach((tg: SmoTextGroup) => {\r\n      tg.scaleText(scale);\r\n    });\r\n  }\r\n\r\n  removeTextGroup(textGroup: SmoTextGroup) {\r\n    this._updateTextGroup(textGroup, false);\r\n  }\r\n\r\n  setLyricAdjustWidth(adjustNoteWidth: boolean) {\r\n    this.staves.forEach((staff) => {\r\n      staff.setLyricAdjustWidth(adjustNoteWidth);\r\n    });\r\n  }\r\n\r\n  setChordAdjustWidth(adjustNoteWidth: boolean) {\r\n    this.staves.forEach((staff) => {\r\n      staff.setChordAdjustWidth(adjustNoteWidth);\r\n    });\r\n  }\r\n  // ### setLyricFont\r\n  // set the font for lyrics, which are the same for all lyrics in the score\r\n  setLyricFont(fontInfo: FontInfo) {\r\n    this.staves.forEach((staff) => {\r\n      staff.setLyricFont(fontInfo);\r\n    });\r\n\r\n    const fontInst: FontPurpose | undefined = this.fonts.find((fn) => fn.name === 'lyrics');\r\n    if (typeof (fontInst) === 'undefined') {\r\n      return;\r\n    }\r\n    fontInst.family = fontInfo.family;\r\n    fontInst.size = fontInfo.size;\r\n    fontInst.custom = true;\r\n  }\r\n\r\n  setChordFont(fontInfo: FontInfo) {\r\n    this.staves.forEach((staff) => {\r\n      staff.setChordFont(fontInfo);\r\n    });\r\n  }\r\n\r\n  get measures() {\r\n    if (this.staves.length === 0) {\r\n      return [];\r\n    }\r\n    return this.staves[this.activeStaff].measures;\r\n  }\r\n  incrementActiveStaff(offset: number) {\r\n    if (offset < 0) {\r\n      offset = offset + this.staves.length;\r\n    }\r\n    const nextStaff = (this.activeStaff + offset) % this.staves.length;\r\n    if (nextStaff >= 0 && nextStaff < this.staves.length) {\r\n      this.activeStaff = nextStaff;\r\n    }\r\n    return this.activeStaff;\r\n  }\r\n\r\n  setActiveStaff(index: number) {\r\n    this.activeStaff = index <= this.staves.length ? index : this.activeStaff;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoMeasureFormat } from './measureModifiers';\r\nimport { SmoAttrs, FontInfo, SmoModifierBase, SvgBox } from './common';\r\nimport { SmoMeasure } from './measure';\r\nimport { SmoSelector } from '../xform/selections';\r\n\r\nconst VF = eval('Vex.Flow');\r\n\r\n// ## SmoScoreModifierBase\r\n// A score modifier is something that appears in the score, but not\r\n// associated with a measure of music.\r\nexport abstract class SmoScoreModifierBase implements SmoModifierBase {\r\n  ctor: string;\r\n  renderedBox: SvgBox | null = null;\r\n  logicalBox: SvgBox | null = null;\r\n  attrs: SmoAttrs;\r\n  constructor(ctor: string) {\r\n    this.ctor = ctor;\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: ctor\r\n    };\r\n  }\r\n  abstract serialize(): any;\r\n  static deserialize(jsonObj: any) {\r\n    const ctor = eval('globalThis.Smo.' + jsonObj.ctor);\r\n    const rv = new ctor(jsonObj);\r\n    return rv;\r\n  }\r\n}\r\n\r\nexport interface SmoFormattingManagerParams {\r\n  measureFormats?: SmoMeasureFormat[],\r\n  partIndex?: number\r\n}\r\nexport class SmoFormattingManager extends SmoScoreModifierBase {\r\n  measureFormats: Record<number, SmoMeasureFormat>;\r\n  partIndex: number = -1;\r\n  static get forScore() {\r\n    return -1;\r\n  }\r\n  static get defaults(): SmoFormattingManagerParams {\r\n    return {\r\n      measureFormats: [new SmoMeasureFormat(SmoMeasureFormat.defaults)],\r\n      partIndex: -1\r\n    };\r\n  }\r\n\r\n  constructor(params: SmoFormattingManagerParams) {\r\n    super('SmoFormattingManager');\r\n    if (typeof (params) === 'undefined') {\r\n      params = {};\r\n    }\r\n    this.measureFormats = {};\r\n    this.partIndex = SmoFormattingManager.forScore;\r\n    if (typeof (params.partIndex) !== 'undefined') {\r\n      this.partIndex = params.partIndex;\r\n    }\r\n    if (typeof (params.measureFormats) !== 'undefined' && params.measureFormats.length) {\r\n      params.measureFormats.forEach((format) => {\r\n        this.measureFormats[format.measureIndex] = new SmoMeasureFormat(format);\r\n      });\r\n    }\r\n  }\r\n  updateMeasureFormat(format: SmoMeasureFormat) {\r\n    this.measureFormats[format.measureIndex] = format;\r\n  }\r\n  updateFormat(measure: SmoMeasure) {\r\n    if (this.measureFormats[measure.measureNumber.measureIndex]) {\r\n      measure.format = this.measureFormats[measure.measureNumber.measureIndex];\r\n    } else {\r\n      measure.format = new SmoMeasureFormat(SmoMeasureFormat.defaults);\r\n    }\r\n  }\r\n  serialize() {\r\n    const rv: any = [];\r\n    const keys = Object.keys(this.measureFormats);\r\n    keys.forEach((key: any) => {\r\n      if (!this.measureFormats[key].isDefault) {\r\n        rv.push(this.measureFormats[key].serialize());\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n}\r\nexport interface SmoPageLayoutParams {\r\n  leftMargin: number,\r\n  rightMargin: number,\r\n  topMargin: number,\r\n  bottomMargin: number,\r\n  interGap: number,\r\n  intraGap: number\r\n}\r\nexport class SmoPageLayout extends SmoScoreModifierBase {\r\n  static get defaults(): SmoPageLayoutParams {\r\n    return JSON.parse(JSON.stringify({\r\n      leftMargin: 30,\r\n      rightMargin: 30,\r\n      topMargin: 40,\r\n      bottomMargin: 40,\r\n      interGap: 30,\r\n      intraGap: 10\r\n    }));\r\n  }\r\n  static get attributes(): string[] {\r\n    return ['leftMargin', 'rightMargin', 'topMargin', 'bottomMargin', 'interGap', 'intraGap'];\r\n  }\r\n  leftMargin: number = 30;\r\n  rightMargin: number = 30;\r\n  topMargin: number = 40;\r\n  bottomMargin: number = 40;\r\n  interGap: number = 30;\r\n  intraGap: number = 10;\r\n  constructor(params?: SmoPageLayoutParams) {\r\n    super('SmoPageLayout');\r\n    smoSerialize.serializedMerge(SmoPageLayout.attributes, SmoPageLayout.defaults, this);\r\n    if (typeof (params) !== 'undefined') {\r\n      smoSerialize.serializedMerge(SmoPageLayout.attributes, params, this);\r\n    }\r\n  }\r\n  serialize(): any {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoPageLayout.defaults, SmoPageLayout.attributes, this, params);\r\n    params.ctor = 'SmoPageLayout';\r\n    return params;\r\n  }\r\n}\r\nexport class SmoGlobalLayout {\r\n  svgScale: number = 1.0;\r\n  zoomScale: number = 2.0;\r\n  noteSpacing: number = 1.0;\r\n  pageWidth: number = 8 * 96 + 48;\r\n  pageHeight: number = 11 * 96;\r\n  static get attributes(): string[] {\r\n    return ['svgScale', 'zoomScale', 'noteSpacing', 'pageWidth', 'pageHeight'];\r\n  }\r\n  // Page width and page height are absolute, but must be scaled by svgScale\r\n  // to be rendered\r\n  static get scaledAttributes(): string[] {\r\n    return ['pageHeight', 'pageWidth'];\r\n  }\r\n}\r\n// A scaled page layout is a union of global layout settings and\r\n// page layout settings, including number of pages and page number\r\nexport class ScaledPageLayout {\r\n  svgScale: number = 1.0;\r\n  zoomScale: number = 2.0;\r\n  noteSpacing: number = 1.0;\r\n  pageWidth: number = 8 * 96 + 48;\r\n  pageHeight: number = 11 * 96;\r\n  leftMargin: number = 30;\r\n  rightMargin: number = 30;\r\n  topMargin: number = 40;\r\n  bottomMargin: number = 40;\r\n  interGap: number = 30;\r\n  intraGap: number = 10;\r\n  pages: number = 1;\r\n  // Update global layout parameters, and scale scalable page parameters\r\n  updatePageLayout(globalLayout: SmoGlobalLayout, pageLayout: SmoPageLayout, pages: number): void {\r\n    smoSerialize.serializedMerge(SmoGlobalLayout.attributes, globalLayout, this);\r\n    SmoPageLayout.attributes.forEach((attr: string | number) => {\r\n      (this as any)[attr] = (pageLayout as any)[attr] / this.svgScale;\r\n    });\r\n    SmoGlobalLayout.scaledAttributes.forEach((attr: string | number) => {\r\n      (this as any)[attr] = (this as any)[attr] / this.svgScale;\r\n    });\r\n    this.pages = pages;\r\n  }\r\n}\r\nexport interface SmoLayoutManagerParams {\r\n  globalLayout: SmoGlobalLayout,\r\n  pageLayouts?: SmoPageLayout[]\r\n}\r\n// ## SmoLayoutManager\r\n// Storage and utilities for layout information in the score.  Each\r\n// manager has one set of page height/width, since svg element\r\n// must have single length/width and viewbox.\r\n// Each page can have different margins.\r\nexport class SmoLayoutManager extends SmoScoreModifierBase {\r\n  static get defaultLayout(): SmoGlobalLayout {\r\n    return {\r\n      svgScale: 1.0,\r\n      zoomScale: 2.0,\r\n      noteSpacing: 1.0,\r\n      pageWidth: 8 * 96 + 48,\r\n      pageHeight: 11 * 96\r\n    };\r\n  }\r\n  static get defaults(): SmoLayoutManagerParams {\r\n    return {\r\n      globalLayout: new SmoGlobalLayout(),\r\n      pageLayouts: []\r\n    };\r\n  }\r\n  static get attributes() {\r\n    return SmoGlobalLayout.attributes;\r\n  }\r\n  // Attributes that are scaled by svgScale\r\n  static get scalableAttributes() {\r\n    return ['pageWidth', 'pageHeight'];\r\n  }\r\n  globalLayout: SmoGlobalLayout = new SmoGlobalLayout();\r\n  pageLayouts: SmoPageLayout[] = [];\r\n\r\n  constructor(params: SmoLayoutManagerParams) {\r\n    super('SmoLayoutManager');\r\n    if (typeof (params) === 'undefined') {\r\n      params = SmoLayoutManager.defaults;\r\n    }\r\n    smoSerialize.serializedMerge(SmoLayoutManager.attributes, SmoLayoutManager.defaults, this.globalLayout);\r\n    smoSerialize.serializedMerge(SmoLayoutManager.attributes, params, this.globalLayout);\r\n    this.pageLayouts = [];\r\n    if (params.pageLayouts && params.pageLayouts.length) {\r\n      params.pageLayouts.forEach((page) => {\r\n        this.pageLayouts.push(new SmoPageLayout(page));\r\n      });\r\n    } else {\r\n      this.pageLayouts.push(new SmoPageLayout());\r\n    }\r\n  }\r\n  getZoomScale() {\r\n    return this.globalLayout.zoomScale;\r\n  }\r\n  serialize() {\r\n    const rv: any = {};\r\n    rv.pageLayouts = [];\r\n    this.pageLayouts.forEach((pl) => {\r\n      rv.pageLayouts.push(pl.serialize());\r\n    });\r\n    smoSerialize.serializedMerge(SmoLayoutManager.attributes, this.globalLayout, rv);\r\n    return rv;\r\n  }\r\n  updateGlobalLayout(params: SmoGlobalLayout) {\r\n    SmoLayoutManager.attributes.forEach((attr: string) => {\r\n      if (typeof ((params as any)[attr]) !== 'undefined') {\r\n        (this.globalLayout as any)[attr] = (params as any)[attr];\r\n      }\r\n    });\r\n  }\r\n  // ### addToPageLayouts\r\n  // Make sure the next page has a layout.  If not, copy settings from\r\n  // previous page.\r\n  addToPageLayouts(pageNum: number) {\r\n    const lastLayout = this.pageLayouts[this.pageLayouts.length - 1];\r\n    if (this.pageLayouts.length <= pageNum) {\r\n      this.pageLayouts.push(new SmoPageLayout(lastLayout));\r\n    }\r\n  }\r\n  getGlobalLayout(): SmoGlobalLayout {\r\n    const rv = {} as SmoGlobalLayout;\r\n    smoSerialize.serializedMerge(SmoLayoutManager.attributes, this.globalLayout, rv);\r\n    return rv;\r\n  }\r\n  // Return a deep copy of the page parameters, adjusted for the global scale.\r\n  getScaledPageLayout(pageIndex: number): ScaledPageLayout {\r\n    const rv: ScaledPageLayout = new ScaledPageLayout();\r\n    const pageCopy: SmoPageLayout = new SmoPageLayout(this.pageLayouts[pageIndex]);\r\n    rv.updatePageLayout(this.globalLayout, pageCopy, this.pageLayouts.length);\r\n    return rv;\r\n  }\r\n  getPageLayout(pageIndex: number): SmoPageLayout {\r\n    return new SmoPageLayout(this.pageLayouts[pageIndex]);\r\n  }\r\n  getPageLayouts(): SmoPageLayout[] {\r\n    const rv: SmoPageLayout[] = [];\r\n    this.pageLayouts.forEach((pl) => {\r\n      rv.push(new SmoPageLayout(pl));\r\n    });\r\n    return rv;\r\n  }\r\n  updatePage(pageLayout: SmoPageLayout, pageIndex: number) {\r\n    if (this.pageLayouts.length > pageIndex) {\r\n      this.pageLayouts[pageIndex] = new SmoPageLayout(pageLayout);\r\n    }\r\n  }\r\n}\r\nexport interface SmoSystemGroupParams {\r\n  leftConnector: number,\r\n  rightConnector: number,\r\n  mapType: number,\r\n  text: string,\r\n  shortText: string,\r\n  justify: boolean,\r\n  startSelector: SmoSelector,\r\n  endSelector: SmoSelector\r\n}\r\n// ## SmoSystemGroup\r\n// System group is the grouping of staves into a system.\r\nexport class SmoSystemGroup extends SmoScoreModifierBase {\r\n  static get connectorTypes(): Record<string, number> {\r\n    return { brace: 0, bracket: 1, single: 2, double: 3 };\r\n  }\r\n  static get mapTypes(): Record<string, number> {\r\n    return { allMeasures: 0, range: 1 };\r\n  }\r\n  static get attributes(): string[] {\r\n    return ['leftConnector', 'rightConnector', 'text', 'shortText', 'justify',\r\n      'startSelector', 'endSelector', 'mapType'];\r\n  }\r\n  static get defaults(): SmoSystemGroupParams {\r\n    return {\r\n      leftConnector: SmoSystemGroup.connectorTypes.single,\r\n      rightConnector: SmoSystemGroup.connectorTypes.single,\r\n      mapType: SmoSystemGroup.mapTypes.allMeasures,\r\n      text: '',\r\n      shortText: '',\r\n      justify: true,\r\n      startSelector: SmoSelector.default,\r\n      endSelector: SmoSelector.default\r\n    };\r\n  }\r\n  leftConnector: number = SmoSystemGroup.connectorTypes.single;\r\n  rightConnector: number = SmoSystemGroup.connectorTypes.single;\r\n  mapType: number = SmoSystemGroup.mapTypes.allMeasures;\r\n  text: string = '';\r\n  shortText: string = '';\r\n  justify: boolean = true;\r\n  startSelector: SmoSelector = SmoSelector.default;\r\n  endSelector: SmoSelector = SmoSelector.default;\r\n  attrs: SmoAttrs;\r\n  constructor(params: SmoSystemGroupParams) {\r\n    super('SmoSystemGroup');\r\n    smoSerialize.serializedMerge(SmoSystemGroup.attributes, SmoSystemGroup.defaults, this);\r\n    smoSerialize.serializedMerge(SmoSystemGroup.attributes, params, this);\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'SmoSystemGroup'\r\n    };\r\n  }\r\n  stavesOverlap(group: SmoSystemGroup) {\r\n    return (this.startSelector.staff >= group.startSelector.staff && this.startSelector.staff <= group.endSelector.staff) ||\r\n      (this.endSelector.staff >= group.startSelector.staff && this.endSelector.staff <= group.endSelector.staff);\r\n  }\r\n  measuresOverlap(group: SmoSystemGroup) {\r\n    return this.stavesOverlap(group) &&\r\n      ((this.startSelector.measure >= group.startSelector.measure && this.endSelector.measure <= group.startSelector.measure) ||\r\n        (this.endSelector.measure >= group.startSelector.measure && this.endSelector.measure <= group.endSelector.measure));\r\n  }\r\n  overlaps(group: SmoSystemGroup) {\r\n    return (this.stavesOverlap(group) && this.mapType === SmoSystemGroup.mapTypes.allMeasures) ||\r\n      (this.measuresOverlap(group) && this.mapType === SmoSystemGroup.mapTypes.range);\r\n  }\r\n  leftConnectorVx() {\r\n    switch (this.leftConnector) {\r\n      case SmoSystemGroup.connectorTypes.single:\r\n        return VF.StaveConnector.type.SINGLE_LEFT;\r\n      case SmoSystemGroup.connectorTypes.double:\r\n        return VF.StaveConnector.type.DOUBLE_LEFT;\r\n      case SmoSystemGroup.connectorTypes.brace:\r\n        return VF.StaveConnector.type.BRACE;\r\n      case SmoSystemGroup.connectorTypes.bracket:\r\n      default:\r\n        return VF.StaveConnector.type.BRACKET;\r\n    }\r\n  }\r\n  rightConnectorVx() {\r\n    switch (this.rightConnector) {\r\n      case SmoSystemGroup.connectorTypes.single:\r\n        return VF.StaveConnector.type.SINGLE_RIGHT;\r\n      case SmoSystemGroup.connectorTypes.double:\r\n      default:\r\n        return VF.StaveConnector.type.DOUBLE_RIGHT;\r\n    }\r\n  }\r\n  serialize() {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoSystemGroup.defaults, SmoSystemGroup.attributes, this, params);\r\n    params.ctor = 'SmoSystemGroup';\r\n    return params;\r\n  }\r\n}\r\n\r\nexport interface SmoScoreTextParams {\r\n  x: number,\r\n  y: number,\r\n  width: number,\r\n  height: number,\r\n  text: string,\r\n  fontInfo: FontInfo,\r\n  fill?: string,\r\n  rotate?: number,\r\n  justification?: string,\r\n  classes?: string,\r\n  boxModel?: string,\r\n  scaleX?: number,\r\n  scaleY?: number,\r\n  translateX?: number,\r\n  translateY?: number,\r\n  pagination?: string,\r\n  position?: string,\r\n  autoLayout?: boolean // set to true if one of the pre-canned positions are used.\r\n}\r\n// ## SmoScoreText\r\n// Identify some text in the score, not associated with any musical element, like page\r\n// decorations, titles etc.\r\n// Note: score text is always contained in a text group.  So this isn't directly accessed\r\n// by score, but we keep the collection in score for backwards-compatibility\r\nexport class SmoScoreText extends SmoScoreModifierBase {\r\n  // convert EM to a number, or leave as a number etc.\r\n  static fontPointSize(size: string) {\r\n    let rv = 12;\r\n    if (typeof (size) === 'number') {\r\n      return size;\r\n    }\r\n    const ptString = size.substring(0, size.length - 2);\r\n    rv = parseFloat(ptString);\r\n    if (size.indexOf('em') > 0) {\r\n      rv *= 14;\r\n    } else if (size.indexOf('px') > 0) {\r\n      rv *= (96.0 / 72.0);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### weightString\r\n  // Convert a numeric or string weight into either 'bold' or 'normal'\r\n  static weightString(fontWeight: string): string {\r\n    let rv = 'normal';\r\n    if (fontWeight) {\r\n      const numForm = parseInt(fontWeight, 10);\r\n      if (isNaN(numForm)) {\r\n        rv = fontWeight;\r\n      } else if (numForm > 500) {\r\n        rv = 'bold';\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  static get paginations(): Record<string, string> {\r\n    return { every: 'every', even: 'even', odd: 'odd', once: 'once', subsequent: 'subsequent' };\r\n  }\r\n  static get positions(): Record<string, string> {\r\n    return { title: 'title', copyright: 'copyright', footer: 'footer', header: 'header', custom: 'custom' };\r\n  }\r\n  static get justifications(): Record<string, string> {\r\n    return { left: 'left', right: 'right', center: 'center' };\r\n  }\r\n  static get fontFamilies(): Record<string, string> {\r\n    return {\r\n      serif: 'Merriweather', sansSerif: 'Roboto,sans-serif', monospace: 'monospace', cursive: 'cursive',\r\n      times: 'Merriweather', arial: 'Arial'\r\n    };\r\n  }\r\n  // If box model is 'none', the font and location determine the size.\r\n  // spacing and spacingGlyph fit the box into a container based on the svg policy\r\n  static get boxModels(): Record<string, string> {\r\n    return { none: 'none', spacing: 'spacing', spacingAndGlyphs: 'spacingAndGlyphs', wrap: 'wrap' };\r\n  }\r\n  static get defaults(): SmoScoreTextParams {\r\n    return {\r\n      x: 15,\r\n      y: 15,\r\n      width: 0,\r\n      height: 0,\r\n      text: 'Smoosic',\r\n      fontInfo: {\r\n        size: 14,\r\n        family: SmoScoreText.fontFamilies.serif,\r\n        style: 'normal',\r\n        weight: 'normal'\r\n      },\r\n      fill: 'black',\r\n      rotate: 0,\r\n      justification: SmoScoreText.justifications.left,\r\n      classes: 'score-text',\r\n      boxModel: 'none',\r\n      scaleX: 1.0,\r\n      scaleY: 1.0,\r\n      translateX: 0,\r\n      translateY: 0,\r\n      pagination: 'once',\r\n      position: 'custom',\r\n      autoLayout: false // set to true if one of the pre-canned positions are used.\r\n    };\r\n  }\r\n  x: number = 15;\r\n  y: number = 15;\r\n  width: number = 0;\r\n  height: number = 0;\r\n  text: string = 'Smoosic';\r\n  fontInfo: FontInfo = {\r\n    size: 14,\r\n    family: SmoScoreText.fontFamilies.serif,\r\n    style: 'normal',\r\n    weight: 'normal'\r\n  };\r\n  fill: string = 'black';\r\n  rotate: number = 0;\r\n  justification: string = SmoScoreText.justifications.left;\r\n  classes: string = 'score-text';\r\n  boxModel: string = 'none';\r\n  scaleX: number = 1.0;\r\n  scaleY: number = 1.0;\r\n  translateX: number = 0;\r\n  translateY: number = 0;\r\n  pagination: string = 'once';\r\n  position: string = 'custom';\r\n  autoLayout: boolean = false; // set to true if one of the pre-canned positions are used.\r\n\r\n  getText() {\r\n    return this.text;\r\n  }\r\n  estimateWidth() {\r\n    let i = 0;\r\n    let rv = 0;\r\n    const textFont = VF.TextFont.getTextFontFromVexFontData({\r\n      family: this.fontInfo.family,\r\n      size: this.fontInfo.size,\r\n      weight: this.fontInfo.weight,\r\n      style: this.fontInfo.style\r\n    });\r\n    textFont.setFontSize(this.fontInfo.size);\r\n    for (i = 0; i < this.text.length; ++i) {\r\n      rv += textFont.getWidthForCharacter(this.text[i]);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  tryParseUnicode() {\r\n    this.text = smoSerialize.tryParseUnicode(this.text);\r\n  }\r\n\r\n  offsetX(offset: number) {\r\n    this.x += offset;\r\n  }\r\n  offsetY(offset: number) {\r\n    this.y += offset;\r\n  }\r\n\r\n  serialize(): any {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoScoreText.defaults, SmoScoreText.attributes, this, params);\r\n    params.ctor = 'SmoScoreText';\r\n    return params;\r\n  }\r\n  static get attributes(): string[] {\r\n    return ['x', 'y', 'text', 'pagination', 'position', 'fontInfo', 'classes',\r\n      'boxModel', 'justification', 'fill', 'width', 'height', 'scaleX', 'scaleY',\r\n      'translateX', 'translateY', 'autoLayout'];\r\n  }\r\n  constructor(parameters: SmoScoreTextParams) {\r\n    super('SmoScoreText');\r\n    let rx = '';\r\n    smoSerialize.serializedMerge(SmoScoreText.attributes, SmoScoreText.defaults, this);\r\n    smoSerialize.serializedMerge(SmoScoreText.attributes, parameters, this);\r\n    if (!this.classes) {\r\n      this.classes = '';\r\n    }\r\n    if (this.classes.indexOf(this.attrs.id) < 0) {\r\n      this.classes += ' ' + this.attrs.id;\r\n    }\r\n    if (this.boxModel === SmoScoreText.boxModels.wrap) {\r\n      this.width = parameters.width ? this.width : 200;\r\n      this.height = parameters.height ? this.height : 150;\r\n    }\r\n    const weight = parameters.fontInfo ? parameters.fontInfo.weight : 'normal';\r\n    this.fontInfo.weight = SmoScoreText.weightString(weight);\r\n    if (this.text) {\r\n      rx = smoSerialize.tryParseUnicode(this.text);\r\n      this.text = rx;\r\n    }\r\n  }\r\n}\r\n\r\nexport interface SmoTextBlock {\r\n  text: SmoScoreText,\r\n  position: number,\r\n  activeText: boolean\r\n}\r\nexport interface SmoTextPlacement {\r\n  fontFamily: string,\r\n  fontSize: number,\r\n  justification: number,\r\n  xPlacement: number,\r\n  yOffset: number,\r\n}\r\nexport interface SmoTextGroupParams {\r\n  justification: number,\r\n  relativePosition: number,\r\n  pagination: number,\r\n  purpose: number,\r\n  spacing: number,\r\n  attachToSelector: boolean,\r\n  selector: SmoSelector,\r\n  musicXOffset: 0,\r\n  musicYOffset: 0,\r\n  blocks: SmoTextBlock[]\r\n}\r\n\r\n// ## SmoTextGroup\r\n// A grouping of text that can be used as a block for\r\n// justification, alignment etc.\r\nexport class SmoTextGroup extends SmoScoreModifierBase {\r\n  static get justifications() {\r\n    return {\r\n      LEFT: 1,\r\n      RIGHT: 2,\r\n      CENTER: 3\r\n    };\r\n  }\r\n  static get paginations() {\r\n    return { EVERY: 1, EVENT: 2, ODD: 3, ONCE: 4, SUBSEQUENT: 5 };\r\n  }\r\n\r\n  // The position of block n relative to block n-1.  Each block\r\n  // has it's own position.  Justification is inter-block.\r\n  static get relativePositions() {\r\n    return { ABOVE: 1, BELOW: 2, LEFT: 3, RIGHT: 4 };\r\n  }\r\n\r\n  static get purposes() {\r\n    return {\r\n      NONE: 1, TITLE: 2, SUBTITLE: 3, COMPOSER: 4, COPYRIGHT: 5\r\n    };\r\n  }\r\n  static get attributes() {\r\n    return ['textBlocks', 'justification', 'relativePosition', 'spacing', 'pagination', 'attachToSelector', 'selector', 'musicXOffset', 'musicYOffset'];\r\n  }\r\n  static get purposeToFont(): Record<number | string, SmoTextPlacement> {\r\n    const rv: Record<number | string, SmoTextPlacement> = {};\r\n    rv[SmoTextGroup.purposes.TITLE] = {\r\n      fontFamily: 'Merriweather',\r\n      fontSize: 18,\r\n      justification: SmoTextGroup.justifications.CENTER,\r\n      xPlacement: 0.5,\r\n      yOffset: 4\r\n    };\r\n    rv[SmoTextGroup.purposes.SUBTITLE] = {\r\n      fontFamily: 'Merriweather',\r\n      fontSize: 16,\r\n      justification: SmoTextGroup.justifications.CENTER,\r\n      xPlacement: 0.5,\r\n      yOffset: 20,\r\n    };\r\n    rv[SmoTextGroup.purposes.COMPOSER] = {\r\n      fontFamily: 'Merriweather',\r\n      fontSize: 12,\r\n      justification: SmoTextGroup.justifications.RIGHT,\r\n      xPlacement: 0.8,\r\n      yOffset: 10\r\n    };\r\n    rv[SmoTextGroup.purposes.COPYRIGHT] = {\r\n      fontFamily: 'Merriweather',\r\n      fontSize: 12,\r\n      xPlacement: 0.5,\r\n      justification: SmoTextGroup.justifications.CENTER,\r\n      yOffset: -12\r\n    };\r\n    return rv;\r\n  }\r\n  // ### createTextForLayout\r\n  // Create a specific score text type (title etc.) based on the supplied\r\n  // score layout\r\n  static createTextForLayout(purpose: number, text: string, layout: ScaledPageLayout) {\r\n    let x = 0;\r\n    const textAttr = SmoTextGroup.purposeToFont[purpose];\r\n    const pageWidth = layout.pageWidth;\r\n    const pageHeight = layout.pageHeight;\r\n    const bottomMargin = layout.bottomMargin;\r\n    const topMargin = layout.topMargin;\r\n    x = textAttr.xPlacement > 0 ? pageWidth * textAttr.xPlacement\r\n      : pageWidth - (pageWidth * textAttr.xPlacement);\r\n    const y = textAttr.yOffset > 0 ?\r\n      topMargin + textAttr.yOffset :\r\n      pageHeight + textAttr.yOffset - bottomMargin;\r\n    const defaults: SmoScoreTextParams = SmoScoreText.defaults;\r\n    const st = new SmoScoreText({\r\n      text, x, y, width: defaults.width, height: defaults.height,\r\n      fontInfo: { family: textAttr.fontFamily, size: textAttr.fontSize, weight: 'normal' }\r\n    });\r\n    const width = st.estimateWidth();\r\n    x -= width / 2;\r\n    const tg = new SmoTextGroup({\r\n      blocks: [{ text: st, position: SmoTextGroup.relativePositions.RIGHT, activeText: false }],\r\n      purpose, pagination: SmoTextGroup.paginations.EVERY,\r\n      attachToSelector: false, justification: SmoTextGroup.justifications.CENTER, spacing: 0, relativePosition: SmoTextGroup.relativePositions.LEFT,\r\n      selector: SmoSelector.default, musicXOffset: 0, musicYOffset: 0\r\n    });\r\n    return tg;\r\n  }\r\n\r\n  static get defaults() {\r\n    return JSON.parse(JSON.stringify({\r\n      textBlocks: [],\r\n      justification: SmoTextGroup.justifications.LEFT,\r\n      relativePosition: SmoTextGroup.relativePositions.RIGHT,\r\n      pagination: SmoTextGroup.paginations.ONCE,\r\n      purpose: SmoTextGroup.purposes.NONE,\r\n      spacing: 0,\r\n      attachToSelector: false,\r\n      selector: null,\r\n      musicXOffset: 0,\r\n      musicYOffset: 0\r\n    }));\r\n  }\r\n  justification: number = SmoTextGroup.justifications.LEFT;\r\n  relativePosition: number = SmoTextGroup.relativePositions.RIGHT;\r\n  pagination: number = SmoTextGroup.paginations.ONCE;\r\n  purpose: number = SmoTextGroup.purposes.NONE;\r\n  spacing: number = 0;\r\n  attachToSelector: boolean = false;\r\n  selector?: SmoSelector;\r\n  musicXOffset: number = 0;\r\n  musicYOffset: number = 0;\r\n  textBlocks: SmoTextBlock[] = [];\r\n  skipRender: boolean = false; // don't render if it is being edited\r\n  static deserialize(jObj: any) {\r\n    const blocks: any = [];\r\n    const params: any = {};\r\n\r\n    // Create new scoreText object for the text blocks\r\n    jObj.textBlocks.forEach((st: any) => {\r\n      if (typeof(st.text.fontInfo.size === 'string')) {\r\n        st.text.fontInfo.size = SmoScoreText.fontPointSize(st.text.fontInfo.size);\r\n      }\r\n      const tx = new SmoScoreText(st.text);\r\n      blocks.push({ text: tx, position: st.position });\r\n    });\r\n    // fill in the textBlock configuration\r\n    SmoTextGroup.attributes.forEach((attr) => {\r\n      if (attr !== 'textBlocks') {\r\n        if (typeof (jObj[attr]) !== 'undefined') {\r\n          params[attr] = jObj[attr];\r\n        }\r\n      }\r\n    });\r\n    params.blocks = blocks;\r\n    return new SmoTextGroup(params);\r\n  }\r\n  // ### getPagedTextGroups\r\n  // If this text is repeated on page, create duplicates for each page, and\r\n  // resolve page numbers;\r\n  static getPagedTextGroups(tg: SmoTextGroup, pages: number, pageHeight: number): SmoTextGroup[] {\r\n    const rv: SmoTextGroup[] = [];\r\n    let i: number = 0;\r\n    if (tg.pagination === SmoTextGroup.paginations.ONCE) {\r\n      rv.push(tg);\r\n      return rv;\r\n    }\r\n    for (i = 0; i < pages; ++i) {\r\n      const ix: number = i;\r\n      const nblocks: any = [];\r\n      // deep copy the blocks so the page offsets don't bleed into\r\n      // original.\r\n      tg.textBlocks.forEach((block) => {\r\n        const nscoreText = new SmoScoreText(block.text);\r\n        nblocks.push({\r\n          text: nscoreText, position: block.position\r\n        });\r\n      });\r\n      const params: SmoTextGroupParams = {} as SmoTextGroupParams;\r\n      SmoTextGroup.attributes.forEach((attr) => {\r\n        if (attr !== 'textBlocks') {\r\n          (params as any)[attr] = (tg as any)[attr];\r\n        }\r\n      });\r\n      params.blocks = nblocks;\r\n      const ngroup: SmoTextGroup = new SmoTextGroup(params);\r\n      ngroup.textBlocks.forEach((block) => {\r\n        const xx = block.text;\r\n        xx.classes = 'score-text ' + xx.attrs.id;\r\n        xx.text = xx.text.replace('###', (ix + 1).toString()); /// page number\r\n        xx.text = xx.text.replace('@@@', pages.toString()); /// page number\r\n        xx.y += pageHeight * ix;\r\n      });\r\n      rv.push(ngroup);\r\n    }\r\n    return rv;\r\n  }\r\n  serialize(): any {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoTextGroup.defaults, SmoTextGroup.attributes, this, params);\r\n    params.ctor = 'SmoTextGroup';\r\n    params.attrs = JSON.parse(JSON.stringify(this.attrs));\r\n    return params;\r\n  }\r\n  /* _isScoreText(st: ) {\r\n    return st.ctor && st.ctor === 'SmoScoreText';\r\n  } */\r\n  constructor(params: SmoTextGroupParams) {\r\n    super('SmoTextGroup');\r\n    if (typeof (params) === 'undefined') {\r\n      params = {} as SmoTextGroupParams;\r\n    }\r\n    this.textBlocks = [];\r\n    Vex.Merge(this, SmoTextGroup.defaults);\r\n    Vex.Merge(this, params);\r\n    if (params.blocks) {\r\n      params.blocks.forEach((block: SmoTextBlock) => {\r\n        this.textBlocks.push(block);\r\n      });\r\n    }\r\n  }\r\n  scaleText(scale: number) {\r\n    this.musicXOffset *= scale;\r\n    this.musicYOffset *= scale;\r\n    this.textBlocks.forEach((block: SmoTextBlock) => {\r\n      block.text.x *= scale;\r\n      block.text.y *= scale;\r\n    });\r\n  }\r\n  // ### tryParseUnicode\r\n  // Try to parse unicode strings.\r\n  tryParseUnicode() {\r\n    this.textBlocks.forEach((tb) => {\r\n      tb.text.tryParseUnicode();\r\n    });\r\n  }\r\n  estimateWidth() {\r\n    let rv = 0;\r\n    this.textBlocks.forEach((tb) => {\r\n      rv += tb.text.estimateWidth();\r\n    });\r\n    return rv;\r\n  }\r\n  // avoid saving text that can't be deleted\r\n  isTextVisible() {\r\n    let rv = true;\r\n    if (this.attachToSelector) {\r\n      return true;\r\n    }\r\n    this.textBlocks.forEach((block) => {\r\n      if (block.text.x < 0 || block.text.y < 0) {\r\n        rv = false;\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  // ### setActiveBlock\r\n  // let the UI know which block is being edited.  Parameter null means reset all\r\n  setActiveBlock(scoreText: SmoScoreText | null) {\r\n    this.textBlocks.forEach((block) => {\r\n      if (scoreText != null && block.text.attrs.id === scoreText.attrs.id) {\r\n        block.activeText = true;\r\n      } else {\r\n        block.activeText = false;\r\n      }\r\n    });\r\n  }\r\n  // For editing, keep track of the active text block.\r\n  getActiveBlock() {\r\n    const rv = this.textBlocks.find((block) => block.activeText === true);\r\n    if (typeof (rv) !== 'undefined') {\r\n      return rv.text;\r\n    }\r\n    return this.textBlocks[0].text;\r\n  }\r\n  setRelativePosition(position: number) {\r\n    this.textBlocks.forEach((block) => {\r\n      block.position = position;\r\n    });\r\n    this.relativePosition = position;\r\n  }\r\n  firstBlock() {\r\n    return this.textBlocks[0].text;\r\n  }\r\n  indexOf(scoreText: SmoScoreText) {\r\n    return this.textBlocks.findIndex((block) => block.text.attrs.id === scoreText.attrs.id);\r\n  }\r\n  addScoreText(scoreText: SmoScoreText, position: number = SmoTextGroup.relativePositions.LEFT) {\r\n    this.textBlocks.push({ text: scoreText, position, activeText: false });\r\n  }\r\n  ul() {\r\n    const rv = { x: 0, y: 0 };\r\n    this.textBlocks.forEach((block) => {\r\n      rv.x = block.text.x > rv.x ? block.text.x : rv.x;\r\n      rv.y = block.text.y > rv.y ? block.text.y : rv.y;\r\n    });\r\n    return rv;\r\n  }\r\n  removeBlock(scoreText: SmoScoreText) {\r\n    const bbid = (typeof (scoreText) === 'string') ? scoreText : scoreText.attrs.id;\r\n    const ix = this.textBlocks.findIndex((bb) => bb.text.attrs.id === bbid);\r\n    this.textBlocks.splice(ix, 1);\r\n  }\r\n  offsetX(offset: number) {\r\n    if (this.attachToSelector) {\r\n      this.musicXOffset += offset;\r\n    }\r\n    this.textBlocks.forEach((block) => {\r\n      block.text.offsetX(offset);\r\n    });\r\n  }\r\n  offsetY(offset: number) {\r\n    if (this.attachToSelector) {\r\n      this.musicYOffset += offset;\r\n    }\r\n    this.textBlocks.forEach((block) => {\r\n      block.text.offsetY(offset);\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoSelector } from '../xform/selections';\r\nimport { SmoNote } from './note';\r\nimport { SmoAttrs, SvgPoint, SmoObjectParams, Clef, SvgBox, SmoModifierBase } from './common';\r\n\r\nconst VF = eval('Vex.Flow');\r\n\r\n// ## StaffModifiers\r\n// ## Description:\r\n// This file contains modifiers that might take up multiple measures, and are thus associated\r\n// with the staff.\r\n// ## Staff Modifier Classes:\r\n// ---\r\n// ## StaffModifierBase\r\n// ## Description:\r\n// Base class that mostly standardizes the interface and deals with serialization.\r\nexport abstract class StaffModifierBase implements SmoModifierBase {\r\n  attrs: SmoAttrs;\r\n  ctor: string;\r\n  startSelector: SmoSelector = SmoSelector.default;\r\n  endSelector: SmoSelector = SmoSelector.default;\r\n  renderedBox: SvgBox | null = null;\r\n  logicalBox: SvgBox | null = null;\r\n  constructor(ctor: string) {\r\n    this.ctor = ctor;\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: ctor\r\n    };\r\n  }\r\n  static deserialize(params: SmoObjectParams) {\r\n    const ctor = eval('globalThis.Smo.' + params.ctor);\r\n    const rv = new ctor(params);\r\n    return rv;\r\n  }\r\n  abstract serialize(): any;\r\n}\r\n// WIP\r\nexport class SmoInstrument {\r\n  static get attributes() {\r\n    return ['startSelector', 'endSelector', 'transposeIndex', 'midichannel', 'midiport', 'instrument', 'abbreviation'];\r\n  }\r\n  instrument: string = '';\r\n  keyOffset: number = 0;\r\n  clef: Clef = 'treble';\r\n  serialize() {}\r\n}\r\n// WIP\r\nexport class SmoPartMap {\r\n  static get attributes() {\r\n    return ['staffId', 'name', 'abbreviation', 'scoreGroup', 'partnerId', 'instrumentMap', 'layoutManager'];\r\n  }\r\n}\r\n\r\nexport interface SmoStaffHairpinParams {\r\n  xOffsetLeft: number,\r\n  xOffsetRight: number,\r\n  yOffset: number,\r\n  height: number,\r\n  position: number,\r\n  hairpinType: number,\r\n  startSelector: SmoSelector,\r\n  endSelector: SmoSelector\r\n}\r\n\r\n// ## SmoStaffHairpin\r\n// ## Descpription:\r\n// crescendo/decrescendo\r\nexport class SmoStaffHairpin extends StaffModifierBase {\r\n  static get editableAttributes() {\r\n    return ['xOffsetLeft', 'xOffsetRight', 'yOffset', 'height'];\r\n  }\r\n  static get defaults(): SmoStaffHairpinParams {\r\n    return JSON.parse(JSON.stringify({\r\n      xOffsetLeft: -2,\r\n      xOffsetRight: 0,\r\n      yOffset: -50,\r\n      height: 10,\r\n      position: SmoStaffHairpin.positions.BELOW,\r\n      hairpinType: SmoStaffHairpin.types.CRESCENDO,\r\n      startSelector: SmoSelector.default,\r\n      endSelector: SmoSelector.default\r\n    }));\r\n  }\r\n  static get positions() {\r\n    // matches VF.modifier\r\n    return {\r\n      LEFT: 1,\r\n      RIGHT: 2,\r\n      ABOVE: 3,\r\n      BELOW: 4,\r\n    };\r\n  }\r\n  static get types() {\r\n    return {\r\n      CRESCENDO: 1,\r\n      DECRESCENDO: 2\r\n    };\r\n  }\r\n  static get attributes() {\r\n    return ['position', 'startSelector', 'endSelector', 'xOffsetLeft',\r\n      'xOffsetRight', 'yOffset', 'hairpinType', 'height'];\r\n  }\r\n  xOffsetLeft: number = -2;\r\n  xOffsetRight: number = 0;\r\n  yOffset: number = -50;\r\n  height: number = 10;\r\n  position: number = SmoStaffHairpin.positions.BELOW;\r\n  hairpinType: number = SmoStaffHairpin.types.CRESCENDO;\r\n  startSelector: SmoSelector = SmoSelector.default;\r\n  endSelector: SmoSelector = SmoSelector.default;\r\n  serialize() {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoStaffHairpin.defaults, SmoStaffHairpin.attributes, this, params);\r\n    params.ctor = 'SmoStaffHairpin';\r\n    return params;\r\n  }\r\n  constructor(params: SmoStaffHairpinParams) {\r\n    super('SmoStaffHairpin');\r\n    Vex.Merge(this, SmoStaffHairpin.defaults);\r\n    smoSerialize.filteredMerge(SmoStaffHairpin.attributes, params, this);\r\n    // If start/end selector on same note, make sure the hairpin extends\r\n    if (SmoSelector.eq(this.startSelector, this.endSelector)) {\r\n      if (this.xOffsetRight === SmoStaffHairpin.defaults.xOffsetRight\r\n        && this.xOffsetLeft === SmoStaffHairpin.defaults.xOffsetLeft) {\r\n        this.xOffsetLeft = -10;\r\n        this.xOffsetRight = 10;\r\n      }\r\n    }\r\n\r\n    if (!this.attrs) {\r\n      this.attrs = {\r\n        id: VF.Element.newID(),\r\n        type: 'SmoStaffHairpin'\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\nexport interface SmoSlurParams {\r\n  spacing: number,\r\n  thickness: number,\r\n  xOffset: number,\r\n  yOffset: number,\r\n  position: number,\r\n  position_end: number,\r\n  invert: boolean,\r\n  cp1x: number,\r\n  cp1y: number,\r\n  cp2x: number,\r\n  cp2y: number,\r\n  startSelector: SmoSelector,\r\n  endSelector: SmoSelector\r\n}\r\n// ## SmoSlur\r\n// ## Description:\r\n// slur staff modifier\r\n// ## SmoSlur Methods:\r\n// ---\r\nexport class SmoSlur extends StaffModifierBase {\r\n  static get defaults(): SmoSlurParams {\r\n    return JSON.parse(JSON.stringify({\r\n      spacing: 2,\r\n      thickness: 2,\r\n      xOffset: -5,\r\n      yOffset: 10,\r\n      position: SmoSlur.positions.HEAD,\r\n      position_end: SmoSlur.positions.HEAD,\r\n      invert: false,\r\n      cp1x: 0,\r\n      cp1y: 15,\r\n      cp2x: 0,\r\n      cp2y: 15,\r\n      startSelector: SmoSelector.default,\r\n      endSelector: SmoSelector.default\r\n    }));\r\n  }\r\n\r\n  // matches VF curve\r\n  static get positions() {\r\n    return {\r\n      HEAD: 1,\r\n      TOP: 2\r\n    };\r\n  }\r\n  static get parameterArray() {\r\n    return ['startSelector', 'endSelector', 'spacing', 'xOffset', 'yOffset', 'position', 'position_end', 'invert',\r\n      'cp1x', 'cp1y', 'cp2x', 'cp2y', 'thickness', 'pitchesStart', 'pitchesEnd'];\r\n  }\r\n  spacing: number = 2;\r\n  thickness: number = 2;\r\n  xOffset: number = -5;\r\n  yOffset: number = 10;\r\n  position: number = SmoSlur.positions.HEAD;\r\n  position_end: number = SmoSlur.positions.HEAD;\r\n  invert: boolean = false;\r\n  cp1x: number = 0;\r\n  cp1y: number = 15;\r\n  cp2x: number = 0;\r\n  cp2y: number = 15;\r\n  startSelector: SmoSelector = SmoSelector.default;\r\n  endSelector: SmoSelector = SmoSelector.default;\r\n\r\n  serialize(): any {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoSlur.defaults,\r\n      SmoSlur.parameterArray, this, params);\r\n    params.ctor = 'SmoSlur';\r\n    return params;\r\n  }\r\n  get controlPoints(): SvgPoint[] {\r\n    const ar: SvgPoint[] = [{\r\n      x: this.cp1x,\r\n      y: this.cp1y\r\n    }, {\r\n      x: this.cp2x,\r\n      y: this.cp2y\r\n    }];\r\n    return ar;\r\n  }\r\n\r\n  constructor(params: SmoSlurParams) {\r\n    super('SmoSlur');\r\n    smoSerialize.serializedMerge(SmoSlur.parameterArray, SmoSlur.defaults, this);\r\n    smoSerialize.serializedMerge(SmoSlur.parameterArray, params, this);\r\n    this.startSelector = params.startSelector;\r\n    this.endSelector = params.endSelector;\r\n    // TODO: allow user to customize these\r\n    if (!this.attrs) {\r\n      this.attrs = {\r\n        id: VF.Element.newID(),\r\n        type: 'SmoSlur'\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\nexport interface TieLine {\r\n  from: number,\r\n  to: number\r\n}\r\nexport interface SmoTieParams {\r\n  invert: boolean,\r\n  cp1: number,\r\n  cp2: number,\r\n  first_x_shift: number,\r\n  last_x_shift: number,\r\n  lines: TieLine[],\r\n  startSelector: SmoSelector | null,\r\n  endSelector: SmoSelector | null\r\n}\r\n// ## SmoTie\r\n// like slur but multiple pitches\r\n// ---\r\nexport class SmoTie extends StaffModifierBase {\r\n  invert: boolean = false;\r\n  cp1: number = 8;\r\n  cp2: number = 12;\r\n  first_x_shift: number = 0;\r\n  last_x_shift: number = 0;\r\n  lines: TieLine[] = [];\r\n  startSelector: SmoSelector = SmoSelector.default;\r\n  endSelector: SmoSelector = SmoSelector.default;\r\n  static get defaults(): SmoTieParams {\r\n    return JSON.parse(JSON.stringify({\r\n      invert: false,\r\n      cp1: 8,\r\n      cp2: 12,\r\n      first_x_shift: 0,\r\n      last_x_shift: 0,\r\n      lines: [],\r\n      startSelector: SmoSelector.default,\r\n      endSelector: SmoSelector.default\r\n    }));\r\n  }\r\n\r\n  static get parameterArray() {\r\n    return ['startSelector', 'endSelector', 'invert', 'lines', 'cp1', 'cp2', 'first_x_shift', 'last_x_shift'];\r\n  }\r\n  static get vexParameters() {\r\n    return ['cp1', 'cp2', 'first_x_shift', 'last_x_shift'];\r\n  }\r\n  static createLines(fromNote: SmoNote, toNote: SmoNote): TieLine[] {\r\n    const maxPitches = Math.max(fromNote.pitches.length, toNote.pitches.length);\r\n    let i = 0;\r\n    const lines: TieLine[] = [];\r\n    // By default, just tie all the pitches to all the other pitches in order\r\n    for (i = 0; i < maxPitches; ++i) {\r\n      const from = i < fromNote.pitches.length ? i : fromNote.pitches.length - 1;\r\n      const to = i < toNote.pitches.length ? i : toNote.pitches.length - 1;\r\n      lines.push({ from, to });\r\n    }\r\n    return lines;\r\n  }\r\n  get vexOptions() {\r\n    const rv: any = {};\r\n    rv.direction = this.invert ? VF.Stem.DOWN : VF.Stem.UP;\r\n    SmoTie.vexParameters.forEach((p) => {\r\n      rv[p] = (this as any)[p];\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  serialize() {\r\n    const params: any = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoTie.defaults,\r\n      SmoTie.parameterArray, this, params);\r\n\r\n    params.ctor = 'SmoTie';\r\n    return params;\r\n  }\r\n  // ### checkLines\r\n  // If the note chords have changed, the lines may no longer be valid so update them\r\n  checkLines(fromNote: SmoNote, toNote: SmoNote) {\r\n    const maxTo = this.lines.map((ll) => ll.to).reduce((a, b) => a > b ? a : b);\r\n    const maxFrom = this.lines.map((ll) => ll.from).reduce((a, b) => a > b ? a : b);\r\n    if (maxTo < toNote.pitches.length && maxFrom < fromNote.pitches.length) {\r\n      return;\r\n    }\r\n    this.lines = SmoTie.createLines(fromNote, toNote);\r\n  }\r\n  constructor(params: SmoTieParams) {\r\n    super('SmoTie');\r\n    smoSerialize.serializedMerge(SmoTie.parameterArray, SmoTie.defaults, this);\r\n    smoSerialize.serializedMerge(SmoTie.parameterArray, params, this);\r\n    if (!this.attrs) {\r\n      this.attrs = {\r\n        id: VF.Element.newID(),\r\n        type: 'SmoTie'\r\n      };\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoMeasure } from './measure';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoSelector } from '../xform/selections';\r\nimport { smoBeamerFactory } from '../xform/beamers';\r\nimport { StaffModifierBase } from './staffModifiers';\r\nimport { SmoRehearsalMark, SmoRehearsalMarkParams, SmoTempoTextParams, SmoVolta } from './measureModifiers';\r\nimport { SmoObjectParams, SmoAttrs, FontInfo, MeasureNumber } from './common';\r\n\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface InstrumentInfo {\r\n  instrumentName: string,\r\n  keyOffset: number,\r\n  clef: string\r\n}\r\n\r\nexport interface SmoSystemStaffParams {\r\n  staffX: number,\r\n  staffY: number,\r\n  adjY: number,\r\n  staffWidth: number,\r\n  staffHeight: number,\r\n  staffId: number,\r\n  renumberingMap: Record<number, number>,\r\n  keySignatureMap: Record<number, string>,\r\n  instrumentInfo: InstrumentInfo,\r\n  measures: SmoMeasure[],\r\n  modifiers: StaffModifierBase[]\r\n}\r\n// ## SmoSystemStaff\r\n// A staff is a line of music that can span multiple measures.\r\n// A system is a line of music for each staff in the score.  So a staff\r\n// spans multiple systems.\r\n// A staff modifier connects 2 points in the staff.\r\nexport class SmoSystemStaff implements SmoObjectParams {\r\n  staffX: number = 10;\r\n  staffY: number = 40;\r\n  adjY: number = 0;\r\n  staffWidth: number = 1600;\r\n  staffHeight: number = 90;\r\n  staffId: number = 0;\r\n  renumberingMap: Record<number, number> = {};\r\n  keySignatureMap: Record<number, string> = {};\r\n  instrumentInfo: InstrumentInfo = {\r\n    instrumentName: 'Treble Instrument',\r\n    keyOffset: 0,\r\n    clef: 'treble'\r\n  };\r\n  measures: SmoMeasure[] = [];\r\n  modifiers: StaffModifierBase[] = [];\r\n  attrs: SmoAttrs = {\r\n    id: '',\r\n    type: 'SmoSystemStaff'\r\n  }\r\n  ctor: string = 'SmoSystemStaff';\r\n  _mappedStaffId: number = 0;\r\n\r\n  // ### defaults\r\n  // default values for all instances\r\n  static get defaults(): SmoSystemStaffParams {\r\n    return JSON.parse(JSON.stringify({\r\n      staffX: 10,\r\n      staffY: 40,\r\n      adjY: 0,\r\n      staffWidth: 1600,\r\n      staffHeight: 90,\r\n      staffId: 0,\r\n      renumberingMap: {},\r\n      keySignatureMap: {},\r\n      instrumentInfo: {\r\n        instrumentName: 'Treble Instrument',\r\n        keyOffset: 0,\r\n        clef: 'treble'\r\n      },\r\n      measures: [],\r\n      modifiers: []\r\n    }));\r\n  }\r\n  setMappedStaffId(value: number) {\r\n    this._mappedStaffId = value;\r\n  }\r\n  getMappedStaffId(): number {\r\n    return this._mappedStaffId;\r\n  }\r\n\r\n  constructor(params: SmoSystemStaffParams) {\r\n    this.measures = [];\r\n    Vex.Merge(this, SmoSystemStaff.defaults);\r\n    Vex.Merge(this, params);\r\n    if (this.measures.length) {\r\n      this.numberMeasures();\r\n    }\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'SmoSystemStaff'\r\n    };\r\n  }\r\n\r\n  // ### defaultParameters\r\n  // the parameters that get saved with the score.\r\n  static get defaultParameters() {\r\n    return [\r\n      'staffId', 'staffX', 'staffY', 'adjY', 'staffWidth', 'staffHeight',\r\n      'renumberingMap', 'keySignatureMap', 'instrumentInfo'];\r\n  }\r\n\r\n  // ### serialize\r\n  // JSONify self.\r\n  serialize() {\r\n    const params: any = {};\r\n    smoSerialize.serializedMerge(SmoSystemStaff.defaultParameters, this, params);\r\n    params.modifiers = [];\r\n    params.measures = [];\r\n    this.measures.forEach((measure) => {\r\n      params.measures.push(measure.serialize());\r\n    });\r\n    this.modifiers.forEach((modifier) => {\r\n      params.modifiers.push(modifier.serialize());\r\n    });\r\n    return params;\r\n  }\r\n\r\n  // ### deserialize\r\n  // parse formerly serialized staff.\r\n  static deserialize(jsonObj: any) {\r\n    const params: any = {};\r\n    smoSerialize.serializedMerge(\r\n      ['staffId', 'staffX', 'staffY', 'staffWidth',\r\n        'renumberingMap', 'instrumentInfo'],\r\n      jsonObj, params);\r\n    params.measures = [];\r\n    jsonObj.measures.forEach((measureObj: any) => {\r\n      const measure = SmoMeasure.deserialize(measureObj);\r\n      params.measures.push(measure);\r\n    });\r\n    const rv = new SmoSystemStaff(params);\r\n    if (jsonObj.modifiers) {\r\n      jsonObj.modifiers.forEach((params: any) => {\r\n        const mod = StaffModifierBase.deserialize(params);\r\n        rv.modifiers.push(mod);\r\n      });\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### addStaffModifier\r\n  // add a staff modifier, or replace a modifier of same type\r\n  // with same endpoints.\r\n  addStaffModifier(modifier: StaffModifierBase) {\r\n    this.removeStaffModifier(modifier);\r\n    this.modifiers.push(modifier);\r\n  }\r\n\r\n  // ### removeStaffModifier\r\n  // Remove a modifier of given type and location\r\n  removeStaffModifier(modifier: StaffModifierBase) {\r\n    const mods: StaffModifierBase[] = [];\r\n    this.modifiers.forEach((mod: StaffModifierBase) => {\r\n      if (mod.attrs.type !== modifier.attrs.type ||\r\n        SmoSelector.neq(mod.startSelector, modifier.startSelector) ||\r\n        SmoSelector.neq(mod.endSelector, modifier.endSelector)) {\r\n        mods.push(mod);\r\n      }\r\n    });\r\n    this.modifiers = mods;\r\n  }\r\n  // ### getVoltaMap\r\n\r\n  getVoltaMap(startIndex: number, endIndex: number) {\r\n    const rv: SmoVolta[] = [];\r\n    this.measures.forEach((measure) => {\r\n      measure.getNthEndings().forEach((ending) => {\r\n        if (ending.startBar >= startIndex && ending.endBar <= endIndex) {\r\n          rv.push(ending);\r\n        }\r\n      });\r\n    });\r\n    return rv;\r\n  }\r\n  // ### getModifiersAt\r\n  // get any modifiers at the selected location\r\n  getModifiersAt(selector: SmoSelector): StaffModifierBase[] {\r\n    const rv: StaffModifierBase[] = [];\r\n    this.modifiers.forEach((mod) => {\r\n      if (SmoSelector.sameNote(mod.startSelector, selector)) {\r\n        rv.push(mod);\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  getModifier(modData: any) {\r\n    return this.getModifiers().find((mod) =>\r\n      SmoSelector.eq(mod.startSelector, modData.startSelector) && mod.attrs.type === modData.attrs.type);\r\n  }\r\n\r\n  setLyricFont(fontInfo: FontInfo) {\r\n    this.measures.forEach((measure) => {\r\n      measure.setLyricFont(fontInfo);\r\n    });\r\n  }\r\n  setLyricAdjustWidth(adjustNoteWidth: boolean) {\r\n    this.measures.forEach((measure) => {\r\n      measure.setLyricAdjustWidth(adjustNoteWidth);\r\n    });\r\n  }\r\n  setChordFont(fontInfo: FontInfo) {\r\n    this.measures.forEach((measure) => {\r\n      measure.setChordFont(fontInfo);\r\n    });\r\n  }\r\n  setChordAdjustWidth(adjustNoteWidth: boolean) {\r\n    this.measures.forEach((measure) => {\r\n      measure.setChordAdjustWidth(adjustNoteWidth);\r\n    });\r\n  }\r\n\r\n  // ### getSlursStartingAt\r\n  // like it says.  Used by audio player to slur notes\r\n  getSlursStartingAt(selector: SmoSelector) {\r\n    return this.modifiers.filter((mod) =>\r\n      SmoSelector.sameNote(mod.startSelector, selector) && mod.attrs.type === 'SmoSlur'\r\n    );\r\n  }\r\n  // ### getSlursEndingAt\r\n  // like it says.\r\n  getSlursEndingAt(selector: SmoSelector) {\r\n    return this.modifiers.filter((mod) =>\r\n      SmoSelector.sameNote(mod.endSelector, selector)\r\n    );\r\n  }\r\n\r\n  getTiesStartingAt(selector: SmoSelector) {\r\n    return this.modifiers.filter((mod) =>\r\n      SmoSelector.sameNote(mod.startSelector, selector) && mod.attrs.type === 'SmoTie'\r\n    );\r\n  }\r\n  getTiesEndingAt(selector: SmoSelector) {\r\n    return this.modifiers.filter((mod) =>\r\n      SmoSelector.sameNote(mod.endSelector, selector) && mod.attrs.type === 'SmoTie'\r\n    );\r\n  }\r\n\r\n  // ### accesor getModifiers\r\n  getModifiers() {\r\n    return this.modifiers;\r\n  }\r\n\r\n  // ### applyBeams\r\n  // group all the measures' notes into beam groups.\r\n  applyBeams() {\r\n    for (let i = 0; i < this.measures.length; ++i) {\r\n      const measure = this.measures[i];\r\n      smoBeamerFactory.applyBeams(measure);\r\n    }\r\n  }\r\n\r\n  // ### addRehearsalMark\r\n  // for all measures in the system, and also bump the\r\n  // auto-indexing\r\n  addRehearsalMark(index: number, parameters: SmoRehearsalMarkParams) {\r\n    let i = 0;\r\n    let symbol = '';\r\n    var mark = new SmoRehearsalMark(parameters);\r\n    if (!mark.increment) {\r\n      this.measures[index].addRehearsalMark(mark);\r\n      return;\r\n    }\r\n\r\n    symbol = mark.symbol;\r\n    for (i = 0; i < this.measures.length; ++i) {\r\n      const mm = this.measures[i];\r\n      if (i < index) {\r\n        const rm: SmoRehearsalMark = (mm.getRehearsalMark() as SmoRehearsalMark);\r\n        if (rm && rm.cardinality === mark.cardinality && rm.increment) {\r\n          symbol = rm.getIncrement();\r\n          mark.symbol = symbol;\r\n        }\r\n      }\r\n      if (i === index) {\r\n        mm.addRehearsalMark(mark);\r\n        symbol = mark.getIncrement();\r\n      }\r\n      if (i > index) {\r\n        const rm: SmoRehearsalMark = (mm.getRehearsalMark() as SmoRehearsalMark);\r\n        if (rm && rm.cardinality === mark.cardinality && rm.increment) {\r\n          rm.symbol = symbol;\r\n          symbol = rm.getIncrement();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeTempo(index: number) {\r\n    this.measures[index].removeTempo();\r\n  }\r\n\r\n  addTempo(tempo: SmoTempoTextParams, index: number) {\r\n    this.measures[index].addTempo(tempo);\r\n  }\r\n\r\n  // ### removeRehearsalMark\r\n  // for all measures in the system, and also decrement the\r\n  // auto-indexing\r\n  removeRehearsalMark(index: number) {\r\n    let ix: number = 0;\r\n    let symbol: string | null = null;\r\n    let card: string | null = null;\r\n    this.measures.forEach((measure) => {\r\n      if (ix === index) {\r\n        const mark: SmoRehearsalMark = measure.getRehearsalMark() as SmoRehearsalMark;\r\n        if (mark) {\r\n          symbol = mark.symbol;\r\n          card = mark.cardinality;\r\n        }\r\n        measure.removeRehearsalMark();\r\n      }\r\n      if (ix > index && symbol && card) {\r\n        const mark: SmoRehearsalMark = measure.getRehearsalMark() as SmoRehearsalMark;\r\n        if (mark && mark.increment) {\r\n          mark.symbol = symbol;\r\n          symbol = mark.getIncrement();\r\n        }\r\n      }\r\n      ix += 1;\r\n    });\r\n  }\r\n\r\n  // ### deleteMeasure\r\n  // delete the measure, and any staff modifiers that start/end there.\r\n  deleteMeasure(index: number) {\r\n    if (this.measures.length < 2) {\r\n      return; // don't delete last measure.\r\n    }\r\n    const nm: SmoMeasure[] = [];\r\n    this.measures.forEach((measure) => {\r\n      if (measure.measureNumber.measureIndex !== index) {\r\n        nm.push(measure);\r\n      }\r\n    });\r\n    const sm: StaffModifierBase[] = [];\r\n    this.modifiers.forEach((mod) => {\r\n      // Bug: if we are deleting a measure before the selector, change the measure number.\r\n      if (mod.startSelector.measure !== index && mod.endSelector.measure !== index) {\r\n        if (index < mod.startSelector.measure) {\r\n          mod.startSelector.measure -= 1;\r\n        }\r\n        if (index < mod.endSelector.measure) {\r\n          mod.endSelector.measure -= 1;\r\n        }\r\n        sm.push(mod);\r\n      }\r\n    });\r\n    this.measures = nm;\r\n    this.modifiers = sm;\r\n    this.numberMeasures();\r\n  }\r\n\r\n  // ### addKeySignature\r\n  // Add key signature to the given measure and update map so we know\r\n  // when it changes, cancels etc.\r\n  addKeySignature(measureIndex: number, key: string) {\r\n    this.keySignatureMap[measureIndex] = key;\r\n    const target = this.measures[measureIndex];\r\n    target.keySignature = key;\r\n  }\r\n\r\n  _updateKeySignatures() {\r\n    let i = 0;\r\n    const currentSig = this.measures[0].keySignature;\r\n\r\n    for (i = 0; i < this.measures.length; ++i) {\r\n      const measure = this.measures[i];\r\n      const nextSig = this.keySignatureMap[i] ? this.keySignatureMap[i] : currentSig;\r\n      measure.setKeySignature(nextSig);\r\n    }\r\n  }\r\n\r\n  // ### numberMeasures\r\n  // After anything that might change the measure numbers, update them iteratively\r\n  numberMeasures() {\r\n    let pickupOffset: number = 0;\r\n    let i: number = 0;\r\n    let renumberIndex = 0;\r\n    // Start measure from -1 for pickup\r\n    if (this.measures[0].getTicksFromVoice(0) < smoMusic.timeSignatureToTicks(this.measures[0].timeSignature.timeSignature)) {\r\n      pickupOffset = -1;\r\n    }\r\n\r\n    for (i = 0; i < this.measures.length; ++i) {\r\n      const measure = this.measures[i];\r\n\r\n      renumberIndex = typeof (this.renumberingMap[i]) === 'undefined' ? 0 : this.renumberingMap[i];\r\n      const localIndex: number = renumberIndex + i + pickupOffset;\r\n      // If this is the first full measure, call it '1'\r\n      const numberObj: MeasureNumber = {\r\n        localIndex,\r\n        measureIndex: i,\r\n        systemIndex: i,\r\n        staffId: this.staffId\r\n      };\r\n      measure.setMeasureNumber(numberObj);\r\n    }\r\n  }\r\n\r\n  addDefaultMeasure(index: number, params: SmoMeasure) {\r\n    const measure = SmoMeasure.getDefaultMeasure(params);\r\n    this.addMeasure(index, measure);\r\n  }\r\n\r\n  // ## addMeasure\r\n  // ## Description:\r\n  // Add the measure at the specified index, splicing the array as required.\r\n  addMeasure(index: number, measure: SmoMeasure) {\r\n    if (index === 0 && this.measures.length) {\r\n      measure.setMeasureNumber(this.measures[0].measureNumber);\r\n    }\r\n    if (index >= this.measures.length) {\r\n      this.measures.push(measure);\r\n    } else {\r\n      this.measures.splice(index, 0, measure);\r\n    }\r\n    const modifiers = this.modifiers.filter((mod) => mod.startSelector.measure >= index);\r\n    modifiers.forEach((mod) => {\r\n      if (mod.startSelector.measure < this.measures.length) {\r\n        mod.startSelector.measure += 1;\r\n      }\r\n      if (mod.endSelector.measure < this.measures.length) {\r\n        mod.endSelector.measure += 1;\r\n      }\r\n    });\r\n    this.numberMeasures();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoNote } from './note';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoNoteModifierBase } from './noteModifiers';\r\nimport { SmoAttrs, Clef } from './common';\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface SmoTupletParams {\r\n  notes: SmoNote[],\r\n  numNotes: number,\r\n  stemTicks: number,\r\n  totalTicks: number,\r\n  durationMap: number[],\r\n  ratioed: boolean,\r\n  bracketed: boolean,\r\n  voice: number,\r\n  startIndex: number\r\n}\r\n\r\nexport class SmoTuplet {\r\n  static get defaults(): SmoTupletParams {\r\n    return JSON.parse(JSON.stringify({\r\n      notes: [],\r\n      numNotes: 3,\r\n      stemTicks: 2048,\r\n      totalTicks: 4096, // how many ticks this tuple takes up\r\n      durationMap: [1.0, 1.0, 1.0],\r\n      bracketed: true,\r\n      voice: 0,\r\n      ratioed: false,\r\n      startIndex: 0\r\n    }));\r\n  }\r\n  attrs: SmoAttrs;\r\n  notes: SmoNote[];\r\n  numNotes: number = 3;\r\n  stemTicks: number = 2048;\r\n  totalTicks: number = 4096;\r\n  durationMap: number[] = [1.0, 1.0, 1.0];\r\n  bracketed: boolean = true;\r\n  voice: number = 0;\r\n  ratioed: boolean = false;\r\n  startIndex: number = 0;\r\n\r\n  get clonedParams() {\r\n    const paramAr = ['stemTicks', 'ticks', 'totalTicks', 'durationMap'];\r\n    const rv = {};\r\n    smoSerialize.serializedMerge(paramAr, this, rv);\r\n    return rv;\r\n  }\r\n\r\n  static get parameterArray() {\r\n    return ['stemTicks', 'ticks', 'totalTicks',\r\n      'durationMap', 'attrs', 'ratioed', 'bracketed', 'voice', 'startIndex'];\r\n  }\r\n\r\n  serialize() {\r\n    const params = {};\r\n    smoSerialize.serializedMergeNonDefault(SmoTuplet.defaults,\r\n      SmoTuplet.parameterArray, this, params);\r\n    return params;\r\n  }\r\n\r\n  static calculateStemTicks(totalTicks: number, numNotes: number) {\r\n    const stemValue = totalTicks / numNotes;\r\n    let stemTicks = SmoTuplet.longestTuplet;\r\n\r\n    // The stem value is the type on the non-tuplet note, e.g. 1/8 note\r\n    // for a triplet.\r\n    while (stemValue < stemTicks) {\r\n      stemTicks = stemTicks / 2;\r\n    }\r\n    return stemTicks * 2;\r\n  }\r\n  constructor(params: SmoTupletParams) {\r\n    Vex.Merge(this, SmoTuplet.defaults);\r\n    smoSerialize.serializedMerge(SmoTuplet.parameterArray, params, this);\r\n    this.notes = params.notes;\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'SmoTuplet'\r\n    };\r\n    this._adjustTicks();\r\n  }\r\n  static get longestTuplet() {\r\n    return 8192;\r\n  }\r\n  static cloneTuplet(tuplet: SmoTuplet): SmoTuplet {\r\n    let i = 0;\r\n    const noteAr = tuplet.notes;\r\n    const durationMap = JSON.parse(JSON.stringify(tuplet.durationMap)); // deep copy array\r\n\r\n    // Add any remainders for oddlets\r\n    const totalTicks = noteAr.map((nn) => nn.ticks.numerator + nn.ticks.remainder)\r\n      .reduce((acc, nn) => acc + nn);\r\n\r\n    const numNotes: number = tuplet.numNotes;\r\n    const stemTicks = SmoTuplet.calculateStemTicks(totalTicks, numNotes);\r\n\r\n    const tupletNotes: SmoNote[] = [];\r\n\r\n    noteAr.forEach((note) => {\r\n      const textModifiers = note.textModifiers;\r\n      // Note preserver remainder\r\n      note = SmoNote.cloneWithDuration(note, {\r\n        numerator: stemTicks * tuplet.durationMap[i],\r\n        denominator: 1,\r\n        remainder: note.ticks.remainder\r\n      });\r\n\r\n      // Don't clone modifiers, except for first one.\r\n      if (i === 0) {\r\n        const ntmAr: any = [];\r\n        textModifiers.forEach((tm) => {\r\n          const ntm = SmoNoteModifierBase.deserialize(tm);\r\n          ntmAr.push(ntm);\r\n        });\r\n        note.textModifiers = ntmAr;\r\n      }\r\n      i += 1;\r\n      tupletNotes.push(note);\r\n    });\r\n    const rv = new SmoTuplet({\r\n      numNotes: tuplet.numNotes,\r\n      voice: tuplet.voice,\r\n      notes: tupletNotes,\r\n      stemTicks,\r\n      totalTicks,\r\n      ratioed: false,\r\n      bracketed: true,\r\n      startIndex: tuplet.startIndex,\r\n      durationMap\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  _adjustTicks() {\r\n    let i = 0;\r\n    const sum = this.durationSum;\r\n    for (i = 0; i < this.notes.length; ++i) {\r\n      const note = this.notes[i];\r\n      // TODO:  notes_occupied needs to consider vex duration\r\n      note.ticks.denominator = 1;\r\n      note.ticks.numerator = Math.floor((this.totalTicks * this.durationMap[i]) / sum);\r\n      note.tuplet = this.attrs;\r\n    }\r\n\r\n    // put all the remainder in the first note of the tuplet\r\n    const noteTicks = this.notes.map((nn) => nn.tickCount)\r\n      .reduce((acc, dd) => acc + dd);\r\n    // bug fix:  if this is a clones tuplet, remainder is already set\r\n    this.notes[0].ticks.remainder =\r\n      this.notes[0].ticks.remainder + this.totalTicks - noteTicks;\r\n  }\r\n  getIndexOfNote(note: SmoNote | null): number {\r\n    let rv = -1;\r\n    let i = 0;\r\n    if (!note) {\r\n      return -1;\r\n    }\r\n    for (i = 0; i < this.notes.length; ++i) {\r\n      const tn = this.notes[i];\r\n      if (note.attrs.id === tn.attrs.id) {\r\n        rv = i;\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  split(combineIndex: number) {\r\n    let i = 0;\r\n    const multiplier = 0.5;\r\n    const nnotes: SmoNote[] = [];\r\n    const nmap: number[] = [];\r\n    for (i = 0; i < this.notes.length; ++i) {\r\n      const note = this.notes[i];\r\n      if (i === combineIndex) {\r\n        nmap.push(this.durationMap[i] * multiplier);\r\n        nmap.push(this.durationMap[i] * multiplier);\r\n        note.ticks.numerator *= multiplier;\r\n\r\n        const onote = SmoNote.clone(note);\r\n        // remainder is for the whole tuplet, so don't duplicate that.\r\n        onote.ticks.remainder = 0;\r\n        nnotes.push(note);\r\n        nnotes.push(onote);\r\n      } else {\r\n        nmap.push(this.durationMap[i]);\r\n        nnotes.push(note);\r\n      }\r\n    }\r\n    this.notes = nnotes;\r\n    this.durationMap = nmap;\r\n  }\r\n  combine(startIndex: number, endIndex: number) {\r\n    let i = 0;\r\n    let base = 0.0;\r\n    let acc = 0.0;\r\n    // can't combine in this way, too many notes\r\n    if (this.notes.length <= endIndex || startIndex >= endIndex) {\r\n      return this;\r\n    }\r\n    for (i = startIndex; i <= endIndex; ++i) {\r\n      acc += this.durationMap[i];\r\n      if (i === startIndex) {\r\n        base = this.durationMap[i];\r\n      } else if (this.durationMap[i] !== base) {\r\n        // Can't combine non-equal tuplet notes\r\n        return this;\r\n      }\r\n    }\r\n    // how much each combined value will be multiplied by\r\n    const multiplier = acc / base;\r\n\r\n    const nmap = [];\r\n    const nnotes = [];\r\n    // adjust the duration map\r\n    for (i = 0; i < this.notes.length; ++i) {\r\n      const note = this.notes[i];\r\n      // notes that don't change are unchanged\r\n      if (i < startIndex || i > endIndex) {\r\n        nmap.push(this.durationMap[i]);\r\n        nnotes.push(note);\r\n      }\r\n      // changed note with combined duration\r\n      if (i === startIndex) {\r\n        note.ticks.numerator = note.ticks.numerator * multiplier;\r\n        nmap.push(acc);\r\n        nnotes.push(note);\r\n      }\r\n      // other notes after startIndex are removed from the map.\r\n    }\r\n    this.notes = nnotes;\r\n    this.durationMap = nmap;\r\n    return this;\r\n  }\r\n\r\n  // ### getStemDirection\r\n  // Return the stem direction, so we can bracket the correct place\r\n  getStemDirection(clef: Clef) {\r\n    const note = this.notes.find((nn) => nn.noteType === 'n');\r\n    if (!note) {\r\n      return SmoNote.flagStates.down;\r\n    }\r\n    if (note.flagState !== SmoNote.flagStates.auto) {\r\n      return note.flagState;\r\n    }\r\n    return smoMusic.pitchToLedgerLine(clef, note.pitches[0])\r\n      >= 2 ? SmoNote.flagStates.up : SmoNote.flagStates.down;\r\n  }\r\n  get durationSum() {\r\n    let acc = 0;\r\n    let i = 0;\r\n    for (i = 0; i < this.durationMap.length; ++i) {\r\n      acc += this.durationMap[i];\r\n    }\r\n    return Math.round(acc);\r\n  }\r\n  get num_notes() {\r\n    return this.durationSum;\r\n  }\r\n  get notes_occupied() {\r\n    return Math.floor(this.totalTicks / this.stemTicks);\r\n  }\r\n  get note_ticks_occupied() {\r\n    return this.totalTicks / this.stemTicks;\r\n  }\r\n  get tickCount() {\r\n    let rv = 0;\r\n    let i = 0;\r\n    for (i = 0; i < this.notes.length; ++i) {\r\n      const note = this.notes[i];\r\n      rv += (note.ticks.numerator / note.ticks.denominator) + note.ticks.remainder;\r\n    }\r\n    return rv;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoSelector } from '../xform/selections';\r\nimport { SmoAudioScore } from '../xform/audioTrack';\r\nimport { SmoScore } from '../data/score';\r\ndeclare var MidiWriter: any;\r\n\r\nexport interface MidiTrackHash {\r\n  track: any,\r\n  lastMeasure: number\r\n}\r\n\r\nexport class SmoToMidi {\r\n  static convert(score: SmoScore) {\r\n    const beatTime = 128;  // midi ticks per beat\r\n    const converter = new SmoAudioScore(score, beatTime);\r\n    const audioScore = converter.convert();\r\n    const smoTracks = audioScore.tracks;\r\n    const trackHash: Record<number | string, MidiTrackHash> = {};\r\n    smoTracks.forEach((smoTrack, trackIx) => {\r\n      let j = 0;\r\n      if (typeof(trackHash[trackIx]) === 'undefined') {\r\n        trackHash[trackIx] = {\r\n          track: new MidiWriter.Track(),\r\n          lastMeasure: 0\r\n        };\r\n      }\r\n      const track = trackHash[trackIx].track;\r\n      // eslint-disable-next-line\r\n      audioScore.repeatMap.forEach((measureMap) => {\r\n        for (j = measureMap.startMeasure; j <= measureMap.endMeasure; ++j) {\r\n          // eslint-disable-next-line\r\n          const notes = smoTrack.notes.filter((nn) => nn.selector.measure === j);\r\n          notes.forEach((noteData) => {\r\n            const selectorKey = SmoSelector.getMeasureKey(noteData.selector);\r\n            if (smoTrack.tempoMap[selectorKey]) {\r\n              track.setTempo(smoTrack.tempoMap[selectorKey]);\r\n            }\r\n            if (smoTrack.timeSignatureMap[selectorKey]) {\r\n              const ts = smoTrack.timeSignatureMap[selectorKey];\r\n              track.setTimeSignature(ts.numerator, ts.denominator);\r\n            }\r\n            if (noteData.noteType === 'r') {\r\n              if (!noteData.padding) {\r\n                const rest = new MidiWriter.NoteOffEvent({\r\n                  channel: trackIx + 1,\r\n                  pitch: 'C4',\r\n                  duration: 't' + noteData.duration\r\n                });\r\n                track.addEvent(rest);\r\n              }\r\n            } else {\r\n              const pitchArray = smoMusic.smoPitchesToMidiStrings(noteData.pitches);\r\n              const velocity = Math.round(127 * noteData.volume);\r\n              const midiNote = new MidiWriter.NoteEvent({\r\n                channel: trackIx + 1,\r\n                pitch: pitchArray,\r\n                duration: 't' + noteData.duration,\r\n                velocity\r\n              });\r\n              track.addEvent(midiNote);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n    const tracks = Object.keys(trackHash).map((key) => trackHash[key].track);\r\n    const writer = new MidiWriter.Writer(tracks);\r\n    return writer.buildFile();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { mxmlHelpers } from './xmlHelpers';\r\nimport { mxmlScore } from './xmlScore';\r\nimport { SmoSelector } from '../xform/selections';\r\nimport { SmoStaffHairpin } from '../data/staffModifiers';\r\nimport { SmoNote } from '../data/note';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoScore } from '../data/score';\r\nimport { SmoMeasure } from '../data/measure';\r\nimport { SmoSystemStaff } from '../data/systemStaff';\r\nimport { SmoSlur } from '../data/staffModifiers';\r\nimport { Pitch, TimeSignature } from '../data/common';\r\nimport { SmoLyric } from '../data/noteModifiers';\r\nexport class SmoToXml {\r\n  static get beamStates() {\r\n    return {\r\n      none: 1, start: 2, continue: 3, stop: 4\r\n    };\r\n  }\r\n  static convert(score: SmoScore) {\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const dom = mxmlHelpers.createRootElement();\r\n    const root = dom.children[0];\r\n    const work = nn(root, 'work', null, '');\r\n    nn(work, 'work-title', score.scoreInfo, 'title');\r\n    const identification = nn(root, 'identification', null, '');\r\n    const creator = nn(identification, 'creator', score.scoreInfo, 'composer');\r\n    mxmlHelpers.createAttributes(creator, { type: 'composer' });\r\n    const encoding = nn(identification, 'encoding', null, '');\r\n    nn(encoding, 'software', { software: 'Some pre-release version of Smoosic' }, 'software');\r\n    nn(encoding, 'encoding-date', { date: new Date().toDateString() }, 'date');\r\n    const defaults = nn(root, 'defaults', null, '');\r\n    const scaling = nn(root, 'scaling', null, '');\r\n    // reverse this:\r\n    // scoreDefaults.layout.svgScale =  (scale * 42 / 40) / mxmlScore.mmPerPixel;\r\n    const mm = mxmlScore.mmPerPixel * 42 * score.layoutManager!.getGlobalLayout().svgScale;\r\n    nn(scaling, 'millimeters', { mm }, 'mm');\r\n    nn(scaling, 'tenths', { tenths: 40 }, 'tenths');\r\n    const pageLayout = nn(defaults, 'page-layout', null, '');\r\n    mxmlScore.pageLayoutMap.forEach((map) => {\r\n      nn(pageLayout, map.xml, score.layoutManager, map.smo);\r\n    });\r\n    const pageMargins = nn(pageLayout, 'page-margins', null, '');\r\n    mxmlScore.pageMarginMap.forEach((map) => {\r\n      nn(pageMargins, map.xml, score.layoutManager!.pageLayouts[0], map.smo);\r\n    });\r\n    const partList =  nn(root, 'part-list', null, '');\r\n    score.staves.forEach((staff) => {\r\n      const id = 'P' + staff.staffId;\r\n      const scorePart = nn(partList, 'score-part', null, '');\r\n      mxmlHelpers.createAttributes(scorePart, { id });\r\n      nn(scorePart, 'part-name', { name: staff.instrumentInfo.instrumentName }, 'name');\r\n    });\r\n    const smoState: any = {};\r\n    score.staves.forEach((staff) => {\r\n      const part = nn(root, 'part', null, '');\r\n      const id = 'P' + staff.staffId;\r\n      mxmlHelpers.createAttributes(part, { id });\r\n      smoState.measureNumber = 1;\r\n      smoState.tickCount = 0;\r\n      smoState.staff = staff;\r\n      smoState.slurs = [];\r\n      smoState.lyricState = {};\r\n      smoState.slurNumber = 1;\r\n      staff.measures.forEach((measure) => {\r\n        smoState.measureTicks = 0;\r\n        smoState.measure = measure;\r\n        const measureElement = nn(part, 'measure', null, '');\r\n        SmoToXml.measure(measureElement, smoState);\r\n        smoState.measureNumber += 1;\r\n      });\r\n    });\r\n    return dom;\r\n  }\r\n  // ### measure\r\n  // .../part/measure\r\n  static measure(measureElement: Element, smoState: any) {\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const measure = smoState.measure;\r\n    if (smoState.measureNumber === 1 && measure.isPickup()) {\r\n      smoState.measureNumber = 0;\r\n    }\r\n    if (smoState.measure.getForceSystemBreak()) {\r\n      const printElement = nn(measureElement, 'print', null, '');\r\n      mxmlHelpers.createAttributes(printElement, { 'new-system': 'yes' });\r\n    }\r\n    mxmlHelpers.createAttributes(measureElement, { number: smoState.measureNumber });\r\n    SmoToXml.attributes(measureElement, smoState);\r\n    smoState.voiceIndex = 1;\r\n    smoState.beamState = SmoToXml.beamStates.none;\r\n    smoState.beamTicks = 0;\r\n    (measure as SmoMeasure).voices.forEach((voice) => {\r\n      smoState.voiceTickIndex = 0;\r\n      smoState.voice = voice;\r\n      voice.notes.forEach((note) => {\r\n        smoState.note = note;\r\n        // Start wedge before note starts\r\n        SmoToXml.direction(measureElement, smoState, true);\r\n        SmoToXml.note(measureElement, smoState);\r\n        // End wedge on next tick\r\n        SmoToXml.direction(measureElement, smoState, false);\r\n      });\r\n      if (measure.voices.length > smoState.voiceIndex) {\r\n        smoState.voiceIndex += 1;\r\n        const backupElement = nn(measureElement, 'backup', null, '');\r\n        nn(backupElement, 'duration', { duration: smoState.measureTicks }, 'duration');\r\n      } else {\r\n        smoState.tickCount += smoState.measureTicks;\r\n      }\r\n      smoState.measureTicks = 0;\r\n    });\r\n  }\r\n\r\n  // ### slur\r\n  // /score-partwise/part/measure/note/notations/slur\r\n  static slur(notationsElement: Element, smoState: any) {\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const staff: SmoSystemStaff = smoState.staff as SmoSystemStaff;\r\n    const measure = smoState.measure as SmoMeasure;\r\n    const selector: SmoSelector = {\r\n      staff: staff.staffId,\r\n      measure: measure.measureNumber.measureIndex,\r\n      voice: smoState.voiceIndex - 1,\r\n      tick: smoState.voiceTickIndex,\r\n      pitches: []\r\n    };\r\n    const starts = staff.getSlursStartingAt(selector) as SmoSlur[];\r\n    const ends = staff.getSlursEndingAt(selector) as SmoSlur[];\r\n    const remove: any[] = [];\r\n    const newSlurs: any[] = [];\r\n    ends.forEach((slur) => {\r\n      const match = smoState.slurs.find((ss: any) => SmoSelector.eq(ss.startSelector, slur.startSelector) &&\r\n        SmoSelector.eq(ss.endSelector, slur.endSelector));\r\n      if (match) {\r\n        remove.push(match);\r\n        const slurElement = nn(notationsElement, 'slur', null, '');\r\n        mxmlHelpers.createAttributes(slurElement, { number: match.number, type: 'stop' });\r\n      }\r\n    });\r\n    smoState.slurs.forEach((slur: any) => {\r\n      if (remove.findIndex((rr) => rr.number === slur.number) <= 0) {\r\n        newSlurs.push(slur);\r\n      }\r\n    });\r\n    smoState.slurs = newSlurs;\r\n    smoState.slurNumber = 1;\r\n    if (smoState.slurs.length > 0) {\r\n      // set next slur number to 1+ highest slur number in the 'waiting to resolve' list\r\n      smoState.slurNumber = smoState.slurs.map((slur: any) => slur.number).reduce((a: number, b: number) => a > b ? a : b) + 1;\r\n    }\r\n    starts.forEach((slur) => {\r\n      smoState.slurs.push({ startSelector: slur.startSelector,\r\n        endSelector: slur.endSelector,\r\n        number: smoState.slurNumber });\r\n      const slurElement = nn(notationsElement, 'slur', null, '');\r\n      mxmlHelpers.createAttributes(slurElement, { number: smoState.slurNumber, type: 'start' });\r\n      smoState.slurNumber += 1;\r\n    });\r\n  }\r\n  // ### /score-partwise/measure/note/time-modification\r\n  // ### /score-partwise/measure/note/tuplet\r\n  static tuplet(noteElement: Element, notationsElement: Element, smoState: any) {\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const measure = smoState.measure;\r\n    const note = smoState.note;\r\n    const tuplet = measure.getTupletForNote(note);\r\n    if (!tuplet) {\r\n      return;\r\n    }\r\n    const obj = {\r\n      actualNotes: tuplet.numNotes, normalNotes: 4096 / tuplet.stemTicks\r\n    };\r\n    const timeModification = nn(noteElement, 'time-modification', null, '');\r\n    nn(timeModification, 'actual-notes', obj, 'actualNotes');\r\n    nn(timeModification, 'normal-notes', obj, 'normalNotes');\r\n    if (tuplet.getIndexOfNote(note) === 0) {\r\n      const tupletElement = nn(notationsElement, 'tuplet', null, '');\r\n      mxmlHelpers.createAttributes(tupletElement, {\r\n        number: 1, type: 'start'\r\n      });\r\n    } else if (tuplet.getIndexOfNote(note) === tuplet.notes.length - 1) {\r\n      const tupletElement = nn(notationsElement, 'tuplet', null, '');\r\n      mxmlHelpers.createAttributes(tupletElement, {\r\n        number: 1, type: 'stop'\r\n      });\r\n    }\r\n  }\r\n  // ### /score-partwise/measure/note/pitch\r\n  static pitch(pitch: Pitch, noteElement: Element) {\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const accidentalOffset = ['bb', 'b', 'n', '#', '##'];\r\n    const adjust = accidentalOffset.indexOf(pitch.accidental) - 2;\r\n    const pitchElement = nn(noteElement, 'pitch', null, '');\r\n    nn(pitchElement, 'step', { letter: pitch.letter.toUpperCase() }, 'letter');\r\n    nn(pitchElement, 'octave', pitch, 'octave');\r\n    nn(pitchElement, 'adjust', { adjust }, 'adjust');\r\n  }\r\n  // ### /score-partwise/measure/beam\r\n  static beamNote(noteElement: Element, smoState: any) {\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const note = smoState.note;\r\n    const nextNote = (smoState.voiceTickIndex + 1) >= smoState.voice.notes.length ?\r\n      null : smoState.voice.notes[smoState.voiceTickIndex + 1];\r\n    const exceedTicks = smoState.beamTicks + note.tickCount >= note.beamBeats;\r\n    // don't start a beam on a rest\r\n    if (note.isRest() && smoState.beamState === SmoToXml.beamStates.none) {\r\n      return;\r\n    }\r\n    let toBeam = SmoToXml.beamStates.none;\r\n    if (note.tickCount <= 2048 && !exceedTicks) {\r\n      // Explicit end beam, or no more notes to beam, so stop beam\r\n      if (note.endBeam || nextNote === null) {\r\n        if (smoState.beamState !== SmoToXml.beamStates.none) {\r\n          toBeam = SmoToXml.beamStates.stop;\r\n        }\r\n      } else {\r\n        // else if the next note is beamable, start or continue the beam\r\n        if (nextNote.tickCount <= 2048) {\r\n          toBeam = smoState.beamState === SmoToXml.beamStates.continue ?\r\n            SmoToXml.beamStates.continue : SmoToXml.beamStates.start;\r\n        }\r\n      }\r\n    }\r\n    if (toBeam === SmoToXml.beamStates.start || toBeam === SmoToXml.beamStates.continue) {\r\n      smoState.beamTicks += smoState.note.tickCount;\r\n    } else {\r\n      smoState.beamTicks = 0;\r\n    }\r\n    // slur is start/stop, beam is begin, end, gf\r\n    if (toBeam === SmoToXml.beamStates.start) {\r\n      const beamElement = nn(noteElement, 'beam', { type: 'begin' }, 'type');\r\n      mxmlHelpers.createAttributes(beamElement, { number: 1 });\r\n      smoState.beamState = SmoToXml.beamStates.continue;\r\n    } else if (toBeam === SmoToXml.beamStates.continue) {\r\n      const beamElement = nn(noteElement, 'beam', { type: 'continue' }, 'type');\r\n      mxmlHelpers.createAttributes(beamElement, { number: 1 });\r\n    } else if ((toBeam === SmoToXml.beamStates.stop) ||\r\n      (toBeam === SmoToXml.beamStates.none && smoState.beamState !== SmoToXml.beamStates.none)) {\r\n      const beamElement = nn(noteElement, 'beam', { type: 'end' }, 'type');\r\n      mxmlHelpers.createAttributes(beamElement, { number: 1 });\r\n      smoState.beamState = SmoToXml.beamStates.none;\r\n    }\r\n  }\r\n  // ### /score-partwise/measure/direction/direction-type\r\n  static direction(measureElement: Element, smoState: any, beforeNote: boolean) {\r\n    let addDirection = false;\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const directionElement = measureElement.ownerDocument.createElement('direction');\r\n    const dtype  = nn(directionElement, 'direction-type', null, '');\r\n    const staff = smoState.staff as SmoSystemStaff;\r\n    const measure = smoState.measure;\r\n    const selector: SmoSelector = {\r\n      staff: staff.staffId,\r\n      measure: measure.measureNumber.measureIndex,\r\n      voice: smoState.voiceIndex - 1,\r\n      tick: smoState.voiceTickIndex,\r\n      pitches: []\r\n    };\r\n    if (!beforeNote) {\r\n      selector.tick -= 1;\r\n    }\r\n    const startWedge = staff.modifiers.find((mod) =>\r\n      SmoSelector.sameNote(mod.startSelector, selector) &&\r\n      (mod.attrs.type === 'SmoStaffHairpin')) as SmoStaffHairpin;\r\n    const endWedge =  staff.modifiers.find((mod) =>\r\n      SmoSelector.sameNote(mod.endSelector, selector) &&\r\n      (mod.attrs.type === 'SmoStaffHairpin')) as SmoStaffHairpin;\r\n    if (endWedge && !beforeNote) {\r\n      const wedgeElement = nn(dtype, 'wedge', null, '');\r\n      mxmlHelpers.createAttributes(wedgeElement, { type: 'stop', spread: '20' });\r\n      addDirection = true;\r\n    }\r\n    if (startWedge && beforeNote) {\r\n      const wedgeElement = nn(dtype, 'wedge', null, '');\r\n      const wedgeType = startWedge.hairpinType === SmoStaffHairpin.types.CRESCENDO ?\r\n        'crescendo' : 'diminuendo';\r\n      mxmlHelpers.createAttributes(wedgeElement, { type: wedgeType });\r\n      addDirection = true;\r\n    }\r\n    if (addDirection) {\r\n      measureElement.appendChild(directionElement);\r\n    }\r\n  }\r\n  // ### /score-partwise/measure/note/lyric\r\n  static lyric(noteElement: Element, smoState: any) {\r\n    const smoNote = smoState.note;\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const lyrics = smoNote.getTrueLyrics() as SmoLyric[];\r\n    lyrics.forEach((lyric) => {\r\n      let syllabic = 'single';\r\n      if (lyric.isHyphenated() === false && lyric.isDash() === false) {\r\n        if (smoState.lyricState[lyric.verse] === 'begin') {\r\n          syllabic = 'end';\r\n        } // else stays single\r\n      } else {\r\n        if (lyric.isHyphenated()) {\r\n          syllabic = smoState.lyricState[lyric.verse] === 'begin' ?\r\n            'middle' : 'begin';\r\n        } else if (lyric.isDash()) {\r\n          syllabic = 'middle';\r\n        }\r\n      }\r\n      smoState.lyricState[lyric.verse] = syllabic;\r\n      const lyricElement = nn(noteElement, 'lyric', null, '');\r\n      mxmlHelpers.createAttribute(lyricElement, 'number', lyric.verse + 1);\r\n      mxmlHelpers.createAttribute(lyricElement, 'placement', 'below');\r\n      mxmlHelpers.createAttribute(lyricElement, 'default-y',\r\n        -80 - 10 * lyric.verse);\r\n      nn(lyricElement, 'syllabic', syllabic, '');\r\n      nn(lyricElement, 'text', lyric.getText(), '');\r\n    });\r\n  }\r\n  // ### /score-partwise/measure/note\r\n  static note(measureElement: Element, smoState: any) {\r\n    const note = smoState.note;\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    let i = 0;\r\n    for (i = 0; i < note.pitches.length; ++i) {\r\n      const noteElement = nn(measureElement, 'note', null, '');\r\n      if (i > 0) {\r\n        nn(noteElement, 'chord', null, '');\r\n      } else {\r\n        SmoToXml.beamNote(noteElement, smoState);\r\n        SmoToXml.lyric(noteElement, smoState);\r\n        nn(noteElement, 'type', { type: mxmlHelpers.closestStemType(note.tickCount) },\r\n          'type');\r\n        if (note.flagState === SmoNote.flagStates.up) {\r\n          nn(noteElement, 'stem', { direction: 'up' }, 'direction');\r\n        }\r\n        if (note.flagState === SmoNote.flagStates.down) {\r\n          nn(noteElement, 'stem', { direction: 'down' }, 'direction');\r\n        }\r\n      }\r\n      if (note.isRest()) {\r\n        nn(noteElement, 'rest', null, '');\r\n      }\r\n      nn(noteElement, 'voice', { voice: smoState.voiceIndex }, 'voice');\r\n      SmoToXml.pitch(note.pitches[i], noteElement);\r\n      const duration = note.tickCount;\r\n      smoState.measureTicks += duration;\r\n      nn(noteElement, 'duration', { duration }, 'duration');\r\n      const notationsElement = noteElement.ownerDocument.createElement('notations');\r\n      SmoToXml.tuplet(noteElement, notationsElement, smoState);\r\n      SmoToXml.slur(notationsElement, smoState);\r\n      if (notationsElement.children.length) {\r\n        noteElement.appendChild(notationsElement);\r\n      }\r\n    }\r\n    smoState.voiceTickIndex += 1;\r\n  }\r\n  // ### /score-partwise/measure/attributes/key\r\n  static key(attributesElement: Element, smoState: any) {\r\n    let fifths = 0;\r\n    const measure = smoState.measure;\r\n    if (smoState.keySignature && measure.keySignature === smoState.keySignature) {\r\n      return; // no key change\r\n    }\r\n    const flats = smoMusic.getFlatsInKeySignature(measure.keySignature);\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    if (flats > 0) {\r\n      fifths = -1 * flats;\r\n    } else {\r\n      fifths = smoMusic.getSharpsInKeySignature(measure.keySignature);\r\n    }\r\n    const keyElement = nn(attributesElement, 'key', null, '');\r\n    nn(keyElement, 'fifths', { fifths }, 'fifths');\r\n    nn(keyElement, 'mode', { mode: 'major' }, 'major');\r\n    smoState.keySignature = measure.keySignature;\r\n  }\r\n  // ### time\r\n  // score-partwise/part/measure/attributes/time\r\n  static time(attributesElement: Element, smoState: any) {\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const measure = smoState.measure as SmoMeasure;\r\n    const currentTs = (smoState.timeSignature as TimeSignature) ?? null;\r\n    if (currentTs !== null && TimeSignature.equal(currentTs, measure.timeSignature) === false) {\r\n      return;\r\n    }\r\n    smoState.timeSignature = measure.timeSignature;\r\n    const time = { beats: measure.timeSignature.actualBeats, beatType: measure.timeSignature.beatDuration };\r\n    const timeElement = nn(attributesElement, 'time', null, '');\r\n    nn(timeElement, 'beats', time, 'beats');\r\n    nn(timeElement, 'beat-type', time, 'beatType');\r\n    smoState.timeSignature = measure.timeSignature;\r\n  }\r\n  // ### clef\r\n  // /score-partwise/part/measure/attributes/clef\r\n  static clef(attributesElement: Element, smoState: any) {\r\n    const measure = smoState.measure;\r\n    if (smoState.clef && smoState.clef === measure.clef) {\r\n      return; // no change\r\n    }\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const clef: any = {};\r\n    if (measure.clef === 'treble') {\r\n      clef.sign = 'G';\r\n      clef.line = 2;\r\n    } else if (measure.clef === 'bass') {\r\n      clef.sign = 'F';\r\n      clef.line = 4;\r\n    } else {\r\n      clef.sign = 'C';\r\n      if (measure.clef === 'tenor') {\r\n        clef.sign = 3;\r\n      } else {\r\n        clef.sign = 4; // todo: other clefs\r\n      }\r\n    }\r\n    const clefElement = nn(attributesElement, 'clef', null, '');\r\n    nn(clefElement, 'sign', clef, 'sign');\r\n    nn(clefElement, 'line', clef, 'line');\r\n    smoState.clef = measure.clef;\r\n  }\r\n  static attributes(measureElement: Element, smoState: any) {\r\n    const nn = mxmlHelpers.createTextElementChild;\r\n    const attributesElement = measureElement.ownerDocument.createElement('attributes');\r\n    if (!smoState.divisions) {\r\n      nn(attributesElement, 'divisions', { divisions: 4096 }, 'divisions');\r\n      smoState.divisions = 4096;\r\n    }\r\n    SmoToXml.key(attributesElement, smoState);\r\n    SmoToXml.time(attributesElement, smoState);\r\n    SmoToXml.clef(attributesElement, smoState);\r\n    if (attributesElement.children.length > 0) {\r\n      // don't add an empty attributes element\r\n      measureElement.appendChild(attributesElement);\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoArticulation, SmoNoteModifierBase, SmoOrnament, SmoLyric } from '../data/noteModifiers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoNote } from '../data/note';\r\nimport { Pitch, PitchLetter } from '../data/common';\r\nimport { SmoSelector } from '../xform/selections';\r\n\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface XmlOrnamentData {\r\n  ctor: string,\r\n  params: Record<string, string>\r\n}\r\nexport interface XmlSmoMap {\r\n  xml: string, smo: string\r\n}\r\nexport interface XmlDurationAlteration {\r\n  noteCount: number, noteDuration: number\r\n}\r\nexport interface XmlDuration {\r\n  tickCount: number, duration: number, alteration: XmlDurationAlteration\r\n}\r\nexport interface XmlSlurType {\r\n  number: number, type: string, orientation: string, selector: SmoSelector, invert: boolean, yOffset: number\r\n}\r\nexport interface XmlTieType {\r\n  number: number, type: string, orientation: string, selector: SmoSelector, pitchIndex: number\r\n}\r\nexport interface XmlTupletData {\r\n  number: number, type: string\r\n}\r\nexport interface XmlLyricData {\r\n  _text: string, verse: number | string\r\n}\r\n// ## mxmlHelpers\r\n// Utilities for parsing and serialzing musicXML.\r\nexport class mxmlHelpers {\r\n  // ### noteTypesToSmoMap\r\n  // mxml note 'types', really s/b stem types.\r\n  // For grace notes, we use the note type and not duration\r\n  // to get the flag\r\n  static get noteTypesToSmoMap(): Record<string, number> {\r\n    return {\r\n      'breve': 8192 * 4,\r\n      'whole': 8192 * 2,\r\n      'half': 8192,\r\n      'quarter': 4096,\r\n      'eighth': 2048,\r\n      '16th': 1024,\r\n      '32nd': 512,\r\n      '64th': 256,\r\n      '128th': 128\r\n    };\r\n  }\r\n  static readonly _ticksToNoteTypeMap: Record<number, string> = smoSerialize.reverseMap(mxmlHelpers.noteTypesToSmoMap) as Record<number, string>;\r\n\r\n  static get ticksToNoteTypeMap(): Record<number, string> {\r\n    return mxmlHelpers._ticksToNoteTypeMap;\r\n  }\r\n  // ### closestStemType\r\n  // smo infers the stem type from the duration, but other applications don't\r\n  static closestStemType(ticks: number) {\r\n    const nticks = VF.durationToTicks(smoMusic.vexStemType(ticks));\r\n    return mxmlHelpers.ticksToNoteTypeMap[nticks];\r\n  }\r\n  static get beamStates(): Record<string, number> {\r\n    return {\r\n      BEGIN: 1,\r\n      END: 2,\r\n      AUTO: 3\r\n    };\r\n  }\r\n  static get ornamentXmlToSmoMap(): Record<string, XmlOrnamentData> {\r\n    return {\r\n      staccato: { ctor: 'SmoArticulation', params: { articulation: SmoArticulation.articulations.staccato } },\r\n      tenuto: { ctor: 'SmoArticulation', params: { articulation: SmoArticulation.articulations.tenuto } },\r\n      marcato: { ctor: 'SmoArticulation', params: { articulation: SmoArticulation.articulations.marcato } },\r\n      accent: { ctor: 'SmoArticulation', params: { articulation: SmoArticulation.articulations.accent } },\r\n      doit: { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.doitLong } },\r\n      falloff: { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.fall } },\r\n      scoop: { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.scoop } },\r\n      'delayed-turn': { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.turn, offset: SmoOrnament.offsets.after } },\r\n      turn: { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.turn, offset: SmoOrnament.offsets.on } },\r\n      'inverted-turn': { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.turnInverted } },\r\n      mordent: { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.mordent } },\r\n      'inveterd-mordent': { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.mordentInverted } },\r\n      shake: { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.mordentInverted } },\r\n      'trill-mark': { ctor: 'SmoOrnament', params: { ornament: SmoOrnament.ornaments.trill } },\r\n    };\r\n  }\r\n  // ### createRootElement\r\n  // Create score-partwise document with prelude\r\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=318086\r\n  static createRootElement() {\r\n    const doc = document.implementation.createDocument('', '', null);\r\n    const rootElem = doc.createElement('score-partwise');\r\n    const piElement = doc.createProcessingInstruction('xml', 'version=\"1.0\" encoding=\"UTF8\"');\r\n    rootElem.setAttribute('version', '2.0');\r\n    doc.appendChild(rootElem);\r\n    doc.insertBefore(piElement, rootElem);\r\n    return doc;\r\n  }\r\n  // Parse an element whose child has a number in the textContent\r\n  static getNumberFromElement(parent: Element, path: string, defaults: number): number {\r\n    let rv = (typeof (defaults) === 'undefined' || defaults === null)\r\n      ? 0 : defaults;\r\n    const tval = mxmlHelpers.getTextFromElement(parent, path, defaults);\r\n    if (!tval) {\r\n      return rv;\r\n    }\r\n    if (typeof (tval) === 'number') {\r\n      return tval;\r\n    }\r\n    if (tval.indexOf('.')) {\r\n      const tf = parseFloat(tval);\r\n      rv = isNaN(tf) ? rv : tf;\r\n    } else {\r\n      const ff = parseInt(tval, 10);\r\n      rv = isNaN(ff) ? rv : ff;\r\n    }\r\n    return rv;\r\n  }\r\n  // Parse an element whose child has a textContent\r\n  static getTextFromElement(parent: Element, path: string, defaults: number | string | null): string {\r\n    const rv = (typeof (defaults) === 'undefined' || defaults === null)\r\n      ? 0 : defaults;\r\n    const el = [...parent.getElementsByTagName(path)];\r\n    if (!el.length) {\r\n      return rv.toString();\r\n    }\r\n    return el[0].textContent as string;\r\n  }\r\n  // ### getChildrenFromPath\r\n  // Like xpath, given ['foo', 'bar'] and parent element\r\n  // 'moo' return any element /moo/foo/bar as an array of elements\r\n  static getChildrenFromPath(parent: Element, pathAr: string[]): Element[] {\r\n    let i = 0;\r\n    let node = parent;\r\n    const rv: Element[] = [];\r\n    for (i = 0; i < pathAr.length; ++i) {\r\n      const tag = pathAr[i];\r\n      const nodes: Element[] = [...node.getElementsByTagName(tag)];\r\n      if (nodes.length === 0) {\r\n        return [];\r\n      }\r\n      if (i < pathAr.length - 1) {\r\n        node = nodes[0];\r\n      } else {\r\n        nodes.forEach((nn: Element) => {\r\n          rv.push(nn);\r\n        });\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n  static getStemType(noteElement: Element) {\r\n    const tt = mxmlHelpers.getTextFromElement(noteElement, 'stem', '');\r\n    if (tt === 'up') {\r\n      return SmoNote.flagStates.up;\r\n    } else if (tt === 'down') {\r\n      return SmoNote.flagStates.down;\r\n    }\r\n    return SmoNote.flagStates.auto;\r\n  }\r\n  // ### assignDefaults\r\n  // Map SMO layout data from xml layout data (default node)\r\n  static assignDefaults(node: Element, defObj: any, parameters: XmlSmoMap[]) {\r\n    parameters.forEach((param) => {\r\n      if (!isNaN(parseInt(defObj[param.smo], 10))) {\r\n        const smoParam = param.smo;\r\n        const xmlParam = param.xml;\r\n        defObj[smoParam] = mxmlHelpers.getNumberFromElement(node, xmlParam, defObj[smoParam]);\r\n      }\r\n    });\r\n  }\r\n  // ### nodeAttributes\r\n  // turn the attributes of an element into a JS hash\r\n  static nodeAttributes(node: Element): any {\r\n    const rv: any = {};\r\n    node.getAttributeNames().forEach((attr) => {\r\n      rv[attr] = node.getAttribute(attr);\r\n    });\r\n    return rv;\r\n  }\r\n  // Some measures have staff ID, some don't.\r\n  // convert xml 1 index to array 0 index\r\n  static getStaffId(node: Element) {\r\n    const staff = [...node.getElementsByTagName('staff')];\r\n    if (staff.length && staff[0].textContent) {\r\n      return parseInt(staff[0].textContent, 10) - 1;\r\n    }\r\n    return 0;\r\n  }\r\n  static noteBeamState(noteNode: Element) {\r\n    const beamNodes = [...noteNode.getElementsByTagName('beam')];\r\n    if (!beamNodes.length) {\r\n      return mxmlHelpers.beamStates.AUTO;\r\n    }\r\n    const beamText = beamNodes[0].textContent;\r\n    if (beamText === 'begin') {\r\n      return mxmlHelpers.beamStates.BEGIN;\r\n    } else if (beamText === 'end') {\r\n      return mxmlHelpers.beamStates.END;\r\n    }\r\n    return mxmlHelpers.beamStates.AUTO;\r\n  }\r\n  // same with notes and voices.  same convert\r\n  static getVoiceId(node: Element) {\r\n    const voice = [...node.getElementsByTagName('voice')];\r\n    if (voice.length && voice[0].textContent) {\r\n      return parseInt(voice[0].textContent, 10) - 1;\r\n    }\r\n    return 0;\r\n  }\r\n  static smoPitchFromNote(noteNode: Element, defaultPitch: Pitch): Pitch {\r\n    const accidentals = ['bb', 'b', 'n', '#', '##'];\r\n    const letter: PitchLetter = mxmlHelpers.getTextFromElement(noteNode, 'step', defaultPitch.letter).toLowerCase() as PitchLetter;\r\n    const octave = mxmlHelpers.getNumberFromElement(noteNode, 'octave', defaultPitch.octave);\r\n    const xaccidental = mxmlHelpers.getNumberFromElement(noteNode, 'alter', 0);\r\n    return { letter, accidental: accidentals[xaccidental + 2], octave };\r\n  }\r\n  static isGrace(noteNode: Element) {\r\n    const path = mxmlHelpers.getChildrenFromPath(noteNode, ['grace']);\r\n    return path?.length > 0;\r\n  }\r\n  static isSystemBreak(measureNode: Element) {\r\n    const printNodes = measureNode.getElementsByTagName('print');\r\n    if (printNodes.length) {\r\n      const attrs = mxmlHelpers.nodeAttributes(printNodes[0]);\r\n      if (typeof (attrs['new-system']) !== 'undefined') {\r\n        return attrs['new-system'] === 'yes';\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  // ### durationFromType\r\n  // Get the SMO tick duration of a note, based on the XML type element (quarter, etc)\r\n  static durationFromType(noteNode: Element, def: number): number {\r\n    const typeNodes = [...noteNode.getElementsByTagName('type')];\r\n    if (typeNodes.length) {\r\n      const txt = typeNodes[0].textContent;\r\n      if (txt && mxmlHelpers.noteTypesToSmoMap[txt]) {\r\n        return mxmlHelpers.noteTypesToSmoMap[txt];\r\n      }\r\n    }\r\n    return def;\r\n  }\r\n  // ### durationFromNode\r\n  // the true duration value, used to handle forward/backward\r\n  static durationFromNode(noteNode: Element, def: number) {\r\n    const durationNodes = [...noteNode.getElementsByTagName('duration')];\r\n    if (durationNodes.length && durationNodes[0].textContent) {\r\n      const duration = parseInt(durationNodes[0].textContent, 10);\r\n      return duration;\r\n    }\r\n    return def;\r\n  }\r\n  static ticksFromDuration(noteNode: Element, divisions: number, def: number): XmlDuration {\r\n    const rv: XmlDuration = { tickCount: def, duration: def / divisions, alteration: { noteCount: 1, noteDuration: 1 } };\r\n    const durationNodes = [...noteNode.getElementsByTagName('duration')];\r\n    const timeAlteration = mxmlHelpers.getTimeAlteration(noteNode);\r\n    // different ways to declare note duration - from type is the graphical\r\n    // type, SMO uses ticks for everything\r\n    if (durationNodes.length && durationNodes[0].textContent) {\r\n      rv.duration = parseInt(durationNodes[0].textContent, 10);\r\n      rv.tickCount = 4096 * (rv.duration / divisions);\r\n    } else {\r\n      rv.tickCount = mxmlHelpers.durationFromType(noteNode, def);\r\n      rv.duration = (divisions / 4096) * rv.tickCount;\r\n    }\r\n    // If this is a tuplet, we adjust the note duration back to the graphical type\r\n    // and SMO will create the tuplet after.  We keep track of tuplet data though for beaming\r\n    if (timeAlteration) {\r\n      rv.tickCount = (rv.tickCount * timeAlteration.noteCount) / timeAlteration.noteDuration;\r\n      rv.alteration = timeAlteration;\r\n    }\r\n    return rv;\r\n  }\r\n  // Get placement or orientation of a tie or slur.  Xml docs\r\n  // a little unclear on what to expect and what each mean.\r\n  static getCurveDirection(node: Element) {\r\n    const orientation = node.getAttribute('orientation');\r\n    const placement = node.getAttribute('placement');\r\n    if (orientation) {\r\n      return orientation;\r\n    }\r\n    if (placement && placement === 'above') {\r\n      return 'over';\r\n    }\r\n    if (placement && placement === 'below') {\r\n      return 'under';\r\n    }\r\n    return 'auto';\r\n  }\r\n  static getTieData(noteNode: Element, selector: SmoSelector, pitchIndex: number): XmlTieType[] {\r\n    const rv: XmlTieType[] = [];\r\n    let number = 0;\r\n    const nNodes = [...noteNode.getElementsByTagName('notations')];\r\n    nNodes.forEach((nNode) => {\r\n      const slurNodes = [...nNode.getElementsByTagName('tied')];\r\n      slurNodes.forEach((slurNode) => {\r\n        const orientation = mxmlHelpers.getCurveDirection(slurNode);\r\n        const type = slurNode.getAttribute('type') as string;\r\n        number = parseInt(slurNode.getAttribute('number') as string, 10);\r\n        if (isNaN(number)) {\r\n          number = 1;\r\n        }\r\n        rv.push({ number, type, orientation, selector, pitchIndex });\r\n      });\r\n    });\r\n    return rv;\r\n  }\r\n  static getSlurData(noteNode: Element, selector: SmoSelector): XmlSlurType[] {\r\n    const rv: XmlSlurType[] = [];\r\n    const nNodes = [...noteNode.getElementsByTagName('notations')];\r\n    nNodes.forEach((nNode) => {\r\n      const slurNodes = [...nNode.getElementsByTagName('slur')];\r\n      slurNodes.forEach((slurNode) => {\r\n        const number = parseInt(slurNode.getAttribute('number') as string, 10);\r\n        const type = slurNode.getAttribute('type') as string;\r\n        const orientation = mxmlHelpers.getCurveDirection(slurNode);\r\n        const slurInfo = { number, type, orientation, selector, invert: false, yOffset: 0 };\r\n        rv.push(slurInfo);\r\n      });\r\n    });\r\n    return rv;\r\n  }\r\n  static getCrescendoData(directionElement: Element) {\r\n    let rv = {};\r\n    const nNodes = mxmlHelpers.getChildrenFromPath(directionElement,\r\n      ['direction-type', 'wedge']);\r\n    nNodes.forEach((nNode) => {\r\n      rv = { type: nNode.getAttribute('type') };\r\n    });\r\n    return rv;\r\n  }\r\n  static getTupletData(noteNode: Element): XmlTupletData[] {\r\n    const rv: XmlTupletData[] = [];\r\n    const nNodes = [...noteNode.getElementsByTagName('notations')];\r\n    nNodes.forEach((nNode) => {\r\n      const slurNodes = [...nNode.getElementsByTagName('tuplet')];\r\n      slurNodes.forEach((slurNode) => {\r\n        const number = parseInt(slurNode.getAttribute('number') as string, 10);\r\n        const type = slurNode.getAttribute('type') as string;\r\n        rv.push({ number, type });\r\n      });\r\n    });\r\n    return rv;\r\n  }\r\n  static articulationsAndOrnaments(noteNode: Element): SmoNoteModifierBase[] {\r\n    const rv: SmoNoteModifierBase[] = [];\r\n    const nNodes = [...noteNode.getElementsByTagName('notations')];\r\n    nNodes.forEach((nNode) => {\r\n      ['articulations', 'ornaments'].forEach((typ) => {\r\n        const articulations = [...nNode.getElementsByTagName(typ)];\r\n        articulations.forEach((articulation) => {\r\n          Object.keys(mxmlHelpers.ornamentXmlToSmoMap).forEach((key) => {\r\n            if ([...articulation.getElementsByTagName(key)].length) {\r\n              const ctor = eval('globalThis.Smo.' + mxmlHelpers.ornamentXmlToSmoMap[key].ctor);\r\n              rv.push(new ctor(mxmlHelpers.ornamentXmlToSmoMap[key].params));\r\n            }\r\n          });\r\n        });\r\n      });\r\n    });\r\n    return rv;\r\n  }\r\n  static lyrics(noteNode: Element): XmlLyricData[] {\r\n    const rv: XmlLyricData[] = [];\r\n    const nNodes = [...noteNode.getElementsByTagName('lyric')];\r\n    nNodes.forEach((nNode) => {\r\n      let verse = nNode.getAttribute('number');\r\n      const text = mxmlHelpers.getTextFromElement(nNode, 'text', '_');\r\n      const name = nNode.getAttribute('name') as string;\r\n      // Per xml spec, verse can be specified by a string (name), as in 'chorus'\r\n      if (!verse) {\r\n        verse = name;\r\n      }\r\n      rv.push({ _text: text, verse });\r\n    });\r\n    return rv;\r\n  }\r\n\r\n  static getTimeAlteration(noteNode: Element): XmlDurationAlteration | null {\r\n    const timeNodes = mxmlHelpers.getChildrenFromPath(noteNode, ['time-modification']);\r\n    if (timeNodes.length) {\r\n      return {\r\n        noteCount: mxmlHelpers.getNumberFromElement(timeNodes[0], 'actual-notes', 1),\r\n        noteDuration: mxmlHelpers.getNumberFromElement(timeNodes[0], 'normal-notes', 1)\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n  // ### createTextElementChild\r\n  // In:  ../parent\r\n  // Out: ../parent/elementName/obj[field]\r\n  // returns elementName element.  If obj is null, just creates and returns child\r\n  // if obj is a string, it uses it as the text value\r\n  static createTextElementChild(parentElement: Element, elementName: string, obj: any, field: string): Element {\r\n    const el = parentElement.ownerDocument.createElement(elementName);\r\n    if (obj) {\r\n      if (typeof (obj) === 'string') {\r\n        el.textContent = obj;\r\n      } else {\r\n        el.textContent = obj[field];\r\n      }\r\n    }\r\n    parentElement.appendChild(el);\r\n    return el;\r\n  }\r\n  static createAttributes(element: Element, obj: any) {\r\n    Object.keys(obj).forEach((key) => {\r\n      const attr = element.ownerDocument.createAttribute(key);\r\n      attr.value = obj[key];\r\n      element.setAttributeNode(attr);\r\n    });\r\n  }\r\n  static createAttribute(element: Element, name: string, value: any) {\r\n    const obj: any = {};\r\n    obj[name] = value;\r\n    mxmlHelpers.createAttributes(element, obj);\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { mxmlHelpers } from './xmlHelpers';\r\nimport { XmlVoiceInfo, XmlState, XmlWedgeInfo } from './xmlState';\r\nimport { SmoLayoutManager, SmoTextGroup } from '../data/scoreModifiers';\r\nimport { SmoTempoText, SmoMeasureFormat, SmoMeasureModifierBase } from '../data/measureModifiers';\r\nimport { SmoScore } from '../data/score';\r\nimport { SmoMeasure, SmoMeasureParams } from '../data/measure';\r\nimport { emptyScoreJson } from '../../music/basic';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoGraceNote, SmoOrnament, SmoArticulation } from '../data/noteModifiers';\r\nimport { SmoSystemStaff } from '../data/systemStaff';\r\nimport { SmoNote, SmoNoteParams } from '../data/note';\r\nimport { Pitch, PitchKey, Clef } from '../data/common';\r\n\r\n// ## mxmlScore\r\n// Parse music xml into a smoosic score object\r\nexport class mxmlScore {\r\n  static get mmPerPixel() {\r\n    return 0.264583;\r\n  }\r\n  static get customProportionDefault() {\r\n    return SmoScore.defaults.preferences.customProportion;\r\n  }\r\n  static get pageLayoutMap() {\r\n    return [\r\n      { xml: 'page-height', smo: 'pageHeight' },\r\n      { xml: 'page-width', smo: 'pageWidth' }\r\n    ];\r\n  }\r\n  static get pageMarginMap() {\r\n    return [\r\n      { xml: 'left-margin', smo: 'leftMargin' },\r\n      { xml: 'right-margin', smo: 'rightMargin' },\r\n      { xml: 'top-margin', smo: 'topMargin' },\r\n      { xml: 'bottom-margin', smo: 'bottomMargin' }\r\n    ];\r\n  }\r\n  static get scoreInfoFields() {\r\n    return ['title', 'subTitle', 'composer', 'copyright'];\r\n  }\r\n  // ### smoScoreFromXml\r\n  // Main entry point for Smoosic mxml parser\r\n  static smoScoreFromXml(xmlDoc: Document) {\r\n    try {\r\n      const scoreRoots = [...xmlDoc.getElementsByTagName('score-partwise')];\r\n      if (!scoreRoots.length) {\r\n        // no score node\r\n        return SmoScore.deserialize(emptyScoreJson);\r\n      }\r\n\r\n      const scoreRoot = scoreRoots[0];\r\n      const rv: SmoScore = new SmoScore(SmoScore.defaults);\r\n      rv.staves = [];\r\n      const layoutDefaults = rv.layoutManager as SmoLayoutManager;\r\n      // if no scale given in score, default to something small.\r\n      layoutDefaults.globalLayout.svgScale = 0.5;\r\n      layoutDefaults.globalLayout.zoomScale = 1.0;\r\n      const xmlState = new XmlState();\r\n      xmlState.newTitle = false;\r\n      rv.scoreInfo.name = 'Imported Smoosic';\r\n      mxmlScore.scoreInfoFields.forEach((field) => {\r\n        (rv.scoreInfo as any)[field] = '';\r\n      });\r\n      const childNodes = [...scoreRoot.children];\r\n      childNodes.forEach((scoreElement) => {\r\n        if (scoreElement.tagName === 'work') {\r\n          const scoreNameNode = [...scoreElement.getElementsByTagName('work-title')];\r\n          if (scoreNameNode.length && scoreNameNode[0].textContent) {\r\n            rv.scoreInfo.title = scoreNameNode[0].textContent;\r\n            rv.scoreInfo.name = rv.scoreInfo.title;\r\n            xmlState.newTitle = true;\r\n          }\r\n        } else if (scoreElement.tagName === 'identification') {\r\n          const creators = [...scoreElement.getElementsByTagName('creator')];\r\n          creators.forEach((creator) => {\r\n            if (creator.getAttribute('type') === 'composer' && creator.textContent) {\r\n              rv.scoreInfo.composer = creator.textContent;\r\n            }\r\n          });\r\n        } else if (scoreElement.tagName === 'movement-title') {\r\n          if (xmlState.newTitle && scoreElement.textContent) {\r\n            rv.scoreInfo.subTitle = scoreElement.textContent;\r\n          } else if (scoreElement.textContent) {\r\n            rv.scoreInfo.title = scoreElement.textContent;\r\n            rv.scoreInfo.name = rv.scoreInfo.title;\r\n            xmlState.newTitle = true;\r\n          }\r\n        } else if (scoreElement.tagName === 'defaults') {\r\n          mxmlScore.defaults(scoreElement, rv, layoutDefaults);\r\n        } else if (scoreElement.tagName === 'part') {\r\n          xmlState.initializeForPart();\r\n          mxmlScore.part(scoreElement, xmlState);\r\n        }\r\n      });\r\n      // The entire score is parsed and xmlState now contains the staves.\r\n      rv.formattingManager = xmlState.formattingManager;\r\n      rv.staves = xmlState.smoStaves;\r\n      xmlState.updateStaffGroups();\r\n      rv.systemGroups = xmlState.getSystems();\r\n\r\n      // Fix tempo to be column mapped\r\n      rv.staves[0].measures.forEach((measure) => {\r\n        const tempoStaff = rv.staves.find((ss) => ss.measures[measure.measureNumber.measureIndex].tempo.display === true);\r\n        if (tempoStaff) {\r\n          const tempo = tempoStaff.measures[measure.measureNumber.measureIndex].tempo;\r\n          rv.staves.forEach((ss) => {\r\n            ss.measures[measure.measureNumber.measureIndex].tempo =\r\n              SmoMeasureModifierBase.deserialize(tempo);\r\n          });\r\n        }\r\n      });\r\n      const lm: SmoLayoutManager = rv.layoutManager as SmoLayoutManager;\r\n      if (rv.scoreInfo.title) {\r\n        rv.addTextGroup(SmoTextGroup.createTextForLayout(\r\n          SmoTextGroup.purposes.TITLE, rv.scoreInfo.title, lm.getScaledPageLayout(0)\r\n        ));\r\n      }\r\n      if (rv.scoreInfo.subTitle) {\r\n        rv.addTextGroup(SmoTextGroup.createTextForLayout(\r\n          SmoTextGroup.purposes.SUBTITLE, rv.scoreInfo.subTitle, lm.getScaledPageLayout(0)\r\n        ));\r\n      }\r\n      if (rv.scoreInfo.composer) {\r\n        rv.addTextGroup(SmoTextGroup.createTextForLayout(\r\n          SmoTextGroup.purposes.COMPOSER, rv.scoreInfo.composer, lm.getScaledPageLayout(0)\r\n        ));\r\n      }\r\n      return rv;\r\n    } catch (exc) {\r\n      console.warn(exc);\r\n      return SmoScore.deserialize(emptyScoreJson);\r\n    }\r\n  }\r\n\r\n  // ### defaults\r\n  // /score-partwise/defaults\r\n  static defaults(defaultsElement: Element, score: SmoScore, layoutDefaults: SmoLayoutManager) {\r\n    // Default scale for mxml\r\n    let scale = 1 / 7;\r\n    const currentScale = layoutDefaults.getGlobalLayout().svgScale;\r\n    const pageLayoutNode = defaultsElement.getElementsByTagName('page-layout');\r\n    if (pageLayoutNode.length) {\r\n      mxmlHelpers.assignDefaults(pageLayoutNode[0], layoutDefaults.globalLayout, mxmlScore.pageLayoutMap);\r\n    }\r\n    const pageMarginNode = mxmlHelpers.getChildrenFromPath(defaultsElement,\r\n      ['page-layout', 'page-margins']);\r\n    if (pageMarginNode.length) {\r\n      mxmlHelpers.assignDefaults(pageMarginNode[0], layoutDefaults.pageLayouts[0], mxmlScore.pageMarginMap);\r\n    }\r\n\r\n    const scaleNode = defaultsElement.getElementsByTagName('scaling');\r\n    if (scaleNode.length) {\r\n      const mm = mxmlHelpers.getNumberFromElement(scaleNode[0], 'millimeters', 1);\r\n      const tn = mxmlHelpers.getNumberFromElement(scaleNode[0], 'tenths', 7);\r\n      if (tn > 0 && mm > 0) {\r\n        scale = mm / tn;\r\n      }\r\n    }\r\n    // Convert from mm to pixels, this is our default svg scale\r\n    // mm per tenth * pixels / mm gives us pixels per tenth\r\n    layoutDefaults.globalLayout.svgScale = (scale * 45 / 40) / mxmlScore.mmPerPixel;\r\n    score.scaleTextGroups(currentScale / layoutDefaults.globalLayout.svgScale);\r\n  }\r\n\r\n  // ### part\r\n  // /score-partwise/part\r\n  static part(partElement: Element, xmlState: XmlState) {\r\n    let staffId = xmlState.smoStaves.length;\r\n    console.log('part ' + partElement.getAttribute('id'));\r\n    xmlState.initializeForPart();\r\n    const stavesForPart: SmoSystemStaff[] = [];\r\n    const measureElements = [...partElement.getElementsByTagName('measure')];\r\n    measureElements.forEach((measureElement) => {\r\n      // Parse the measure element, populate staffArray of xmlState with the\r\n      // measure data\r\n      mxmlScore.measure(measureElement, xmlState);\r\n      const newStaves = xmlState.staffArray;\r\n      if (newStaves.length > 1 && stavesForPart.length <= newStaves[0].clefInfo.staffId) {\r\n        xmlState.staffGroups.push({ start: staffId, length: newStaves.length });\r\n      }\r\n      xmlState.globalCursor += (newStaves[0].measure as SmoMeasure).getMaxTicksVoice();\r\n      newStaves.forEach((staffMeasure) => {\r\n        if (stavesForPart.length <= staffMeasure.clefInfo.staffId) {\r\n          const params = SmoSystemStaff.defaults;\r\n          params.staffId = staffId;\r\n          stavesForPart.push(new SmoSystemStaff(params));\r\n          staffId += 1;\r\n        }\r\n        const smoStaff = stavesForPart[staffMeasure.clefInfo.staffId];\r\n        smoStaff.measures.push(staffMeasure.measure as SmoMeasure);\r\n      });\r\n      const oldStaffId = staffId - stavesForPart.length;\r\n      xmlState.backtrackHairpins(stavesForPart[0], oldStaffId + 1);\r\n    });\r\n    xmlState.smoStaves = xmlState.smoStaves.concat(stavesForPart);\r\n    xmlState.completeSlurs();\r\n    xmlState.completeTies();\r\n  }\r\n  // ### tempo\r\n  // /score-partwise/measure/direction/sound:tempo\r\n  static tempo(element: Element) {\r\n    let tempoText = '';\r\n    let customText = tempoText;\r\n    const rv: { staffId: number, tempo: SmoTempoText }[] = [];\r\n    const soundNodes = mxmlHelpers.getChildrenFromPath(element,\r\n      ['sound']);\r\n    soundNodes.forEach((sound) => {\r\n      let tempoMode = SmoTempoText.tempoModes.durationMode;\r\n      tempoText = sound.getAttribute('tempo') as string;\r\n      if (tempoText) {\r\n        const bpm = parseInt(tempoText, 10);\r\n        const wordNode =\r\n          [...element.getElementsByTagName('words')];\r\n        tempoText = wordNode.length ? wordNode[0].textContent as string :\r\n          tempoText.toString();\r\n        if (isNaN(parseInt(tempoText, 10))) {\r\n          if (SmoTempoText.tempoTexts[tempoText.toLowerCase()]) {\r\n            tempoMode = SmoTempoText.tempoModes.textMode;\r\n          } else {\r\n            tempoMode = SmoTempoText.tempoModes.customMode;\r\n            customText = tempoText;\r\n          }\r\n        }\r\n        const params = SmoTempoText.defaults;\r\n        params.tempoMode = tempoMode;\r\n        params.bpm = bpm;\r\n        params.tempoText = tempoText;\r\n        params.customText = customText;\r\n        params.display = true;\r\n        const tempo = new SmoTempoText(params);\r\n        const staffId = mxmlHelpers.getStaffId(element);\r\n        rv.push({ staffId, tempo });\r\n      }\r\n    });\r\n    return rv;\r\n  }\r\n  // ### dynamics\r\n  // /score-partwise/part/measure/direction/dynamics\r\n  static dynamics(directionElement: Element, xmlState: XmlState) {\r\n    let offset = 1;\r\n    const dynamicNodes = mxmlHelpers.getChildrenFromPath(directionElement,\r\n      ['direction-type', 'dynamics']);\r\n    const offsetNodes = mxmlHelpers.getChildrenFromPath(directionElement,\r\n      ['offset']);\r\n    if (offsetNodes.length) {\r\n      offset = parseInt(offsetNodes[0].textContent as string, 10);\r\n    }\r\n    dynamicNodes.forEach((dynamic) => {\r\n      xmlState.dynamics.push({\r\n        dynamic: dynamic.children[0].tagName,\r\n        offset: (offset / xmlState.divisions) * 4096\r\n      });\r\n    });\r\n  }\r\n\r\n  // ### attributes\r\n  // /score-partwise/part/measure/attributes\r\n  static attributes(measureElement: Element, xmlState: XmlState) {\r\n    let smoKey: PitchKey = {} as PitchKey;\r\n    const attributesNodes = mxmlHelpers.getChildrenFromPath(measureElement, ['attributes']);\r\n    if (!attributesNodes.length) {\r\n      return;\r\n    }\r\n    const attributesNode = attributesNodes[0];\r\n    xmlState.divisions =\r\n      mxmlHelpers.getNumberFromElement(attributesNode, 'divisions', xmlState.divisions);\r\n\r\n    const keyNode = mxmlHelpers.getChildrenFromPath(attributesNode, ['key']);\r\n    // MusicXML expresses keys in 'fifths' from C.\r\n    if (keyNode.length) {\r\n      const fifths = mxmlHelpers.getNumberFromElement(keyNode[0], 'fifths', 0);\r\n      if (fifths < 0) {\r\n        smoKey = smoMusic.circleOfFifths[smoMusic.circleOfFifths.length + fifths];\r\n      } else {\r\n        smoKey = smoMusic.circleOfFifths[fifths];\r\n      }\r\n      xmlState.keySignature = smoKey.letter.toUpperCase();\r\n      if (smoKey.accidental !== 'n') {\r\n        xmlState.keySignature += smoKey.accidental;\r\n      }\r\n    }\r\n\r\n    const currentTime = xmlState.timeSignature.split('/');\r\n    const timeNodes = mxmlHelpers.getChildrenFromPath(attributesNode, ['time']);\r\n    if (timeNodes.length) {\r\n      const timeNode = timeNodes[0];\r\n      const num = mxmlHelpers.getNumberFromElement(timeNode, 'beats', parseInt(currentTime[0], 10));\r\n      const den = mxmlHelpers.getNumberFromElement(timeNode, 'beat-type', parseInt(currentTime[1], 10));\r\n      xmlState.timeSignature = '' + num + '/' + den;\r\n    }\r\n\r\n    const clefNodes = mxmlHelpers.getChildrenFromPath(attributesNode, ['clef']);\r\n    if (clefNodes.length) {\r\n      // We expect the number of clefs to equal the number of staves in each measure\r\n      clefNodes.forEach((clefNode) => {\r\n        let clefNum = 0;\r\n        let clef = 'treble';\r\n        const clefAttrs = mxmlHelpers.nodeAttributes(clefNode);\r\n        if (typeof (clefAttrs.number) !== 'undefined') {\r\n          // staff numbers index from 1 in mxml\r\n          clefNum = parseInt(clefAttrs.number, 10) - 1;\r\n        }\r\n        const clefType = mxmlHelpers.getTextFromElement(clefNode, 'sign', 'G');\r\n        const clefLine = mxmlHelpers.getNumberFromElement(clefNode, 'line', 2);\r\n        // mxml supports a zillion clefs, just implement the basics.\r\n        if (clefType === 'F') {\r\n          clef = 'bass';\r\n        } else if (clefType === 'C') {\r\n          if (clefLine === 4) {\r\n            clef = 'alto';\r\n          } else if (clefLine === 3) {\r\n            clef = 'tenor';\r\n          } else if (clefLine === 1) {\r\n            clef = 'soprano';\r\n          }\r\n        } else if (clefType === 'percussion') {\r\n          clef = 'percussion';\r\n        }\r\n        if (xmlState.clefInfo.length <= clefNum) {\r\n          xmlState.clefInfo.push({ clef, staffId: clefNum });\r\n        } else {\r\n          xmlState.clefInfo[clefNum].clef = clef;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // ### wedge (hairpin)\r\n  // /score-partwise/part/measure/direction/direction-type/wedge\r\n  static wedge(directionElement: Element, xmlState: XmlState) {\r\n    let crescInfo: XmlWedgeInfo | null = null;\r\n    const wedgeNodes = mxmlHelpers.getChildrenFromPath(directionElement,\r\n      ['direction-type', 'wedge']);\r\n    wedgeNodes.forEach((wedgeNode) => {\r\n      crescInfo = { type: wedgeNode.getAttribute('type') as string };\r\n    });\r\n    // If this is a start hairpin, start it.  If an end hairpin, add it to the\r\n    // hairpin array with the type and start/stop ticks\r\n    if (crescInfo !== null) {\r\n      xmlState.processWedge(crescInfo);\r\n    }\r\n  }\r\n  // ### direction\r\n  // /score-partwise/part/measure/direction\r\n  static direction(directionElement: Element, xmlState: XmlState) {\r\n    const tempo = mxmlScore.tempo(directionElement);\r\n    // Only display tempo if changes.\r\n    if (tempo.length) {\r\n      // TODO: staff ID is with tempo, but tempo is per column in SMO\r\n      if (!SmoTempoText.eq(xmlState.tempo, tempo[0].tempo)) {\r\n        xmlState.tempo = tempo[0].tempo;\r\n        xmlState.tempo.display = true;\r\n      }\r\n    }\r\n    // parse dynamic node and add to xmlState\r\n    mxmlScore.dynamics(directionElement, xmlState);\r\n\r\n    // parse wedge (hairpin)\r\n    mxmlScore.wedge(directionElement, xmlState);\r\n  }\r\n  // ### note\r\n  // /score-partwise/part/measure/note\r\n  static note(noteElement: Element, xmlState: XmlState) {\r\n    let grIx = 0;\r\n    const staffIndex: number = mxmlHelpers.getStaffId(noteElement);\r\n    xmlState.staffIndex = staffIndex;\r\n    // We assume the clef information from attributes comes before the notes\r\n    // xmlState.staffArray[staffIndex] = { clefInfo: { clef }, voices[voiceIndex]: notes[] }\r\n    if (xmlState.staffArray.length <= staffIndex) {\r\n      // mxml has measures for all staves in a part interleaved.  In SMO they are\r\n      // each in a separate stave object.  Base the staves we expect based on\r\n      // the number of clefs in the xml state object\r\n      xmlState.clefInfo.forEach((clefInfo) => {\r\n        xmlState.staffArray.push({ clefInfo, measure: null, voices: {} as Record<number | string, XmlVoiceInfo> });\r\n      });\r\n    }\r\n    const chordNode = mxmlHelpers.getChildrenFromPath(noteElement, ['chord']);\r\n    if (chordNode.length === 0) {\r\n      xmlState.currentDuration += mxmlHelpers.durationFromNode(noteElement, 0);\r\n    }\r\n    // voices are not sequential, seem to have artitrary numbers and\r\n    // persist per part (same with staff IDs).  Update XML state if these are new\r\n    // staves\r\n    const voiceIndex = mxmlHelpers.getVoiceId(noteElement);\r\n    xmlState.voiceIndex = voiceIndex;\r\n    xmlState.initializeStaff(staffIndex, voiceIndex);\r\n    const voice = xmlState.staffArray[staffIndex].voices[voiceIndex];\r\n    // Calculate the tick and staff index for selectors\r\n    const tickIndex = chordNode.length < 1 ? voice.notes.length : voice.notes.length - 1;\r\n    const smoVoiceIndex = xmlState.staffVoiceHash[staffIndex].indexOf(voiceIndex);\r\n    const pitchIndex = chordNode.length ? xmlState.previousNote.pitches.length : 0;\r\n    const smoStaffIndex = xmlState.smoStaves.length + staffIndex;\r\n    const selector = {\r\n      staff: smoStaffIndex, measure: xmlState.measureIndex, voice: smoVoiceIndex,\r\n      tick: tickIndex, pitches: []\r\n    };\r\n    const divisions = xmlState.divisions;\r\n    const printText = noteElement.getAttribute('print-object');\r\n    const hideNote = typeof (printText) === 'string' && printText === 'no';\r\n    const isGrace = mxmlHelpers.isGrace(noteElement);\r\n    const restNode = mxmlHelpers.getChildrenFromPath(noteElement, ['rest']);\r\n    const noteType = restNode.length ? 'r' : 'n';\r\n    const durationData = mxmlHelpers.ticksFromDuration(noteElement, divisions, 4096);\r\n    const tickCount = durationData.tickCount;\r\n    if (chordNode.length === 0) {\r\n      xmlState.staffArray[staffIndex].voices[voiceIndex].ticksUsed += tickCount;\r\n    }\r\n    xmlState.tickCursor = (xmlState.currentDuration / divisions) * 4096;\r\n    const beamState = mxmlHelpers.noteBeamState(noteElement);\r\n    const slurInfos = mxmlHelpers.getSlurData(noteElement, selector);\r\n    const tieInfos = mxmlHelpers.getTieData(noteElement, selector, pitchIndex);\r\n    const tupletInfos = mxmlHelpers.getTupletData(noteElement);\r\n    const ornaments = mxmlHelpers.articulationsAndOrnaments(noteElement);\r\n    const lyrics = mxmlHelpers.lyrics(noteElement);\r\n    const flagState = mxmlHelpers.getStemType(noteElement);\r\n    const clefString: Clef = xmlState.staffArray[staffIndex].clefInfo.clef as Clef;\r\n    const pitch: Pitch = mxmlHelpers.smoPitchFromNote(noteElement,\r\n      SmoMeasure.defaultPitchForClef[clefString]);\r\n    if (isGrace === false) {\r\n      if (chordNode.length) {\r\n        // If this is a note in a chord, just add the pitch to previous note.\r\n        xmlState.previousNote.pitches.push(pitch);\r\n        xmlState.updateTieStates(tieInfos);\r\n      } else {\r\n        // Create a new note\r\n        const noteData: SmoNoteParams = SmoNote.defaults;\r\n        noteData.noteType = noteType;\r\n        noteData.pitches = [pitch];\r\n        // If this is a non-grace note, add any grace notes to the note since SMO\r\n        // treats them as note modifiers\r\n        noteData.ticks = { numerator: tickCount, denominator: 1, remainder: 0 };\r\n        noteData.flagState = flagState;\r\n        xmlState.previousNote = new SmoNote(noteData);\r\n        if (hideNote) {\r\n          xmlState.previousNote.makeHidden(true);\r\n        }\r\n        xmlState.updateDynamics();\r\n        ornaments.forEach((ornament) => {\r\n          if (ornament.ctor === 'SmoOrnament') {\r\n            xmlState.previousNote.toggleOrnament(ornament as SmoOrnament);\r\n          } else if (ornament.ctor === 'SmoArticulation') {\r\n            xmlState.previousNote.toggleArticulation(ornament as SmoArticulation);\r\n          }\r\n        });\r\n        lyrics.forEach((lyric) => {\r\n          xmlState.addLyric(xmlState.previousNote, lyric);\r\n        });\r\n        for (grIx = 0; grIx < xmlState.graceNotes.length; ++grIx) {\r\n          xmlState.previousNote.addGraceNote(xmlState.graceNotes[grIx], grIx);\r\n        }\r\n        xmlState.graceNotes = []; // clear the grace note array\r\n        // If this note starts later than the cursor due to forward, pad with rests\r\n        if (xmlState.tickCursor > xmlState.staffArray[staffIndex].voices[voiceIndex].ticksUsed) {\r\n          const pads = smoMusic.splitIntoValidDurations(\r\n            xmlState.tickCursor - xmlState.staffArray[staffIndex].voices[voiceIndex].ticksUsed);\r\n          pads.forEach((pad) => {\r\n            const clefString: Clef = xmlState.staffArray[staffIndex].clefInfo.clef as Clef;\r\n            const padNote = SmoMeasure.createRestNoteWithDuration(pad,\r\n              clefString);\r\n            padNote.makeHidden(true);\r\n            voice.notes.push(padNote);\r\n          });\r\n          // Offset any partially-completed ties or slurs with the padding\r\n          slurInfos.forEach((slurInfo) => {\r\n            slurInfo.selector.tick += pads.length;\r\n          });\r\n          tieInfos.forEach((tieInfo) => {\r\n            tieInfo.selector.tick += pads.length;\r\n          });\r\n          selector.tick += pads.length;\r\n          console.log('Added ' + pads.length + ' ticks to ' + JSON.stringify(selector, null, ' '));\r\n          // then reset the cursor since we are now in sync\r\n          xmlState.staffArray[staffIndex].voices[voiceIndex].ticksUsed = xmlState.tickCursor;\r\n        }\r\n        xmlState.updateSlurStates(slurInfos);\r\n        xmlState.updateTieStates(tieInfos);\r\n        voice.notes.push(xmlState.previousNote);\r\n        xmlState.updateBeamState(beamState, durationData.alteration, voice, voiceIndex);\r\n        xmlState.updateTupletStates(tupletInfos, voice,\r\n          staffIndex, voiceIndex);\r\n      }\r\n    } else {\r\n      if (chordNode.length) {\r\n        xmlState.graceNotes[xmlState.graceNotes.length - 1].pitches.push(pitch);\r\n      } else {\r\n        // grace note durations don't seem to have explicit duration, so\r\n        // get it from note type\r\n        xmlState.updateSlurStates(slurInfos);\r\n        xmlState.updateTieStates(tieInfos);\r\n        xmlState.graceNotes.push(new SmoGraceNote({\r\n          pitches: [pitch],\r\n          ticks: { numerator: tickCount, denominator: 1, remainder: 0 }\r\n        }));\r\n      }\r\n    }\r\n  }\r\n  // ### parseMeasureElement\r\n  // /score-partwise/part/measure\r\n  // A measure in music xml might represent several measures in SMO at the same\r\n  // column in the score\r\n  static measure(measureElement: Element, xmlState: XmlState) {\r\n    xmlState.initializeForMeasure(measureElement);\r\n    const elements = [...measureElement.children];\r\n    let hasNotes = false;\r\n    elements.forEach((element) => {\r\n      if (element.tagName === 'backup') {\r\n        xmlState.currentDuration -= mxmlHelpers.durationFromNode(element, 0);\r\n      }\r\n      if (element.tagName === 'forward') {\r\n        xmlState.currentDuration += mxmlHelpers.durationFromNode(element, 0);\r\n      }\r\n      if (element.tagName === 'attributes') {\r\n        // update the running state of the XML with new information from this measure\r\n        // if an XML attributes element is present\r\n        mxmlScore.attributes(measureElement, xmlState);\r\n      } else if (element.tagName === 'direction') {\r\n        mxmlScore.direction(element, xmlState);\r\n      } else if (element.tagName === 'note') {\r\n        mxmlScore.note(element, xmlState);\r\n        hasNotes = true;\r\n      }\r\n    });\r\n    // If a measure has no notes, just make one with the defaults\r\n    if (hasNotes === false && xmlState.staffArray.length < 1 && xmlState.clefInfo.length >= 1) {\r\n      xmlState.clefInfo.forEach((clefInfo) => {\r\n        xmlState.staffArray.push({ clefInfo, measure: null, voices: {} });\r\n      });\r\n    }\r\n    xmlState.staffArray.forEach((staffData) => {\r\n      const clef = staffData.clefInfo.clef as Clef;\r\n      const params: SmoMeasureParams = SmoMeasure.defaults;\r\n      params.clef = clef;\r\n      const smoMeasure = SmoMeasure.getDefaultMeasure(params);\r\n      smoMeasure.format = new SmoMeasureFormat(SmoMeasureFormat.defaults);\r\n      smoMeasure.format.measureIndex = xmlState.measureNumber;\r\n      smoMeasure.format.systemBreak = mxmlHelpers.isSystemBreak(measureElement);\r\n      smoMeasure.tempo = xmlState.tempo;\r\n      smoMeasure.format.customProportion = mxmlScore.customProportionDefault;\r\n      xmlState.formattingManager.updateMeasureFormat(smoMeasure.format);\r\n      smoMeasure.keySignature = xmlState.keySignature;\r\n      smoMeasure.timeSignature = SmoMeasure.convertLegacyTimeSignature(xmlState.timeSignature);\r\n      smoMeasure.measureNumber.localIndex = xmlState.measureNumber;\r\n      smoMeasure.measureNumber.measureIndex = xmlState.measureIndex;\r\n      smoMeasure.measureNumber.staffId = staffData.clefInfo.staffId + xmlState.smoStaves.length;\r\n      // voices not in array, put them in an array\r\n      Object.keys(staffData.voices).forEach((voiceKey) => {\r\n        const voice = staffData.voices[voiceKey];\r\n        xmlState.addTupletsToMeasure(smoMeasure, staffData.clefInfo.staffId,\r\n          parseInt(voiceKey, 10));\r\n        voice.notes.forEach((note) => {\r\n          if (!note.clef) {\r\n            note.clef = smoMeasure.clef;\r\n          }\r\n        });\r\n        smoMeasure.voices.push(voice);\r\n      });\r\n      if (smoMeasure.voices.length === 0) {\r\n        smoMeasure.voices.push({ notes: SmoMeasure.getDefaultNotes(smoMeasure) });\r\n      }\r\n      staffData.measure = smoMeasure;\r\n    });\r\n    // Pad incomplete measures/voices with rests\r\n    const maxTicks = xmlState.staffArray.map((staffData) => (staffData.measure as SmoMeasure).getMaxTicksVoice())\r\n      .reduce((a, b) => a > b ? a : b);\r\n    xmlState.staffArray.forEach((staffData) => {\r\n      let i = 0;\r\n      let j = 0;\r\n      const measure = staffData.measure as SmoMeasure;\r\n      for (i = 0; i < measure.voices.length; ++i) {\r\n        const curTicks = measure.getTicksFromVoice(i);\r\n        if (curTicks < maxTicks) {\r\n          const tickAr = smoMusic.splitIntoValidDurations(maxTicks - curTicks);\r\n          for (j = 0; j < tickAr.length; ++j) {\r\n            measure.voices[i].notes.push(\r\n              SmoMeasure.createRestNoteWithDuration(tickAr[j], measure.clef)\r\n            );\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { mxmlHelpers, XmlLyricData, XmlDurationAlteration, XmlTieType, XmlSlurType, XmlTupletData } from './xmlHelpers';\r\nimport { SmoMeasureModifierBase, SmoTempoText } from '../data/measureModifiers';\r\nimport { SmoSystemGroup, SmoFormattingManager } from '../data/scoreModifiers';\r\nimport { SmoNote } from '../data/note';\r\nimport { SmoTie, SmoStaffHairpin, SmoSlur, SmoSlurParams } from '../data/staffModifiers';\r\nimport { SmoLyric, SmoDynamicText, SmoGraceNote } from '../data/noteModifiers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoTuplet } from '../data/tuplet';\r\nimport { SmoSystemStaff } from '../data/systemStaff';\r\nimport { Clef } from '../data/common';\r\nimport { SmoSelector } from '../xform/selections';\r\nimport { SmoMeasure } from '../data/measure';\r\n\r\nexport interface XmlClefInfo {\r\n  clef: string, staffId: number\r\n}\r\nexport interface XmlVoiceInfo {\r\n  notes: SmoNote[],\r\n  ticksUsed: number\r\n}\r\nexport interface XmlStaffInfo {\r\n  clefInfo: XmlClefInfo,\r\n  measure: SmoMeasure | null,\r\n  voices: Record<string | number, XmlVoiceInfo>\r\n}\r\nexport interface XmlBeamGroupInfo {\r\n  ticks: number, notes: number\r\n}\r\nexport interface XmlSystemInfo {\r\n  startSelector: SmoSelector, endSelector: SmoSelector, leftConnector: number\r\n}\r\nexport interface XmlStaffGroupInfo {\r\n  start: number, length: number\r\n}\r\nexport interface XmlWedgeInfo {\r\n  type: string\r\n}\r\nexport interface XmlWedgeState {\r\n  type: string, start: number\r\n}\r\nexport interface XmlHairpinInfo {\r\n  type: string, start: number, end: number\r\n}\r\nexport interface XmlDynamicInfo {\r\n  dynamic: string, offset: number\r\n}\r\nexport interface XmlCompletedTies {\r\n  startSelector: SmoSelector,\r\n  endSelector: SmoSelector,\r\n  fromPitch: number,\r\n  toPitch: number\r\n}\r\nexport interface XmlCompletedTuplet {\r\n  tuplet: SmoTuplet, staffId: number, voiceId: number\r\n}\r\nexport interface XmlTupletState {\r\n  start: SmoSelector,\r\n  end: SmoSelector\r\n}\r\n// ## XmlState\r\n// Keep state of musical objects while parsing music xml\r\nexport class XmlState {\r\n  static get defaults() {\r\n    return {\r\n      divisions: 1, tempo: new SmoTempoText(SmoTempoText.defaults), timeSignature: '4/4', keySignature: 'C',\r\n      clefInfo: [], staffGroups: [], smoStaves: []\r\n    };\r\n  }\r\n  clefInfo: XmlClefInfo[] = [];\r\n  systems: XmlSystemInfo[] = [];\r\n  staffGroups: XmlStaffGroupInfo[] = [];\r\n  smoStaves: SmoSystemStaff[] = [];\r\n  slurs: Record<number, XmlSlurType | null> = {};\r\n  ties: Record<number, XmlTieType> = {};\r\n  wedges: XmlWedgeState = {} as XmlWedgeState;\r\n  hairpins: XmlHairpinInfo[] = [];\r\n  globalCursor = 0;\r\n  staffVoiceHash: Record<string | number, number[]> = {};\r\n  measureIndex = -1;\r\n  completedSlurs: SmoSlurParams[] = [];\r\n  completedTies: XmlCompletedTies[] = [];\r\n  verseMap: Record<number | string, number> = {};\r\n  measureNumber: number = 0;\r\n  formattingManager = new SmoFormattingManager(SmoFormattingManager.defaults);\r\n  tuplets: Record<number, XmlTupletState> = {};\r\n  tickCursor: number = 0;\r\n  tempo: SmoTempoText = new SmoTempoText(SmoTempoText.defaults);\r\n  staffArray: XmlStaffInfo[] = [];\r\n  staffIndex: number = 0;\r\n  graceNotes: SmoGraceNote[] = [];\r\n  currentDuration: number = 0;\r\n  beamGroups: Record<number, XmlBeamGroupInfo | null> = {};\r\n  dynamics: XmlDynamicInfo[] = [];\r\n  previousNote: SmoNote = new SmoNote(SmoNote.defaults);\r\n  completedTuplets: XmlCompletedTuplet[] = [];\r\n  newTitle: boolean = false;\r\n  divisions: number = 1;\r\n  keySignature: string = 'c';\r\n  timeSignature: string = '4/4';\r\n  voiceIndex: number = 0;\r\n  // Initialize things that persist throughout a staff\r\n  // likc hairpins and slurs\r\n  initializeForPart() {\r\n    this.slurs = {};\r\n    this.ties = {};\r\n    this.wedges = {} as XmlWedgeState;\r\n    this.hairpins = [];\r\n    this.globalCursor = 0;\r\n    this.staffVoiceHash = {};\r\n    this.measureIndex = -1;\r\n    this.completedSlurs = [];\r\n    this.completedTies = [];\r\n    this.verseMap = {};\r\n    this.formattingManager = new SmoFormattingManager(SmoFormattingManager.defaults);\r\n  }\r\n  // ### initializeForMeasure\r\n  // reset state for a new measure:  beam groups, tuplets\r\n  // etc. that don't cross measure boundaries\r\n  initializeForMeasure(measureElement: Element) {\r\n    const oldMeasure = this.measureNumber;\r\n    this.measureNumber =\r\n      parseInt(measureElement.getAttribute('number') as string, 10) - 1;\r\n    if (isNaN(this.measureNumber)) {\r\n      this.measureNumber = oldMeasure + 1;\r\n    }\r\n    this.tuplets = {};\r\n    this.tickCursor = 0;\r\n    this.tempo = SmoMeasureModifierBase.deserialize(this.tempo.serialize());\r\n    this.tempo.display = false;\r\n    this.staffArray = [];\r\n    this.graceNotes = [];\r\n    this.currentDuration = 0;\r\n    this.beamGroups = {};\r\n    this.completedTuplets = [];\r\n    this.dynamics = [];\r\n    this.previousNote = new SmoNote(SmoNote.defaults);\r\n    this.measureIndex += 1;\r\n  }\r\n  // ### initializeStaff\r\n  // voices are not sequential, seem to have artitrary numbers and\r\n  // persist per part, so we treat them as a hash.\r\n  // staff IDs persist per part but are sequential.\r\n  initializeStaff(staffIndex: number, voiceIndex: number) {\r\n    if (typeof (this.staffArray[staffIndex].voices[voiceIndex]) === 'undefined') {\r\n      this.staffArray[staffIndex].voices[voiceIndex] = { notes: [], ticksUsed: 0 };\r\n      // keep track of 0-indexed voice for slurs and other modifiers\r\n      if (!this.staffVoiceHash[staffIndex]) {\r\n        this.staffVoiceHash[staffIndex] = [];\r\n      }\r\n      if (this.staffVoiceHash[staffIndex].indexOf(voiceIndex) < 0) {\r\n        this.staffVoiceHash[staffIndex].push(voiceIndex);\r\n      }\r\n      // The smo 0-indexed voice index, used in selectors\r\n      this.beamGroups[voiceIndex] = null;\r\n    }\r\n  }\r\n  // ### updateStaffGroups\r\n  // once everything is parsed, figure out how to group the staves\r\n  updateStaffGroups() {\r\n    this.systems = [];\r\n    this.staffGroups.forEach((staffGroup) => {\r\n      const len = this.smoStaves[staffGroup.start].measures.length;\r\n      const startSelector = SmoSelector.default;\r\n      startSelector.staff = staffGroup.start;\r\n      startSelector.measure = 0;\r\n      const endSelector = SmoSelector.default;\r\n      endSelector.staff = staffGroup.start + (staffGroup.length - 1);\r\n      endSelector.measure = len;\r\n      const grpParams = SmoSystemGroup.defaults;\r\n      grpParams.startSelector = startSelector;\r\n      grpParams.endSelector = endSelector;\r\n      grpParams.leftConnector = SmoSystemGroup.connectorTypes.brace;\r\n      this.systems.push(\r\n        new SmoSystemGroup(grpParams)\r\n      );\r\n    });\r\n  }\r\n  addLyric(note: SmoNote, lyricData: XmlLyricData) {\r\n    if (typeof (this.verseMap[lyricData.verse]) === 'undefined') {\r\n      const keys = Object.keys(this.verseMap);\r\n      this.verseMap[lyricData.verse] = keys.length;\r\n    }\r\n    lyricData.verse = this.verseMap[lyricData.verse];\r\n    const params = SmoLyric.defaults;\r\n    params._text = lyricData._text;\r\n    params.verse = lyricData.verse;\r\n    const lyric = new SmoLyric(params);\r\n    note.addLyric(lyric);\r\n  }\r\n  // ### processWedge (hairpin)\r\n  processWedge(wedgeInfo: XmlWedgeInfo) {\r\n    if (wedgeInfo.type) {\r\n      // If we already know about this wedge, it must have been\r\n      // started, so complete it\r\n      if (this.wedges.type) {\r\n        this.hairpins.push({\r\n          type: this.wedges.type,\r\n          start: this.wedges.start,\r\n          end: this.tickCursor + this.globalCursor\r\n        });\r\n        this.wedges = {} as XmlWedgeState;\r\n      } else {\r\n        this.wedges.type = wedgeInfo.type;\r\n        this.wedges.start = this.tickCursor + this.globalCursor;\r\n      }\r\n    }\r\n  }\r\n  // ### backtrackHairpins\r\n  // For the measure just parsed, find the correct tick for the\r\n  // beginning and end of hairpins, if a hairpin stop directive\r\n  // was received.  These are not associated with a staff or voice, so\r\n  // we use the first one in the measure element for both\r\n  backtrackHairpins(smoStaff: SmoSystemStaff, staffId: number) {\r\n    this.hairpins.forEach((hairpin) => {\r\n      let hpMeasureIndex = this.measureIndex;\r\n      let hpMeasure = smoStaff.measures[hpMeasureIndex];\r\n      let startTick = hpMeasure.voices[0].notes.length - 1;\r\n      let hpTickCount = this.globalCursor; // All ticks read so far\r\n      const endSelector = {\r\n        staff: staffId - 1, measure: hpMeasureIndex, voice: 0,\r\n        tick: -1, pitches: []\r\n      };\r\n      while (hpMeasureIndex >= 0 && hpTickCount > hairpin.start) {\r\n        if (endSelector.tick < 0 && hpTickCount <= hairpin.end) {\r\n          endSelector.tick = startTick;\r\n        }\r\n        hpTickCount -= hpMeasure.voices[0].notes[startTick].ticks.numerator;\r\n        if (hpTickCount > hairpin.start) {\r\n          startTick -= 1;\r\n          if (startTick < 0) {\r\n            hpMeasureIndex -= 1;\r\n            hpMeasure = smoStaff.measures[hpMeasureIndex];\r\n            startTick = hpMeasure.voices[0].notes.length - 1;\r\n          }\r\n        }\r\n      }\r\n\r\n      const params = SmoStaffHairpin.defaults;\r\n      params.startSelector = {\r\n        staff: staffId - 1, measure: hpMeasureIndex, voice: 0, tick: startTick, pitches: []\r\n      };\r\n      params.endSelector = endSelector;\r\n      params.hairpinType = hairpin.type === 'crescendo' ? SmoStaffHairpin.types.CRESCENDO : SmoStaffHairpin.types.DECRESCENDO;\r\n      const smoHp = new SmoStaffHairpin(params);\r\n      smoStaff.modifiers.push(smoHp);\r\n    });\r\n    this.hairpins = [];\r\n  }\r\n\r\n  // ### updateDynamics\r\n  // Based on note just parsed, put the dynamics on the closest\r\n  // note, based on the offset of dynamic\r\n  updateDynamics() {\r\n    const smoNote = this.previousNote;\r\n    const tickCursor = this.tickCursor;\r\n    const newArray: XmlDynamicInfo[] = [];\r\n    this.dynamics.forEach((dynamic) => {\r\n      if (tickCursor >= dynamic.offset) {\r\n        const modParams = SmoDynamicText.defaults;\r\n        modParams.text = dynamic.dynamic;\r\n        // TODO: change the smonote name of this interface\r\n        smoNote.addModifier(new SmoDynamicText(modParams));\r\n      } else {\r\n        newArray.push(dynamic);\r\n      }\r\n    });\r\n    this.dynamics = newArray;\r\n  }\r\n  // For the given voice, beam the notes according to the\r\n  // note beam length\r\n  backtrackBeamGroup(voice: XmlVoiceInfo, beamGroup: XmlBeamGroupInfo) {\r\n    let i = 0;\r\n    for (i = 0; i < beamGroup.notes; ++i) {\r\n      const note = voice.notes[voice.notes.length - (i + 1)];\r\n      if (!note) {\r\n        console.warn('no note for beam group');\r\n        return;\r\n      }\r\n      note.endBeam = i === 0;\r\n      note.beamBeats = beamGroup.ticks;\r\n    }\r\n  }\r\n  // ### updateBeamState\r\n  // Keep track of beam instructions found while parsing note element\r\n  // includes time alteration from tuplets\r\n  updateBeamState(beamState: number, alteration: XmlDurationAlteration, voice: XmlVoiceInfo, voiceIndex: number) {\r\n    const note = voice.notes[voice.notes.length - 1];\r\n    if (beamState === mxmlHelpers.beamStates.BEGIN) {\r\n      this.beamGroups[voiceIndex] = {\r\n        ticks: (note.tickCount * alteration.noteCount) / alteration.noteDuration,\r\n        notes: 1\r\n      };\r\n    } else if (this.beamGroups[voiceIndex]) {\r\n      (this.beamGroups[voiceIndex] as XmlBeamGroupInfo).ticks += note.tickCount;\r\n      (this.beamGroups[voiceIndex] as XmlBeamGroupInfo).notes += 1;\r\n      if (beamState === mxmlHelpers.beamStates.END) {\r\n        this.backtrackBeamGroup(voice, this.beamGroups[voiceIndex] as XmlBeamGroupInfo);\r\n        this.beamGroups[voiceIndex] = null;\r\n      }\r\n    }\r\n  }\r\n  updateTieStates(tieInfos: XmlTieType[]) {\r\n    tieInfos.forEach((tieInfo) => {\r\n      // tieInfo = { number, type, orientation, selector, pitchIndex }\r\n      if (tieInfo.type === 'start') {\r\n        this.ties[tieInfo.number] = JSON.parse(JSON.stringify(tieInfo));\r\n      } else if (tieInfo.type === 'stop') {\r\n        if (this.ties[tieInfo.number]) {\r\n          this.completedTies.push({\r\n            startSelector: JSON.parse(JSON.stringify(this.ties[tieInfo.number].selector)),\r\n            endSelector: JSON.parse(JSON.stringify(tieInfo.selector)),\r\n            fromPitch: this.ties[tieInfo.number].pitchIndex,\r\n            toPitch: tieInfo.pitchIndex\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n  static slurDirectionFromNote(clef: Clef, note: SmoNote, orientation: string) {\r\n    const rv = { invert: false, yOffset: SmoSlur.defaults.yOffset };\r\n    const flagState = smoMusic.flagStateFromNote(clef, note);\r\n    if (flagState === SmoNote.flagStates.up && orientation === 'over') {\r\n      rv.invert = true;\r\n      rv.yOffset += 50;\r\n    }\r\n    if (flagState === SmoNote.flagStates.down && orientation === 'under') {\r\n      rv.invert = true;\r\n      rv.yOffset -= 50;\r\n    }\r\n    return rv;\r\n  }\r\n  // ### updateSlurStates\r\n  // While parsing a measure,\r\n  // on a slur element, either complete a started\r\n  // slur or start a new one.\r\n  updateSlurStates(slurInfos: XmlSlurType[]) {\r\n    const clef: Clef = this.staffArray[this.staffIndex].clefInfo.clef as Clef;\r\n    const note = this.previousNote;\r\n    slurInfos.forEach((slurInfo) => {\r\n      // slurInfo = { number, type, selector }\r\n      if (slurInfo.type === 'start') {\r\n        if (this.slurs[slurInfo.number] && (this.slurs[slurInfo.number] as XmlSlurType).type === 'stop') {\r\n          // if start and stop come out of order\r\n          const slurParams = SmoSlur.defaults;\r\n          slurParams.endSelector = JSON.parse(JSON.stringify((this.slurs[slurInfo.number] as XmlSlurType).selector));\r\n          slurParams.startSelector = slurInfo.selector;\r\n          const alter = XmlState.slurDirectionFromNote(clef, note, slurInfo.orientation);\r\n          slurParams.yOffset = alter.yOffset;\r\n          slurParams.invert = alter.invert;\r\n          this.completedSlurs.push(slurParams);\r\n          this.slurs[slurInfo.number] = null;\r\n        } else {\r\n          const alter = XmlState.slurDirectionFromNote(clef, note, slurInfo.orientation);\r\n          this.slurs[slurInfo.number] = JSON.parse(JSON.stringify(slurInfo));\r\n          (this.slurs[slurInfo.number] as XmlSlurType).yOffset = alter.yOffset;\r\n          (this.slurs[slurInfo.number] as XmlSlurType).invert = alter.invert;\r\n        }\r\n      } else if (slurInfo.type === 'stop') {\r\n        if (this.slurs[slurInfo.number] && (this.slurs[slurInfo.number] as XmlSlurType).type === 'start') {\r\n          const slurData = this.slurs[slurInfo.number] as XmlSlurType;\r\n          const slurParams = SmoSlur.defaults;\r\n          slurParams.startSelector = JSON.parse(JSON.stringify((this.slurs[slurInfo.number] as XmlSlurType).selector));\r\n          slurParams.endSelector = slurInfo.selector;\r\n          slurParams.yOffset = slurData.yOffset;\r\n          slurParams.invert = slurData.invert;\r\n          // console.log('complete slur ' + slurInfo.number + JSON.stringify(slurParams, null, ' '));\r\n          this.completedSlurs.push(slurParams);\r\n          this.slurs[slurInfo.number] = null;\r\n        } else {\r\n          this.slurs[slurInfo.number] = JSON.parse(JSON.stringify(slurInfo));\r\n        }\r\n      }\r\n    });\r\n  }\r\n  // ### completeTies\r\n  completeTies() {\r\n    this.completedTies.forEach((tie) => {\r\n      const params = SmoTie.defaults;\r\n      params.startSelector = tie.startSelector;\r\n      params.endSelector = tie.endSelector;\r\n      const smoTie = new SmoTie(params);\r\n      smoTie.lines = [{\r\n        from: tie.fromPitch, to: tie.toPitch\r\n      }];\r\n      this.smoStaves[tie.startSelector.staff].addStaffModifier(smoTie);\r\n    });\r\n  }\r\n  // ### completeSlurs\r\n  // After reading in a measure, update any completed slurs and make them\r\n  // into SmoSlur and add them to the SmoSystemGroup objects.\r\n  // staffIndexOffset is the offset from the xml staffId and the score staff Id\r\n  // (i.e. the staves that have already been parsed in other parts)\r\n  completeSlurs() {\r\n    this.completedSlurs.forEach((slur) => {\r\n      const params = SmoSlur.defaults;\r\n      params.startSelector = slur.startSelector;\r\n      params.endSelector = slur.endSelector;\r\n      params.yOffset = slur.yOffset;\r\n      params.invert = slur.invert;\r\n      const smoSlur = new SmoSlur(params);\r\n      this.smoStaves[slur.startSelector.staff].addStaffModifier(smoSlur);\r\n    });\r\n  }\r\n  // ### backtrackTuplets\r\n  // If we received a tuplet end, go back through the voice\r\n  // and construct the SmoTuplet.\r\n  backtrackTuplets(voice: XmlVoiceInfo, tupletNumber: number, staffId: number, voiceId: number) {\r\n    const tupletState = this.tuplets[tupletNumber];\r\n    let i = tupletState.start.tick;\r\n    const notes = [];\r\n    const durationMap = [];\r\n    while (i < voice.notes.length) {\r\n      const note = voice.notes[i];\r\n      notes.push(note);\r\n      if (i === tupletState.start.tick) {\r\n        durationMap.push(1.0);\r\n      } else {\r\n        const prev = voice.notes[i - 1];\r\n        durationMap.push(note.ticks.numerator / prev.ticks.numerator);\r\n      }\r\n      i += 1;\r\n    }\r\n    const tp = SmoTuplet.defaults;\r\n    tp.notes = notes;\r\n    tp.durationMap = durationMap;\r\n    tp.voice = voiceId;\r\n    const tuplet = new SmoTuplet(tp);\r\n    // Store the tuplet with the staff ID and voice so we\r\n    // can add it to the right measure when it's created.\r\n    this.completedTuplets.push({ tuplet, staffId, voiceId });\r\n  }\r\n  // ### updateTupletStates\r\n  // react to a tuplet start or stop directive\r\n  updateTupletStates(tupletInfos: XmlTupletData[], voice: XmlVoiceInfo, staffIndex: number, voiceIndex: number) {\r\n    const tick = voice.notes.length - 1;\r\n    tupletInfos.forEach((tupletInfo) => {\r\n      if (tupletInfo.type === 'start') {\r\n        this.tuplets[tupletInfo.number] = {\r\n          start: { staff: staffIndex, measure: this.measureNumber, voice: voiceIndex, tick, pitches: [] },\r\n          end: SmoSelector.default\r\n        };\r\n      } else if (tupletInfo.type === 'stop') {\r\n        this.tuplets[tupletInfo.number].end = {\r\n          staff: staffIndex, measure: this.measureNumber, voice: voiceIndex, tick, pitches: []\r\n        };\r\n        this.backtrackTuplets(voice, tupletInfo.number, staffIndex, voiceIndex);\r\n      }\r\n    });\r\n  }\r\n  addTupletsToMeasure(smoMeasure: SmoMeasure, staffId: number, voiceId: number) {\r\n    const completed: XmlCompletedTuplet[] = [];\r\n    this.completedTuplets.forEach((tuplet) => {\r\n      if (tuplet.voiceId === voiceId && tuplet.staffId === staffId) {\r\n        smoMeasure.tuplets.push(tuplet.tuplet);\r\n      } else {\r\n        completed.push(tuplet);\r\n      }\r\n    });\r\n    this.completedTuplets = completed;\r\n  }\r\n  getSystems(): SmoSystemGroup[] {\r\n    const rv: SmoSystemGroup[] = [];\r\n    this.systems.forEach((system) => {\r\n      const params = SmoSystemGroup.defaults;\r\n      params.startSelector = system.startSelector;\r\n      params.endSelector = system.endSelector;\r\n      params.leftConnector = system.leftConnector;\r\n      rv.push(new SmoSystemGroup(params));\r\n    });\r\n    return rv;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n// ## SmoActionRecord\r\n// Record a list of actions, for playback or unit testing.\r\nexport interface Action {\r\n  method: any,\r\n  parameters: any,\r\n  count: number\r\n}\r\nexport class SmoActionRecord {\r\n  static get refreshTimer() {\r\n    return 10000;\r\n  }\r\n  static get actionInterval() {\r\n    return 50;\r\n  }\r\n  actions: Action[] = [];\r\n  executeIndex: number = 0;\r\n  refreshTime: number = 0;\r\n  _refreshing: boolean = false;\r\n  constructor() {\r\n  }\r\n  addAction(method: any, ...args: any[]) {\r\n    // Don't add actions while running\r\n    if (this.actions.length && !this.endCondition) {\r\n      return;\r\n    }\r\n    const obj: Action = { method, parameters: [], count: 0 };\r\n    args.forEach((arg: any) => {\r\n      if (typeof(arg) === 'object' && arg !== null) {\r\n        if (typeof(arg.serialize) === 'function') {\r\n          obj.parameters.push(arg.serialize());\r\n        } else {\r\n          obj.parameters.push(JSON.parse(JSON.stringify(arg)));\r\n        }\r\n      } else {\r\n        if (typeof(arg) !== 'undefined') {\r\n          obj.parameters.push(arg);\r\n        }\r\n      }\r\n    });\r\n    if (this.actions.length > 0) {\r\n      const lastAction = this.actions[this.actions.length - 1];\r\n      if (lastAction.method === obj.method) {\r\n        const lastStr = JSON.stringify(lastAction.parameters);\r\n        const thisStr = JSON.stringify(obj.parameters);\r\n        if (lastStr === thisStr) {\r\n          this._refreshing = false;\r\n          lastAction.count += 1;\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    obj.count = 1;\r\n    this.actions.push(obj);\r\n    this.executeIndex = this.actions.length;\r\n    this._refreshing = false;\r\n  }\r\n  resetRunner() {\r\n    this.executeIndex = this.actions.length;\r\n  }\r\n  clearActions() {\r\n    this.actions = [];\r\n    this.executeIndex = 0;\r\n  }\r\n  cancelRun() {\r\n    this.executeIndex = this.actions.length;\r\n  }\r\n  get endCondition() {\r\n    return this.actions.length < 1 || this.executeIndex >= this.actions.length;\r\n  }\r\n  callNextAction(): Action | null {\r\n    if (this.endCondition) {\r\n      return null;\r\n    }\r\n    const action = this.actions[this.executeIndex];\r\n    const args: any[] = [];\r\n    action.parameters.forEach((param: any) => {\r\n      if (typeof(param) === 'object') {\r\n        if (typeof(param.ctor) === 'string') {\r\n          const ctor = eval('globalThis.Smo.' + param.ctor);\r\n          args.push(new ctor(param));\r\n        } else {\r\n          args.push(JSON.parse(JSON.stringify(param)));\r\n        }\r\n      } else {\r\n        args.push(param);\r\n      }\r\n    });\r\n    if (typeof(action.count) === 'undefined' || isNaN(action.count)) {\r\n      action.count = 1;\r\n    }\r\n    this.executeIndex += 1;\r\n    return { method: action.method, parameters: args, count: action.count };\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoDynamicText } from '../data/noteModifiers';\r\nimport { SmoSelector, SmoSelection } from './selections';\r\nimport { SmoStaffHairpin, StaffModifierBase } from '../data/staffModifiers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoTempoText, SmoBarline, SmoVolta } from '../data/measureModifiers';\r\nimport { SmoScore } from '../data/score';\r\nimport { SmoNote } from '../data/note';\r\nimport { Pitch } from '../data/common';\r\nimport { SmoSystemStaff } from '../data/systemStaff';\r\n\r\nexport interface SmoAudioRepeat {\r\n  startRepeat: number,\r\n  endRepeat?: number,\r\n  voltas: SmoAudioVolta[]\r\n}\r\nexport interface SmoAudioVolta {\r\n  measureIndex: number,\r\n  ending: number\r\n}\r\nexport interface SmoAudioRepeatMap {\r\n  startMeasure: number,\r\n  endMeasure: number\r\n}\r\nexport interface SmoAudioHairpin {\r\n  hairpinType: number,\r\n  startSelector: SmoSelector,\r\n  endSelector: SmoSelector,\r\n  delta: number,\r\n  ticks: number\r\n}\r\nexport interface SmoAudioTie {\r\n  startSelector: SmoSelector,\r\n  endSelector: SmoSelector\r\n}\r\nexport interface SmoAudioNote {\r\n  pitches: Pitch[],\r\n  noteType: string,\r\n  duration: number,\r\n  offset: number,\r\n  selector: SmoSelector,\r\n  volume: number,\r\n  padding?: boolean\r\n}\r\nexport interface SmoAudioTimeSignature {\r\n  numerator: number,\r\n  denominator: number\r\n}\r\nexport interface SmoAudioTrack {\r\n  lastMeasure: number,\r\n  notes: SmoAudioNote[],\r\n  tempoMap: Record<string, number>,\r\n  measureNoteMap: Record<number, SmoAudioNote[]>,\r\n  timeSignatureMap: Record<string, SmoAudioTimeSignature>,\r\n  hairpins: SmoAudioHairpin[],\r\n  volume: number,\r\n  tiedNotes: SmoAudioTie[],\r\n  repeats: []\r\n}\r\nexport interface AudioTracks {\r\n  tracks: SmoAudioTrack[],\r\n  repeats: SmoAudioRepeat[],\r\n  repeatMap: SmoAudioRepeatMap[],\r\n  measureBeats: number[],\r\n  tempoMap: number[]\r\n}\r\n/** SmoAudioScore\r\n// Convert a score into a JSON structure that can be rendered to audio.\r\n// the return value looks like this:\r\n// `` { tracks, repeats, repeatMap} ``\r\n// repeatMap is just an array of tuples with start/end measures.\r\n//  each track contains:\r\n// `` { lastMeasure, notes, tempoMap, timeSignatureMap, hairpins, volume, tiedNotes }\r\n// where each note might contain:\r\n//  ``{ pitches, noteType, duration, selector, volume }``\r\n// Note:  pitches are smo pitches, durations are adjusted for beatTime\r\n// (beatTime === 4096 uses Smo/Vex ticks, 128 is midi tick default)\r\n// volume is normalized 0-1\r\n */\r\nexport class SmoAudioScore {\r\n  // ### dynamicVolumeMap\r\n  // normalized dynamic\r\n  static get dynamicVolumeMap(): Record<string, number> {\r\n    // matches SmoDynamicText.dynamics\r\n    return {\r\n      pp: 0.3,\r\n      p: 0.4,\r\n      mp: 0.5,\r\n      mf: 0.6,\r\n      f: 0.7,\r\n      ff: 0.8\r\n    };\r\n  }\r\n  static get emptyTrack(): SmoAudioTrack {\r\n    return {\r\n      lastMeasure: 0,\r\n      notes: [],\r\n      tempoMap: {},\r\n      timeSignatureMap: {},\r\n      hairpins: [],\r\n      measureNoteMap: {},\r\n      volume: 0,\r\n      tiedNotes: [],\r\n      repeats: []\r\n    };\r\n  }\r\n  timeDiv: number;\r\n  score: SmoScore;\r\n  beatTime: number;\r\n  volume: number = 0;\r\n  constructor(score: SmoScore, beatTime: number) {\r\n    this.timeDiv = 4096 / beatTime;\r\n    this.score = score;\r\n    this.beatTime = beatTime;\r\n  }\r\n  // ### volumeFromNote\r\n  // Return a normalized volume from the dynamic setting of the note\r\n  // or supplied default if none exists\r\n  volumeFromNote(smoNote: SmoNote, def?: number): number {\r\n    if (typeof (def) === 'undefined' || def === 0) {\r\n      def = SmoAudioScore.dynamicVolumeMap[SmoDynamicText.dynamics.PP];\r\n    }\r\n    const dynamic: SmoDynamicText[] = smoNote.getModifiers('SmoDynamicText') as SmoDynamicText[];\r\n    if (dynamic.length < 1) {\r\n      return def;\r\n    }\r\n    if (dynamic[0].text === SmoDynamicText.dynamics.SFZ) {\r\n      return SmoAudioScore.dynamicVolumeMap[SmoDynamicText.dynamics.F];\r\n    }\r\n    if (typeof (SmoAudioScore.dynamicVolumeMap[dynamic[0].text]) === 'undefined') {\r\n      return def;\r\n    }\r\n    return SmoAudioScore.dynamicVolumeMap[dynamic[0].text];\r\n  }\r\n  getVoltas(repeat: SmoAudioRepeat, measureIndex: number): SmoAudioVolta[] {\r\n    let v1 = measureIndex;\r\n    let endings = null;\r\n    let currentEnding = -1;\r\n    const rv: SmoAudioVolta[] = [];\r\n    const staff = this.score.staves[0];\r\n    while (v1 > repeat.startRepeat) {\r\n      endings = staff.measures[v1].getNthEndings();\r\n      if (endings.length && endings[0].endSelector) {\r\n        currentEnding = endings[0].number;\r\n        rv.push({ measureIndex: v1, ending: currentEnding });\r\n        v1 = endings[0].endSelector.measure + 1;\r\n        break;\r\n      }\r\n      v1--;\r\n    }\r\n    if (currentEnding < 0 || !staff?.measures) {\r\n      return rv;\r\n    }\r\n    while (endings?.length && v1 < staff.measures.length) {\r\n      endings = staff.measures[v1].getNthEndings();\r\n      if (!endings.length) {\r\n        break;\r\n      }\r\n      currentEnding = endings[0].number;\r\n      rv.push({ measureIndex: v1, ending: currentEnding });\r\n      v1 = (endings[0].endSelector as SmoSelector).measure + 1;\r\n    }\r\n    rv.sort((a: SmoAudioVolta, b: SmoAudioVolta) => a.ending - b.ending);\r\n    return rv;\r\n  }\r\n  // ### ticksFromSelection\r\n  // return the count of ticks between the selectors, adjusted for\r\n  // beatTime\r\n  ticksFromSelection(startSelector: SmoSelector, endSelector: SmoSelector): number {\r\n    const selection = SmoSelection.selectionFromSelector(this.score, startSelector);\r\n    const note = selection?.note as SmoNote;\r\n    let ticks: number = note.tickCount;\r\n    let nextSelection: SmoSelection | null = SmoSelection.nextNoteSelectionFromSelector(this.score, startSelector);\r\n    while (nextSelection && nextSelection.note && !SmoSelector.gt(nextSelection.selector, endSelector)) {\r\n      ticks += nextSelection.note.tickCount;\r\n      nextSelection = SmoSelection.nextNoteSelectionFromSelector(this.score, nextSelection.selector);\r\n    }\r\n    return ticks / this.timeDiv;\r\n  }\r\n  // ### getHairpinInfo\r\n  // Get any hairpin starting at this selection, and calculate its\r\n  // effect on the overall volume\r\n  getHairpinInfo(track: SmoAudioTrack, selection: SmoSelection) {\r\n    const staff: SmoSystemStaff = selection.staff;\r\n    const selector: SmoSelector = selection.selector;\r\n    const cp = (x: SmoSelector) => JSON.parse(JSON.stringify(x));\r\n    const hps: StaffModifierBase[] = staff.getModifiersAt(selector)\r\n      .filter((hairpin) => hairpin.ctor === 'SmoStaffHairpin' &&\r\n        SmoSelector.eq(hairpin.startSelector, selector));\r\n    const rv: SmoAudioHairpin[] = [];\r\n    // clear out old hairpins.\r\n    // usually there will only be a single hairpin per voice, except\r\n    // in the case of overlapping.\r\n    track.hairpins.forEach((hairpin: SmoAudioHairpin) => {\r\n      if (SmoSelector.gteq(selection.selector, hairpin.startSelector) &&\r\n        SmoSelector.lteq(selection.selector, hairpin.endSelector)) {\r\n        rv.push(hairpin);\r\n      }\r\n    });\r\n    track.hairpins = rv;\r\n\r\n    hps.forEach((hairpin) => {\r\n      const ch = hairpin as SmoStaffHairpin;\r\n      let endDynamic = 0;\r\n      const trackHairpin: SmoAudioHairpin = {\r\n        hairpinType: ch.hairpinType,\r\n        startSelector: cp(hairpin.startSelector),\r\n        endSelector: cp(hairpin.endSelector),\r\n        delta: 0,\r\n        ticks: 0\r\n      };\r\n      // For a hairpin, try to calculate the volume difference from start to end,\r\n      // as a function of ticks\r\n      const endSelection: SmoSelection | null = SmoSelection.selectionFromSelector(this.score, hairpin.endSelector);\r\n      if (endSelection !== null && typeof (endSelection.note) !== 'undefined') {\r\n        const endNote = endSelection.note as SmoNote;\r\n        const curNote = selection.note as SmoNote;\r\n        endDynamic = this.volumeFromNote(endNote);\r\n        const startDynamic = this.volumeFromNote(curNote, track.volume);\r\n        if (startDynamic === endDynamic) {\r\n          const nextSelection = SmoSelection.nextNoteSelectionFromSelector(this.score, hairpin.endSelector);\r\n          if (nextSelection) {\r\n            const nextNote = nextSelection.note as SmoNote;\r\n            endDynamic = this.volumeFromNote(nextNote);\r\n          }\r\n        }\r\n        if (startDynamic === endDynamic) {\r\n          const offset = (hairpin as SmoStaffHairpin).hairpinType === SmoStaffHairpin.types.CRESCENDO ? 0.1 : -0.1;\r\n          endDynamic = Math.max(endDynamic + offset, 0.1);\r\n          endDynamic = Math.min(endDynamic, 1.0);\r\n        }\r\n        trackHairpin.delta = endDynamic - startDynamic;\r\n        trackHairpin.ticks = this.ticksFromSelection(hairpin.startSelector, hairpin.endSelector);\r\n        track.hairpins.push(trackHairpin);\r\n      }\r\n    });\r\n  }\r\n  // ### computeVolume\r\n  // come up with a current normalized volume based on dynamics\r\n  // that appear in the music\r\n  computeVolume(track: SmoAudioTrack, selection: SmoSelection) {\r\n    const note = selection.note as SmoNote;\r\n    if (track.volume === 0) {\r\n      track.volume = this.volumeFromNote(note,\r\n        SmoAudioScore.dynamicVolumeMap.p);\r\n      return;\r\n    }\r\n    if (track.hairpins.length) {\r\n      const hp = track.hairpins[0];\r\n      const coff = (note.tickCount / this.timeDiv) / hp.ticks;\r\n      track.volume += hp.delta * coff;\r\n    } else {\r\n      track.volume = this.volumeFromNote(note, track.volume);\r\n    }\r\n  }\r\n  getSlurInfo(track: SmoAudioTrack, selection: SmoSelection) {\r\n    const tn: SmoAudioTie[] = [];\r\n    const cp = (x: any) => JSON.parse(JSON.stringify(x));\r\n    track.tiedNotes.forEach((tie) => {\r\n      if (SmoSelector.gteq(selection.selector, tie.startSelector) && SmoSelector.lteq(selection.selector, tie.endSelector)) {\r\n        tn.push(tie);\r\n      }\r\n    });\r\n    track.tiedNotes = tn;\r\n    const slurStart = selection.staff.getSlursStartingAt(selection.selector);\r\n    slurStart.forEach((slur) => {\r\n      tn.push({\r\n        startSelector: cp(slur.startSelector),\r\n        endSelector: cp(slur.endSelector)\r\n      });\r\n    });\r\n    const tieStart = selection.staff.getTiesStartingAt(selection.selector);\r\n    tieStart.forEach((tie) => {\r\n      tn.push({\r\n        startSelector: cp(tie.startSelector),\r\n        endSelector: cp(tie.endSelector)\r\n      });\r\n    });\r\n  }\r\n  isTiedPitch(track: SmoAudioTrack, selection: SmoSelection, noteIx: number): boolean {\r\n    if (noteIx < 1) {\r\n      return false;\r\n    }\r\n    if (!track.tiedNotes.length) {\r\n      return false;\r\n    }\r\n    if (track.notes[noteIx - 1].noteType !== 'n') {\r\n      return false;\r\n    }\r\n    // Don't do this for first note of nth endings, because it will mess up\r\n    // other endings.\r\n    if (selection.selector.tick === 0) {\r\n      const endings = selection.measure.getNthEndings();\r\n      if (endings.length) {\r\n        return false;\r\n      }\r\n    }\r\n    return smoMusic.pitchArraysMatch(track.notes[noteIx - 1].pitches, (selection.note as SmoNote).pitches);\r\n  }\r\n  static updateMeasureIndexMap(note: SmoAudioNote, measureIndexMap: Record<number, Record<number, SmoAudioNote[]>>) {\r\n    if (note.noteType !== 'n') {\r\n      return;\r\n    }\r\n    const selector = note.selector;\r\n    if (typeof (measureIndexMap[selector.measure]) === 'undefined') {\r\n      measureIndexMap[selector.measure] = {} as Record<number, SmoAudioNote[]>;\r\n    }\r\n    const measureIndex = measureIndexMap[selector.measure];\r\n    if (typeof (measureIndex[selector.tick]) === 'undefined') {\r\n      measureIndex[selector.tick] = [];\r\n    }\r\n    if (note.noteType === 'n') {\r\n      measureIndex[selector.tick].push(note);\r\n    }\r\n  }\r\n  updateMeasureNoteMap(track: SmoAudioTrack, measureIndex: number, note: SmoAudioNote) {\r\n    if (!track.measureNoteMap[measureIndex]) {\r\n      track.measureNoteMap[measureIndex] = [];\r\n    }\r\n    track.measureNoteMap[measureIndex].push(note)\r\n  }\r\n  createTrackNote(track: SmoAudioTrack, selection: SmoSelection, duration: number, runningDuration: number, measureIndexMap: Record<number, Record<number, SmoAudioNote[]>>) {\r\n    const noteIx = track.notes.length;\r\n    if (this.isTiedPitch(track, selection, noteIx)) {\r\n      track.notes[noteIx - 1].duration += duration;\r\n      const restPad = this.createTrackRest(track, duration, runningDuration, selection.selector, measureIndexMap);\r\n      // Indicate this rest is just padding for a previous tied note.  Midi and audio render this\r\n      // differently\r\n      restPad.padding = true;\r\n      track.notes.push(restPad);\r\n      return;\r\n    }\r\n    const tpitches: Pitch[] = [];\r\n    const xpose = selection.measure.transposeIndex;\r\n    const smoNote = selection.note as SmoNote;\r\n    smoNote.pitches.forEach((pitch) => {\r\n      tpitches.push(smoMusic.smoIntToPitch(\r\n        smoMusic.smoPitchToInt(pitch) - xpose));\r\n    });\r\n    const pitchArray = JSON.parse(JSON.stringify(tpitches));\r\n    const note = {\r\n      pitches: pitchArray,\r\n      noteType: 'n',\r\n      duration,\r\n      offset: runningDuration,\r\n      selector: selection.selector,\r\n      volume: track.volume\r\n    };\r\n    this.updateMeasureNoteMap(track, selection.selector.measure, note);\r\n    track.notes.push(note);\r\n    SmoAudioScore.updateMeasureIndexMap(note, measureIndexMap);\r\n  }\r\n  createTrackRest(track: SmoAudioTrack, duration: number, runningDuration: number, selector: SmoSelector, \r\n    measureIndexMap: Record<number, Record<number, SmoAudioNote[]>>): SmoAudioNote {\r\n    const rest: SmoAudioNote = {\r\n      duration,\r\n      offset: runningDuration,\r\n      noteType: 'r',\r\n      selector,\r\n      volume: 0,\r\n      pitches: []\r\n    };\r\n    SmoAudioScore.updateMeasureIndexMap(rest, measureIndexMap);\r\n    this.updateMeasureNoteMap(track, selector.measure, rest);      \r\n    return rest;\r\n  }\r\n  createRepeatMap(repeats: SmoAudioRepeat[]): SmoAudioRepeatMap[] {\r\n    let startm = 0;\r\n    let j = 0;\r\n    const staff = this.score.staves[0];\r\n    const repeatMap: SmoAudioRepeatMap[] = [];\r\n    const endm = staff.measures.length - 1;\r\n    repeats.forEach((repeat) => {\r\n      // Include the current start to start of repeat, unless there is no start repeat\r\n      if (repeat.startRepeat > 0) {\r\n        repeatMap.push({ startMeasure: startm, endMeasure: repeat.startRepeat - 1 });\r\n      }\r\n      // Include first time through\r\n      if (repeat.endRepeat) {\r\n        repeatMap.push({ startMeasure: repeat.startRepeat, endMeasure: repeat.endRepeat });\r\n      }\r\n      startm = repeat.startRepeat;\r\n      // nth time through, go to the start of volta 0, then to the start of volta n\r\n      if (repeat.endRepeat && repeat.voltas.length < 1) {\r\n        repeatMap.push({ startMeasure: repeat.startRepeat, endMeasure: repeat.endRepeat });\r\n        startm = repeat.endRepeat + 1;\r\n      }\r\n      for (j = 1; j < repeat.voltas.length; ++j) {\r\n        const volta = repeat.voltas[j];\r\n        repeatMap.push({ startMeasure: repeat.startRepeat, endMeasure: repeat.voltas[0].measureIndex - 1 });\r\n        // If there are more endings, repeat to first volta\r\n        if (j + 1 < repeat.voltas.length) {\r\n          repeatMap.push({ startMeasure: volta.measureIndex, endMeasure: repeat.voltas[j + 1].measureIndex - 1 });\r\n        } else {\r\n          startm = volta.measureIndex;\r\n        }\r\n      }\r\n    });\r\n    if (startm <= endm) {\r\n      repeatMap.push({ startMeasure: startm, endMeasure: endm });\r\n    }\r\n    return repeatMap;\r\n  }\r\n  normalizeVolume(measureIndexMap: Record<number, Record<number, SmoAudioNote[]>>) {\r\n    let i = 0;\r\n    let j = 0;\r\n    let runningSum = -1;\r\n    const measureKeys = Object.keys(measureIndexMap);\r\n    for (i = 0; i < measureKeys.length; ++i) {\r\n      const measureNotes = measureIndexMap[i];\r\n      if (typeof (measureNotes) === 'undefined') {\r\n        continue;\r\n      }\r\n      const tickKeys = Object.keys(measureNotes);\r\n      for (j = 0; j < tickKeys.length; ++j) {\r\n        let volumeSum = 0;\r\n        let normalize = 1.0;\r\n        const tickNotes = measureNotes[parseInt(tickKeys[j], 10)];\r\n        if (typeof (tickNotes) === 'undefined') {\r\n          continue;\r\n        }\r\n        volumeSum = tickNotes.map((nn) => nn.volume).reduce((a, b) => a + b);\r\n        if (volumeSum > 1.0) {\r\n          normalize = 1.0 / volumeSum;\r\n          volumeSum = 1.0;\r\n        }\r\n        if (runningSum < 0) {\r\n          runningSum = volumeSum;\r\n        }\r\n        const diff = Math.abs(runningSum - volumeSum);\r\n        if (diff > 0.6) {\r\n          const avg = (volumeSum * 3 + runningSum) / 4;\r\n          normalize = normalize * avg;\r\n        }\r\n        runningSum = volumeSum * normalize;\r\n        tickNotes.forEach((nn) => {\r\n          nn.volume *= normalize;\r\n        });\r\n        runningSum = volumeSum;\r\n      }\r\n    }\r\n  }\r\n  convert(): AudioTracks {\r\n    const trackHash: Record<string, SmoAudioTrack> = {};\r\n    const measureBeats: number[] = [];\r\n    const measureIndexMap = {};\r\n    const repeats: SmoAudioRepeat[] = [];\r\n    let startRepeat = 0;\r\n    const tempoMap: number[] = [];\r\n    this.score.staves.forEach((staff, staffIx) => {\r\n      this.volume = 0;\r\n      staff.measures.forEach((measure, measureIx) => {\r\n        measure.voices.forEach((voice, voiceIx) => {\r\n          let duration = 0;\r\n          const trackKey = (this.score.staves.length * voiceIx) + staffIx;\r\n          if (typeof (trackHash[trackKey]) === 'undefined') {\r\n            trackHash[trackKey] = SmoAudioScore.emptyTrack;\r\n          }\r\n          const measureSelector = SmoSelector.default;\r\n          measureSelector.staff = staffIx;\r\n          measureSelector.measure = measureIx;\r\n          const track: SmoAudioTrack = trackHash[trackKey];\r\n          if (!measure.tempo) {\r\n            measure.tempo = new SmoTempoText(SmoTempoText.defaults);\r\n          }\r\n          const tempo = measure.tempo.bpm * (measure.tempo.beatDuration / 4096);\r\n          // staff 0/voice 0, set track values for the measure\r\n          if (voiceIx === 0) {\r\n            if (staffIx === 0) {\r\n              measureBeats.push(measure.getMaxTicksVoice() / this.timeDiv);\r\n              const startBar = measure.getStartBarline();\r\n              const endBar = measure.getEndBarline();\r\n              if (startBar.barline === SmoBarline.barlines.startRepeat) {\r\n                startRepeat = measureIx;\r\n              }\r\n              if (endBar.barline === SmoBarline.barlines.endRepeat) {\r\n                const repeat: SmoAudioRepeat = { startRepeat, endRepeat: measureIx, voltas: [] };\r\n                repeat.voltas = this.getVoltas(repeat, measureIx);\r\n                repeats.push(repeat);\r\n              }\r\n              tempoMap.push(tempo);\r\n            }\r\n\r\n            const selectorKey = SmoSelector.getMeasureKey(measureSelector);\r\n            track.tempoMap[selectorKey] = Math.round(tempo);\r\n            track.timeSignatureMap[selectorKey] = {\r\n              numerator: measure.numBeats,\r\n              denominator: measure.beatValue\r\n            };\r\n          }\r\n          // If this voice is not in every measure, fill in the space\r\n          // in its own channel.\r\n          while (track.lastMeasure < measureIx) {\r\n            track.notes.push(this.createTrackRest(track, measureBeats[track.lastMeasure], 0,\r\n              { staff: staffIx, measure: track.lastMeasure, voice: voiceIx, tick: 0, pitches: [] },\r\n              measureIndexMap,\r\n            ));\r\n            track.lastMeasure += 1;\r\n          }\r\n          let tupletTicks = 0;\r\n          let runningDuration = 0;\r\n          voice.notes.forEach((note, noteIx) => {\r\n            const selector = {\r\n              staff: staffIx, measure: measureIx, voice: voiceIx, tick: noteIx, pitches: []\r\n            };\r\n            const selection = SmoSelection.selectionFromSelector(this.score, selector) as SmoSelection;\r\n            // update staff features of slur/tie/cresc.\r\n            this.getSlurInfo(track, selection);\r\n            this.getHairpinInfo(track, selection);\r\n            const tuplet = measure.getTupletForNote(note);\r\n            if (tuplet && tuplet.getIndexOfNote(note) === 0) {\r\n              tupletTicks = tuplet.tickCount / this.timeDiv;\r\n            }\r\n            if (tupletTicks) {\r\n              // tuplet likely won't fit evenly in ticks, so\r\n              // use remainder in last tuplet note.\r\n              if (tuplet && tuplet.getIndexOfNote(note) === tuplet.notes.length - 1) {\r\n                duration = tupletTicks;\r\n                tupletTicks = 0;\r\n              } else {\r\n                duration = note.tickCount / this.timeDiv;\r\n                tupletTicks -= duration;\r\n              }\r\n            } else {\r\n              duration = note.tickCount / this.timeDiv;\r\n            }\r\n            if (note.isRest() || note.isSlash()) {\r\n              track.notes.push(this.createTrackRest(track, duration, runningDuration, selector, measureIndexMap));\r\n            } else {\r\n              this.computeVolume(track, selection);\r\n              this.createTrackNote(track, selection, duration, runningDuration, measureIndexMap);\r\n            }\r\n            runningDuration += duration;\r\n          });\r\n          track.lastMeasure += 1;\r\n        });\r\n      });\r\n    });\r\n    // For voices that don't fill out the full piece, fill them in with rests\r\n    const tracks = Object.keys(trackHash).map((key) => trackHash[key]);\r\n    const maxMeasure = tracks[0].lastMeasure;\r\n    tracks.forEach((track) => {\r\n      while (track.lastMeasure < maxMeasure) {\r\n        const staff = track.notes[0].selector.staff;\r\n        const voice = track.notes[0].selector.voice;\r\n        const rest: SmoAudioNote = this.createTrackRest(track, measureBeats[track.lastMeasure], 0,\r\n          { staff, measure: track.lastMeasure, voice, tick: 0, pitches: [] }, measureIndexMap\r\n        );\r\n        track.notes.push(rest);\r\n        track.lastMeasure += 1;\r\n      }\r\n    });\r\n    const repeatMap = this.createRepeatMap(repeats);\r\n    this.normalizeVolume(measureIndexMap);\r\n    return { tracks, repeats, repeatMap, measureBeats, tempoMap };\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoNote } from '../data/note';\r\nimport { SmoAttrs } from '../data/common';\r\nimport { SmoMeasure, ISmoBeamGroup } from '../data/measure';\r\nimport { TickMap } from './tickMap';\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport interface SmoBeamGroupParams {\r\n  notes: SmoNote[],\r\n  voice: number\r\n}\r\n\r\nexport class SmoBeamGroup implements ISmoBeamGroup {\r\n  notes: SmoNote[];\r\n  attrs: SmoAttrs;\r\n  voice: number = 0;\r\n  constructor(params: SmoBeamGroupParams) {\r\n    let i = 0;\r\n    this.voice = params.voice;\r\n    this.notes = params.notes;\r\n    Vex.Merge(this, params);\r\n\r\n    this.attrs = {\r\n      id: VF.Element.newID(),\r\n      type: 'SmoBeamGroup'\r\n    };\r\n    for (i = 0; i < this.notes.length; ++i) {\r\n      const note = this.notes[i];\r\n      if (note.tickCount < 4096) {\r\n        note.beam_group = this.attrs;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport class smoBeamerFactory {\r\n  static applyBeams(measure: SmoMeasure) {\r\n    let i = 0;\r\n    let j = 0;\r\n    for (i = 0; i < measure.voices.length; ++i) {\r\n      const beamer = new smoBeamModifier(measure, i);\r\n      const tickmap = measure.tickmapForVoice(i);\r\n      for (j = 0; j < tickmap.durationMap.length; ++j) {\r\n        beamer.beamNote(tickmap, j, measure.voices[i].notes[j]);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport class smoBeamModifier {\r\n  measure: SmoMeasure;\r\n  duration: number;\r\n  meterNumbers: number[];\r\n  beamBeats: number;\r\n  skipNext: number;\r\n  currentGroup: SmoNote[];\r\n  constructor(measure: SmoMeasure, voice: number) {\r\n    this.measure = measure;\r\n    this._removeVoiceBeam(measure, voice);\r\n    this.duration = 0;\r\n    this.meterNumbers = [measure.timeSignature.actualBeats, measure.timeSignature.beatDuration];\r\n    // beam on 1/4 notes in most meter, triple time dotted quarter\r\n    this.beamBeats = 2 * 2048;\r\n    if (this.meterNumbers[0] % 3 === 0) {\r\n      this.beamBeats = 3 * 2048;\r\n    }\r\n    this.skipNext = 0;\r\n    this.currentGroup = [];\r\n  }\r\n\r\n  get beamGroups() {\r\n    return this.measure.beamGroups;\r\n  }\r\n  _removeVoiceBeam(measure: SmoMeasure, voice: number) {\r\n    const beamGroups: ISmoBeamGroup[] = [];\r\n    measure.beamGroups.forEach((gr: ISmoBeamGroup) => {\r\n      if (gr.voice !== voice) {\r\n        beamGroups.push(gr);\r\n      }\r\n    });\r\n    measure.beamGroups = beamGroups;\r\n  }\r\n\r\n  _completeGroup(voice: number) {\r\n    const nrCount: SmoNote[] = this.currentGroup.filter((nn: SmoNote) =>\r\n      nn.isRest() === false\r\n    );\r\n    // don't beam groups of 1\r\n    if (nrCount.length > 1) {\r\n      this.measure.beamGroups.push(new SmoBeamGroup({\r\n        notes: this.currentGroup,\r\n        voice\r\n      }));\r\n    }\r\n  }\r\n\r\n  _advanceGroup() {\r\n    this.currentGroup = [];\r\n    this.duration = 0;\r\n  }\r\n\r\n  // ### _isRemainingTicksBeamable\r\n  // look ahead, and see if we need to beam the tuplet now or if we\r\n  // can combine current beam with future notes.\r\n  _isRemainingTicksBeamable(tickmap: TickMap, index: number) {\r\n    let acc = 0;\r\n    let i = 0;\r\n    if (this.duration >= this.beamBeats) {\r\n      return false;\r\n    }\r\n    acc = this.duration;\r\n    for (i = index + 1; i < tickmap.deltaMap.length; ++i) {\r\n      acc += tickmap.deltaMap[i];\r\n      if (acc === this.beamBeats) {\r\n        return true;\r\n      }\r\n      if (acc > this.beamBeats) {\r\n        return false;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  beamNote(tickmap: TickMap, index: number, note: SmoNote) {\r\n    this.beamBeats = note.beamBeats;\r\n    this.duration += tickmap.deltaMap[index];\r\n    if (note.noteType === '/') {\r\n      this._completeGroup(tickmap.voice);\r\n      this._advanceGroup();\r\n      return;\r\n    }\r\n\r\n    // beam tuplets\r\n    if (note.isTuplet) {\r\n      const tuplet = this.measure.getTupletForNote(note);\r\n      // The underlying notes must have been deleted.\r\n      if (!tuplet) {\r\n        return;\r\n      }\r\n      const ult = tuplet.notes[tuplet.notes.length - 1];\r\n      const first = tuplet.notes[0];\r\n\r\n      if (first.endBeam) {\r\n        this._advanceGroup();\r\n        return;\r\n      }\r\n\r\n      // is this beamable length-wise\r\n      const vexDuration = smoMusic.closestVexDuration(note.tickCount);\r\n      const stemTicks = VF.durationToTicks(vexDuration);\r\n      if (note.noteType === 'n' && stemTicks < 4096) {\r\n        this.currentGroup.push(note);\r\n      }\r\n      // Ultimate note in tuplet\r\n      if (ult.attrs.id === note.attrs.id && !this._isRemainingTicksBeamable(tickmap, index)) {\r\n        this._completeGroup(tickmap.voice);\r\n        this._advanceGroup();\r\n      }\r\n      return;\r\n    }\r\n\r\n    // don't beam > 1/4 note in 4/4 time.  Don't beam rests.\r\n    if (tickmap.deltaMap[index] >= 4096 || (note.isRest() && this.currentGroup.length === 0)) {\r\n      this._completeGroup(tickmap.voice);\r\n      this._advanceGroup();\r\n      return;\r\n    }\r\n\r\n    this.currentGroup.push(note);\r\n    if (note.endBeam) {\r\n      this._completeGroup(tickmap.voice);\r\n      this._advanceGroup();\r\n    }\r\n\r\n    if (this.duration === this.beamBeats) {\r\n      this._completeGroup(tickmap.voice);\r\n      this._advanceGroup();\r\n      return;\r\n    }\r\n\r\n    // If this does not align on a beat, don't beam it\r\n    if (this.duration > this.beamBeats) {\r\n      this._advanceGroup();\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoSelection, SmoSelector } from './selections';\r\nimport { SmoNote, TupletInfo } from '../data/note';\r\nimport { SmoMeasure, SmoVoice } from '../data/measure';\r\nimport { StaffModifierBase } from '../data/staffModifiers';\r\nimport { SmoTuplet } from '../data/tuplet';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\nimport { SmoScore } from '../data/score';\r\nimport { TickMap } from './tickMap';\r\nimport { SmoSystemStaff } from '../data/systemStaff';\r\nconst VF = eval('Vex.Flow');\r\n\r\ninterface PasteNote {\r\n  note: SmoNote,\r\n  selector: SmoSelector\r\n}\r\n// ## PasteBuffer\r\n// ### Description:\r\n// Hold some music that can be pasted back to the score\r\nexport class PasteBuffer {\r\n  notes: PasteNote[];\r\n  noteIndex: number;\r\n  measures: SmoMeasure[];\r\n  measureIndex: number;\r\n  remainder: number;\r\n  replacementMeasures: SmoSelection[];\r\n  score: SmoScore | null = null;\r\n  tupletNoteMap: Record<string, SmoTuplet> = { };\r\n  modifiers: StaffModifierBase[] = [];\r\n  destination: SmoSelector = SmoSelector.default;\r\n  staffSelectors: SmoSelector[] = [];\r\n  constructor() {\r\n    this.notes = [];\r\n    this.noteIndex = 0;\r\n    this.measures = [];\r\n    this.measureIndex = -1;\r\n    this.remainder = 0;\r\n    this.replacementMeasures = [];\r\n  }\r\n\r\n  setSelections(score: SmoScore, selections: SmoSelection[]) {\r\n    this.notes = [];\r\n    this.noteIndex = 0;\r\n    this.score = score;\r\n    if (selections.length < 1) {\r\n      return;\r\n    }\r\n    this.tupletNoteMap = {};\r\n    const first = selections[0];\r\n    const last = selections[selections.length - 1];\r\n    if (!first.note || !last.note) {\r\n      return;\r\n    }\r\n\r\n    const startTuplet: SmoTuplet | null = first.measure.getTupletForNote(first.note);\r\n    if (startTuplet) {\r\n      if (startTuplet.getIndexOfNote(first.note) !== 0) {\r\n        return; // can't paste from the middle of a tuplet\r\n      }\r\n    }\r\n    const endTuplet: SmoTuplet | null = last.measure.getTupletForNote(last.note);\r\n    if (endTuplet) {\r\n      if (endTuplet.getIndexOfNote(last.note) !== endTuplet.notes.length - 1) {\r\n        return; // can't paste part of a tuplet.\r\n      }\r\n    }\r\n    this._populateSelectArray(selections);\r\n  }\r\n  // ### _populateSelectArray\r\n  // copy the selected notes into the paste buffer with their original locations.\r\n  _populateSelectArray(selections: SmoSelection[]) {\r\n    let selector: SmoSelector = SmoSelector.default;\r\n    this.modifiers = [];\r\n    selections.forEach((selection) => {\r\n      selector = JSON.parse(JSON.stringify(selection.selector));\r\n      const mod: StaffModifierBase[] = selection.staff.getModifiersAt(selector);\r\n      if (mod.length) {\r\n        mod.forEach((modifier: StaffModifierBase) => {\r\n          const cp: StaffModifierBase = StaffModifierBase.deserialize(modifier.serialize());\r\n          cp.attrs.id = VF.Element.newID();\r\n          this.modifiers.push(cp);\r\n        });\r\n      }\r\n      const isTuplet: boolean = selection?.note?.isTuplet ?? false;\r\n      if (isTuplet) {\r\n        const tuplet = (selection.measure.getTupletForNote(selection.note) as SmoTuplet);\r\n        const index = tuplet.getIndexOfNote(selection.note);\r\n        if (index === 0) {\r\n          const ntuplet = SmoTuplet.cloneTuplet(tuplet);\r\n          this.tupletNoteMap[ntuplet.attrs.id] = ntuplet;\r\n          ntuplet.notes.forEach((nnote) => {\r\n            this.notes.push({ selector, note: nnote });\r\n            selector = JSON.parse(JSON.stringify(selector));\r\n            selector.tick += 1;\r\n          });\r\n        }\r\n      } else if (selection.note) {\r\n        const note = SmoNote.clone(selection.note);\r\n        this.notes.push({ selector, note });\r\n      }\r\n    });\r\n    this.notes.sort((a, b) =>\r\n      SmoSelector.gt(a.selector, b.selector) ? 1 : -1\r\n    );\r\n  }\r\n\r\n  clearSelections() {\r\n    this.notes = [];\r\n  }\r\n\r\n  _findModifier(selector: SmoSelector) {\r\n    const rv = this.modifiers.filter((mod) => SmoSelector.eq(selector, mod.startSelector));\r\n    return (rv && rv.length) ? rv[0] : null;\r\n  }\r\n  _findPlacedModifier(selector: SmoSelector) {\r\n    const rv = this.modifiers.filter((mod) => SmoSelector.eq(selector, mod.endSelector));\r\n    return (typeof(rv) !== 'undefined' && rv.length) ? rv[0] : null;\r\n  }\r\n\r\n  // ### _populateMeasureArray\r\n  // Before pasting, populate an array of existing measures from the paste destination\r\n  // so we know how to place the notes.\r\n  _populateMeasureArray() {\r\n    if (!this.score || !this.destination) {\r\n      return;\r\n    }\r\n    let measureSelection = SmoSelection.measureSelection(this.score, this.destination.staff, this.destination.measure);\r\n    if (!measureSelection) {\r\n      return;\r\n    }\r\n    const measure = measureSelection.measure;\r\n    const tickmap = measure.tickmapForVoice(this.destination.voice);\r\n    let currentDuration = tickmap.durationMap[this.destination.tick];\r\n    this.measures = [];\r\n    this.staffSelectors = [];\r\n    this.measures.push(measure);\r\n    this.notes.forEach((selection: PasteNote) => {\r\n      if (currentDuration + selection.note.tickCount > tickmap.totalDuration && measureSelection !== null) {\r\n        // If this note will overlap the measure boundary, the note will be split in 2 with the\r\n        // remainder going to the next measure.  If they line up exactly, the remainder is 0.\r\n        const remainder = (currentDuration + selection.note.tickCount) - tickmap.totalDuration;\r\n        currentDuration = remainder;\r\n\r\n        measureSelection = SmoSelection.measureSelection(this.score as SmoScore,\r\n          measureSelection.selector.staff,\r\n          measureSelection.selector.measure + 1);\r\n\r\n        // If the paste buffer overlaps the end of the score, we can't paste (TODO:  add a measure in this case)\r\n        if (measureSelection != null) {\r\n          this.measures.push(measureSelection.measure);\r\n        }\r\n      } else if (measureSelection != null) {\r\n        currentDuration += selection.note.tickCount;\r\n      }\r\n    });\r\n  }\r\n\r\n  // ### _populatePre\r\n  // When we paste, we replace entire measures.  Populate the first measure up until the start of pasting.\r\n  _populatePre(voiceIndex: number, measure: SmoMeasure, startTick: number, tickmap: TickMap) {\r\n    const voice: SmoVoice = {\r\n      notes: []\r\n    };\r\n    let i = 0;\r\n    let j = 0;\r\n    let ticksToFill = tickmap.durationMap[startTick];\r\n    // TODO: bug here, need to handle tuplets in pre-part, create new tuplet\r\n    for (i = 0; i < measure.voices[voiceIndex].notes.length; ++i) {\r\n      const note = measure.voices[voiceIndex].notes[i];\r\n      // If this is a tuplet, clone all the notes at once.\r\n      if (note.isTuplet) {\r\n        const tuplet = measure.getTupletForNote(note);\r\n        if (!tuplet) {\r\n          continue;  // we remove the tuplet after first iteration\r\n        }\r\n        const ntuplet: SmoTuplet = SmoTuplet.cloneTuplet(tuplet);\r\n        voice.notes = voice.notes.concat(ntuplet.notes as SmoNote[]);\r\n        measure.removeTupletForNote(note);\r\n        measure.tuplets.push(ntuplet);\r\n        ticksToFill -= tuplet.tickCount;\r\n      } else if (ticksToFill >= note.tickCount) {\r\n        ticksToFill -= note.tickCount;\r\n        voice.notes.push(SmoNote.clone(note));\r\n      } else {\r\n        const duration = note.tickCount - ticksToFill;\r\n        const durMap = smoMusic.gcdMap(duration);\r\n        for (j = 0; j < durMap.length; ++j) {\r\n          const dd = durMap[j];\r\n          SmoNote.cloneWithDuration(note, {\r\n            numerator: dd,\r\n            denominator: 1,\r\n            remainder: 0\r\n          });\r\n        }\r\n        ticksToFill = 0;\r\n      }\r\n      if (ticksToFill < 1) {\r\n        break;\r\n      }\r\n    }\r\n    return voice;\r\n  }\r\n\r\n  // ### _populateVoice\r\n  // ### Description:\r\n  // Create a new voice for a new measure in the paste destination\r\n  _populateVoice(voiceIndex: number): SmoVoice[] {\r\n    this._populateMeasureArray();\r\n    const measures = this.measures;\r\n    let measure = measures[0];\r\n    let tickmap = measure.tickmapForVoice(this.destination.voice);\r\n    let voice = this._populatePre(voiceIndex, measure, this.destination.tick, tickmap);\r\n    let startSelector = JSON.parse(JSON.stringify(this.destination));\r\n    this.measureIndex = 0;\r\n    const measureVoices = [];\r\n    measureVoices.push(voice);\r\n    while (this.measureIndex < measures.length) {\r\n      measure = measures[this.measureIndex];\r\n      tickmap = measure.tickmapForVoice(this.destination.voice);\r\n      this._populateNew(voice, voiceIndex, measure, tickmap, startSelector);\r\n      if (this.noteIndex < this.notes.length && this.measureIndex < measures.length) {\r\n        voice = {\r\n          notes: []\r\n        };\r\n        measureVoices.push(voice);\r\n        startSelector = {\r\n          staff: startSelector.staff,\r\n          measure: startSelector.measure,\r\n          voice: voiceIndex,\r\n          tick: 0\r\n        };\r\n        this.measureIndex += 1;\r\n        startSelector.measure += 1;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    this._populatePost(voice, voiceIndex, measure, tickmap);\r\n    return measureVoices;\r\n  }\r\n\r\n  static _countTicks(voice: SmoVoice): number {\r\n    let voiceTicks = 0;\r\n    voice.notes.forEach((note) => {\r\n      voiceTicks += note.tickCount;\r\n    });\r\n    return voiceTicks;\r\n  }\r\n\r\n  // ### _populateModifier\r\n  // If the destination contains a modifier start and end, copy and paste it.\r\n  _populateModifier(srcSelector: SmoSelector, destSelector: SmoSelector, staff: SmoSystemStaff) {\r\n    // If this is the ending point of a staff modifier, paste the modifier\r\n    const mod = this._findPlacedModifier(srcSelector);\r\n    if (mod) {\r\n      mod.endSelector = JSON.parse(JSON.stringify(destSelector));\r\n      mod.attrs.id = VF.Element.newID();\r\n      staff.addStaffModifier(mod);\r\n    }\r\n  }\r\n\r\n  // ### _populateNew\r\n  // Start copying the paste buffer into the destination by copying the notes and working out\r\n  // the measure overlap\r\n  _populateNew(voice: SmoVoice, voiceIndex: number, measure: SmoMeasure, tickmap: TickMap, startSelector: SmoSelector) {\r\n    let currentDuration = tickmap.durationMap[startSelector.tick];\r\n    let i = 0;\r\n    let j = 0;\r\n    const totalDuration = tickmap.totalDuration;\r\n    while (currentDuration < totalDuration && this.noteIndex < this.notes.length) {\r\n      if (!this.score) {\r\n        return;\r\n      }\r\n      const selection = this.notes[this.noteIndex];\r\n      const note = selection.note;\r\n      this._populateModifier(selection.selector, startSelector, this.score.staves[selection.selector.staff]);\r\n      if (note.isTuplet) {\r\n        const tuplet = this.tupletNoteMap[(note.tuplet as TupletInfo).id];\r\n        const ntuplet = SmoTuplet.cloneTuplet(tuplet);\r\n        this.noteIndex += ntuplet.notes.length;\r\n        startSelector.tick += ntuplet.notes.length;\r\n        currentDuration += tuplet.tickCount;\r\n        for (i = 0; i < ntuplet.notes.length; ++i) {\r\n          const tn = ntuplet.notes[i];\r\n          tn.clef = measure.clef;\r\n          voice.notes.push(tn);\r\n        }\r\n        measure.tuplets.push(ntuplet);\r\n      } else if (currentDuration + note.tickCount <= totalDuration && this.remainder === 0) {\r\n        // The whole note fits in the measure, paste it.\r\n        const nnote = SmoNote.clone(note);\r\n        nnote.clef = measure.clef;\r\n        voice.notes.push(nnote);\r\n        currentDuration += note.tickCount;\r\n        this.noteIndex += 1;\r\n        startSelector.tick += 1;\r\n      } else if (this.remainder > 0) {\r\n        // This is a note that spilled over the last measure\r\n        const nnote = SmoNote.cloneWithDuration(note, {\r\n          numerator: this.remainder,\r\n          denominator: 1,\r\n          remainder: 0\r\n        });\r\n        nnote.clef = measure.clef;\r\n        voice.notes.push(nnote);\r\n        currentDuration += this.remainder;\r\n        this.remainder = 0;\r\n      } else {\r\n        // The note won't fit, so we split it in 2 and paste the remainder in the next measure.\r\n        // TODO:  tie the last note to this one.\r\n        const partial = totalDuration - currentDuration;\r\n        const dar = smoMusic.gcdMap(partial);\r\n        for (j = 0; j < dar.length; ++j) {\r\n          const ddd = dar[j];\r\n          const vnote = SmoNote.cloneWithDuration(note, {\r\n            numerator: ddd,\r\n            denominator: 1,\r\n            remainder: 0\r\n          });\r\n          voice.notes.push(vnote);\r\n        }\r\n        currentDuration += partial;\r\n\r\n        // Set the remaining length of the current note, this will be added to the\r\n        // next measure with the previous note's pitches\r\n        this.remainder = note.tickCount - partial;\r\n      }\r\n    }\r\n  }\r\n\r\n  // ### _populatePost\r\n  // When we paste, we replace entire measures.  Populate the last measure from the end of paste to the\r\n  // end of the measure with notes in the existing measure.\r\n  _populatePost(voice: SmoVoice, voiceIndex: number, measure: SmoMeasure, tickmap: TickMap) {\r\n    let startTicks = PasteBuffer._countTicks(voice);\r\n    let existingIndex = 0;\r\n    const totalDuration = tickmap.totalDuration;\r\n    while (startTicks < totalDuration) {\r\n      // Find the point in the music where the paste area runs out, or as close as we can get.\r\n      existingIndex = tickmap.durationMap.indexOf(startTicks);\r\n      existingIndex = (existingIndex < 0) ? measure.voices[voiceIndex].notes.length - 1 : existingIndex;\r\n      const note = measure.voices[voiceIndex].notes[existingIndex];\r\n      if (note.isTuplet) {\r\n        const tuplet = measure.getTupletForNote(note) as SmoTuplet;\r\n        const ntuplet = SmoTuplet.cloneTuplet(tuplet);\r\n        startTicks += tuplet.tickCount;\r\n        voice.notes = voice.notes.concat(ntuplet.notes);\r\n        measure.tuplets.push(ntuplet);\r\n        measure.removeTupletForNote(note);\r\n      } else {\r\n        const ticksLeft = totalDuration - startTicks;\r\n        if (ticksLeft >= note.tickCount) {\r\n          startTicks += note.tickCount;\r\n          voice.notes.push(SmoNote.clone(note));\r\n        } else {\r\n          const remainder = totalDuration - startTicks;\r\n          voice.notes.push(SmoNote.cloneWithDuration(note, {\r\n            numerator: remainder,\r\n            denominator: 1,\r\n            remainder: 0\r\n          }));\r\n          startTicks = totalDuration;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  _pasteVoiceSer(ser: any, vobj: any, voiceIx: number) {\r\n    const voices: any[] = [];\r\n    let ix = 0;\r\n    ser.voices.forEach((vc: any) => {\r\n      if (ix !== voiceIx) {\r\n        voices.push(vc);\r\n      } else {\r\n        voices.push(vobj);\r\n      }\r\n      ix += 1;\r\n    });\r\n    ser.voices = voices;\r\n  }\r\n\r\n  pasteSelections(score: SmoScore, selector: SmoSelector) {\r\n    let i = 0;\r\n    this.destination = selector;\r\n    if (this.notes.length < 1) {\r\n      return;\r\n    }\r\n    if (!this.score) {\r\n      return;\r\n    }\r\n    this.noteIndex = 0;\r\n    this.measureIndex = -1;\r\n    this.remainder = 0;\r\n    const voices = this._populateVoice(this.destination.voice);\r\n    const measureSel = JSON.parse(JSON.stringify(this.destination));\r\n    const selectors: SmoSelector[] = [];\r\n    for (i = 0; i < this.measures.length && i < voices.length; ++i) {\r\n      const measure: SmoMeasure = this.measures[i];\r\n      const nvoice: SmoVoice = voices[i];\r\n      const ser: any = measure.serialize();\r\n      // deserialize column-mapped attributes, these are not normally serialized\r\n      // since they are mapped to measures on a delta basis.\r\n      SmoMeasure.columnMappedAttributes.forEach((attr: string | number) => {\r\n        const obj: any = (measure as any)[attr];\r\n        if (typeof(obj) === 'string') {\r\n          ser[attr] = obj;\r\n        } else if (typeof(obj) === 'object') {\r\n          if (obj.ctor) {\r\n            ser[attr] = obj.serialize();\r\n          }\r\n        }\r\n      });\r\n      const vobj: any = {\r\n        notes: []\r\n      };\r\n      nvoice.notes.forEach((note: SmoNote) => {\r\n        vobj.notes.push(note.serialize());\r\n      });\r\n\r\n      // TODO: figure out how to do this with multiple voices\r\n      this._pasteVoiceSer(ser, vobj, this.destination.voice);\r\n      const nmeasure = SmoMeasure.deserialize(ser);\r\n      // If this is the non-display buffer, don't try to reset the display rectangles.\r\n      // Q: Is this even required since we are going to re-render?\r\n      // A: yes, because until we do, the replaced measure needs the formatting info\r\n      if (measure.svg.renderedBox && measure.svg.logicalBox.width > 0) {\r\n        nmeasure.svg.renderedBox = svgHelpers.smoBox(measure.svg.renderedBox);\r\n        nmeasure.setBox(svgHelpers.smoBox(measure.svg.logicalBox), 'copypaste');\r\n        nmeasure.setX(measure.svg.logicalBox.x, 'copyPaste');\r\n        nmeasure.setWidth(measure.svg.logicalBox.width, 'copypaste');\r\n        nmeasure.setY(measure.svg.logicalBox.y, 'copypaste');\r\n      }\r\n      ['forceClef', 'forceKeySignature', 'forceTimeSignature', 'forceTempo'].forEach((flag) => {\r\n        (nmeasure as any)[flag] = (measure.svg as any)[flag];\r\n      });\r\n      this.score.replaceMeasure(measureSel, nmeasure);\r\n      measureSel.measure += 1;\r\n      selectors.push(\r\n        { staff: selector.staff, measure: nmeasure.measureNumber.measureIndex, voice: 0, tick: 0, pitches: [] }\r\n      );\r\n    }\r\n    this.replacementMeasures = [];\r\n    selectors.forEach((selector: SmoSelector) => {\r\n      const nsel: SmoSelection | null = SmoSelection.measureSelection(this.score as SmoScore, selector.staff, selector.measure);\r\n      if (nsel) {\r\n        this.replacementMeasures.push(nsel);\r\n      }\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoScore } from '../data/score';\r\nimport { SmoMeasureParams, SmoMeasure, SmoVoice } from '../data/measure';\r\nimport { SmoSelection, SmoSelector, ModifierTab } from './selections';\r\nimport { SmoSystemGroup, SmoTextGroup } from '../data/scoreModifiers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoNote } from '../data/note';\r\nimport {\r\n  SmoDuration, SmoContractNoteActor, SmoStretchNoteActor, SmoMakeTupletActor,\r\n  SmoUnmakeTupletActor, SmoContractTupletActor\r\n} from './tickDuration';\r\nimport { smoBeamerFactory } from './beamers';\r\nimport { SmoStaffHairpin, SmoSlur, SmoTie, StaffModifierBase, SmoTieParams, SmoInstrument, SmoStaffHairpinParams, SmoSlurParams } from '../data/staffModifiers';\r\nimport { SmoRehearsalMark, SmoMeasureText, SmoVolta, SmoMeasureFormat, SmoTempoText, SmoBarline, SmoRepeatSymbol } from '../data/measureModifiers';\r\nimport { SmoArticulation, SmoGraceNote, SmoLyric, SmoMicrotone, SmoNoteModifierBase, SmoOrnament } from '../data/noteModifiers';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoSystemStaff, SmoSystemStaffParams } from '../data/systemStaff';\r\nimport { Pitch, PitchLetter, TimeSignature } from '../data/common';\r\nconst VF = eval('Vex.Flow');\r\n\r\nexport type BatchSelectionOperation = 'dotDuration' | 'undotDuration' | 'doubleDuration' | 'halveDuration' |\r\n  'doubleGraceNoteDuration' | 'halveGraceNoteDuration';\r\n\r\n/**\r\n * SmoOperation is a collection of static methods that operate on/change/transform the music.  Most methods\r\n * take the score, a selection or selection array, and the parameters of the operation.\r\n */\r\nexport class SmoOperation {\r\n  static setMeasureFormat(score: SmoScore, selection: SmoSelection, value: SmoMeasureFormat) {\r\n    if (!score.formattingManager) {\r\n      return;\r\n    }\r\n    score.staves.forEach((staff: SmoSystemStaff) => {\r\n      value.formatMeasure(staff.measures[selection.selector.measure]);\r\n    });\r\n    score.formattingManager.updateMeasureFormat(value);\r\n  }\r\n\r\n  static addKeySignature(score: SmoScore, selection: SmoSelection, keySignature: string) {\r\n    score.addKeySignature(selection.selector.measure, keySignature);\r\n  }\r\n  static addConnectorDown(score: SmoScore, selections: SmoSelection[], parameters: SmoSystemGroup) {\r\n    const msel = SmoSelection.getMeasureList(selections);\r\n    const len = msel.length - 1;\r\n    if (score.staves.length <= msel[len].selector.staff) {\r\n      return;\r\n    }\r\n    const existing = score.getSystemGroupForStaff(msel[0]);\r\n    if (existing && existing.endSelector.staff < selections[len].selector.staff) {\r\n      existing.endSelector.staff = msel[len].selector.staff + 1;\r\n    } else {\r\n      parameters.startSelector = SmoSelector.default;\r\n      parameters.startSelector.staff = msel[0].selector.staff;\r\n      parameters.startSelector.measure = msel[0].selector.measure;\r\n      parameters.endSelector = SmoSelector.default;\r\n      parameters.endSelector.staff = msel[len].selector.staff + 1;\r\n      parameters.endSelector.measure = msel[len].selector.measure;\r\n      score.addOrReplaceSystemGroup(new SmoSystemGroup(parameters));\r\n    }\r\n  }\r\n  static toggleBeamGroup(noteSelection: SmoSelection) {\r\n    if (!noteSelection.note) {\r\n      return;\r\n    }\r\n    noteSelection.note.endBeam = !(noteSelection.note.endBeam);\r\n  }\r\n  static setActiveVoice(score: SmoScore, voiceIx: number) {\r\n    score.staves.forEach((staff) => {\r\n      staff.measures.forEach((measure) => {\r\n        measure.setActiveVoice(voiceIx);\r\n      });\r\n    });\r\n  }\r\n\r\n  static addRemoveMicrotone(ignore: any, selections: SmoSelection[], tone: SmoMicrotone) {\r\n    selections.forEach((sel) => {\r\n      if ((sel.note as SmoNote).tones.findIndex((tt) => tt.tone === tone.tone\r\n        && tt.pitch === tone.pitch) >= 0) {\r\n        (sel.note as SmoNote).removeMicrotone(tone);\r\n      } else {\r\n        (sel.note as SmoNote).addMicrotone(tone);\r\n      }\r\n    });\r\n  }\r\n\r\n  static moveStaffUpDown(score: SmoScore, selection: SmoSelection, index: number) {\r\n    const index1 = selection.selector.staff;\r\n    const index2 = selection.selector.staff + index;\r\n    if (index2 < score.staves.length && index2 >= 0) {\r\n      score.swapStaves(index1, index2);\r\n    }\r\n  }\r\n\r\n  static depopulateVoice(selection: SmoSelection, voiceIx: number) {\r\n    let ix = 0;\r\n    const voices: SmoVoice[] = [];\r\n    const measure = selection.measure;\r\n    measure.voices.forEach((voice) => {\r\n      if (measure.voices.length < 2 || ix !== voiceIx) {\r\n        voices.push(voice);\r\n      }\r\n      ix += 1;\r\n    });\r\n    measure.voices = voices;\r\n\r\n    if (measure.getActiveVoice() >= measure.voices.length) {\r\n      measure.setActiveVoice(0);\r\n    }\r\n  }\r\n\r\n  static populateVoice(selection: SmoSelection, voiceIx: number) {\r\n    selection.measure.populateVoice(voiceIx);\r\n  }\r\n  static setTimeSignature(score: SmoScore, selections: SmoSelection[], timeSignature: TimeSignature) {\r\n    const selectors: SmoSelector[] = [];\r\n    let i = 0;\r\n    let ticks = 0;\r\n    selections.forEach((selection) => {\r\n      for (i = 0; i < score.staves.length; ++i) {\r\n        const measureSel: SmoSelector = SmoSelector.measureSelector(i, selection.selector.measure);\r\n        selectors.push(measureSel);\r\n      }\r\n    });\r\n    const tsTicks = smoMusic.timeSignatureToTicks(timeSignature.timeSignature);\r\n    selectors.forEach((selector: SmoSelector) => {\r\n      const params: SmoMeasureParams = {} as SmoMeasureParams;\r\n      const voices: SmoVoice[] = [];\r\n      const rowSelection: SmoSelection = (SmoSelection.measureSelection(score, selector.staff, selector.measure) as SmoSelection);\r\n      let nm: SmoMeasure = {} as SmoMeasure;\r\n      const attrs: string[] = SmoMeasure.defaultAttributes.filter((aa) => aa !== 'timeSignature');\r\n      const psel: SmoSelection | null = SmoSelection.measureSelection(score, selector.staff, selector.measure);\r\n      if (!psel?.measure) {\r\n        console.log('Error: score has changed in time signature change');\r\n      } else {\r\n        const proto: SmoMeasure = SmoSelection.measureSelection(score, selector.staff, selector.measure)?.measure as SmoMeasure;\r\n        smoSerialize.serializedMerge(attrs, proto, params);\r\n        params.timeSignature = timeSignature;\r\n        nm = SmoMeasure.getDefaultMeasure(params);\r\n        nm.setX(rowSelection.measure.staffX, 'op:setTimeSignature');\r\n        nm.setY(rowSelection.measure.staffY, 'op:setTimeSignature');\r\n        nm.setWidth(rowSelection.measure.staffWidth, 'op:setTimeSignature');\r\n        ['forceKeySignature', 'forceTimeSignature', 'forceTempo', 'forceClef'].forEach((attr) => {\r\n          (nm as any)[attr] = (rowSelection.measure.svg as any)[attr];\r\n        });\r\n        ticks = 0;\r\n        proto.voices.forEach((voice) => {\r\n          const nvoice = [];\r\n          for (i = 0; i < voice.notes.length; ++i) {\r\n            const pnote = voice.notes[i];\r\n            const nnote = SmoNote.deserialize(pnote.serialize());\r\n            if (ticks + pnote.tickCount <= tsTicks) {\r\n              nnote.ticks = JSON.parse(JSON.stringify(pnote.ticks));\r\n              nvoice.push(nnote);\r\n              ticks += nnote.tickCount;\r\n            } else {\r\n              const remain = (ticks + pnote.tickCount) - tsTicks;\r\n              nnote.ticks = { numerator: remain, denominator: 1, remainder: 0 };\r\n              nvoice.push(nnote);\r\n              ticks += nnote.tickCount;\r\n            }\r\n            if (ticks >= tsTicks) {\r\n              break;\r\n            }\r\n          }\r\n          if (ticks < tsTicks) {\r\n            const adjNote = SmoNote.cloneWithDuration(nvoice[nvoice.length - 1], { numerator: tsTicks - ticks, denominator: 1, remainder: 0 });\r\n            nvoice.push(adjNote);\r\n          }\r\n          voices.push({ notes: nvoice });\r\n        });\r\n      }\r\n      nm.voices = voices;\r\n      score.replaceMeasure(selector, nm);\r\n    });\r\n  }\r\n\r\n  static batchSelectionOperation(score: SmoScore, selections: SmoSelection[], operation: BatchSelectionOperation) {\r\n    var measureTicks: { selector: SmoSelector, tickOffset: number }[] = [];\r\n    selections.forEach((selection) => {\r\n      const tm = selection.measure.tickmapForVoice(selection.selector.voice);\r\n      const tickOffset = tm.durationMap[selection.selector.tick];\r\n      const selector = JSON.parse(JSON.stringify(selection.selector));\r\n      measureTicks.push({\r\n        selector,\r\n        tickOffset\r\n      });\r\n    });\r\n    measureTicks.forEach((measureTick) => {\r\n      const selection = SmoSelection.measureSelection(score, measureTick.selector.staff, measureTick.selector.measure) as SmoSelection;\r\n      const tickmap = selection.measure.tickmapForVoice(measureTick.selector.voice);\r\n      const ix = tickmap.durationMap.indexOf(measureTick.tickOffset);\r\n      if (ix >= 0) {\r\n        const nsel = SmoSelection.noteSelection(score, measureTick.selector.staff, measureTick.selector.measure,\r\n          measureTick.selector.voice, ix);\r\n        (SmoOperation as any)[operation](nsel);\r\n      }\r\n    });\r\n  }\r\n  // ## doubleDuration\r\n  // ## Description\r\n  // double the duration of a note in a measure, at the expense of the following\r\n  // note, if possible.  Works on tuplets also.\r\n  static doubleDuration(selection: SmoSelection) {\r\n    const note = selection.note;\r\n    const measure = selection.measure;\r\n    const tuplet = measure.getTupletForNote(note);\r\n    if (!tuplet) {\r\n      SmoDuration.doubleDurationNonTuplet(selection);\r\n    } else {\r\n      SmoDuration.doubleDurationTuplet(selection);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // ## halveDuration\r\n  // ## Description\r\n  // Replace the note with 2 notes of 1/2 duration, if possible\r\n  // Works on tuplets also.\r\n  static halveDuration(selection: SmoSelection) {\r\n    const note = selection.note as SmoNote;\r\n    let divisor = 2;\r\n    const measure = selection.measure;\r\n    const tuplet = measure.getTupletForNote(note);\r\n    if (measure.numBeats % 3 === 0 && note.tickCount === 6144) {\r\n      // special behavior, if this is dotted 1/4 in 6/8, split to 3\r\n      divisor = 3;\r\n    }\r\n    if (!tuplet) {\r\n      const nticks = note.tickCount / divisor;\r\n      if (!smoMusic.ticksToDuration[nticks]) {\r\n        return;\r\n      }\r\n      SmoContractNoteActor.apply({\r\n        startIndex: selection.selector.tick,\r\n        measure: selection.measure,\r\n        voice: selection.selector.voice,\r\n        newTicks: nticks\r\n      });\r\n      smoBeamerFactory.applyBeams(measure);\r\n    } else {\r\n      const startIndex = measure.tupletIndex(tuplet) + tuplet.getIndexOfNote(note);\r\n      SmoContractTupletActor.apply({\r\n        changeIndex: startIndex,\r\n        measure,\r\n        voice: selection.selector.voice\r\n      });\r\n    }\r\n  }\r\n\r\n  // ## makeTuplet\r\n  // ## Description\r\n  // Makes a non-tuplet into a tuplet of equal value.\r\n  static makeTuplet(selection: SmoSelection, numNotes: number) {\r\n    const note = selection.note as SmoNote;\r\n    const measure = selection.measure;\r\n    if (measure.getTupletForNote(note)) {\r\n      return;\r\n    }\r\n    const nticks = note.tickCount;\r\n    SmoMakeTupletActor.apply({\r\n      index: selection.selector.tick,\r\n      totalTicks: nticks,\r\n      numNotes,\r\n      measure: selection.measure,\r\n      voice: selection.selector.voice\r\n    });\r\n  }\r\n  static addStaffModifier(selection: SmoSelection, modifier: StaffModifierBase) {\r\n    selection.staff.addStaffModifier(modifier);\r\n  }\r\n  static toggleRest(selection: SmoSelection) {\r\n    selection.note?.toggleRest();\r\n  }\r\n  static toggleSlash(selection: SmoSelection) {\r\n    selection.note?.toggleSlash();\r\n  }\r\n\r\n  static makeRest(selection: SmoSelection) {\r\n    selection.note?.makeRest();\r\n  }\r\n  static makeNote(selection: SmoSelection) {\r\n    selection.note?.makeNote();\r\n  }\r\n  static setNoteHead(selections: SmoSelection[], noteHead: string) {\r\n    selections.forEach((selection: SmoSelection) => {\r\n      selection.note?.setNoteHead(noteHead);\r\n    });\r\n  }\r\n\r\n  static addGraceNote(selection: SmoSelection, g: SmoGraceNote, offset: number) {\r\n    selection.note?.addGraceNote(g, offset);\r\n  }\r\n\r\n  static removeGraceNote(selection: SmoSelection, offset: number) {\r\n    selection.note?.removeGraceNote(offset);\r\n  }\r\n\r\n  static doubleGraceNoteDuration(selection: SmoSelection, modifiers: SmoGraceNote[]) {\r\n    if (!Array.isArray(modifiers)) {\r\n      modifiers = [modifiers];\r\n    }\r\n    modifiers.forEach((mm) => {\r\n      mm.ticks.numerator = mm.ticks.numerator * 2;\r\n    });\r\n  }\r\n  static halveGraceNoteDuration(selection: SmoSelection, modifiers: SmoGraceNote[]) {\r\n    if (!Array.isArray(modifiers)) {\r\n      modifiers = [modifiers];\r\n    }\r\n    modifiers.forEach((mm) => {\r\n      mm.ticks.numerator = mm.ticks.numerator / 2;\r\n    });\r\n  }\r\n\r\n  static toggleGraceNoteCourtesy(selection: any, modifiers: SmoGraceNote[]) {\r\n    if (!Array.isArray(modifiers)) {\r\n      modifiers = [modifiers];\r\n    }\r\n    modifiers.forEach((mm: SmoGraceNote) => {\r\n      mm.pitches.forEach((pitch: Pitch) => {\r\n        // eslint-disable-next-line\r\n        pitch.cautionary = pitch.cautionary ? false : true;\r\n      });\r\n    });\r\n  }\r\n  static toggleGraceNoteEnharmonic(selection: SmoSelection, modifiers: SmoGraceNote[]) {\r\n    if (!Array.isArray(modifiers)) {\r\n      modifiers = [modifiers];\r\n    }\r\n    modifiers.forEach((mm) => {\r\n      mm.pitches.forEach((pitch) => {\r\n        SmoNote.toggleEnharmonic(pitch);\r\n      });\r\n    });\r\n  }\r\n\r\n  static transposeGraceNotes(selection: SmoSelection, modifiers: SmoGraceNote[], offset: number) {\r\n    if (!Array.isArray(modifiers)) {\r\n      modifiers = [modifiers];\r\n    }\r\n    modifiers.forEach((mm: SmoGraceNote) => {\r\n      const par: number[] = [];\r\n      if (!mm) {\r\n        console.warn('bad modifier grace note');\r\n        return;\r\n      }\r\n      mm.pitches.forEach(() => {\r\n        par.push(par.length);\r\n      });\r\n      SmoNote._transpose(mm, par, offset, selection.measure.keySignature);\r\n    });\r\n  }\r\n\r\n  static slashGraceNotes(selections: ModifierTab[] | ModifierTab) {\r\n    if (!Array.isArray(selections)) {\r\n      selections = [selections];\r\n    }\r\n    // TODO: modifiers on artifacts should be typed\r\n    selections.forEach((mm: any) => {\r\n      if (mm.modifier && mm.modifier.ctor === 'SmoGraceNote') {\r\n        mm.modifier.slash = !mm.modifier.slash;\r\n      }\r\n    });\r\n  }\r\n\r\n  // ## unmakeTuplet\r\n  // ## Description\r\n  // Makes a tuplet into a single with the duration of the whole tuplet\r\n  static unmakeTuplet(selection: SmoSelection) {\r\n    const note = selection.note;\r\n    const measure = selection.measure;\r\n    if (!measure.getTupletForNote(note)) {\r\n      return;\r\n    }\r\n    const tuplet = measure.getTupletForNote(note);\r\n    if (tuplet === null) {\r\n      return;\r\n    }\r\n    const startIndex = measure.tupletIndex(tuplet);\r\n    const endIndex = tuplet.notes.length + startIndex - 1;\r\n\r\n    SmoUnmakeTupletActor.apply({\r\n      startIndex,\r\n      endIndex,\r\n      measure,\r\n      voice: selection.selector.voice\r\n    });\r\n  }\r\n\r\n  // ## dotDuration\r\n  // ## Description\r\n  // Add a dot to a note, if possible, and make the note ahead of it shorter\r\n  // to compensate.\r\n  static dotDuration(selection: SmoSelection) {\r\n    const note = selection.note as SmoNote;\r\n    const measure = selection.measure;\r\n    const nticks = smoMusic.getNextDottedLevel(note.tickCount);\r\n    if (nticks === note.tickCount) {\r\n      return;\r\n    }\r\n    // Don't dot if the thing on the right of the . is too small\r\n    const dotCount = smoMusic.smoTicksToVexDots(nticks);\r\n    const multiplier = Math.pow(2, dotCount);\r\n    const baseDot = VF.durationToTicks(smoMusic.closestVexDuration(nticks)) / (multiplier * 2);\r\n    if (baseDot <= 128) {\r\n      return;\r\n    }\r\n    // If this is the ultimate note in the measure, we can't increase the length\r\n    if (selection.selector.tick + 1 === selection.measure.voices[selection.selector.voice].notes.length) {\r\n      return;\r\n    }\r\n    if (selection.measure.voices[selection.selector.voice].notes[selection.selector.tick + 1].tickCount > note.tickCount) {\r\n      console.log('too long');\r\n      return;\r\n    }\r\n    // is dot too short?\r\n    if (!smoMusic.ticksToDuration[selection.measure.voices[selection.selector.voice].notes[selection.selector.tick + 1].tickCount / 2]) {\r\n      return;\r\n    }\r\n    SmoStretchNoteActor.apply({\r\n      startIndex: selection.selector.tick,\r\n      measure,\r\n      voice: selection.selector.voice,\r\n      newTicks: nticks\r\n    });\r\n  }\r\n\r\n  // ## undotDuration\r\n  // ## Description\r\n  // Add the value of the last dot to the note, increasing length and\r\n  // reducing the number of dots.\r\n  static undotDuration(selection: SmoSelection) {\r\n    const note = selection.note as SmoNote;\r\n    const measure = selection.measure;\r\n    const nticks = smoMusic.getPreviousDottedLevel(note.tickCount);\r\n    if (nticks === note.tickCount) {\r\n      return;\r\n    }\r\n    SmoContractNoteActor.apply({\r\n      startIndex: selection.selector.tick,\r\n      measure,\r\n      voice: selection.selector.voice,\r\n      newTicks: nticks\r\n    });\r\n  }\r\n\r\n  // ## transpose\r\n  // ## Description\r\n  // Transpose the selected note, trying to find a key-signature friendly value\r\n  static transpose(selection: SmoSelection, offset: number) {\r\n    let pitchIx: number = 0;\r\n    let trans: Pitch;\r\n    let transInt: number = 0;\r\n    let i: number = 0;\r\n    if (typeof (selection.selector.pitches) === 'undefined') {\r\n      selection.selector.pitches = [];\r\n    }\r\n    const measure = selection.measure;\r\n    const note = selection.note;\r\n    if (measure && note) {\r\n      const pitchar: Pitch[] = [];\r\n      pitchIx = 0;\r\n      note.pitches.forEach((opitch) => {\r\n        // Only translate selected pitches\r\n        const shouldXpose = selection.selector.pitches.length === 0 ||\r\n          selection.selector.pitches.indexOf(pitchIx) >= 0;\r\n\r\n        // Translate the pitch, ignoring enharmonic\r\n        trans = shouldXpose ? smoMusic.getKeyOffset(opitch, offset)\r\n          : JSON.parse(JSON.stringify(opitch));\r\n        trans = smoMusic.getEnharmonicInKey(trans, measure.keySignature);\r\n        if (!trans.accidental) {\r\n          trans.accidental = 'n';\r\n        }\r\n        transInt = smoMusic.smoPitchToInt(trans);\r\n\r\n        // Look through the earlier notes in the measure and try\r\n        // to find an equivalent note, and convert it if it exists.\r\n        measure.voices.forEach((voice) => {\r\n          for (i = 0; i < selection.selector.tick\r\n            && i < voice.notes.length; ++i) {\r\n            const prevNote = voice.notes[i];\r\n            // eslint-disable-next-line\r\n            prevNote.pitches.forEach((prevPitch: Pitch) => {\r\n              const prevInt = smoMusic.smoPitchToInt(prevPitch);\r\n              if (prevInt === transInt) {\r\n                trans = JSON.parse(JSON.stringify(prevPitch));\r\n              }\r\n            });\r\n          }\r\n        });\r\n        pitchar.push(trans as Pitch);\r\n        pitchIx += 1;\r\n      });\r\n      note.pitches = pitchar;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  // ## setPitch\r\n  // ## Description:\r\n  // pitches can be either an array, a single pitch, or a letter.  In the latter case,\r\n  // the letter value appropriate for the key signature is used, e.g. c in A major becomes\r\n  // c#\r\n  static setPitch(selection: SmoSelection, pitches: Pitch[]) {\r\n    let i = 0;\r\n    const measure = selection.measure;\r\n    const note = selection.note as SmoNote;\r\n    if (typeof (note) === 'undefined') {\r\n      console.warn('set Pitch on invalid note');\r\n      return;\r\n    }\r\n    note.makeNote();\r\n    // TODO allow hint for octave\r\n    const octave = note.pitches[0].octave;\r\n    note.pitches = [];\r\n    if (!Array.isArray(pitches)) {\r\n      pitches = [pitches];\r\n    }\r\n    const earlierAccidental = (pitch: Pitch) => {\r\n      selection.measure.voices.forEach((voice) => {\r\n        for (i = 0; i < selection.selector.tick\r\n          && i < voice.notes.length; ++i) {\r\n          const prevNote = voice.notes[i];\r\n          if (prevNote === null || prevNote.pitches === null) {\r\n            console.log('this will die null');\r\n          }\r\n          prevNote.pitches.forEach((prevPitch: Pitch) => {\r\n            if (prevNote.noteType === 'n' && prevPitch.letter === pitch.letter) {\r\n              pitch.accidental = prevPitch.accidental;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    };\r\n    pitches.forEach((pitch) => {\r\n      if (typeof (pitch) === 'string') {\r\n        const letter = smoMusic.getKeySignatureKey(pitch[0], measure.keySignature);\r\n        pitch = {\r\n          letter: letter[0] as PitchLetter,\r\n          accidental: letter.length > 1 ? letter.substring(1) : '',\r\n          octave\r\n        };\r\n      }\r\n      earlierAccidental(pitch);\r\n      note.pitches.push(pitch);\r\n    });\r\n  }\r\n  static toggleCourtesyAccidental(selection: SmoSelection) {\r\n    let toBe: boolean = false;\r\n    const note = selection.note as SmoNote;\r\n    if (!selection.selector.pitches || selection.selector.pitches.length === 0) {\r\n      const ps: Pitch[] = [];\r\n      note.pitches.forEach((pitch) => {\r\n        const p = JSON.parse(JSON.stringify(pitch));\r\n        ps.push(p);\r\n        p.cautionary = !(pitch.cautionary);\r\n      });\r\n      note.pitches = ps;\r\n    } else {\r\n      toBe = !(note.pitches[selection.selector.pitches[0]].cautionary);\r\n    }\r\n    SmoOperation.courtesyAccidental(selection, toBe);\r\n  }\r\n\r\n  static courtesyAccidental(pitchSelection: SmoSelection, toBe: boolean) {\r\n    pitchSelection.selector.pitches.forEach((pitchIx) => {\r\n      (pitchSelection.note as SmoNote).pitches[pitchIx].cautionary = toBe;\r\n    });\r\n  }\r\n\r\n  static toggleEnharmonic(pitchSelection: SmoSelection) {\r\n    if (pitchSelection.selector.pitches.length === 0) {\r\n      pitchSelection.selector.pitches.push(0);\r\n    }\r\n    const pitch = (pitchSelection.note as SmoNote).pitches[pitchSelection.selector.pitches[0]];\r\n    SmoNote.toggleEnharmonic(pitch);\r\n  }\r\n\r\n  static addDynamic(selection: SmoSelection, dynamic: SmoNoteModifierBase) {\r\n    (selection.note as SmoNote).addModifier(dynamic);\r\n  }\r\n\r\n  static removeDynamic(selection: SmoSelection, dynamic: SmoNoteModifierBase) {\r\n    (selection.note as SmoNote).removeModifier(dynamic);\r\n  }\r\n\r\n  static beamSelections(score: SmoScore, selections: SmoSelection[]) {\r\n    const start = selections[0].selector;\r\n    let cur = selections[0].selector;\r\n    const beamGroup: SmoNote[] = [];\r\n    let ticks = 0;\r\n    selections.forEach((selection) => {\r\n      const note = selection.note as SmoNote;\r\n      if (SmoSelector.sameNote(start, selection.selector) ||\r\n        (SmoSelector.sameMeasure(selection.selector, cur) &&\r\n          cur.tick === selection.selector.tick - 1)) {\r\n        ticks += note.tickCount;\r\n        cur = selection.selector;\r\n        beamGroup.push(note);\r\n      }\r\n    });\r\n    if (beamGroup.length) {\r\n      beamGroup.forEach((note) => {\r\n        note.beamBeats = ticks;\r\n        note.endBeam = false;\r\n      });\r\n      beamGroup[beamGroup.length - 1].endBeam = true;\r\n      // Make sure the last note of the previous beam is the end of this beam group.\r\n      if (selections[0].selector.tick > 0) {\r\n        const ps = JSON.parse(JSON.stringify(selections[0].selector));\r\n        ps.tick -= 1;\r\n        const previous: SmoSelection | null = SmoSelection.noteFromSelector(score, ps);\r\n        if (previous?.note && previous.note.tickCount < 4096) {\r\n          previous.note.endBeam = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  static toggleBeamDirection(selections: SmoSelection[]) {\r\n    const note0 = selections[0].note as SmoNote;\r\n    note0.toggleFlagState();\r\n    selections.forEach((selection) => {\r\n      const note = selection.note as SmoNote;\r\n      note.flagState = note0.flagState;\r\n    });\r\n  }\r\n\r\n  static toggleOrnament(selection: SmoSelection, ornament: SmoOrnament) {\r\n    (selection.note as SmoNote).toggleOrnament(ornament);\r\n  }\r\n\r\n  static toggleArticulation(selection: SmoSelection, articulation: SmoArticulation) {\r\n    (selection.note as SmoNote).toggleArticulation(articulation);\r\n  }\r\n\r\n  static addEnding(score: SmoScore, parameters: SmoVolta) {\r\n    let m = 0;\r\n    let s = 0;\r\n    const startMeasure = parameters.startBar;\r\n    const endMeasure = parameters.endBar;\r\n\r\n    // Ending ID ties all the instances of an ending across staves\r\n    parameters.endingId = VF.Element.newID();\r\n    score.staves.forEach((staff) => {\r\n      m = 0;\r\n      staff.measures.forEach((measure) => {\r\n        if (m === startMeasure) {\r\n          const pp = JSON.parse(JSON.stringify(parameters));\r\n          pp.startSelector = {\r\n            staff: s,\r\n            measure: startMeasure\r\n          };\r\n          pp.endSelector = {\r\n            staff: s,\r\n            measure: endMeasure\r\n          };\r\n          const ending = new SmoVolta(pp);\r\n          measure.addNthEnding(ending);\r\n        }\r\n        m += 1;\r\n      });\r\n      s += 1;\r\n    });\r\n  }\r\n\r\n  static removeEnding(score: SmoScore, ending: SmoVolta) {\r\n    let i = 0;\r\n    score.staves.forEach((staff) => {\r\n      for (i = (ending.startSelector as SmoSelector).measure; i <= (ending.endSelector as SmoSelector).measure; ++i) {\r\n        staff.measures[i].removeNthEnding(ending.number);\r\n      }\r\n    });\r\n  }\r\n\r\n  static addTextGroup(score: SmoScore, textGroup: SmoTextGroup) {\r\n    score.addTextGroup(textGroup);\r\n  }\r\n\r\n  static removeTextGroup(score: SmoScore, textGroup: SmoTextGroup) {\r\n    score.removeTextGroup(textGroup);\r\n  }\r\n\r\n  static addMeasureText(score: SmoScore, selection: SmoSelection, measureText: SmoMeasureText) {\r\n    const current = selection.measure.getMeasureText();\r\n    // TODO: should we allow multiples per position\r\n    current.forEach((mod) => {\r\n      selection.measure.removeMeasureText(mod.attrs.id);\r\n    });\r\n    selection.measure.addMeasureText(measureText);\r\n  }\r\n\r\n  static removeMeasureText(score: SmoScore, selection: SmoSelection, mt: SmoMeasureText) {\r\n    selection.measure.removeMeasureText(mt.attrs.id);\r\n  }\r\n\r\n  static removeRehearsalMark(score: SmoScore, selection: SmoSelection) {\r\n    score.staves.forEach((staff) => {\r\n      staff.removeRehearsalMark(selection.selector.measure);\r\n    });\r\n  }\r\n\r\n  static addRehearsalMark(score: SmoScore, selection: SmoSelection, rehearsalMark: SmoRehearsalMark) {\r\n    score.staves.forEach((staff) => {\r\n      const mt = new SmoRehearsalMark(rehearsalMark.serialize());\r\n      staff.addRehearsalMark(selection.selector.measure, mt);\r\n    });\r\n  }\r\n\r\n  static addTempo(score: SmoScore, selection: SmoSelection, tempo: SmoTempoText) {\r\n    score.staves.forEach((staff) => {\r\n      staff.addTempo(tempo, selection.selector.measure);\r\n    });\r\n  }\r\n\r\n  static setMeasureBarline(score: SmoScore, selection: SmoSelection, barline: SmoBarline) {\r\n    const mm = selection.selector.measure;\r\n    let ix = 0;\r\n    score.staves.forEach(() => {\r\n      const s2: SmoSelection | null = SmoSelection.measureSelection(score, ix, mm);\r\n      s2?.measure.setBarline(barline);\r\n      ix += 1;\r\n    });\r\n  }\r\n\r\n  static setRepeatSymbol(score: SmoScore, selection: SmoSelection, sym: SmoRepeatSymbol) {\r\n    let ix = 0;\r\n    const mm = selection.selector.measure;\r\n    score.staves.forEach(() => {\r\n      const s2 = SmoSelection.measureSelection(score, ix, mm);\r\n      s2?.measure.setRepeatSymbol(sym);\r\n      ix += 1;\r\n    });\r\n  }\r\n\r\n  // ## interval\r\n  // Add a pitch at the specified interval to the chord in the selection.\r\n  static interval(selection: SmoSelection, interval: number) {\r\n    const measure = selection.measure;\r\n    const note = selection.note as SmoNote;\r\n    let pitch: Pitch = {} as Pitch;\r\n\r\n    // TODO: figure out which pitch is selected\r\n    pitch = note.pitches[0];\r\n    if (interval > 0) {\r\n      pitch = note.pitches[note.pitches.length - 1];\r\n    }\r\n    pitch = smoMusic.getIntervalInKey(pitch, measure.keySignature, interval);\r\n    if (pitch) {\r\n      note.pitches.push(pitch);\r\n      note.pitches.sort((x, y) =>\r\n        smoMusic.smoPitchToInt(x) - smoMusic.smoPitchToInt(y)\r\n      );\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  static crescendo(fromSelection: SmoSelection, toSelection: SmoSelection) {\r\n    const params: SmoStaffHairpinParams = SmoStaffHairpin.defaults;\r\n    params.startSelector = JSON.parse(JSON.stringify(fromSelection.selector));\r\n    params.endSelector = JSON.parse(JSON.stringify(toSelection.selector));\r\n    params.hairpinType = SmoStaffHairpin.types.CRESCENDO;\r\n    const modifier = new SmoStaffHairpin(params);\r\n    fromSelection.staff.addStaffModifier(modifier);\r\n    return modifier;\r\n  }\r\n\r\n  static decrescendo(fromSelection: SmoSelection, toSelection: SmoSelection) {\r\n    const params: SmoStaffHairpinParams = SmoStaffHairpin.defaults;\r\n    params.startSelector = JSON.parse(JSON.stringify(fromSelection.selector));\r\n    params.endSelector = JSON.parse(JSON.stringify(toSelection.selector));\r\n    params.hairpinType = SmoStaffHairpin.types.DECRESCENDO;\r\n    const modifier = new SmoStaffHairpin(params);\r\n    fromSelection.staff.addStaffModifier(modifier);\r\n    return modifier;\r\n  }\r\n  static tie(fromSelection: SmoSelection, toSelection: SmoSelection) {\r\n    // By default, just tie all the pitches to all the other pitches in order\r\n    const lines = SmoTie.createLines(fromSelection.note as SmoNote, toSelection.note as SmoNote);\r\n    const params: SmoTieParams = SmoTie.defaults;\r\n    params.startSelector = fromSelection.selector;\r\n    params.endSelector = toSelection.selector;\r\n    params.lines = lines;\r\n    const modifier = new SmoTie(params);\r\n    fromSelection.staff.addStaffModifier(modifier);\r\n    return modifier;\r\n  }\r\n  static slur(fromSelection: SmoSelection, toSelection: SmoSelection) {\r\n    const params: SmoSlurParams = SmoSlur.defaults;\r\n    params.startSelector = JSON.parse(JSON.stringify(fromSelection.selector));\r\n    params.endSelector = JSON.parse(JSON.stringify(toSelection.selector));\r\n    const modifier: SmoSlur = new SmoSlur(params);\r\n    fromSelection.staff.addStaffModifier(modifier);\r\n    return modifier;\r\n  }\r\n\r\n  static addStaff(score: SmoScore, parameters: SmoSystemStaffParams) {\r\n    score.addStaff(parameters);\r\n  }\r\n  static removeStaff(score: SmoScore, index: number) {\r\n    score.removeStaff(index);\r\n  }\r\n\r\n  static transposeChords(smoNote: SmoNote, offset: number, key: string) {\r\n    const chords = smoNote.getModifiers('SmoLyric');\r\n    chords.forEach((ll) => {\r\n      const lyric = ll as SmoLyric;\r\n      if (lyric.parser === SmoLyric.parsers.chord) {\r\n        const tx = lyric.getText();\r\n        // Look for something that looks like a key name\r\n        if (tx.length >= 1 && (tx[0].toUpperCase() >= 'A'\r\n          && tx[0].toUpperCase() <= 'G')) {\r\n          // toffset is 2 if the key has b or # in it\r\n          let toffset = 1;\r\n          let newText = tx[0];\r\n          if (tx.length > 0 && tx[1] === 'b' || tx[1] === '#') {\r\n            newText += tx[1];\r\n            toffset = 2;\r\n          }\r\n          // Transpose the key, as if it were a key signature (octave has no meaning)\r\n          let nkey = smoMusic.smoIntToPitch(smoMusic.smoPitchToInt(\r\n            smoMusic.pitchKeyToPitch(smoMusic.vexToSmoKey(newText))) + offset);\r\n          nkey = JSON.parse(JSON.stringify(smoMusic.getEnharmonicInKey(nkey, key)));\r\n          newText = nkey.letter.toUpperCase();\r\n\r\n          // new key may have different length, e.g. Bb to B natural\r\n          if (nkey.accidental !== 'n') {\r\n            newText += nkey.accidental;\r\n          }\r\n          newText += tx.substr(toffset, tx.length - toffset);\r\n          lyric.setText(newText);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  static changeInstrument(instrument: SmoInstrument, selections: SmoSelection[]) {\r\n    const measureHash: Record<number, number> = {};\r\n    let newKey = '';\r\n    selections.forEach((selection: SmoSelection) => {\r\n      if (!measureHash[selection.selector.measure]) {\r\n        measureHash[selection.selector.measure] = 1;\r\n        const netOffset = instrument.keyOffset - selection.measure.transposeIndex;\r\n        newKey = smoMusic.pitchToVexKey(smoMusic.smoIntToPitch(\r\n          smoMusic.smoPitchToInt(\r\n            smoMusic.pitchKeyToPitch(smoMusic.vexToSmoKey(selection.measure.keySignature))) + netOffset));\r\n        newKey = smoMusic.toValidKeySignature(newKey);\r\n        if (newKey.length > 1 && newKey[1] === 'n') {\r\n          newKey = newKey[0];\r\n        }\r\n        newKey = newKey[0].toUpperCase() + newKey.substr(1, newKey.length);\r\n        selection.measure.keySignature = newKey;\r\n        selection.measure.clef = instrument.clef;\r\n        selection.measure.transposeIndex = instrument.keyOffset;\r\n        selection.measure.voices.forEach((voice) => {\r\n          voice.notes.forEach((note) => {\r\n            if (note.noteType === 'n') {\r\n              const pitches: Pitch[] = [];\r\n              note.pitches.forEach((pitch: Pitch) => {\r\n                const pint = smoMusic.smoIntToPitch(smoMusic.smoPitchToInt(pitch) + netOffset);\r\n                pitches.push(JSON.parse(JSON.stringify(smoMusic.getEnharmonicInKey(pint, newKey))));\r\n              });\r\n              note.pitches = pitches;\r\n              SmoOperation.transposeChords(note, netOffset, newKey);\r\n            }\r\n            note.clef = instrument.clef;\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoScore, SmoModifier } from '../data/score';\r\nimport { SmoMeasure } from '../data/measure';\r\nimport { SmoNote } from '../data/note';\r\nimport { SmoSystemStaff } from '../data/systemStaff';\r\nimport { SvgBox, SvgPoint } from '../data/common';\r\n\r\n// import { selectionHtmlar } from '../../ui/i18n/language_ar';\r\n// const VF = eval('Vex.Flow');\r\n\r\nexport interface ModifierTab {\r\n  modifier: SmoModifier,\r\n  selection: SmoSelection | null,\r\n  box: SvgBox,\r\n  index: number\r\n}\r\n/////////////////\r\n// # selections.js\r\n// Editing operations are performed on selections.  A selection can be different things, from a single pitch\r\n// to many notes.  These classes standardize some standard selection operations.\r\n//\r\n//\r\n// ## SmoSelector\r\n// ## Description:\r\n// There are 2 parts to a selection: the actual musical bits that are selected, and the\r\n// indices that define what was selected.  This is the latter.  The actual object does not\r\n// have any methods so there is no constructor.\r\nexport class SmoSelector {\r\n  static get default(): SmoSelector {\r\n    return {\r\n      staff: 0,\r\n      measure: 0,\r\n      voice: 0,\r\n      tick: -1,\r\n      pitches: []\r\n    };\r\n  }\r\n  staff: number = 0;\r\n  measure: number = 0;\r\n  voice: number = 0;\r\n  tick: number = -1;\r\n  pitches: number[] = [];\r\n\r\n  static measureSelector(staff: number, measure: number): SmoSelector {\r\n    return { staff, measure, voice: 0, tick: 0, pitches: [] };\r\n  }\r\n\r\n  // TODO:  tick in selector s/b tickIndex\r\n  static sameNote(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    return (sel1.staff === sel2.staff && sel1.measure === sel2.measure && sel1.voice === sel2.voice\r\n      && sel1.tick === sel2.tick);\r\n  }\r\n  static sameMeasure(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    return (sel1.staff === sel2.staff && sel1.measure === sel2.measure);\r\n  }\r\n\r\n  static sameStaff(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    return sel1.staff === sel2.staff;\r\n  }\r\n\r\n  // ## return true if sel1 > sel2.\r\n  static gt(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    // Note: voice is not considered b/c it's more of a vertical component\r\n    return sel1.staff > sel2.staff ||\r\n      (sel1.staff === sel2.staff && sel1.measure > sel2.measure) ||\r\n      (sel1.staff === sel2.staff && sel1.measure === sel2.measure && sel1.tick > sel2.tick);\r\n  }\r\n\r\n  static eq(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    return (sel1.staff === sel2.staff && sel1.measure === sel2.measure && sel1.tick === sel2.tick);\r\n  }\r\n  static neq(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    return !(SmoSelector.eq(sel1, sel2));\r\n  }\r\n\r\n  static lt(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    return SmoSelector.gt(sel2, sel1);\r\n  }\r\n\r\n  static gteq(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    return SmoSelector.gt(sel1, sel2) || SmoSelector.eq(sel1, sel2);\r\n  }\r\n  static lteq(sel1: SmoSelector, sel2: SmoSelector): boolean {\r\n    return SmoSelector.lt(sel1, sel2) || SmoSelector.eq(sel1, sel2);\r\n  }\r\n\r\n  // ### getNoteKey\r\n  // Get a key useful for a hash map of notes.\r\n  static getNoteKey(selector: SmoSelector) {\r\n    return '' + selector.staff + '-' + selector.measure + '-' + selector.voice + '-' + selector.tick;\r\n  }\r\n\r\n  static getMeasureKey(selector: SmoSelector) {\r\n    return '' + selector.staff + '-' + selector.measure;\r\n  }\r\n\r\n  // ## applyOffset\r\n  // ### Description:\r\n  // offset 'selector' the difference between src and target, return the result\r\n  static applyOffset(src: SmoSelector, target: SmoSelector, selector: SmoSelector) {\r\n    const rv = JSON.parse(JSON.stringify(selector));\r\n    rv.staff += target.staff - src.staff;\r\n    rv.measure += target.measure - src.measure;\r\n    rv.voice += target.voice - src.voice;\r\n    rv.note += target.staff - src.staff;\r\n    return rv;\r\n  }\r\n\r\n  // return true if testSel is contained in the selStart to selEnd range.\r\n  static contains(testSel: SmoSelector, selStart: SmoSelector, selEnd: SmoSelector) {\r\n    const geStart =\r\n      selStart.measure < testSel.measure ||\r\n      (selStart.measure === testSel.measure && selStart.tick <= testSel.tick);\r\n    const leEnd =\r\n      selEnd.measure > testSel.measure ||\r\n      (selEnd.measure === testSel.measure && testSel.tick <= selEnd.tick);\r\n\r\n    return geStart && leEnd;\r\n  }\r\n\r\n  // create a hashmap key for a single note, used to organize modifiers\r\n  static selectorNoteKey(selector: SmoSelector) {\r\n    return 'staff-' + selector.staff + '-measure-' + selector.measure + '-voice-' + selector.voice + '-tick-' + selector.tick;\r\n  }\r\n}\r\nexport interface SmoSelectionParams {\r\n  selector: SmoSelector,\r\n  _staff: SmoSystemStaff,\r\n  _measure: SmoMeasure,\r\n  _note?: SmoNote,\r\n  _pitches?: number[],\r\n  type?: string,\r\n  box?: SvgBox\r\n}\r\n// ## SmoSelection\r\n// ## Description:\r\n// A selection is a selector and a set of references to musical elements, like measure etc.\r\n// The staff and measure are always a part of the selection, and possible a voice and note,\r\n// and one or more pitches.  Selections can also be made from the UI by clicking on an element\r\n// or navigating to an element with the keyboard.\r\nexport class SmoSelection {\r\n  selector: SmoSelector = {\r\n    staff: 0,\r\n    measure: 0,\r\n    voice: 0,\r\n    tick: -1,\r\n    pitches: []\r\n  };\r\n  _staff: SmoSystemStaff;\r\n  _measure: SmoMeasure;\r\n  _note: SmoNote | null;\r\n  _pitches: number[] = [];\r\n  type: string | null = null;\r\n  box: SvgBox | null = null;\r\n  scrollBox: SvgPoint | null = null;\r\n  // ### measureSelection\r\n  // A selection that does not contain a specific note\r\n  static measureSelection(score: SmoScore, staffIndex: number, measureIndex: number): SmoSelection | null {\r\n    staffIndex = staffIndex !== null ? staffIndex : score.activeStaff;\r\n    const selector = {\r\n      staff: staffIndex,\r\n      measure: measureIndex,\r\n      voice: 0,\r\n      tick: 0,\r\n      pitches: []\r\n    };\r\n    if (score.staves.length <= staffIndex) {\r\n      return null;\r\n    }\r\n    const staff = score.staves[staffIndex];\r\n    if (staff.measures.length <= measureIndex) {\r\n      return null;\r\n    }\r\n    const measure = staff.measures[measureIndex];\r\n\r\n    return new SmoSelection({\r\n      selector,\r\n      _staff: staff,\r\n      _measure: measure,\r\n      type: 'measure'\r\n    });\r\n  }\r\n\r\n  static measuresInColumn(score: SmoScore, staffIndex: number): SmoSelection[] {\r\n    let i = 0;\r\n    const rv: SmoSelection[] = [];\r\n    for (i = 0; i < score.staves.length; ++i) {\r\n      const sel = SmoSelection.measureSelection(score, i, staffIndex);\r\n      if (sel) {\r\n        rv.push(sel);\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### noteSelection\r\n  // a selection that specifies a note in the score\r\n  static noteSelection(score: SmoScore, staffIndex: number, measureIndex: number, voiceIndex: number, tickIndex: number): SmoSelection | null {\r\n    staffIndex = staffIndex != null ? staffIndex : score.activeStaff;\r\n    measureIndex = typeof (measureIndex) !== 'undefined' ? measureIndex : 0;\r\n    voiceIndex = typeof (voiceIndex) !== 'undefined' ? voiceIndex : 0;\r\n    const staff = score.staves[staffIndex];\r\n    if (!staff) {\r\n      return null;\r\n    }\r\n    const measure = staff.measures[measureIndex];\r\n    if (!measure) {\r\n      return null;\r\n    }\r\n    if (measure.voices.length <= voiceIndex) {\r\n      return null;\r\n    }\r\n    if (measure.voices[voiceIndex].notes.length <= tickIndex) {\r\n      return null;\r\n    }\r\n    const note = measure.voices[voiceIndex].notes[tickIndex];\r\n    const selector: SmoSelector = {\r\n      staff: staffIndex,\r\n      measure: measureIndex,\r\n      voice: voiceIndex,\r\n      tick: tickIndex,\r\n      pitches: []\r\n    };\r\n    return new SmoSelection({\r\n      selector,\r\n      _staff: staff,\r\n      _measure: measure,\r\n      _note: note,\r\n      _pitches: [],\r\n      type: 'note'\r\n    });\r\n  }\r\n\r\n  // ### noteFromSelector\r\n  // return a selection based on the passed-in selector\r\n  static noteFromSelector(score: SmoScore, selector: SmoSelector): SmoSelection| null {\r\n    return SmoSelection.noteSelection(score,\r\n      selector.staff, selector.measure, selector.voice, selector.tick);\r\n  }\r\n\r\n  // ### selectionsToEnd\r\n  // Select all the measures from startMeasure to the end of the score in the given staff.\r\n  static selectionsToEnd(score: SmoScore, staff: number, startMeasure: number) {\r\n    let i = 0;\r\n    const rv = [];\r\n    for (i = startMeasure; i < score.staves[staff].measures.length; ++i) {\r\n      rv.push(SmoSelection.measureSelection(score, staff, i));\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  // ### renderedNoteSelection\r\n  // return the appropriate type of selection from the selector, based on the selector.\r\n  static selectionFromSelector(score: SmoScore, selector: SmoSelector) {\r\n    if (typeof (selector.pitches) !== 'undefined' && selector.pitches.length) {\r\n      return SmoSelection.pitchSelection(score,\r\n        selector.staff, selector.measure, selector.voice, selector.tick, selector.pitches);\r\n    }\r\n    if (typeof (selector.tick) === 'number') {\r\n      return SmoSelection.noteFromSelector(score, selector);\r\n    }\r\n    return SmoSelection.measureSelection(score, selector.staff, selector.measure);\r\n  }\r\n\r\n  static pitchSelection(score: SmoScore, staffIndex: number, measureIndex: number, voiceIndex: number, tickIndex: number, pitches: number[]) {\r\n    staffIndex = staffIndex !== null ? staffIndex : score.activeStaff;\r\n    measureIndex = typeof (measureIndex) !== 'undefined' ? measureIndex : 0;\r\n    voiceIndex = typeof (voiceIndex) !== 'undefined' ? voiceIndex : 0;\r\n    const staff = score.staves[staffIndex];\r\n    const measure = staff.measures[measureIndex];\r\n    const note = measure.voices[voiceIndex].notes[tickIndex];\r\n    pitches = typeof (pitches) !== 'undefined' ? pitches : [];\r\n    const pa: number[] = [];\r\n    pitches.forEach((ix) => {\r\n      pa.push(JSON.parse(JSON.stringify(note.pitches[ix])));\r\n    });\r\n    const selector = {\r\n      staff: staffIndex,\r\n      measure: measureIndex,\r\n      voice: voiceIndex,\r\n      tick: tickIndex,\r\n      pitches\r\n    };\r\n    return new SmoSelection({\r\n      selector,\r\n      _staff: staff,\r\n      _measure: measure,\r\n      _note: note,\r\n      _pitches: pa,\r\n      type: 'pitches'\r\n    });\r\n  }\r\n\r\n  // ## nextNoteSelection\r\n  // ## Description:\r\n  // Return the next note in this measure, or the first note of the next measure, if it exists.\r\n  static nextNoteSelection(score: SmoScore, staffIndex: number, measureIndex: number, voiceIndex: number, tickIndex: number): SmoSelection | null {\r\n    const nextTick = tickIndex + 1;\r\n    const nextMeasure = measureIndex + 1;\r\n    const staff = score.staves[staffIndex];\r\n    const measure = staff.measures[measureIndex];\r\n    if (measure.voices[voiceIndex].notes.length > nextTick) {\r\n      return SmoSelection.noteSelection(score, staffIndex, measureIndex, voiceIndex, nextTick);\r\n    }\r\n    if (staff.measures.length > nextMeasure) {\r\n      return SmoSelection.noteSelection(score, staffIndex, nextMeasure, voiceIndex, 0);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static nextNoteSelectionFromSelector(score: SmoScore, selector: SmoSelector): SmoSelection | null {\r\n    return SmoSelection.nextNoteSelection(score, selector.staff, selector.measure, selector.voice, selector.tick);\r\n  }\r\n  static lastNoteSelectionFromSelector(score: SmoScore, selector: SmoSelector): SmoSelection | null {\r\n    return SmoSelection.lastNoteSelection(score, selector.staff, selector.measure, selector.voice, selector.tick);\r\n  }\r\n\r\n  static lastNoteSelection(score: SmoScore, staffIndex: number, measureIndex: number, voiceIndex: number, tickIndex: number): SmoSelection | null {\r\n    const lastTick = tickIndex - 1;\r\n    const lastMeasure = measureIndex - 1;\r\n    const staff = score.staves[staffIndex];\r\n    let measure = staff.measures[measureIndex];\r\n    if (tickIndex > 0) {\r\n      return SmoSelection.noteSelection(score, staffIndex, measureIndex, voiceIndex, lastTick);\r\n    }\r\n    if (lastMeasure >= 0) {\r\n      measure = staff.measures[lastMeasure];\r\n      if (voiceIndex >= measure.voices.length) {\r\n        return null;\r\n      }\r\n      const noteIndex = measure.voices[voiceIndex].notes.length - 1;\r\n      return SmoSelection.noteSelection(score, staffIndex, lastMeasure, voiceIndex, noteIndex);\r\n    }\r\n    if (measureIndex === 0 && voiceIndex === 0 && tickIndex === 0) {\r\n      return null;\r\n    }\r\n    return SmoSelection.noteSelection(score, staffIndex, 0, 0, 0);\r\n  }\r\n  // ### getMeasureList\r\n  // Gets the list of measures in an array from the selections\r\n  static getMeasureList(selections: SmoSelection[]): SmoSelection[] {\r\n    let i = 0;\r\n    let cur = {};\r\n    const rv: SmoSelection[] = [];\r\n    if (!selections.length) {\r\n      return rv;\r\n    }\r\n    cur = selections[0].selector.measure;\r\n    for (i = 0; i < selections.length; ++i) {\r\n      const sel: SmoSelection = selections[i];\r\n      if (i === 0 || (sel.selector.measure !== cur)) {\r\n        const _staff: SmoSystemStaff = sel._staff;\r\n        const _measure: SmoMeasure = sel._measure;\r\n        rv.push(\r\n          new SmoSelection({\r\n            selector: {\r\n              staff: sel.selector.staff,\r\n              measure: sel.selector.measure,\r\n              voice: 0,\r\n              tick: 0,\r\n              pitches: []\r\n            },\r\n            _staff,\r\n            _measure\r\n          }));\r\n      }\r\n      cur = sel.selector.measure;\r\n    }\r\n    return rv;\r\n  }\r\n  // ### selectionsSameMeasure\r\n  // Return true if the selections are all in the same measure.  Used to determine what\r\n  // type of undo we need.\r\n  static selectionsSameMeasure(selections: SmoSelection[]) {\r\n    let i = 0;\r\n    if (selections.length < 2) {\r\n      return true;\r\n    }\r\n    const sel1 = selections[0].selector;\r\n    for (i = 1; i < selections.length; ++i) {\r\n      if (!SmoSelector.sameMeasure(sel1, selections[i].selector)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  static selectionsSameStaff(selections: SmoSelection[]) {\r\n    let i = 0;\r\n    if (selections.length < 2) {\r\n      return true;\r\n    }\r\n    const sel1 = selections[0].selector;\r\n    for (i = 1; i < selections.length; ++i) {\r\n      if (!SmoSelector.sameStaff(sel1, selections[i].selector)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  constructor(params: SmoSelectionParams) {\r\n    this.selector = {\r\n      staff: 0,\r\n      measure: 0,\r\n      voice: 0,\r\n      tick: 0,\r\n      pitches: []\r\n    };\r\n    this._staff = params._staff;\r\n    this._measure = params._measure;\r\n    this._note = null;\r\n    this._pitches = [];\r\n    Vex.Merge(this, params);\r\n  }\r\n\r\n  get staff() {\r\n    return this._staff;\r\n  }\r\n  get measure() {\r\n    return this._measure;\r\n  }\r\n\r\n  get note() {\r\n    return this._note;\r\n  }\r\n  get pitches() {\r\n    return this.selector.pitches;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoNote, TupletInfo } from '../data/note';\r\nimport { SmoTuplet } from '../data/tuplet';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoSelector, SmoSelection } from './selections';\r\nimport { SmoMeasure, SmoVoice } from '../data/measure';\r\nimport { Ticks } from '../data/common';\r\nimport { TickMap } from './tickMap';\r\n\r\nexport abstract class TickIteratorBase {\r\n  // es\r\n  iterateOverTick(note: SmoNote, tickmap: TickMap, index: number): SmoNote | SmoNote[] | null {\r\n    return null;\r\n  }\r\n}\r\n/**\r\n * SmoDuration: change the duration of a note, maybe at the expense of some\r\n * other note.\r\n */\r\nexport class SmoDuration {\r\n  /**\r\n   * doubleDurationNonTuplet\r\n   * double the duration of the selection, consuming the next note or\r\n   * possibly split it in half and consume that.  Simple operation so\r\n   * do it inline\r\n   * @param selection\r\n   * @returns\r\n   */\r\n  static doubleDurationNonTuplet(selection: SmoSelection) {\r\n    const note: SmoNote | null = selection?.note;\r\n    const measure: SmoMeasure = selection.measure;\r\n    if (note === null) {\r\n      return;\r\n    }\r\n    const selector: SmoSelector = selection.selector;\r\n    const voices: SmoVoice[] | undefined = measure?.voices;\r\n    const voice: SmoVoice = voices[selector.voice];\r\n    const notes: SmoNote[] = voice?.notes;\r\n    let i = 0;\r\n    const nticks: Ticks = { numerator: note.tickCount * 2, denominator: 1, remainder: 0 };\r\n    const replNote = SmoNote.cloneWithDuration(note, nticks);\r\n    let ticksUsed = note.tickCount;\r\n    const newNotes = [];\r\n    for (i = 0; i < selector.tick; ++i) {\r\n      newNotes.push(notes[i]);\r\n    }\r\n    for (i = selector.tick + 1; i < notes.length; ++i) {\r\n      const nnote = notes[i];\r\n      ticksUsed += nnote.tickCount;\r\n      if (ticksUsed >= nticks.numerator) {\r\n        break;\r\n      }\r\n    }\r\n    const remainder = ticksUsed - nticks.numerator;\r\n    if (remainder < 0) {\r\n      return;\r\n    }\r\n    newNotes.push(replNote);\r\n    if (remainder > 0) {\r\n      const lmap = smoMusic.gcdMap(remainder);\r\n      lmap.forEach((duration) => {\r\n        newNotes.push(SmoNote.cloneWithDuration(note, duration));\r\n      });\r\n    }\r\n\r\n    for (i = i + 1; i < notes.length; ++i) {\r\n      newNotes.push(notes[i]);\r\n    }\r\n    // If any tuplets got removed while extending the notes,\r\n    voice.notes = newNotes;\r\n    const measureTuplets: SmoTuplet[] = [];\r\n    const allTuplets: SmoTuplet[] | undefined = measure?.tuplets;\r\n    allTuplets?.forEach((tuplet: SmoTuplet) => {\r\n      const testNotes = measure?.tupletNotes(tuplet);\r\n      if (testNotes?.length === tuplet.notes.length) {\r\n        measureTuplets.push(tuplet);\r\n      }\r\n    });\r\n    measure.tuplets = measureTuplets;\r\n  }\r\n\r\n  /**\r\n   * double duration, tuplet form.  Increase the first selection and consume the\r\n   * following note.  Also a simple operation\r\n   * @param selection\r\n   * @returns\r\n   */\r\n  static doubleDurationTuplet(selection: SmoSelection) {\r\n    let i: number = 0;\r\n    const measure: SmoMeasure = selection.measure;\r\n    const note: SmoNote | null = selection?.note;\r\n    if (note === null) {\r\n      return;\r\n    }\r\n    const notes = measure.voices[selection.selector.voice].notes;\r\n    const tuplet: SmoTuplet | null = measure.getTupletForNote(note);\r\n    if (tuplet === null) {\r\n      return;\r\n    }\r\n    const startIndex = selection.selector.tick - tuplet.startIndex;\r\n\r\n    const startLength: number = tuplet.notes.length;\r\n    tuplet.combine(startIndex, startIndex + 1);\r\n    if (tuplet.notes.length >= startLength) {\r\n      return;\r\n    }\r\n    const newNotes = [];\r\n\r\n    for (i = 0; i < tuplet.startIndex; ++i) {\r\n      newNotes.push(notes[i]);\r\n    }\r\n    tuplet.notes.forEach((note) => {\r\n      newNotes.push(note);\r\n    });\r\n    for (i = i + tuplet.notes.length + 1; i < notes.length; ++i) {\r\n      newNotes.push(notes[i]);\r\n    }\r\n    measure.voices[selection.selector.voice].notes = newNotes;\r\n  }\r\n}\r\n/**\r\n * SmoTickIterator\r\n * this is a local helper class that follows a pattern of iterating of the notes.  Most of the\r\n * duration changers iterate over a selection, and return:\r\n * - A note, if the duration changes\r\n * - An array of notes, if the notes split\r\n * - null if the note stays the same\r\n * - empty array, remove the note from the group\r\n */\r\nexport class SmoTickIterator {\r\n  notes: SmoNote[] = [];\r\n  newNotes: SmoNote[] = [];\r\n  actor: TickIteratorBase;\r\n  measure: SmoMeasure;\r\n  voice: number = 0;\r\n  keySignature: string;\r\n  constructor(measure: SmoMeasure, actor: TickIteratorBase, voiceIndex: number) {\r\n    this.notes = measure.voices[voiceIndex].notes;\r\n    this.measure = measure;\r\n    this.voice = typeof (voiceIndex) === 'number' ? voiceIndex : 0;\r\n    this.newNotes = [];\r\n    // eslint-disable-next-line\r\n    this.actor = actor;\r\n    this.keySignature = 'C';\r\n  }\r\n  static nullActor(note: SmoNote) {\r\n    return note;\r\n  }\r\n  /**\r\n   *\r\n   * @param measure {SmoMeasure}\r\n   * @param actor {}\r\n   * @param voiceIndex\r\n   */\r\n  static iterateOverTicks(measure: SmoMeasure, actor: TickIteratorBase, voiceIndex: number) {\r\n    measure.clearBeamGroups();\r\n    const transformer = new SmoTickIterator(measure, actor, voiceIndex);\r\n    transformer.run();\r\n    measure.voices[voiceIndex].notes = transformer.notes;\r\n  }\r\n  // ### transformNote\r\n  // call the actors for each note, and put the result in the note array.\r\n  // The note from the original array is copied and sent to each actor.\r\n  //\r\n  // Because the resulting array can have a different number of notes than the existing\r\n  // array, the actors communicate with the transformer in the following, jquery-ish\r\n  // but somewhat unintuitive way:\r\n  //\r\n  // 1. if the actor returns null, the next actor is called and the results of that actor are used\r\n  // 2. if all the actors return null, the copy is used.\r\n  // 3. if a note object is returned, that is used for the current tick and no more actors are called.\r\n  // 4. if an array of notes is returned, it is concatenated to the existing note array and no more actors are called.\r\n  //     Note that *return note;* and *return [note];* produce the same result.\r\n  // 5. if an empty array [] is returned, that copy is not added to the result.  The note is effectively deleted.\r\n  iterateOverTick(tickmap: TickMap, index: number, note: SmoNote) {\r\n    const actor: TickIteratorBase = this.actor;\r\n    const newNote: SmoNote[] | SmoNote | null = actor.iterateOverTick(note, tickmap, index);\r\n    if (newNote === null) {\r\n      this.newNotes.push(note); // no change\r\n      return note;\r\n    }\r\n    if (Array.isArray(newNote)) {\r\n      if (newNote.length === 0) {\r\n        return null;\r\n      }\r\n      this.newNotes = this.newNotes.concat(newNote);\r\n      return null;\r\n    }\r\n    this.newNotes.push(newNote as SmoNote);\r\n    return null;\r\n  }\r\n\r\n  run() {\r\n    let i = 0;\r\n    const tickmap = this.measure.tickmapForVoice(this.voice);\r\n    for (i = 0; i < tickmap.durationMap.length; ++i) {\r\n      this.iterateOverTick(tickmap, i, this.measure.voices[this.voice].notes[i]);\r\n    }\r\n    this.notes = this.newNotes;\r\n    return this.newNotes;\r\n  }\r\n}\r\n\r\nexport interface SmoContractNoteParams {\r\n  startIndex: number,\r\n  measure: SmoMeasure,\r\n  voice: number,\r\n  newTicks: number\r\n}\r\n// ## VxContractActor\r\n// Contract the duration of a note, filling in the space with another note\r\n// or rest.\r\n//\r\nexport class SmoContractNoteActor extends TickIteratorBase {\r\n  startIndex: number;\r\n  tickmap: TickMap;\r\n  newTicks: number;\r\n  measure: SmoMeasure;\r\n  voice: number;\r\n  constructor(params: SmoContractNoteParams) {\r\n    super();\r\n    this.startIndex = params.startIndex;\r\n    this.measure = params.measure;\r\n    this.voice = params.voice;\r\n    this.tickmap = this.measure.tickmapForVoice(this.voice);\r\n    this.newTicks = params.newTicks;\r\n  }\r\n  static apply(params: SmoContractNoteParams) {\r\n    const actor = new SmoContractNoteActor(params);\r\n    SmoTickIterator.iterateOverTicks(actor.measure,\r\n      actor, actor.voice);\r\n  }\r\n  iterateOverTick(note: SmoNote, tickmap: TickMap, index: number): SmoNote | SmoNote[] | null {\r\n    let i = 0;\r\n    if (index === this.startIndex) {\r\n      const notes: SmoNote[] = [];\r\n      const noteCount = Math.floor(note.ticks.numerator / this.newTicks);\r\n      let remainder = note.ticks.numerator;\r\n      /**\r\n       *  Replace 1 note with noteCOunt notes of newTIcks duration\r\n       *      old map:\r\n       *     d  .  d  .  .\r\n       *     new map:\r\n       *     d  d  d  .  .\r\n       */\r\n      for (i = 0; i < noteCount; ++i) {\r\n        // first note, retain modifiers so clone.  Otherwise just\r\n        // retain pitches\r\n        if (i === 0) {\r\n          const nn = SmoNote.clone(note);\r\n          nn.ticks = { numerator: this.newTicks, denominator: 1, remainder: 0 };\r\n          notes.push(nn);\r\n        } else {\r\n          const nnote = new SmoNote(SmoNote.defaults);\r\n          nnote.clef = note.clef;\r\n          nnote.pitches = JSON.parse(JSON.stringify(note.pitches));\r\n          nnote.ticks = { numerator: this.newTicks, denominator: 1, remainder: 0 };\r\n          nnote.beamBeats = note.beamBeats;\r\n          notes.push(nnote);\r\n        }\r\n        remainder = remainder - this.newTicks;\r\n      }\r\n\r\n      // make sure remnainder is not too short\r\n      if (remainder > 0) {\r\n        if (remainder < 128) {\r\n          return null;\r\n        }\r\n        const nnote = new SmoNote(SmoNote.defaults);\r\n        nnote.clef = note.clef;\r\n        nnote.pitches = JSON.parse(JSON.stringify(note.pitches));\r\n        nnote.ticks = { numerator: remainder, denominator: 1, remainder: 0 };\r\n        nnote.beamBeats = note.beamBeats;\r\n        notes.push(nnote);\r\n      }\r\n      return notes;\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nexport interface SmoContractTupletParams {\r\n  changeIndex: number,\r\n  measure: SmoMeasure,\r\n  voice: number\r\n}\r\n// ## VxContractActor\r\n// Contract the duration of a note in a tuplet by duplicate\r\n// notes of fractional length\r\n//\r\nexport class SmoContractTupletActor extends TickIteratorBase {\r\n  changeIndex: number;\r\n  measure: SmoMeasure;\r\n  voice: number;\r\n  tuplet: SmoTuplet | null;\r\n  oldLength: number = 0;\r\n  tupletIndex: number = 0;\r\n  splitIndex: number = 0;\r\n  constructor(params: SmoContractTupletParams) {\r\n    super();\r\n    this.changeIndex = params.changeIndex;\r\n    this.measure = params.measure;\r\n    this.voice = params.voice;\r\n    this.tuplet = this.measure.getTupletForNote(this.measure.voices[this.voice].notes[this.changeIndex]);\r\n    if (this.tuplet === null) {\r\n      return;\r\n    }\r\n    this.oldLength = this.tuplet.notes.length;\r\n    this.tupletIndex = this.measure.tupletIndex(this.tuplet);\r\n    this.splitIndex = this.changeIndex - this.tupletIndex;\r\n    this.tuplet.split(this.splitIndex);\r\n  }\r\n  static apply(params: SmoContractTupletParams) {\r\n    const actor = new SmoContractTupletActor(params);\r\n    SmoTickIterator.iterateOverTicks(actor.measure, actor, actor.voice);\r\n  }\r\n  iterateOverTick(note: SmoNote, tickmap: TickMap, index: number) {\r\n    if (this.tuplet === null) {\r\n      return null;\r\n    }\r\n    if (index < this.tupletIndex) {\r\n      return note;\r\n    }\r\n    if (index >= this.tupletIndex + this.oldLength) {\r\n      return note;\r\n    }\r\n    if (index === this.changeIndex) {\r\n      return this.tuplet.notes;\r\n    }\r\n    return [];\r\n  }\r\n}\r\n\r\nexport interface SmoUnmakeTupletParams {\r\n  startIndex: number,\r\n  endIndex: number,\r\n  measure: SmoMeasure,\r\n  voice: number\r\n}\r\n// ## VxUnmakeTupletActor\r\n// Turn a tuplet into a non-tuplet of the same length\r\n// ## Parameters:\r\n// startIndex: start index of tuplet\r\n// endIndex: end index of tuplet\r\n// measure: Smo measure that the tuplet is contained in.\r\nexport class SmoUnmakeTupletActor extends TickIteratorBase {\r\n  startIndex: number = 0;\r\n  endIndex: number = 0;\r\n  measure: SmoMeasure;\r\n  voice: number;\r\n  constructor(parameters: SmoUnmakeTupletParams) {\r\n    super();\r\n    this.startIndex = parameters.startIndex;\r\n    this.endIndex = parameters.endIndex;\r\n    this.measure = parameters.measure;\r\n    this.voice = parameters.voice;\r\n  }\r\n  static apply(params: SmoUnmakeTupletParams) {\r\n    const actor = new SmoUnmakeTupletActor(params);\r\n    SmoTickIterator.iterateOverTicks(actor.measure, actor, actor.voice);\r\n  }\r\n  iterateOverTick(note: SmoNote, tickmap: TickMap, index: number) {\r\n    if (index < this.startIndex || index > this.endIndex) {\r\n      return null;\r\n    }\r\n    if (index === this.startIndex) {\r\n      const tuplet = this.measure.getTupletForNote(note);\r\n      if (tuplet === null) {\r\n        return [];\r\n      }\r\n      const ticks = tuplet.totalTicks;\r\n      const nn: SmoNote = SmoNote.cloneWithDuration(note, { numerator: ticks, denominator: 1, remainder: 0 });\r\n      nn.tuplet = {} as TupletInfo;\r\n      this.measure.removeTupletForNote(note);\r\n      return [nn];\r\n    }\r\n    return [];\r\n  }\r\n}\r\n\r\nexport interface SmoMakeTupletParams {\r\n  index: number,\r\n  totalTicks: number,\r\n  numNotes: number,\r\n  measure: SmoMeasure,\r\n  voice: number\r\n}\r\n// ## VxUnmakeTupletActor\r\n// Turn a tuplet into a non-tuplet of the same length\r\n// parameters:\r\n//  {tickmap:tickmap,ticks:ticks,\r\nexport class SmoMakeTupletActor extends TickIteratorBase {\r\n  measure: SmoMeasure;\r\n  durationMap: number[];\r\n  numNotes: number;\r\n  stemTicks: number;\r\n  totalTicks: number;\r\n  rangeToSkip: number[];\r\n  tuplet: SmoNote[];\r\n  voice: number;\r\n  index: number;\r\n  constructor(params: SmoMakeTupletParams) {\r\n    let i = 0;\r\n    super();\r\n    this.measure = params.measure;\r\n    this.numNotes = params.numNotes;\r\n    this.durationMap = [];\r\n    this.totalTicks = params.totalTicks;\r\n    this.voice = params.voice;\r\n    this.index = params.index;\r\n    for (i = 0; i < this.numNotes; ++i) {\r\n      this.durationMap.push(1.0);\r\n    }\r\n    this.stemTicks = SmoTuplet.calculateStemTicks(this.totalTicks, this.numNotes);\r\n    this.rangeToSkip = this._rangeToSkip();\r\n    this.tuplet = [];\r\n  }\r\n  static apply(params: SmoMakeTupletParams) {\r\n    const actor = new SmoMakeTupletActor(params);\r\n    SmoTickIterator.iterateOverTicks(actor.measure, actor, actor.voice);\r\n  }\r\n  _rangeToSkip(): number[] {\r\n    let i = 0;\r\n    if (this.measure === null) {\r\n      return [];\r\n    }\r\n    const ticks = this.measure.tickmapForVoice(this.voice);\r\n    let accum = 0;\r\n    const rv = [];\r\n    rv.push(this.index);\r\n    for (i = 0; i < ticks.deltaMap.length; ++i) {\r\n      if (i >= this.index) {\r\n        accum += ticks.deltaMap[i];\r\n      }\r\n      if (accum >= this.totalTicks) {\r\n        rv.push(i);\r\n        break;\r\n      }\r\n    }\r\n    return rv;\r\n  }\r\n  iterateOverTick(note: SmoNote, tickmap: TickMap, index: number) {\r\n    let i = 0;\r\n    // if our tuplet replaces this note, make sure we make it go away.\r\n    if (index > this.index && index <= this.rangeToSkip[1]) {\r\n      return [];\r\n    }\r\n    if (this.measure === null) {\r\n      return [];\r\n    }\r\n    if (index !== this.index) {\r\n      return null;\r\n    }\r\n    for (i = 0; i < this.numNotes; ++i) {\r\n      note = SmoNote.cloneWithDuration(note, { numerator: this.stemTicks, denominator: 1, remainder: 0 });\r\n      // Don't clone modifiers, except for first one.\r\n      note.textModifiers = i === 0 ? note.textModifiers : [];\r\n      this.tuplet.push(note);\r\n    }\r\n    const tuplet = new SmoTuplet({\r\n      notes: this.tuplet,\r\n      stemTicks: this.stemTicks,\r\n      totalTicks: this.totalTicks,\r\n      ratioed: false,\r\n      bracketed: true,\r\n      startIndex: index,\r\n      durationMap: this.durationMap,\r\n      voice: tickmap.voice,\r\n      numNotes: this.numNotes\r\n    });\r\n    this.measure.tuplets.push(tuplet);\r\n    return this.tuplet;\r\n  }\r\n}\r\n\r\nexport interface SmoStretchNoteParams {\r\n  startIndex: number,\r\n  measure: SmoMeasure,\r\n  voice: number,\r\n  newTicks: number\r\n}\r\nexport class SmoStretchNoteActor extends TickIteratorBase {\r\n  startIndex: number;\r\n  tickmap: TickMap;\r\n  newTicks: number;\r\n  startTick: number;\r\n  divisor: number;\r\n  durationMap: number[];\r\n  skipFromStart: number;\r\n  skipFromEnd: number;\r\n  measure: SmoMeasure;\r\n  voice: number;\r\n  constructor(params: SmoStretchNoteParams) {\r\n    let mapIx = 0;\r\n    let i = 0;\r\n    super();\r\n    this.startIndex = params.startIndex;\r\n    this.measure = params.measure;\r\n    this.voice = params.voice;\r\n    this.tickmap = this.measure.tickmapForVoice(this.voice);\r\n    this.newTicks = params.newTicks;\r\n    this.startTick = this.tickmap.durationMap[this.startIndex];\r\n    const currentTicks = this.tickmap.deltaMap[this.startIndex];\r\n    const endTick = this.tickmap.durationMap[this.startIndex] + this.newTicks;\r\n    this.divisor = -1;\r\n    this.durationMap = [];\r\n    this.skipFromStart = this.startIndex + 1;\r\n    this.skipFromEnd = this.startIndex + 1;\r\n    this.durationMap.push(this.newTicks);\r\n\r\n    mapIx = this.tickmap.durationMap.indexOf(endTick);\r\n\r\n    const remaining = this.tickmap.deltaMap.slice(this.startIndex, this.tickmap.durationMap.length).reduce((accum, x) => x + accum);\r\n    if (remaining === this.newTicks) {\r\n      mapIx = this.tickmap.deltaMap.length;\r\n    }\r\n\r\n    // If there is no tickable at the end point, try to split the next note\r\n    /**\r\n     *      old map:\r\n     *     d  . d  .\r\n     *     split map:\r\n     *     d  .  d  d\r\n     *     new map:\r\n     *     d .   .  d\r\n     */\r\n    if (mapIx < 0) {\r\n      const ndelta = this.tickmap.deltaMap[this.startIndex + 1];\r\n      const needed = this.newTicks - currentTicks;\r\n      const exp = ndelta / needed;\r\n      // Next tick does not divide evenly into this, or next tick is shorter than this\r\n      if (Math.round(ndelta / exp) - ndelta / exp !== 0 || ndelta < 256) {\r\n        this.durationMap = [];\r\n      } else if (ndelta / exp + this.startTick + this.newTicks <= this.tickmap.totalDuration) {\r\n        this.durationMap.push(ndelta - (ndelta / exp));\r\n      } else {\r\n        // there is no way to do this...\r\n        this.durationMap = [];\r\n      }\r\n    } else {\r\n      // If this note now takes up the space of other notes, remove those notes\r\n      for (i = this.startIndex + 1; i < mapIx; ++i) {\r\n        this.durationMap.push(0);\r\n      }\r\n    }\r\n  }\r\n  static apply(params: SmoStretchNoteParams) {\r\n    const actor = new SmoStretchNoteActor(params);\r\n    SmoTickIterator.iterateOverTicks(actor.measure, actor, actor.voice);\r\n  }\r\n  iterateOverTick(note: SmoNote, tickmap: TickMap, index: number) {\r\n    if (this.durationMap.length === 0) {\r\n      return null;\r\n    }\r\n    if (index >= this.startIndex && index < this.startIndex + this.durationMap.length) {\r\n      const mapIndex = index - this.startIndex;\r\n      const ticks = this.durationMap[mapIndex];\r\n      if (ticks === 0) {\r\n        return [];\r\n      }\r\n      note = SmoNote.cloneWithDuration(note, { numerator: ticks, denominator: 1, remainder: 0 });\r\n      return [note];\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { TickMappable } from '../data/measure';\r\nimport { Pitch, PitchLetter } from '../data/common';\r\nimport { SmoNote } from '../data/note';\r\nconst VF = eval('Vex.Flow');\r\nexport interface TickAccidental {\r\n  duration: number,\r\n  pitch: Pitch\r\n}\r\n\r\n// ## TickMap\r\n// create a map note durations at each index into the voice, including the accidentals at each duration.\r\n// return format:\r\n//     tickmap = {\r\n//        totalDuration: 16384,\r\n//        durationMap:[2048,4096,..],  // A running total per tick\r\n//        deltaMap:[2048,2048...], a map of deltas\r\nexport class TickMap {\r\n  keySignature: string;\r\n  voice: number;\r\n  notes: SmoNote[] = [];\r\n  index: number = 0;\r\n  startIndex: number = 0;\r\n  endIndex: number = 0;\r\n  // duration is the accumulated duraition over all the notes\r\n  totalDuration: number = 0;\r\n  // delta is the tick contribution of this note\r\n  delta: number = 0;\r\n  // the absolute tick start location of notes[x]\r\n  durationMap: number[] = [];\r\n  // the relative duration if each tick slot\r\n  deltaMap: number[] = [];\r\n  // An array of active accidentals for each tick index\r\n  accidentalMap: Record<PitchLetter, TickAccidental>[] = [];\r\n  // a map of active accidentals, indexed by duration index\r\n  durationAccidentalMap: Record<string | number, Record<PitchLetter, TickAccidental>> = {};\r\n  constructor(measure: TickMappable, voiceIndex: number) {\r\n    this.keySignature = measure.keySignature;\r\n    this.voice = voiceIndex;\r\n    if (measure.voices.length <= this.voice) {\r\n      console.warn('tickmap for invalid voice');\r\n      return;\r\n    }\r\n    this.notes = measure.voices[this.voice].notes;\r\n    this.endIndex = this.notes.length;\r\n    this.createMap();\r\n  }\r\n  // ### _getAccidentalsForKey\r\n  // Update `map` with the correct accidental based on the key signature.\r\n  _getAccidentalsForKey(map: Record<string, TickAccidental>) {\r\n    const music: any = new VF.Music();\r\n    const keys = music.createScaleMap(this.keySignature);\r\n    const keyKeys = Object.keys(keys);\r\n    keyKeys.forEach((keyKey) => {\r\n      const vexKey = keys[keyKey];\r\n      if (vexKey.length > 1 && (vexKey[1] === 'b' || vexKey[1] === '#')) {\r\n        const pitch = {\r\n          letter: vexKey[0],\r\n          accidental: vexKey[1],\r\n          octave: 4\r\n        };\r\n        map[vexKey[0]] = {\r\n          duration: 0,\r\n          pitch\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  // ### updateAccidentalMap\r\n  // Keep a running tally of the accidentals for this voice\r\n  // based on the key and previous accidentals.\r\n  updateAccidentalMap(note: SmoNote) {\r\n    let i = 0;\r\n    let sigObj: Record<string, TickAccidental> = {};\r\n    const newObj: Record<string, TickAccidental> = {};\r\n    if (this.index === 0) {\r\n      this._getAccidentalsForKey(newObj);\r\n      sigObj = newObj;\r\n    } else {\r\n      sigObj = this.accidentalMap[this.index - 1];\r\n    }\r\n    for (i = 0; i < note.pitches.length; ++i) {\r\n      if (note.noteType !== 'n') {\r\n        continue;\r\n      }\r\n      const pitch: Pitch = note.pitches[i];\r\n      const letter: string = pitch.letter.toLowerCase();\r\n      const sigLetter: string = letter + pitch.accidental;\r\n      const sigKey = smoMusic.getKeySignatureKey(letter as PitchLetter, this.keySignature);\r\n      if (sigObj && sigObj[letter]) {\r\n        const currentVal = sigObj[letter].pitch.letter + sigObj[letter].pitch.accidental;\r\n        if (sigLetter !== currentVal) {\r\n          newObj[letter] = { pitch, duration: this.duration };\r\n        }\r\n      } else {\r\n        if (sigLetter !== sigKey) {\r\n          newObj[letter] = { pitch, duration: this.duration };\r\n        }\r\n      }\r\n    }\r\n    this.accidentalMap.push(newObj);\r\n    // Mark the accidental with the start of this note.\r\n    this.durationAccidentalMap[this.durationMap[this.index]] = newObj;\r\n  }\r\n\r\n  // ### getActiveAccidental\r\n  // return the active accidental for the given note\r\n  getActiveAccidental(pitch: Pitch, iteratorIndex: number, keySignature: string) {\r\n    let defaultAccidental: string = smoMusic.getKeySignatureKey(pitch.letter, keySignature);\r\n    let i = 0;\r\n    let j = 0;\r\n    defaultAccidental = defaultAccidental.length > 1 ? defaultAccidental[1] : 'n';\r\n    if (iteratorIndex === 0) {\r\n      return defaultAccidental;\r\n    }\r\n    // Back up the accidental map until we have a match, or until we run out\r\n    for (i = iteratorIndex; i > 0; --i) {\r\n      const map: Record<string, TickAccidental> = this.accidentalMap[i - 1];\r\n      const mapKeys = Object.keys(map);\r\n      for (j = 0; j < mapKeys.length; ++j) {\r\n        const mapKey: string = mapKeys[j];\r\n        // The letter name + accidental in the map\r\n        const mapPitch: Pitch = map[mapKey].pitch;\r\n        const mapAcc = mapPitch.accidental ? mapPitch.accidental : 'n';\r\n\r\n        // if the letters match and the accidental...\r\n        if (mapPitch.letter.toLowerCase() === pitch.letter) {\r\n          return mapAcc;\r\n        }\r\n      }\r\n    }\r\n    return defaultAccidental;\r\n  }\r\n  get duration() {\r\n    return this.totalDuration;\r\n  }\r\n  createMap() {\r\n    for (this.index = this.startIndex; this.index < this.endIndex; ++this.index) {\r\n      const note = this.notes[this.index];\r\n      // save the starting point, tickwise\r\n      this.durationMap.push(this.totalDuration);\r\n      // the number of ticks for this note\r\n      this.delta = (note.ticks.numerator / note.ticks.denominator) + note.ticks.remainder;\r\n      this.deltaMap.push(this.delta);\r\n      // update the tick count for the whole array/measure\r\n      this.totalDuration += this.delta;\r\n      this.updateAccidentalMap(note);\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoScore } from '../data/score';\r\n\r\n// ## SmoToVex\r\n// Simple serialize class that produced VEX note and voice objects\r\n// for vex EasyScore (for easier bug reports and test cases)\r\nexport class SmoToVex {\r\n  static convert(smoScore: SmoScore) {\r\n    smoScore.staves.forEach((smoStaff, staffIx) => {\r\n      smoStaff.measures.forEach((smoMeasure, measureIx) => {\r\n        const voiceStrings: any[] = [];\r\n        const lyricsHash: any = {};\r\n        smoMeasure.voices.forEach((smoVoice, vix) => {\r\n          let keyString = '';\r\n          voiceStrings.push([]);\r\n          smoVoice.notes.forEach((smoNote, nix) => {\r\n            const noteId = 'v' + vix + 'n' + nix;\r\n            let duration = smoMusic.ticksToDuration[smoMusic.closestDurationTickLtEq(smoNote.tickCount)];\r\n            duration = duration.replaceAll('d', '.');\r\n            if (smoNote.pitches.length > 1) {\r\n              keyString += '(';\r\n            }\r\n            smoNote.pitches.forEach((smoPitch, pitchIx) => {\r\n              // Create a copy of the pitch.  If the accidental is not displayed, ignore it\r\n              const pitch = { letter: smoPitch.letter, accidental: '', octave: smoPitch.octave };\r\n              if (smoNote.accidentalsRendered && smoNote.accidentalsRendered[pitchIx].length) {\r\n                pitch.accidental = smoPitch.accidental;\r\n              }\r\n              keyString += smoMusic.pitchToEasyScore(pitch);\r\n              if (pitchIx + 1 < smoNote.pitches.length) {\r\n                keyString += ' ';\r\n              }\r\n            });\r\n            if (smoNote.pitches.length > 1) {\r\n              keyString += ')';\r\n            }\r\n            keyString += '/' + duration + \"[id='\" + noteId + \"'],\";\r\n            smoNote.getTrueLyrics().forEach((lyric) => {\r\n              if (typeof lyricsHash[noteId] === 'undefined') {\r\n                lyricsHash[noteId] = [];\r\n              }\r\n              lyricsHash[noteId].push(lyric.getText());\r\n            });\r\n          });\r\n          voiceStrings.push(keyString);\r\n        });\r\n        console.log('// notes', staffIx, measureIx, '=', JSON.stringify(voiceStrings, null, ''));\r\n        console.log('// lyrics', staffIx, measureIx, '=', JSON.stringify(lyricsHash), null, '');\r\n      });\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { StaffModifierBase } from '../data/staffModifiers';\r\nimport { SmoSystemStaff } from '../data/systemStaff';\r\nimport { SmoOperation } from './operations';\r\nimport { SmoScore } from '../data/score';\r\nimport { SmoMeasure } from '../data/measure';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SmoTextGroup } from '../data/scoreModifiers';\r\nimport { SmoSelector } from './selections';\r\n\r\nexport interface UndoEntry {\r\n  title: string,\r\n  type: number,\r\n  selector: SmoSelector,\r\n  subtype: number,\r\n  grouped: boolean,\r\n  firstInGroup: boolean,\r\n  json?: any\r\n}\r\n// ## UndoBuffer\r\n// manage a set of undo or redo operations on a score.  The objects passed into\r\n// undo must implement serialize()/deserialize()\r\n// ### Buffer format:\r\n// A buffer is one of 7 things:\r\n// * A single measure,\r\n// * A single staff\r\n// * the whole score\r\n// * a score modifier (text)\r\n// * score attributes (layout, etc)\r\n// * column - all the measures at one index\r\n// * rectangle - a rectangle of measures\r\nexport class UndoBuffer {\r\n  static get bufferMax() {\r\n    return 100;\r\n  }\r\n\r\n  static get bufferTypes() {\r\n    return {\r\n      FIRST: 1,\r\n      MEASURE: 1, STAFF: 2, SCORE: 3, SCORE_MODIFIER: 4, COLUMN: 5, RECTANGLE: 6,\r\n      SCORE_ATTRIBUTES: 7, STAFF_MODIFIER: 8, LAST: 8\r\n    };\r\n  }\r\n  static get bufferSubtypes() {\r\n    return {\r\n      NONE: 0, ADD: 1, REMOVE: 2, UPDATE: 3\r\n    };\r\n  }\r\n  static get bufferTypeLabel() {\r\n    return ['INVALID', 'MEASURE', 'STAFF', 'SCORE', 'SCORE_MODIFIER', 'COLUMN', 'RECTANGLE',\r\n      'SCORE_ATTRIBUTES', 'STAFF_MODIFIER'];\r\n  }\r\n  // ### serializeMeasure\r\n  // serialize a measure, preserving the column-mapped bits which aren't serialized on a full score save.\r\n  static serializeMeasure(measure: SmoMeasure) {\r\n    const attrColumnHash: any = {};\r\n    const attrCurrentValue: any  = {};\r\n    const json: any = measure.serialize();\r\n    measure.serializeColumnMapped(attrColumnHash, attrCurrentValue);\r\n    Object.keys(attrCurrentValue).forEach((key) => {\r\n      json[key] = attrCurrentValue[key];\r\n    });\r\n    return json;\r\n  }\r\n  score: SmoScore | null = null;\r\n  buffer: UndoEntry[] = [];\r\n  opCount: number;\r\n  _grouping: boolean;\r\n  constructor() {\r\n    this.buffer = [];\r\n    this.opCount = 0;\r\n    this._grouping = false;\r\n  }\r\n  get grouping() {\r\n    return this._grouping;\r\n  }\r\n  // Allows a set of operations to be bunched into a single group\r\n  set grouping(val) {\r\n    if (this._grouping === true && val === false) {\r\n      const buf = this.peek();\r\n      // If we have been grouping, indicate that the last buffer is the\r\n      // fist part of a group\r\n      if (buf) {\r\n        buf.firstInGroup = true;\r\n      }\r\n    }\r\n    this._grouping = val;\r\n  }\r\n  // ### addBuffer\r\n  // Description:\r\n  // Add the current state of the score required to undo the next operation we\r\n  // are about to perform.  For instance, if we are adding a crescendo, we back up the\r\n  // staff the crescendo will go on.\r\n  addBuffer(title: string, type: number, selector: SmoSelector, obj: any, subtype: number) {\r\n    let i = 0;\r\n    let j = 0;\r\n    if (typeof(type) !== 'number' || type < UndoBuffer.bufferTypes.FIRST || type > UndoBuffer.bufferTypes.LAST) {\r\n      throw 'Undo failure: illegal buffer type ' + type;\r\n    }\r\n    const undoObj: UndoEntry = {\r\n      title,\r\n      type,\r\n      selector,\r\n      subtype,\r\n      grouped: this._grouping,\r\n      firstInGroup: false\r\n    };\r\n    if (type === UndoBuffer.bufferTypes.RECTANGLE) {\r\n      // RECTANGLE obj is {score, topLeft, bottomRight}\r\n      // where the last 2 are selectors\r\n      const measures = [];\r\n      for (i = obj.topLeft.staff; i <= obj.bottomRight.staff; ++i) {\r\n        for (j = obj.topLeft.measure; j <= obj.bottomRight.measure; ++j) {\r\n          measures.push(UndoBuffer.serializeMeasure(obj.score.staves[i].measures[j]));\r\n        }\r\n      }\r\n      undoObj.json = { topLeft: JSON.parse(JSON.stringify(obj.topLeft)),\r\n        bottomRight: JSON.parse(JSON.stringify(obj.bottomRight)),\r\n        measures };\r\n    } else if (type === UndoBuffer.bufferTypes.SCORE_ATTRIBUTES) {\r\n      undoObj.json = {};\r\n      smoSerialize.serializedMerge(SmoScore.preferences, obj, undoObj.json);\r\n    } else if (type === UndoBuffer.bufferTypes.COLUMN) {\r\n      // COLUMN obj is { score, measureIndex }\r\n      const ix = obj.measureIndex;\r\n      const measures: SmoMeasure[] = [];\r\n      obj.score.staves.forEach((staff: SmoSystemStaff) => {\r\n        measures.push(UndoBuffer.serializeMeasure(staff.measures[ix]));\r\n      });\r\n      undoObj.json = { measureIndex: ix, measures };\r\n    } else if (type === UndoBuffer.bufferTypes.MEASURE) {\r\n      // If this is a measure, preserve the column-mapped attributes\r\n      undoObj.json = UndoBuffer.serializeMeasure(obj);\r\n    } else if (type === UndoBuffer.bufferTypes.SCORE_MODIFIER ||\r\n      type === UndoBuffer.bufferTypes.STAFF_MODIFIER) {\r\n      // score modifier, already serialized\r\n      undoObj.json = obj;\r\n    } else {\r\n      // staff or score or staffModifier\r\n      undoObj.json = obj.serialize();\r\n    }\r\n    if (this.buffer.length >= UndoBuffer.bufferMax) {\r\n      this.buffer.splice(0, 1);\r\n    }\r\n    this.opCount += 1;\r\n    this.buffer.push(undoObj);\r\n  }\r\n\r\n  // ### _pop\r\n  // ### Description:\r\n  // Internal method to pop the top buffer off the stack.\r\n  _pop(): UndoEntry | null {\r\n    if (this.buffer.length < 1) {\r\n      return null;\r\n    }\r\n    const buf: UndoEntry = this.buffer.pop() as UndoEntry;\r\n    return buf;\r\n  }\r\n\r\n  // ## Before undoing, peek at the top action in the q\r\n  // so it can be re-rendered\r\n  peek(): UndoEntry | null {\r\n    if (this.buffer.length < 1) {\r\n      return null;\r\n    }\r\n    return this.buffer[this.buffer.length - 1];\r\n  }\r\n\r\n  // ## undo\r\n  // ## Description:\r\n  // Undo the operation at the top of the undo stack.  This is done by replacing\r\n  // the music as it existed before the change was made.\r\n  undo(score: SmoScore): SmoScore {\r\n    let i = 0;\r\n    let j = 0;\r\n    let mix = 0;\r\n    let buf = this._pop();\r\n    if (!buf) {\r\n      return score;\r\n    }\r\n    const grouping = buf.firstInGroup;\r\n    while (buf) {\r\n      if (buf.type === UndoBuffer.bufferTypes.RECTANGLE) {\r\n        for (i = buf.json.topLeft.staff; i <= buf.json.bottomRight.staff; ++i) {\r\n          for (j = buf.json.topLeft.measure; j <= buf.json.bottomRight.measure; ++j) {\r\n            const measure = SmoMeasure.deserialize(buf.json.measures[mix]);\r\n            mix += 1;\r\n            const selector = SmoSelector.default;\r\n            selector.staff = i;\r\n            selector.measure = j;\r\n            score.replaceMeasure(selector, measure);\r\n          }\r\n        }\r\n      } else if (buf.type === UndoBuffer.bufferTypes.STAFF_MODIFIER)  {\r\n        const modifier: StaffModifierBase = StaffModifierBase.deserialize(buf.json);\r\n        const staff: SmoSystemStaff = score.staves[modifier.startSelector.staff];\r\n        const existing: StaffModifierBase | undefined = staff.getModifier(modifier);\r\n        if (existing) {\r\n          staff.removeStaffModifier(existing);\r\n        }\r\n        // If we undo an add, we just remove it.\r\n        if (buf.subtype !== UndoBuffer.bufferSubtypes.ADD) {\r\n          staff.addStaffModifier(modifier);\r\n        }\r\n      } else if (buf.type === UndoBuffer.bufferTypes.SCORE_ATTRIBUTES) {\r\n        smoSerialize.serializedMerge(SmoScore.preferences, buf.json, score);\r\n      } else if (buf.type === UndoBuffer.bufferTypes.COLUMN) {\r\n        for (i = 0; i < score.staves.length; ++i) {\r\n          const measure = SmoMeasure.deserialize(buf.json.measures[i]);\r\n          const selector = SmoSelector.default;\r\n          selector.staff = i;\r\n          selector.measure = buf.json.measureIndex;\r\n          score.replaceMeasure(selector, measure);\r\n        }\r\n      } else if (buf.type === UndoBuffer.bufferTypes.MEASURE) {\r\n        const measure = SmoMeasure.deserialize(buf.json);\r\n        score.replaceMeasure(buf.selector, measure);\r\n      } else if (buf.type === UndoBuffer.bufferTypes.SCORE) {\r\n        // Score expects string, as deserialized score is how saving is done.\r\n        score = SmoScore.deserialize(JSON.stringify(buf.json));\r\n      } else if (buf.type === UndoBuffer.bufferTypes.SCORE_MODIFIER) {\r\n        // Currently only one type like this: SmoTextGroup\r\n        if (buf.json.ctor === 'SmoTextGroup') {\r\n          const obj = SmoTextGroup.deserialize(buf.json);\r\n          obj.attrs.id = buf.json.attrs.id;\r\n          // undo of add is remove, undo of remove is add\r\n          if (buf.subtype === UndoBuffer.bufferSubtypes.UPDATE || buf.subtype === UndoBuffer.bufferSubtypes.ADD) {\r\n            score.removeTextGroup(obj);\r\n          } if (buf.subtype === UndoBuffer.bufferSubtypes.UPDATE || buf.subtype === UndoBuffer.bufferSubtypes.REMOVE) {\r\n            score.addTextGroup(obj);\r\n          }\r\n        }\r\n      } else {\r\n        const staff = SmoSystemStaff.deserialize(buf.json);\r\n        score.replaceStaff(buf.selector.staff, staff);\r\n      }\r\n      if (grouping && this.peek() && (this.peek() as UndoEntry).grouped) {\r\n        buf = this._pop();\r\n      } else {\r\n        buf = null;\r\n      }\r\n    }\r\n    return score;\r\n  }\r\n}\r\n\r\n// ## SmoUndoable\r\n// Convenience functions to save the score state before operations so we can undo the operation.\r\n// Each undo-able knows which set of parameters the undo operation requires (measure, staff, score).\r\nexport class SmoUndoable {\r\n  // ### undoScoreObject\r\n  // Called when a score object is being modified.  There is no need to update the score as it contains a\r\n  // reference to the object\r\n  static changeTextGroup(score: SmoScore, undoBuffer: UndoBuffer, object: any, subtype: number) {\r\n    undoBuffer.addBuffer('modify text',\r\n      UndoBuffer.bufferTypes.SCORE_MODIFIER, SmoSelector.default, object, subtype);\r\n    if (subtype === UndoBuffer.bufferSubtypes.REMOVE) {\r\n      SmoOperation.removeTextGroup(score, object);\r\n    } else if (subtype === UndoBuffer.bufferSubtypes.ADD) {\r\n      SmoOperation.addTextGroup(score, object);\r\n    }\r\n    // Update operation, there is nothing to do since the text is already\r\n    // part of the score\r\n  }\r\n}\r\n","export const Commissioner_MediumFont = {\r\n  smufl: false,\r\n  name: \"CommissionerMedium\",\r\n  spacing: 50,\r\n  fontFamily: \"Commisioner\",\r\n  description: \"Commisioner, a sans-serif font similar to Arial\",\r\n  serifs: true,\r\n  monospaced: false,\r\n  superscriptOffset: 0.66,\r\n  subscriptOffset: 0.66,\r\n  maxSizeGlyph: 'H',\r\n\r\n  \"glyphs\": {\r\n    \"0\": {\r\n      \"x_min\": 102,\r\n      \"x_max\": 1212,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1423,\r\n      \"leftSideBearing\": 102,\r\n      \"advanceWidth\": 1314\r\n    },\r\n    \"1\": {\r\n      \"x_min\": 56,\r\n      \"x_max\": 676,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1380,\r\n      \"ha\": 1380,\r\n      \"leftSideBearing\": 56,\r\n      \"advanceWidth\": 874\r\n    },\r\n    \"2\": {\r\n      \"x_min\": 86,\r\n      \"x_max\": 1020,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 86,\r\n      \"advanceWidth\": 1120\r\n    },\r\n    \"3\": {\r\n      \"x_min\": 84,\r\n      \"x_max\": 1056,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1401,\r\n      \"ha\": 1424,\r\n      \"leftSideBearing\": 84,\r\n      \"advanceWidth\": 1150\r\n    },\r\n    \"4\": {\r\n      \"x_min\": 56,\r\n      \"x_max\": 1157,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1373,\r\n      \"ha\": 1373,\r\n      \"leftSideBearing\": 56,\r\n      \"advanceWidth\": 1209\r\n    },\r\n    \"5\": {\r\n      \"x_min\": 84,\r\n      \"x_max\": 1061,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1373,\r\n      \"ha\": 1396,\r\n      \"leftSideBearing\": 84,\r\n      \"advanceWidth\": 1155\r\n    },\r\n    \"6\": {\r\n      \"x_min\": 102,\r\n      \"x_max\": 1127,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1423,\r\n      \"leftSideBearing\": 102,\r\n      \"advanceWidth\": 1221\r\n    },\r\n    \"7\": {\r\n      \"x_min\": 50,\r\n      \"x_max\": 998,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1373,\r\n      \"ha\": 1373,\r\n      \"leftSideBearing\": 50,\r\n      \"advanceWidth\": 1072\r\n    },\r\n    \"8\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 1128,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1401,\r\n      \"ha\": 1424,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 1222\r\n    },\r\n    \"9\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 1119,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1423,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 1221\r\n    },\r\n    \" \": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 0,\r\n      \"y_min\": 0,\r\n      \"y_max\": 0,\r\n      \"ha\": 0,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 382\r\n    },\r\n    \"!\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 398,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1496,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 493\r\n    },\r\n    \"\\\"\": {\r\n      \"x_min\": 78,\r\n      \"x_max\": 674,\r\n      \"y_min\": 846,\r\n      \"y_max\": 1489,\r\n      \"ha\": 643,\r\n      \"leftSideBearing\": 78,\r\n      \"advanceWidth\": 790\r\n    },\r\n    \"#\": {\r\n      \"x_min\": 32,\r\n      \"x_max\": 1344,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1322,\r\n      \"ha\": 1322,\r\n      \"leftSideBearing\": 32,\r\n      \"advanceWidth\": 1376\r\n    },\r\n    \"$\": {\r\n      \"x_min\": 99,\r\n      \"x_max\": 1060,\r\n      \"y_min\": -274,\r\n      \"y_max\": 1606,\r\n      \"ha\": 1880,\r\n      \"leftSideBearing\": 99,\r\n      \"advanceWidth\": 1133\r\n    },\r\n    \"%\": {\r\n      \"x_min\": 64,\r\n      \"x_max\": 1732,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1453,\r\n      \"ha\": 1477,\r\n      \"leftSideBearing\": 64,\r\n      \"advanceWidth\": 1804\r\n    },\r\n    \"&\": {\r\n      \"x_min\": 89,\r\n      \"x_max\": 1465,\r\n      \"y_min\": -21,\r\n      \"y_max\": 1453,\r\n      \"ha\": 1474,\r\n      \"leftSideBearing\": 89,\r\n      \"advanceWidth\": 1490\r\n    },\r\n    \"'\": {\r\n      \"x_min\": 78,\r\n      \"x_max\": 305,\r\n      \"y_min\": 846,\r\n      \"y_max\": 1489,\r\n      \"ha\": 643,\r\n      \"leftSideBearing\": 78,\r\n      \"advanceWidth\": 421\r\n    },\r\n    \"(\": {\r\n      \"x_min\": 108,\r\n      \"x_max\": 718,\r\n      \"y_min\": -250,\r\n      \"y_max\": 1545,\r\n      \"ha\": 1795,\r\n      \"leftSideBearing\": 108,\r\n      \"advanceWidth\": 790\r\n    },\r\n    \")\": {\r\n      \"x_min\": 72,\r\n      \"x_max\": 682,\r\n      \"y_min\": -250,\r\n      \"y_max\": 1545,\r\n      \"ha\": 1795,\r\n      \"leftSideBearing\": 72,\r\n      \"advanceWidth\": 790\r\n    },\r\n    \"*\": {\r\n      \"x_min\": 52,\r\n      \"x_max\": 908,\r\n      \"y_min\": 578,\r\n      \"y_max\": 1492,\r\n      \"ha\": 914,\r\n      \"leftSideBearing\": 52,\r\n      \"advanceWidth\": 960\r\n    },\r\n    \"+\": {\r\n      \"x_min\": 116,\r\n      \"x_max\": 1068,\r\n      \"y_min\": 113,\r\n      \"y_max\": 1089,\r\n      \"ha\": 976,\r\n      \"leftSideBearing\": 116,\r\n      \"advanceWidth\": 1184\r\n    },\r\n    \",\": {\r\n      \"x_min\": 49,\r\n      \"x_max\": 379,\r\n      \"y_min\": -314,\r\n      \"y_max\": 279,\r\n      \"ha\": 593,\r\n      \"leftSideBearing\": 49,\r\n      \"advanceWidth\": 474\r\n    },\r\n    \"-\": {\r\n      \"x_min\": 116,\r\n      \"x_max\": 732,\r\n      \"y_min\": 503,\r\n      \"y_max\": 691,\r\n      \"ha\": 188,\r\n      \"leftSideBearing\": 116,\r\n      \"advanceWidth\": 848\r\n    },\r\n    \".\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 398,\r\n      \"y_min\": -24,\r\n      \"y_max\": 272,\r\n      \"ha\": 296,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 493\r\n    },\r\n    \"/\": {\r\n      \"x_min\": 49,\r\n      \"x_max\": 848,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 49,\r\n      \"advanceWidth\": 897\r\n    },\r\n    \":\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 398,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1019,\r\n      \"ha\": 1043,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 493\r\n    },\r\n    \";\": {\r\n      \"x_min\": 67,\r\n      \"x_max\": 398,\r\n      \"y_min\": -314,\r\n      \"y_max\": 1019,\r\n      \"ha\": 1333,\r\n      \"leftSideBearing\": 67,\r\n      \"advanceWidth\": 493\r\n    },\r\n    \"<\": {\r\n      \"x_min\": 116,\r\n      \"x_max\": 1028,\r\n      \"y_min\": 132,\r\n      \"y_max\": 1068,\r\n      \"ha\": 936,\r\n      \"leftSideBearing\": 116,\r\n      \"advanceWidth\": 1144\r\n    },\r\n    \"=\": {\r\n      \"x_min\": 124,\r\n      \"x_max\": 1020,\r\n      \"y_min\": 277,\r\n      \"y_max\": 925,\r\n      \"ha\": 648,\r\n      \"leftSideBearing\": 124,\r\n      \"advanceWidth\": 1144\r\n    },\r\n    \">\": {\r\n      \"x_min\": 116,\r\n      \"x_max\": 1028,\r\n      \"y_min\": 132,\r\n      \"y_max\": 1068,\r\n      \"ha\": 936,\r\n      \"leftSideBearing\": 116,\r\n      \"advanceWidth\": 1144\r\n    },\r\n    \"?\": {\r\n      \"x_min\": 76,\r\n      \"x_max\": 782,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1498,\r\n      \"ha\": 1522,\r\n      \"leftSideBearing\": 76,\r\n      \"advanceWidth\": 872\r\n    },\r\n    \"@\": {\r\n      \"x_min\": 91.72000000000001,\r\n      \"x_max\": 1680.1678341637535,\r\n      \"y_min\": -272,\r\n      \"y_max\": 1366,\r\n      \"ha\": 1638,\r\n      \"leftSideBearing\": 91,\r\n      \"advanceWidth\": 1772\r\n    },\r\n    \"A\": {\r\n      \"x_min\": 53,\r\n      \"x_max\": 1350,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 53,\r\n      \"advanceWidth\": 1401\r\n    },\r\n    \"B\": {\r\n      \"x_min\": 168,\r\n      \"x_max\": 1227,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 168,\r\n      \"advanceWidth\": 1303\r\n    },\r\n    \"C\": {\r\n      \"x_min\": 91,\r\n      \"x_max\": 1272,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1453,\r\n      \"ha\": 1477,\r\n      \"leftSideBearing\": 91,\r\n      \"advanceWidth\": 1369\r\n    },\r\n    \"D\": {\r\n      \"x_min\": 169,\r\n      \"x_max\": 1380,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 169,\r\n      \"advanceWidth\": 1471\r\n    },\r\n    \"E\": {\r\n      \"x_min\": 168,\r\n      \"x_max\": 1081,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 168,\r\n      \"advanceWidth\": 1189\r\n    },\r\n    \"F\": {\r\n      \"x_min\": 169,\r\n      \"x_max\": 1061,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 169,\r\n      \"advanceWidth\": 1150\r\n    },\r\n    \"G\": {\r\n      \"x_min\": 91,\r\n      \"x_max\": 1333,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1453,\r\n      \"ha\": 1476,\r\n      \"leftSideBearing\": 91,\r\n      \"advanceWidth\": 1463\r\n    },\r\n    \"H\": {\r\n      \"x_min\": 169,\r\n      \"x_max\": 1331,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 169,\r\n      \"advanceWidth\": 1500\r\n    },\r\n    \"I\": {\r\n      \"x_min\": 173,\r\n      \"x_max\": 412,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 173,\r\n      \"advanceWidth\": 585\r\n    },\r\n    \"J\": {\r\n      \"x_min\": 21,\r\n      \"x_max\": 430,\r\n      \"y_min\": -314,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1740,\r\n      \"leftSideBearing\": 21,\r\n      \"advanceWidth\": 603\r\n    },\r\n    \"K\": {\r\n      \"x_min\": 169,\r\n      \"x_max\": 1310,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 169,\r\n      \"advanceWidth\": 1362\r\n    },\r\n    \"L\": {\r\n      \"x_min\": 169,\r\n      \"x_max\": 1086,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 169,\r\n      \"advanceWidth\": 1150\r\n    },\r\n    \"M\": {\r\n      \"x_min\": 122,\r\n      \"x_max\": 1798,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 122,\r\n      \"advanceWidth\": 1920\r\n    },\r\n    \"N\": {\r\n      \"x_min\": 169,\r\n      \"x_max\": 1336,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 169,\r\n      \"advanceWidth\": 1505\r\n    },\r\n    \"O\": {\r\n      \"x_min\": 91,\r\n      \"x_max\": 1540,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1453,\r\n      \"ha\": 1477,\r\n      \"leftSideBearing\": 91,\r\n      \"advanceWidth\": 1632\r\n    },\r\n    \"P\": {\r\n      \"x_min\": 168,\r\n      \"x_max\": 1194,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 168,\r\n      \"advanceWidth\": 1271\r\n    },\r\n    \"Q\": {\r\n      \"x_min\": 91,\r\n      \"x_max\": 1540,\r\n      \"y_min\": -341,\r\n      \"y_max\": 1453,\r\n      \"ha\": 1794,\r\n      \"leftSideBearing\": 91,\r\n      \"advanceWidth\": 1632\r\n    },\r\n    \"R\": {\r\n      \"x_min\": 168,\r\n      \"x_max\": 1304,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 168,\r\n      \"advanceWidth\": 1356\r\n    },\r\n    \"S\": {\r\n      \"x_min\": 99,\r\n      \"x_max\": 1110,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1453,\r\n      \"ha\": 1476,\r\n      \"leftSideBearing\": 99,\r\n      \"advanceWidth\": 1183\r\n    },\r\n    \"T\": {\r\n      \"x_min\": 58,\r\n      \"x_max\": 1227,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 58,\r\n      \"advanceWidth\": 1285\r\n    },\r\n    \"U\": {\r\n      \"x_min\": 152,\r\n      \"x_max\": 1306,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1450,\r\n      \"leftSideBearing\": 152,\r\n      \"advanceWidth\": 1459\r\n    },\r\n    \"V\": {\r\n      \"x_min\": 51,\r\n      \"x_max\": 1338,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 51,\r\n      \"advanceWidth\": 1390\r\n    },\r\n    \"W\": {\r\n      \"x_min\": 50,\r\n      \"x_max\": 2010,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 50,\r\n      \"advanceWidth\": 2060\r\n    },\r\n    \"X\": {\r\n      \"x_min\": 64,\r\n      \"x_max\": 1316,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 64,\r\n      \"advanceWidth\": 1380\r\n    },\r\n    \"Y\": {\r\n      \"x_min\": 50,\r\n      \"x_max\": 1278,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 50,\r\n      \"advanceWidth\": 1325\r\n    },\r\n    \"Z\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 1258,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 1354\r\n    },\r\n    \"[\": {\r\n      \"x_min\": 177,\r\n      \"x_max\": 733,\r\n      \"y_min\": -238,\r\n      \"y_max\": 1538,\r\n      \"ha\": 1776,\r\n      \"leftSideBearing\": 177,\r\n      \"advanceWidth\": 770\r\n    },\r\n    \"\\\\\": {\r\n      \"x_min\": 49,\r\n      \"x_max\": 848,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1426,\r\n      \"ha\": 1426,\r\n      \"leftSideBearing\": 49,\r\n      \"advanceWidth\": 897\r\n    },\r\n    \"]\": {\r\n      \"x_min\": 37,\r\n      \"x_max\": 593,\r\n      \"y_min\": -238,\r\n      \"y_max\": 1538,\r\n      \"ha\": 1776,\r\n      \"leftSideBearing\": 37,\r\n      \"advanceWidth\": 770\r\n    },\r\n    \"^\": {\r\n      \"x_min\": 112,\r\n      \"x_max\": 1122,\r\n      \"y_min\": 744,\r\n      \"y_max\": 1373,\r\n      \"ha\": 629,\r\n      \"leftSideBearing\": 112,\r\n      \"advanceWidth\": 1234\r\n    },\r\n    \"_\": {\r\n      \"x_min\": -20,\r\n      \"x_max\": 844,\r\n      \"y_min\": -272,\r\n      \"y_max\": -96,\r\n      \"ha\": 176,\r\n      \"leftSideBearing\": -20,\r\n      \"advanceWidth\": 824\r\n    },\r\n    \"`\": {\r\n      \"x_min\": 272,\r\n      \"x_max\": 765,\r\n      \"y_min\": 1146,\r\n      \"y_max\": 1556,\r\n      \"ha\": 410,\r\n      \"leftSideBearing\": 272,\r\n      \"advanceWidth\": 1200\r\n    },\r\n    \"a\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 922,\r\n      \"y_min\": -21,\r\n      \"y_max\": 1018,\r\n      \"ha\": 1039,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 1053\r\n    },\r\n    \"b\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 1093,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1487,\r\n      \"ha\": 1511,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 1184\r\n    },\r\n    \"c\": {\r\n      \"x_min\": 89,\r\n      \"x_max\": 900,\r\n      \"y_min\": -20,\r\n      \"y_max\": 1018,\r\n      \"ha\": 1038,\r\n      \"leftSideBearing\": 89,\r\n      \"advanceWidth\": 982\r\n    },\r\n    \"d\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 1030,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1487,\r\n      \"ha\": 1511,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 1161\r\n    },\r\n    \"e\": {\r\n      \"x_min\": 89,\r\n      \"x_max\": 972,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1018,\r\n      \"ha\": 1041,\r\n      \"leftSideBearing\": 89,\r\n      \"advanceWidth\": 1054\r\n    },\r\n    \"f\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 794,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1492,\r\n      \"ha\": 1492,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 801\r\n    },\r\n    \"g\": {\r\n      \"x_min\": 85,\r\n      \"x_max\": 1050,\r\n      \"y_min\": -407,\r\n      \"y_max\": 1018,\r\n      \"ha\": 1425,\r\n      \"leftSideBearing\": 85,\r\n      \"advanceWidth\": 1089\r\n    },\r\n    \"h\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 1018,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1487,\r\n      \"ha\": 1487,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 1150\r\n    },\r\n    \"i\": {\r\n      \"x_min\": 119,\r\n      \"x_max\": 408,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1472,\r\n      \"leftSideBearing\": 119,\r\n      \"advanceWidth\": 530\r\n    },\r\n    \"j\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 409,\r\n      \"y_min\": -391,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1863,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 526\r\n    },\r\n    \"k\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 1075,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1487,\r\n      \"ha\": 1487,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 1108\r\n    },\r\n    \"l\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 368,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1487,\r\n      \"ha\": 1487,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 522\r\n    },\r\n    \"m\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 1613,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1019,\r\n      \"ha\": 1019,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 1745\r\n    },\r\n    \"n\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 1018,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1019,\r\n      \"ha\": 1019,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 1150\r\n    },\r\n    \"o\": {\r\n      \"x_min\": 89,\r\n      \"x_max\": 1106,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1019,\r\n      \"ha\": 1043,\r\n      \"leftSideBearing\": 89,\r\n      \"advanceWidth\": 1195\r\n    },\r\n    \"p\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 1093,\r\n      \"y_min\": -391,\r\n      \"y_max\": 1019,\r\n      \"ha\": 1410,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 1184\r\n    },\r\n    \"q\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 1030,\r\n      \"y_min\": -391,\r\n      \"y_max\": 1019,\r\n      \"ha\": 1410,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 1172\r\n    },\r\n    \"r\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 766,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1019,\r\n      \"ha\": 1019,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 808\r\n    },\r\n    \"s\": {\r\n      \"x_min\": 104,\r\n      \"x_max\": 839,\r\n      \"y_min\": -23,\r\n      \"y_max\": 1018,\r\n      \"ha\": 1041,\r\n      \"leftSideBearing\": 104,\r\n      \"advanceWidth\": 918\r\n    },\r\n    \"t\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 774,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1359,\r\n      \"ha\": 1383,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 829\r\n    },\r\n    \"u\": {\r\n      \"x_min\": 132,\r\n      \"x_max\": 990,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1002,\r\n      \"ha\": 1026,\r\n      \"leftSideBearing\": 132,\r\n      \"advanceWidth\": 1126\r\n    },\r\n    \"v\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 1006,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1002,\r\n      \"ha\": 1002,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 1048\r\n    },\r\n    \"w\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 1581,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1002,\r\n      \"ha\": 1002,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 1623\r\n    },\r\n    \"x\": {\r\n      \"x_min\": 51,\r\n      \"x_max\": 1043,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1002,\r\n      \"ha\": 1002,\r\n      \"leftSideBearing\": 51,\r\n      \"advanceWidth\": 1090\r\n    },\r\n    \"y\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 1016,\r\n      \"y_min\": -391,\r\n      \"y_max\": 1002,\r\n      \"ha\": 1393,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 1058\r\n    },\r\n    \"z\": {\r\n      \"x_min\": 72,\r\n      \"x_max\": 940,\r\n      \"y_min\": 0,\r\n      \"y_max\": 994,\r\n      \"ha\": 994,\r\n      \"leftSideBearing\": 72,\r\n      \"advanceWidth\": 1007\r\n    },\r\n    \"{\": {\r\n      \"x_min\": 28,\r\n      \"x_max\": 802,\r\n      \"y_min\": -238,\r\n      \"y_max\": 1538,\r\n      \"ha\": 1776,\r\n      \"leftSideBearing\": 28,\r\n      \"advanceWidth\": 838\r\n    },\r\n    \"|\": {\r\n      \"x_min\": 177,\r\n      \"x_max\": 365,\r\n      \"y_min\": -316,\r\n      \"y_max\": 1564,\r\n      \"ha\": 1880,\r\n      \"leftSideBearing\": 177,\r\n      \"advanceWidth\": 542\r\n    },\r\n    \"}\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 810,\r\n      \"y_min\": -238,\r\n      \"y_max\": 1538,\r\n      \"ha\": 1776,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 838\r\n    },\r\n    \"~\": {\r\n      \"x_min\": 116,\r\n      \"x_max\": 1028,\r\n      \"y_min\": 431,\r\n      \"y_max\": 774,\r\n      \"ha\": 343,\r\n      \"leftSideBearing\": 116,\r\n      \"advanceWidth\": 1144\r\n    }\r\n  },\r\n  \"resolution\": 2000,\r\n  \"generatedOn\": \"2020-10-16T17:54:48.712Z\"\r\n};\r\n","export const Concert_OneFont = {\r\n  smufl: false,\r\n  name: \"ConcertOne\",\r\n  spacing: 50,\r\n  fontFamily: \"ConcertOne\",\r\n  description: \"Concert One, a sans-serif rounded title font\",\r\n  serifs: true,\r\n  monospaced: false,\r\n  superscriptOffset: 0.66,\r\n  subscriptOffset: 0.66,\r\n  maxSizeGlyph: 'H',\r\n  \"glyphs\": {\r\n    \"0\": {\r\n      \"x_min\": 102,\r\n      \"x_max\": 1016,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1416,\r\n      \"leftSideBearing\": 102,\r\n      \"advanceWidth\": 1118\r\n    },\r\n    \"1\": {\r\n      \"x_min\": 58,\r\n      \"x_max\": 664,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 58,\r\n      \"advanceWidth\": 786\r\n    },\r\n    \"2\": {\r\n      \"x_min\": 100,\r\n      \"x_max\": 1022,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 100,\r\n      \"advanceWidth\": 1060\r\n    },\r\n    \"3\": {\r\n      \"x_min\": 54,\r\n      \"x_max\": 946,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 54,\r\n      \"advanceWidth\": 1026\r\n    },\r\n    \"4\": {\r\n      \"x_min\": 74,\r\n      \"x_max\": 906,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 74,\r\n      \"advanceWidth\": 1002\r\n    },\r\n    \"5\": {\r\n      \"x_min\": 76,\r\n      \"x_max\": 968,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 76,\r\n      \"advanceWidth\": 1026\r\n    },\r\n    \"6\": {\r\n      \"x_min\": 122,\r\n      \"x_max\": 948,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 122,\r\n      \"advanceWidth\": 992\r\n    },\r\n    \"7\": {\r\n      \"x_min\": 48,\r\n      \"x_max\": 966,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 48,\r\n      \"advanceWidth\": 1012\r\n    },\r\n    \"8\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 930,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1416,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 1020\r\n    },\r\n    \"9\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 870,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 992\r\n    },\r\n    \" \": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 0,\r\n      \"y_min\": 0,\r\n      \"y_max\": 0,\r\n      \"ha\": 0,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 798\r\n    },\r\n    \"!\": {\r\n      \"x_min\": 226,\r\n      \"x_max\": 556,\r\n      \"y_min\": -2,\r\n      \"y_max\": 1398,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 226,\r\n      \"advanceWidth\": 808\r\n    },\r\n    \"\\\"\": {\r\n      \"x_min\": 110,\r\n      \"x_max\": 766,\r\n      \"y_min\": 904,\r\n      \"y_max\": 1404,\r\n      \"ha\": 500,\r\n      \"leftSideBearing\": 110,\r\n      \"advanceWidth\": 898\r\n    },\r\n    \"#\": {\r\n      \"x_min\": 118,\r\n      \"x_max\": 1170,\r\n      \"y_min\": 160,\r\n      \"y_max\": 1222,\r\n      \"ha\": 1062,\r\n      \"leftSideBearing\": 118,\r\n      \"advanceWidth\": 1268\r\n    },\r\n    \"$\": {\r\n      \"x_min\": 142,\r\n      \"x_max\": 904,\r\n      \"y_min\": 6,\r\n      \"y_max\": 1384,\r\n      \"ha\": 1378,\r\n      \"leftSideBearing\": 142,\r\n      \"advanceWidth\": 1052\r\n    },\r\n    \"%\": {\r\n      \"x_min\": 98,\r\n      \"x_max\": 1384,\r\n      \"y_min\": -6,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1406,\r\n      \"leftSideBearing\": 98,\r\n      \"advanceWidth\": 1484\r\n    },\r\n    \"&\": {\r\n      \"x_min\": 104,\r\n      \"x_max\": 1178,\r\n      \"y_min\": -2,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1410,\r\n      \"leftSideBearing\": 104,\r\n      \"advanceWidth\": 1296\r\n    },\r\n    \"'\": {\r\n      \"x_min\": 130,\r\n      \"x_max\": 374,\r\n      \"y_min\": 904,\r\n      \"y_max\": 1404,\r\n      \"ha\": 500,\r\n      \"leftSideBearing\": 130,\r\n      \"advanceWidth\": 522\r\n    },\r\n    \"(\": {\r\n      \"x_min\": 240,\r\n      \"x_max\": 814,\r\n      \"y_min\": -158,\r\n      \"y_max\": 1562,\r\n      \"ha\": 1720,\r\n      \"leftSideBearing\": 240,\r\n      \"advanceWidth\": 888\r\n    },\r\n    \")\": {\r\n      \"x_min\": 74,\r\n      \"x_max\": 648,\r\n      \"y_min\": -158,\r\n      \"y_max\": 1562,\r\n      \"ha\": 1720,\r\n      \"leftSideBearing\": 74,\r\n      \"advanceWidth\": 888\r\n    },\r\n    \"*\": {\r\n      \"x_min\": 110,\r\n      \"x_max\": 1084,\r\n      \"y_min\": 164,\r\n      \"y_max\": 1260,\r\n      \"ha\": 1096,\r\n      \"leftSideBearing\": 110,\r\n      \"advanceWidth\": 1194\r\n    },\r\n    \"+\": {\r\n      \"x_min\": 190,\r\n      \"x_max\": 920,\r\n      \"y_min\": 356,\r\n      \"y_max\": 1086,\r\n      \"ha\": 730,\r\n      \"leftSideBearing\": 190,\r\n      \"advanceWidth\": 1102\r\n    },\r\n    \",\": {\r\n      \"x_min\": 134,\r\n      \"x_max\": 464,\r\n      \"y_min\": -164,\r\n      \"y_max\": 330,\r\n      \"ha\": 494,\r\n      \"leftSideBearing\": 134,\r\n      \"advanceWidth\": 598\r\n    },\r\n    \"-\": {\r\n      \"x_min\": 108,\r\n      \"x_max\": 838,\r\n      \"y_min\": 480,\r\n      \"y_max\": 724,\r\n      \"ha\": 244,\r\n      \"leftSideBearing\": 108,\r\n      \"advanceWidth\": 966\r\n    },\r\n    \".\": {\r\n      \"x_min\": 134,\r\n      \"x_max\": 464,\r\n      \"y_min\": 0,\r\n      \"y_max\": 330,\r\n      \"ha\": 330,\r\n      \"leftSideBearing\": 134,\r\n      \"advanceWidth\": 598\r\n    },\r\n    \"/\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 826,\r\n      \"y_min\": -26,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1434,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 906\r\n    },\r\n    \":\": {\r\n      \"x_min\": 122,\r\n      \"x_max\": 454,\r\n      \"y_min\": 0,\r\n      \"y_max\": 854,\r\n      \"ha\": 854,\r\n      \"leftSideBearing\": 122,\r\n      \"advanceWidth\": 572\r\n    },\r\n    \";\": {\r\n      \"x_min\": 120,\r\n      \"x_max\": 452,\r\n      \"y_min\": -166,\r\n      \"y_max\": 852,\r\n      \"ha\": 1018,\r\n      \"leftSideBearing\": 120,\r\n      \"advanceWidth\": 596\r\n    },\r\n    \"<\": {\r\n      \"x_min\": 162,\r\n      \"x_max\": 768,\r\n      \"y_min\": 126,\r\n      \"y_max\": 1074,\r\n      \"ha\": 948,\r\n      \"leftSideBearing\": 162,\r\n      \"advanceWidth\": 930\r\n    },\r\n    \"=\": {\r\n      \"x_min\": 180,\r\n      \"x_max\": 914,\r\n      \"y_min\": 290,\r\n      \"y_max\": 926,\r\n      \"ha\": 636,\r\n      \"leftSideBearing\": 180,\r\n      \"advanceWidth\": 1102\r\n    },\r\n    \">\": {\r\n      \"x_min\": 162,\r\n      \"x_max\": 768,\r\n      \"y_min\": 126,\r\n      \"y_max\": 1074,\r\n      \"ha\": 948,\r\n      \"leftSideBearing\": 162,\r\n      \"advanceWidth\": 930\r\n    },\r\n    \"?\": {\r\n      \"x_min\": 104,\r\n      \"x_max\": 1012,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1420,\r\n      \"ha\": 1420,\r\n      \"leftSideBearing\": 104,\r\n      \"advanceWidth\": 1122\r\n    },\r\n    \"@\": {\r\n      \"x_min\": 132,\r\n      \"x_max\": 1306,\r\n      \"y_min\": -96,\r\n      \"y_max\": 1078,\r\n      \"ha\": 1174,\r\n      \"leftSideBearing\": 132,\r\n      \"advanceWidth\": 1494\r\n    },\r\n    \"A\": {\r\n      \"x_min\": 74,\r\n      \"x_max\": 1030,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 74,\r\n      \"advanceWidth\": 1104\r\n    },\r\n    \"B\": {\r\n      \"x_min\": 120,\r\n      \"x_max\": 1042,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 120,\r\n      \"advanceWidth\": 1104\r\n    },\r\n    \"C\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 1046,\r\n      \"y_min\": -6,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1414,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 1110\r\n    },\r\n    \"D\": {\r\n      \"x_min\": 134,\r\n      \"x_max\": 1008,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 134,\r\n      \"advanceWidth\": 1094\r\n    },\r\n    \"E\": {\r\n      \"x_min\": 140,\r\n      \"x_max\": 912,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 140,\r\n      \"advanceWidth\": 986\r\n    },\r\n    \"F\": {\r\n      \"x_min\": 140,\r\n      \"x_max\": 912,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 140,\r\n      \"advanceWidth\": 938\r\n    },\r\n    \"G\": {\r\n      \"x_min\": 106,\r\n      \"x_max\": 1072,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1416,\r\n      \"leftSideBearing\": 106,\r\n      \"advanceWidth\": 1156\r\n    },\r\n    \"H\": {\r\n      \"x_min\": 146,\r\n      \"x_max\": 1028,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 146,\r\n      \"advanceWidth\": 1166\r\n    },\r\n    \"I\": {\r\n      \"x_min\": 168,\r\n      \"x_max\": 500,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 168,\r\n      \"advanceWidth\": 666\r\n    },\r\n    \"J\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 980,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 1126\r\n    },\r\n    \"K\": {\r\n      \"x_min\": 140,\r\n      \"x_max\": 1064,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 140,\r\n      \"advanceWidth\": 1142\r\n    },\r\n    \"L\": {\r\n      \"x_min\": 178,\r\n      \"x_max\": 906,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 178,\r\n      \"advanceWidth\": 968\r\n    },\r\n    \"M\": {\r\n      \"x_min\": 156,\r\n      \"x_max\": 1430,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 156,\r\n      \"advanceWidth\": 1594\r\n    },\r\n    \"N\": {\r\n      \"x_min\": 148,\r\n      \"x_max\": 1222,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 148,\r\n      \"advanceWidth\": 1360\r\n    },\r\n    \"O\": {\r\n      \"x_min\": 104,\r\n      \"x_max\": 1026,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1416,\r\n      \"leftSideBearing\": 104,\r\n      \"advanceWidth\": 1128\r\n    },\r\n    \"P\": {\r\n      \"x_min\": 142,\r\n      \"x_max\": 1066,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 142,\r\n      \"advanceWidth\": 1082\r\n    },\r\n    \"Q\": {\r\n      \"x_min\": 122,\r\n      \"x_max\": 1114,\r\n      \"y_min\": -110,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1518,\r\n      \"leftSideBearing\": 122,\r\n      \"advanceWidth\": 1156\r\n    },\r\n    \"R\": {\r\n      \"x_min\": 142,\r\n      \"x_max\": 1062,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 142,\r\n      \"advanceWidth\": 1142\r\n    },\r\n    \"S\": {\r\n      \"x_min\": 88,\r\n      \"x_max\": 950,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1416,\r\n      \"leftSideBearing\": 88,\r\n      \"advanceWidth\": 1014\r\n    },\r\n    \"T\": {\r\n      \"x_min\": 10,\r\n      \"x_max\": 974,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 10,\r\n      \"advanceWidth\": 982\r\n    },\r\n    \"U\": {\r\n      \"x_min\": 142,\r\n      \"x_max\": 1070,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1408,\r\n      \"leftSideBearing\": 142,\r\n      \"advanceWidth\": 1208\r\n    },\r\n    \"V\": {\r\n      \"x_min\": 16,\r\n      \"x_max\": 992,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 16,\r\n      \"advanceWidth\": 1000\r\n    },\r\n    \"W\": {\r\n      \"x_min\": 24,\r\n      \"x_max\": 1658,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 24,\r\n      \"advanceWidth\": 1666\r\n    },\r\n    \"X\": {\r\n      \"x_min\": 56,\r\n      \"x_max\": 1094,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 56,\r\n      \"advanceWidth\": 1146\r\n    },\r\n    \"Y\": {\r\n      \"x_min\": -14,\r\n      \"x_max\": 1022,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": -14,\r\n      \"advanceWidth\": 1000\r\n    },\r\n    \"Z\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 982,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 1042\r\n    },\r\n    \"[\": {\r\n      \"x_min\": 240,\r\n      \"x_max\": 736,\r\n      \"y_min\": 2,\r\n      \"y_max\": 1404,\r\n      \"ha\": 1402,\r\n      \"leftSideBearing\": 240,\r\n      \"advanceWidth\": 836\r\n    },\r\n    \"\\\\\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 826,\r\n      \"y_min\": -26,\r\n      \"y_max\": 1408,\r\n      \"ha\": 1434,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 906\r\n    },\r\n    \"]\": {\r\n      \"x_min\": 140,\r\n      \"x_max\": 636,\r\n      \"y_min\": 2,\r\n      \"y_max\": 1404,\r\n      \"ha\": 1402,\r\n      \"leftSideBearing\": 140,\r\n      \"advanceWidth\": 836\r\n    },\r\n    \"^\": {\r\n      \"x_min\": 174,\r\n      \"x_max\": 782,\r\n      \"y_min\": 762,\r\n      \"y_max\": 1156,\r\n      \"ha\": 394,\r\n      \"leftSideBearing\": 174,\r\n      \"advanceWidth\": 976\r\n    },\r\n    \"_\": {\r\n      \"x_min\": 146,\r\n      \"x_max\": 1254,\r\n      \"y_min\": 2,\r\n      \"y_max\": 246,\r\n      \"ha\": 244,\r\n      \"leftSideBearing\": 146,\r\n      \"advanceWidth\": 1408\r\n    },\r\n    \"`\": {\r\n      \"x_min\": 132,\r\n      \"x_max\": 578,\r\n      \"y_min\": 1102,\r\n      \"y_max\": 1452,\r\n      \"ha\": 350,\r\n      \"leftSideBearing\": 132,\r\n      \"advanceWidth\": 698\r\n    },\r\n    \"a\": {\r\n      \"x_min\": 84,\r\n      \"x_max\": 912,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 84,\r\n      \"advanceWidth\": 1020\r\n    },\r\n    \"b\": {\r\n      \"x_min\": 120,\r\n      \"x_max\": 948,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 120,\r\n      \"advanceWidth\": 1042\r\n    },\r\n    \"c\": {\r\n      \"x_min\": 84,\r\n      \"x_max\": 930,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 84,\r\n      \"advanceWidth\": 1000\r\n    },\r\n    \"d\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 910,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 1020\r\n    },\r\n    \"e\": {\r\n      \"x_min\": 92,\r\n      \"x_max\": 936,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1002,\r\n      \"ha\": 1002,\r\n      \"leftSideBearing\": 92,\r\n      \"advanceWidth\": 1020\r\n    },\r\n    \"f\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 724,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 750\r\n    },\r\n    \"g\": {\r\n      \"x_min\": 92,\r\n      \"x_max\": 922,\r\n      \"y_min\": -400,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 92,\r\n      \"advanceWidth\": 1042\r\n    },\r\n    \"h\": {\r\n      \"x_min\": 122,\r\n      \"x_max\": 956,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 122,\r\n      \"advanceWidth\": 1042\r\n    },\r\n    \"i\": {\r\n      \"x_min\": 154,\r\n      \"x_max\": 460,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 154,\r\n      \"advanceWidth\": 626\r\n    },\r\n    \"j\": {\r\n      \"x_min\": -44,\r\n      \"x_max\": 480,\r\n      \"y_min\": -400,\r\n      \"y_max\": 1402,\r\n      \"ha\": 1802,\r\n      \"leftSideBearing\": -44,\r\n      \"advanceWidth\": 626\r\n    },\r\n    \"k\": {\r\n      \"x_min\": 150,\r\n      \"x_max\": 920,\r\n      \"y_min\": -2,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1402,\r\n      \"leftSideBearing\": 150,\r\n      \"advanceWidth\": 1014\r\n    },\r\n    \"l\": {\r\n      \"x_min\": 140,\r\n      \"x_max\": 444,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 140,\r\n      \"advanceWidth\": 586\r\n    },\r\n    \"m\": {\r\n      \"x_min\": 134,\r\n      \"x_max\": 1486,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 134,\r\n      \"advanceWidth\": 1604\r\n    },\r\n    \"n\": {\r\n      \"x_min\": 132,\r\n      \"x_max\": 966,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 132,\r\n      \"advanceWidth\": 1082\r\n    },\r\n    \"o\": {\r\n      \"x_min\": 78,\r\n      \"x_max\": 912,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1008,\r\n      \"ha\": 1016,\r\n      \"leftSideBearing\": 78,\r\n      \"advanceWidth\": 990\r\n    },\r\n    \"p\": {\r\n      \"x_min\": 132,\r\n      \"x_max\": 960,\r\n      \"y_min\": -400,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 132,\r\n      \"advanceWidth\": 1062\r\n    },\r\n    \"q\": {\r\n      \"x_min\": 104,\r\n      \"x_max\": 932,\r\n      \"y_min\": -400,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 104,\r\n      \"advanceWidth\": 1062\r\n    },\r\n    \"r\": {\r\n      \"x_min\": 132,\r\n      \"x_max\": 770,\r\n      \"y_min\": 0,\r\n      \"y_max\": 998,\r\n      \"ha\": 998,\r\n      \"leftSideBearing\": 132,\r\n      \"advanceWidth\": 792\r\n    },\r\n    \"s\": {\r\n      \"x_min\": 86,\r\n      \"x_max\": 836,\r\n      \"y_min\": -8,\r\n      \"y_max\": 1008,\r\n      \"ha\": 1016,\r\n      \"leftSideBearing\": 86,\r\n      \"advanceWidth\": 910\r\n    },\r\n    \"t\": {\r\n      \"x_min\": 60,\r\n      \"x_max\": 786,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1400,\r\n      \"ha\": 1400,\r\n      \"leftSideBearing\": 60,\r\n      \"advanceWidth\": 870\r\n    },\r\n    \"u\": {\r\n      \"x_min\": 118,\r\n      \"x_max\": 952,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 118,\r\n      \"advanceWidth\": 1076\r\n    },\r\n    \"v\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 844,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 876\r\n    },\r\n    \"w\": {\r\n      \"x_min\": 24,\r\n      \"x_max\": 1372,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 24,\r\n      \"advanceWidth\": 1396\r\n    },\r\n    \"x\": {\r\n      \"x_min\": 84,\r\n      \"x_max\": 860,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 84,\r\n      \"advanceWidth\": 938\r\n    },\r\n    \"y\": {\r\n      \"x_min\": 20,\r\n      \"x_max\": 892,\r\n      \"y_min\": -400,\r\n      \"y_max\": 1004,\r\n      \"ha\": 1404,\r\n      \"leftSideBearing\": 20,\r\n      \"advanceWidth\": 916\r\n    },\r\n    \"z\": {\r\n      \"x_min\": 72,\r\n      \"x_max\": 844,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1000,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 72,\r\n      \"advanceWidth\": 916\r\n    },\r\n    \"{\": {\r\n      \"x_min\": 188,\r\n      \"x_max\": 932,\r\n      \"y_min\": -160,\r\n      \"y_max\": 1566,\r\n      \"ha\": 1726,\r\n      \"leftSideBearing\": 188,\r\n      \"advanceWidth\": 1012\r\n    },\r\n    \"|\": {\r\n      \"x_min\": 180,\r\n      \"x_max\": 424,\r\n      \"y_min\": -160,\r\n      \"y_max\": 1566,\r\n      \"ha\": 1726,\r\n      \"leftSideBearing\": 180,\r\n      \"advanceWidth\": 604\r\n    },\r\n    \"}\": {\r\n      \"x_min\": 80,\r\n      \"x_max\": 824,\r\n      \"y_min\": -160,\r\n      \"y_max\": 1566,\r\n      \"ha\": 1726,\r\n      \"leftSideBearing\": 80,\r\n      \"advanceWidth\": 1012\r\n    },\r\n    \"~\": {\r\n      \"x_min\": 112,\r\n      \"x_max\": 802,\r\n      \"y_min\": 84,\r\n      \"y_max\": 398,\r\n      \"ha\": 314,\r\n      \"leftSideBearing\": 112,\r\n      \"advanceWidth\": 918\r\n    }\r\n  },\r\n  \"resolution\": 2048,\r\n  \"generatedOn\": \"2020-10-16T18:00:03.708Z\"\r\n};\r\n","export const MerriweatherFont = {\r\n  name: \"Merriweather-Regular\",\r\n  smufl: false,\r\n  spacing: 50,\r\n  fontFamily: \"Merriweather\",\r\n  description: \"Merriweather, a serif web font by Sorkin Type\",\r\n  serifs: true,\r\n  monospaced: false,\r\n  superscriptOffset: 0.66,\r\n  subscriptOffset: 0.66,\r\n  maxSizeGlyph: 'H',\r\n  \"glyphs\": {\r\n    \"0\": {\r\n      \"x_min\": 62,\r\n      \"x_max\": 582,\r\n      \"y_min\": -9,\r\n      \"y_max\": 631,\r\n      \"ha\": 640,\r\n      \"leftSideBearing\": 62,\r\n      \"advanceWidth\": 643\r\n    },\r\n    \"1\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 419,\r\n      \"y_min\": 0,\r\n      \"y_max\": 632,\r\n      \"ha\": 632,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 440\r\n    },\r\n    \"2\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 565,\r\n      \"y_min\": 0,\r\n      \"y_max\": 632,\r\n      \"ha\": 632,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 598\r\n    },\r\n    \"3\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 512,\r\n      \"y_min\": -161,\r\n      \"y_max\": 632,\r\n      \"ha\": 793,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 560\r\n    },\r\n    \"4\": {\r\n      \"x_min\": 37,\r\n      \"x_max\": 625,\r\n      \"y_min\": -161,\r\n      \"y_max\": 680,\r\n      \"ha\": 841,\r\n      \"leftSideBearing\": 37,\r\n      \"advanceWidth\": 644\r\n    },\r\n    \"5\": {\r\n      \"x_min\": 91,\r\n      \"x_max\": 527,\r\n      \"y_min\": -161,\r\n      \"y_max\": 643,\r\n      \"ha\": 804,\r\n      \"leftSideBearing\": 91,\r\n      \"advanceWidth\": 594\r\n    },\r\n    \"6\": {\r\n      \"x_min\": 76,\r\n      \"x_max\": 592,\r\n      \"y_min\": -11,\r\n      \"y_max\": 786,\r\n      \"ha\": 797,\r\n      \"leftSideBearing\": 76,\r\n      \"advanceWidth\": 664\r\n    },\r\n    \"7\": {\r\n      \"x_min\": 48,\r\n      \"x_max\": 546,\r\n      \"y_min\": -173,\r\n      \"y_max\": 624,\r\n      \"ha\": 797,\r\n      \"leftSideBearing\": 48,\r\n      \"advanceWidth\": 588\r\n    },\r\n    \"8\": {\r\n      \"x_min\": 65,\r\n      \"x_max\": 572,\r\n      \"y_min\": -10,\r\n      \"y_max\": 752,\r\n      \"ha\": 762,\r\n      \"leftSideBearing\": 65,\r\n      \"advanceWidth\": 633\r\n    },\r\n    \"9\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 588,\r\n      \"y_min\": -167,\r\n      \"y_max\": 632,\r\n      \"ha\": 799,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 660\r\n    },\r\n    \" \": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 0,\r\n      \"y_min\": 0,\r\n      \"y_max\": 0,\r\n      \"ha\": 0,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 237\r\n    },\r\n    \"!\": {\r\n      \"x_min\": 107,\r\n      \"x_max\": 248,\r\n      \"y_min\": -10,\r\n      \"y_max\": 883,\r\n      \"ha\": 893,\r\n      \"leftSideBearing\": 107,\r\n      \"advanceWidth\": 354\r\n    },\r\n    \"\\\"\": {\r\n      \"x_min\": 124,\r\n      \"x_max\": 489,\r\n      \"y_min\": 456,\r\n      \"y_max\": 827,\r\n      \"ha\": 371,\r\n      \"leftSideBearing\": 124,\r\n      \"advanceWidth\": 612\r\n    },\r\n    \"#\": {\r\n      \"x_min\": 81,\r\n      \"x_max\": 677,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 81,\r\n      \"advanceWidth\": 744\r\n    },\r\n    \"$\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 575,\r\n      \"y_min\": -126,\r\n      \"y_max\": 860,\r\n      \"ha\": 986,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 659\r\n    },\r\n    \"%\": {\r\n      \"x_min\": 53,\r\n      \"x_max\": 981,\r\n      \"y_min\": 0,\r\n      \"y_max\": 751,\r\n      \"ha\": 751,\r\n      \"leftSideBearing\": 53,\r\n      \"advanceWidth\": 1037\r\n    },\r\n    \"&\": {\r\n      \"x_min\": 60,\r\n      \"x_max\": 739,\r\n      \"y_min\": -9,\r\n      \"y_max\": 752,\r\n      \"ha\": 761,\r\n      \"leftSideBearing\": 60,\r\n      \"advanceWidth\": 756\r\n    },\r\n    \"'\": {\r\n      \"x_min\": 124,\r\n      \"x_max\": 230,\r\n      \"y_min\": 456,\r\n      \"y_max\": 827,\r\n      \"ha\": 371,\r\n      \"leftSideBearing\": 124,\r\n      \"advanceWidth\": 353\r\n    },\r\n    \"(\": {\r\n      \"x_min\": 67,\r\n      \"x_max\": 360,\r\n      \"y_min\": -184,\r\n      \"y_max\": 828,\r\n      \"ha\": 1012,\r\n      \"leftSideBearing\": 67,\r\n      \"advanceWidth\": 430\r\n    },\r\n    \")\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 363,\r\n      \"y_min\": -183,\r\n      \"y_max\": 829,\r\n      \"ha\": 1012,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 430\r\n    },\r\n    \"*\": {\r\n      \"x_min\": 76,\r\n      \"x_max\": 568,\r\n      \"y_min\": 310,\r\n      \"y_max\": 823,\r\n      \"ha\": 513,\r\n      \"leftSideBearing\": 76,\r\n      \"advanceWidth\": 643\r\n    },\r\n    \"+\": {\r\n      \"x_min\": 105,\r\n      \"x_max\": 556,\r\n      \"y_min\": 84,\r\n      \"y_max\": 547,\r\n      \"ha\": 463,\r\n      \"leftSideBearing\": 105,\r\n      \"advanceWidth\": 661\r\n    },\r\n    \",\": {\r\n      \"x_min\": 99,\r\n      \"x_max\": 250,\r\n      \"y_min\": -224,\r\n      \"y_max\": 150,\r\n      \"ha\": 374,\r\n      \"leftSideBearing\": 99,\r\n      \"advanceWidth\": 335\r\n    },\r\n    \"-\": {\r\n      \"x_min\": 112,\r\n      \"x_max\": 516,\r\n      \"y_min\": 284,\r\n      \"y_max\": 357,\r\n      \"ha\": 73,\r\n      \"leftSideBearing\": 112,\r\n      \"advanceWidth\": 628\r\n    },\r\n    \".\": {\r\n      \"x_min\": 63,\r\n      \"x_max\": 202,\r\n      \"y_min\": -10,\r\n      \"y_max\": 127,\r\n      \"ha\": 137,\r\n      \"leftSideBearing\": 63,\r\n      \"advanceWidth\": 265\r\n    },\r\n    \"/\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 394,\r\n      \"y_min\": -177,\r\n      \"y_max\": 781,\r\n      \"ha\": 958,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 431\r\n    },\r\n    \":\": {\r\n      \"x_min\": 102,\r\n      \"x_max\": 240,\r\n      \"y_min\": -10,\r\n      \"y_max\": 539,\r\n      \"ha\": 549,\r\n      \"leftSideBearing\": 102,\r\n      \"advanceWidth\": 344\r\n    },\r\n    \";\": {\r\n      \"x_min\": 99,\r\n      \"x_max\": 250,\r\n      \"y_min\": -224,\r\n      \"y_max\": 539,\r\n      \"ha\": 763,\r\n      \"leftSideBearing\": 99,\r\n      \"advanceWidth\": 344\r\n    },\r\n    \"<\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 555,\r\n      \"y_min\": 27,\r\n      \"y_max\": 575,\r\n      \"ha\": 548,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 669\r\n    },\r\n    \"=\": {\r\n      \"x_min\": 102,\r\n      \"x_max\": 552,\r\n      \"y_min\": 127,\r\n      \"y_max\": 474,\r\n      \"ha\": 347,\r\n      \"leftSideBearing\": 102,\r\n      \"advanceWidth\": 653\r\n    },\r\n    \">\": {\r\n      \"x_min\": 114,\r\n      \"x_max\": 587,\r\n      \"y_min\": 27,\r\n      \"y_max\": 575,\r\n      \"ha\": 548,\r\n      \"leftSideBearing\": 114,\r\n      \"advanceWidth\": 669\r\n    },\r\n    \"?\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 452,\r\n      \"y_min\": -10,\r\n      \"y_max\": 906,\r\n      \"ha\": 916,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 487\r\n    },\r\n    \"@\": {\r\n      \"x_min\": 93,\r\n      \"x_max\": 977,\r\n      \"y_min\": -253,\r\n      \"y_max\": 760,\r\n      \"ha\": 1013,\r\n      \"leftSideBearing\": 93,\r\n      \"advanceWidth\": 1078\r\n    },\r\n    \"A\": {\r\n      \"x_min\": -13,\r\n      \"x_max\": 705,\r\n      \"y_min\": 0,\r\n      \"y_max\": 749,\r\n      \"ha\": 749,\r\n      \"leftSideBearing\": -13,\r\n      \"advanceWidth\": 692\r\n    },\r\n    \"B\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 649,\r\n      \"y_min\": -6,\r\n      \"y_max\": 751,\r\n      \"ha\": 757,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 685\r\n    },\r\n    \"C\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 617,\r\n      \"y_min\": -11,\r\n      \"y_max\": 751,\r\n      \"ha\": 762,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 653\r\n    },\r\n    \"D\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 725,\r\n      \"y_min\": -8,\r\n      \"y_max\": 751,\r\n      \"ha\": 759,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 758\r\n    },\r\n    \"E\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 630,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 651\r\n    },\r\n    \"F\": {\r\n      \"x_min\": 43,\r\n      \"x_max\": 588,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 43,\r\n      \"advanceWidth\": 619\r\n    },\r\n    \"G\": {\r\n      \"x_min\": 43,\r\n      \"x_max\": 721,\r\n      \"y_min\": -11,\r\n      \"y_max\": 751,\r\n      \"ha\": 762,\r\n      \"leftSideBearing\": 43,\r\n      \"advanceWidth\": 740\r\n    },\r\n    \"H\": {\r\n      \"x_min\": 50,\r\n      \"x_max\": 777,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 50,\r\n      \"advanceWidth\": 828\r\n    },\r\n    \"I\": {\r\n      \"x_min\": 54,\r\n      \"x_max\": 348,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 54,\r\n      \"advanceWidth\": 403\r\n    },\r\n    \"J\": {\r\n      \"x_min\": -6,\r\n      \"x_max\": 343,\r\n      \"y_min\": -179,\r\n      \"y_max\": 743,\r\n      \"ha\": 922,\r\n      \"leftSideBearing\": -6,\r\n      \"advanceWidth\": 381\r\n    },\r\n    \"K\": {\r\n      \"x_min\": 48,\r\n      \"x_max\": 727,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 48,\r\n      \"advanceWidth\": 726\r\n    },\r\n    \"L\": {\r\n      \"x_min\": 48,\r\n      \"x_max\": 616,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 48,\r\n      \"advanceWidth\": 634\r\n    },\r\n    \"M\": {\r\n      \"x_min\": 6,\r\n      \"x_max\": 984,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 6,\r\n      \"advanceWidth\": 990\r\n    },\r\n    \"N\": {\r\n      \"x_min\": 50,\r\n      \"x_max\": 774,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 50,\r\n      \"advanceWidth\": 799\r\n    },\r\n    \"O\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 689,\r\n      \"y_min\": -11,\r\n      \"y_max\": 751,\r\n      \"ha\": 762,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 722\r\n    },\r\n    \"P\": {\r\n      \"x_min\": 48,\r\n      \"x_max\": 624,\r\n      \"y_min\": 0,\r\n      \"y_max\": 750,\r\n      \"ha\": 750,\r\n      \"leftSideBearing\": 48,\r\n      \"advanceWidth\": 649\r\n    },\r\n    \"Q\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 904,\r\n      \"y_min\": -198,\r\n      \"y_max\": 751,\r\n      \"ha\": 949,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 727\r\n    },\r\n    \"R\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 705,\r\n      \"y_min\": 0,\r\n      \"y_max\": 751,\r\n      \"ha\": 751,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 704\r\n    },\r\n    \"S\": {\r\n      \"x_min\": 62,\r\n      \"x_max\": 556,\r\n      \"y_min\": -11,\r\n      \"y_max\": 751,\r\n      \"ha\": 762,\r\n      \"leftSideBearing\": 62,\r\n      \"advanceWidth\": 594\r\n    },\r\n    \"T\": {\r\n      \"x_min\": 17,\r\n      \"x_max\": 669,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 17,\r\n      \"advanceWidth\": 692\r\n    },\r\n    \"U\": {\r\n      \"x_min\": 24,\r\n      \"x_max\": 725,\r\n      \"y_min\": -8,\r\n      \"y_max\": 743,\r\n      \"ha\": 751,\r\n      \"leftSideBearing\": 24,\r\n      \"advanceWidth\": 740\r\n    },\r\n    \"V\": {\r\n      \"x_min\": -16,\r\n      \"x_max\": 689,\r\n      \"y_min\": -8,\r\n      \"y_max\": 743,\r\n      \"ha\": 751,\r\n      \"leftSideBearing\": -16,\r\n      \"advanceWidth\": 670\r\n    },\r\n    \"W\": {\r\n      \"x_min\": -19,\r\n      \"x_max\": 1019,\r\n      \"y_min\": -5,\r\n      \"y_max\": 743,\r\n      \"ha\": 748,\r\n      \"leftSideBearing\": -19,\r\n      \"advanceWidth\": 1000\r\n    },\r\n    \"X\": {\r\n      \"x_min\": 7,\r\n      \"x_max\": 710,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": 7,\r\n      \"advanceWidth\": 712\r\n    },\r\n    \"Y\": {\r\n      \"x_min\": -12,\r\n      \"x_max\": 658,\r\n      \"y_min\": 0,\r\n      \"y_max\": 743,\r\n      \"ha\": 743,\r\n      \"leftSideBearing\": -12,\r\n      \"advanceWidth\": 644\r\n    },\r\n    \"Z\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 616,\r\n      \"y_min\": 0,\r\n      \"y_max\": 746,\r\n      \"ha\": 746,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 654\r\n    },\r\n    \"[\": {\r\n      \"x_min\": 96,\r\n      \"x_max\": 338,\r\n      \"y_min\": -137,\r\n      \"y_max\": 804,\r\n      \"ha\": 941,\r\n      \"leftSideBearing\": 96,\r\n      \"advanceWidth\": 428\r\n    },\r\n    \"\\\\\": {\r\n      \"x_min\": 30,\r\n      \"x_max\": 388,\r\n      \"y_min\": -177,\r\n      \"y_max\": 781,\r\n      \"ha\": 958,\r\n      \"leftSideBearing\": 30,\r\n      \"advanceWidth\": 431\r\n    },\r\n    \"]\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 332,\r\n      \"y_min\": -137,\r\n      \"y_max\": 804,\r\n      \"ha\": 941,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 428\r\n    },\r\n    \"^\": {\r\n      \"x_min\": 86,\r\n      \"x_max\": 579,\r\n      \"y_min\": 133,\r\n      \"y_max\": 748,\r\n      \"ha\": 615,\r\n      \"leftSideBearing\": 86,\r\n      \"advanceWidth\": 666\r\n    },\r\n    \"_\": {\r\n      \"x_min\": -10,\r\n      \"x_max\": 845,\r\n      \"y_min\": -183,\r\n      \"y_max\": -122,\r\n      \"ha\": 61,\r\n      \"leftSideBearing\": -10,\r\n      \"advanceWidth\": 835\r\n    },\r\n    \"`\": {\r\n      \"x_min\": -7,\r\n      \"x_max\": 227,\r\n      \"y_min\": 653,\r\n      \"y_max\": 884,\r\n      \"ha\": 231,\r\n      \"leftSideBearing\": -7,\r\n      \"advanceWidth\": 333\r\n    },\r\n    \"a\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 536,\r\n      \"y_min\": -11,\r\n      \"y_max\": 567,\r\n      \"ha\": 578,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 561\r\n    },\r\n    \"b\": {\r\n      \"x_min\": -2,\r\n      \"x_max\": 565,\r\n      \"y_min\": -11,\r\n      \"y_max\": 819,\r\n      \"ha\": 830,\r\n      \"leftSideBearing\": -2,\r\n      \"advanceWidth\": 607\r\n    },\r\n    \"c\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 471,\r\n      \"y_min\": -11,\r\n      \"y_max\": 570,\r\n      \"ha\": 581,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 513\r\n    },\r\n    \"d\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 586,\r\n      \"y_min\": -11,\r\n      \"y_max\": 819,\r\n      \"ha\": 830,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 621\r\n    },\r\n    \"e\": {\r\n      \"x_min\": 43,\r\n      \"x_max\": 503,\r\n      \"y_min\": -11,\r\n      \"y_max\": 570,\r\n      \"ha\": 581,\r\n      \"leftSideBearing\": 43,\r\n      \"advanceWidth\": 544\r\n    },\r\n    \"f\": {\r\n      \"x_min\": 31,\r\n      \"x_max\": 413,\r\n      \"y_min\": 0,\r\n      \"y_max\": 828,\r\n      \"ha\": 828,\r\n      \"leftSideBearing\": 31,\r\n      \"advanceWidth\": 400\r\n    },\r\n    \"g\": {\r\n      \"x_min\": 41,\r\n      \"x_max\": 597,\r\n      \"y_min\": -270,\r\n      \"y_max\": 571,\r\n      \"ha\": 841,\r\n      \"leftSideBearing\": 41,\r\n      \"advanceWidth\": 607\r\n    },\r\n    \"h\": {\r\n      \"x_min\": 15,\r\n      \"x_max\": 630,\r\n      \"y_min\": 0,\r\n      \"y_max\": 819,\r\n      \"ha\": 819,\r\n      \"leftSideBearing\": 15,\r\n      \"advanceWidth\": 659\r\n    },\r\n    \"i\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 307,\r\n      \"y_min\": 0,\r\n      \"y_max\": 793,\r\n      \"ha\": 793,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 333\r\n    },\r\n    \"j\": {\r\n      \"x_min\": -11,\r\n      \"x_max\": 238,\r\n      \"y_min\": -243,\r\n      \"y_max\": 793,\r\n      \"ha\": 1036,\r\n      \"leftSideBearing\": -11,\r\n      \"advanceWidth\": 317\r\n    },\r\n    \"k\": {\r\n      \"x_min\": 20,\r\n      \"x_max\": 624,\r\n      \"y_min\": 0,\r\n      \"y_max\": 819,\r\n      \"ha\": 819,\r\n      \"leftSideBearing\": 20,\r\n      \"advanceWidth\": 600\r\n    },\r\n    \"l\": {\r\n      \"x_min\": 37,\r\n      \"x_max\": 307,\r\n      \"y_min\": 0,\r\n      \"y_max\": 819,\r\n      \"ha\": 819,\r\n      \"leftSideBearing\": 37,\r\n      \"advanceWidth\": 333\r\n    },\r\n    \"m\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 970,\r\n      \"y_min\": 0,\r\n      \"y_max\": 568,\r\n      \"ha\": 568,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 995\r\n    },\r\n    \"n\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 637,\r\n      \"y_min\": 0,\r\n      \"y_max\": 568,\r\n      \"ha\": 568,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 664\r\n    },\r\n    \"o\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 562,\r\n      \"y_min\": -11,\r\n      \"y_max\": 570,\r\n      \"ha\": 581,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 608\r\n    },\r\n    \"p\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 586,\r\n      \"y_min\": -242,\r\n      \"y_max\": 570,\r\n      \"ha\": 812,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 628\r\n    },\r\n    \"q\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 597,\r\n      \"y_min\": -242,\r\n      \"y_max\": 570,\r\n      \"ha\": 812,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 609\r\n    },\r\n    \"r\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 437,\r\n      \"y_min\": 0,\r\n      \"y_max\": 570,\r\n      \"ha\": 570,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 458\r\n    },\r\n    \"s\": {\r\n      \"x_min\": 55,\r\n      \"x_max\": 460,\r\n      \"y_min\": -11,\r\n      \"y_max\": 567,\r\n      \"ha\": 578,\r\n      \"leftSideBearing\": 55,\r\n      \"advanceWidth\": 505\r\n    },\r\n    \"t\": {\r\n      \"x_min\": 31,\r\n      \"x_max\": 391,\r\n      \"y_min\": -10,\r\n      \"y_max\": 699,\r\n      \"ha\": 709,\r\n      \"leftSideBearing\": 31,\r\n      \"advanceWidth\": 407\r\n    },\r\n    \"u\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 597,\r\n      \"y_min\": -11,\r\n      \"y_max\": 567,\r\n      \"ha\": 578,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 632\r\n    },\r\n    \"v\": {\r\n      \"x_min\": -1,\r\n      \"x_max\": 575,\r\n      \"y_min\": -8,\r\n      \"y_max\": 555,\r\n      \"ha\": 563,\r\n      \"leftSideBearing\": -1,\r\n      \"advanceWidth\": 568\r\n    },\r\n    \"w\": {\r\n      \"x_min\": -7,\r\n      \"x_max\": 853,\r\n      \"y_min\": -8,\r\n      \"y_max\": 555,\r\n      \"ha\": 563,\r\n      \"leftSideBearing\": -7,\r\n      \"advanceWidth\": 839\r\n    },\r\n    \"x\": {\r\n      \"x_min\": 6,\r\n      \"x_max\": 591,\r\n      \"y_min\": 0,\r\n      \"y_max\": 555,\r\n      \"ha\": 555,\r\n      \"leftSideBearing\": 6,\r\n      \"advanceWidth\": 595\r\n    },\r\n    \"y\": {\r\n      \"x_min\": -3,\r\n      \"x_max\": 571,\r\n      \"y_min\": -249,\r\n      \"y_max\": 555,\r\n      \"ha\": 804,\r\n      \"leftSideBearing\": -3,\r\n      \"advanceWidth\": 572\r\n    },\r\n    \"z\": {\r\n      \"x_min\": 30,\r\n      \"x_max\": 518,\r\n      \"y_min\": 0,\r\n      \"y_max\": 555,\r\n      \"ha\": 555,\r\n      \"leftSideBearing\": 30,\r\n      \"advanceWidth\": 554\r\n    },\r\n    \"{\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 431,\r\n      \"y_min\": -137,\r\n      \"y_max\": 806,\r\n      \"ha\": 943,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 508\r\n    },\r\n    \"|\": {\r\n      \"x_min\": 170,\r\n      \"x_max\": 252,\r\n      \"y_min\": -91,\r\n      \"y_max\": 869,\r\n      \"ha\": 960,\r\n      \"leftSideBearing\": 170,\r\n      \"advanceWidth\": 422\r\n    },\r\n    \"}\": {\r\n      \"x_min\": 77,\r\n      \"x_max\": 450,\r\n      \"y_min\": -137,\r\n      \"y_max\": 806,\r\n      \"ha\": 943,\r\n      \"leftSideBearing\": 77,\r\n      \"advanceWidth\": 508\r\n    },\r\n    \"~\": {\r\n      \"x_min\": 107,\r\n      \"x_max\": 584,\r\n      \"y_min\": 218,\r\n      \"y_max\": 379,\r\n      \"ha\": 161,\r\n      \"leftSideBearing\": 107,\r\n      \"advanceWidth\": 692\r\n    }\r\n  },\r\n  \"resolution\": 1000,\r\n  \"generatedOn\": \"2020-10-16T18:04:00.805Z\"\r\n};\r\n","export const ArialFont = {\r\n  smufl: false,\r\n  name: \"Arial\",\r\n  spacing: 50,\r\n  Description: 'Built-in sans-serif font',\r\n  bold: true,\r\n  italic: true,\r\n  monospaced: false,\r\n  serifs: false,\r\n  \"glyphs\": {\r\n    \"0\": {\r\n      \"x_min\": 85,\r\n      \"x_max\": 1041,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1497,\r\n      \"leftSideBearing\": 85,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"1\": {\r\n      \"x_min\": 223,\r\n      \"x_max\": 763,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1472,\r\n      \"leftSideBearing\": 223,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"2\": {\r\n      \"x_min\": 61.840001123045234,\r\n      \"x_max\": 1031,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1472,\r\n      \"leftSideBearing\": 61,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"3\": {\r\n      \"x_min\": 86,\r\n      \"x_max\": 1046,\r\n      \"y_min\": -26,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1498,\r\n      \"leftSideBearing\": 86,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"4\": {\r\n      \"x_min\": 26,\r\n      \"x_max\": 1040,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 26,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"5\": {\r\n      \"x_min\": 85,\r\n      \"x_max\": 1057,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1446,\r\n      \"ha\": 1471,\r\n      \"leftSideBearing\": 85,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"6\": {\r\n      \"x_min\": 77,\r\n      \"x_max\": 1045,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1497,\r\n      \"leftSideBearing\": 77,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"7\": {\r\n      \"x_min\": 97,\r\n      \"x_max\": 1046,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1447,\r\n      \"ha\": 1447,\r\n      \"leftSideBearing\": 97,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"8\": {\r\n      \"x_min\": 83,\r\n      \"x_max\": 1049,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1497,\r\n      \"leftSideBearing\": 83,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"9\": {\r\n      \"x_min\": 85,\r\n      \"x_max\": 1049,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1472,\r\n      \"ha\": 1497,\r\n      \"leftSideBearing\": 85,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \" \": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 0,\r\n      \"y_min\": 0,\r\n      \"y_max\": 0,\r\n      \"ha\": 0,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"!\": {\r\n      \"x_min\": 176,\r\n      \"x_max\": 399,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 176,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"\\\"\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 631,\r\n      \"y_min\": 947,\r\n      \"y_max\": 1466,\r\n      \"ha\": 519,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 727\r\n    },\r\n    \"#\": {\r\n      \"x_min\": 21,\r\n      \"x_max\": 1113,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1516,\r\n      \"leftSideBearing\": 21,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"$\": {\r\n      \"x_min\": 73,\r\n      \"x_max\": 1043,\r\n      \"y_min\": -211,\r\n      \"y_max\": 1601,\r\n      \"ha\": 1812,\r\n      \"leftSideBearing\": 73,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"%\": {\r\n      \"x_min\": 119,\r\n      \"x_max\": 1695,\r\n      \"y_min\": -54,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1545,\r\n      \"leftSideBearing\": 119,\r\n      \"advanceWidth\": 1821\r\n    },\r\n    \"&\": {\r\n      \"x_min\": 88,\r\n      \"x_max\": 1319,\r\n      \"y_min\": -34,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1525,\r\n      \"leftSideBearing\": 88,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"'\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 295,\r\n      \"y_min\": 947,\r\n      \"y_max\": 1466,\r\n      \"ha\": 519,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 391\r\n    },\r\n    \"(\": {\r\n      \"x_min\": 124,\r\n      \"x_max\": 608,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1922,\r\n      \"leftSideBearing\": 124,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \")\": {\r\n      \"x_min\": 124,\r\n      \"x_max\": 608,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1922,\r\n      \"leftSideBearing\": 124,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"*\": {\r\n      \"x_min\": 64,\r\n      \"x_max\": 725,\r\n      \"y_min\": 867,\r\n      \"y_max\": 1491,\r\n      \"ha\": 624,\r\n      \"leftSideBearing\": 64,\r\n      \"advanceWidth\": 797\r\n    },\r\n    \"+\": {\r\n      \"x_min\": 114,\r\n      \"x_max\": 1082,\r\n      \"y_min\": 237,\r\n      \"y_max\": 1206,\r\n      \"ha\": 969,\r\n      \"leftSideBearing\": 114,\r\n      \"advanceWidth\": 1196\r\n    },\r\n    \",\": {\r\n      \"x_min\": 170,\r\n      \"x_max\": 387,\r\n      \"y_min\": -290,\r\n      \"y_max\": 205,\r\n      \"ha\": 495,\r\n      \"leftSideBearing\": 170,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"-\": {\r\n      \"x_min\": 65,\r\n      \"x_max\": 618,\r\n      \"y_min\": 440,\r\n      \"y_max\": 621,\r\n      \"ha\": 181,\r\n      \"leftSideBearing\": 65,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \".\": {\r\n      \"x_min\": 186,\r\n      \"x_max\": 391,\r\n      \"y_min\": 0,\r\n      \"y_max\": 205,\r\n      \"ha\": 205,\r\n      \"leftSideBearing\": 186,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"/\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 569,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1516,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \":\": {\r\n      \"x_min\": 185,\r\n      \"x_max\": 390,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1062,\r\n      \"ha\": 1062,\r\n      \"leftSideBearing\": 185,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \";\": {\r\n      \"x_min\": 170,\r\n      \"x_max\": 387,\r\n      \"y_min\": -290,\r\n      \"y_max\": 1062,\r\n      \"ha\": 1352,\r\n      \"leftSideBearing\": 170,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"<\": {\r\n      \"x_min\": 112,\r\n      \"x_max\": 1083,\r\n      \"y_min\": 226,\r\n      \"y_max\": 1219,\r\n      \"ha\": 993,\r\n      \"leftSideBearing\": 112,\r\n      \"advanceWidth\": 1196\r\n    },\r\n    \"=\": {\r\n      \"x_min\": 114,\r\n      \"x_max\": 1082,\r\n      \"y_min\": 417,\r\n      \"y_max\": 1030,\r\n      \"ha\": 613,\r\n      \"leftSideBearing\": 114,\r\n      \"advanceWidth\": 1196\r\n    },\r\n    \">\": {\r\n      \"x_min\": 112,\r\n      \"x_max\": 1083,\r\n      \"y_min\": 226,\r\n      \"y_max\": 1219,\r\n      \"ha\": 993,\r\n      \"leftSideBearing\": 112,\r\n      \"advanceWidth\": 1196\r\n    },\r\n    \"?\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 1036,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1491,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"@\": {\r\n      \"x_min\": 111,\r\n      \"x_max\": 2005,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1493,\r\n      \"ha\": 1924,\r\n      \"leftSideBearing\": 111,\r\n      \"advanceWidth\": 2079\r\n    },\r\n    \"A\": {\r\n      \"x_min\": -3,\r\n      \"x_max\": 1369,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": -3,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"B\": {\r\n      \"x_min\": 150,\r\n      \"x_max\": 1257,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 150,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"C\": {\r\n      \"x_min\": 102,\r\n      \"x_max\": 1398,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1516,\r\n      \"leftSideBearing\": 102,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"D\": {\r\n      \"x_min\": 158,\r\n      \"x_max\": 1370,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 158,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"E\": {\r\n      \"x_min\": 162,\r\n      \"x_max\": 1256,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 162,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"F\": {\r\n      \"x_min\": 168,\r\n      \"x_max\": 1157,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 168,\r\n      \"advanceWidth\": 1251\r\n    },\r\n    \"G\": {\r\n      \"x_min\": 109,\r\n      \"x_max\": 1465,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1516,\r\n      \"leftSideBearing\": 109,\r\n      \"advanceWidth\": 1593\r\n    },\r\n    \"H\": {\r\n      \"x_min\": 164,\r\n      \"x_max\": 1314,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 164,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"I\": {\r\n      \"x_min\": 191,\r\n      \"x_max\": 385,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 191,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"J\": {\r\n      \"x_min\": 58.84976474807333,\r\n      \"x_max\": 865,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1491,\r\n      \"leftSideBearing\": 58,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"K\": {\r\n      \"x_min\": 150,\r\n      \"x_max\": 1362,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 150,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"L\": {\r\n      \"x_min\": 150,\r\n      \"x_max\": 1066,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 150,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"M\": {\r\n      \"x_min\": 152,\r\n      \"x_max\": 1551,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 152,\r\n      \"advanceWidth\": 1706\r\n    },\r\n    \"N\": {\r\n      \"x_min\": 156,\r\n      \"x_max\": 1311,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 156,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"O\": {\r\n      \"x_min\": 99,\r\n      \"x_max\": 1501,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1492,\r\n      \"ha\": 1517,\r\n      \"leftSideBearing\": 99,\r\n      \"advanceWidth\": 1593\r\n    },\r\n    \"P\": {\r\n      \"x_min\": 158,\r\n      \"x_max\": 1277,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 158,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"Q\": {\r\n      \"x_min\": 88,\r\n      \"x_max\": 1518,\r\n      \"y_min\": -114,\r\n      \"y_max\": 1492,\r\n      \"ha\": 1606,\r\n      \"leftSideBearing\": 88,\r\n      \"advanceWidth\": 1593\r\n    },\r\n    \"R\": {\r\n      \"x_min\": 161,\r\n      \"x_max\": 1453,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 161,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"S\": {\r\n      \"x_min\": 92,\r\n      \"x_max\": 1259,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1516,\r\n      \"leftSideBearing\": 92,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"T\": {\r\n      \"x_min\": 48,\r\n      \"x_max\": 1210,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 48,\r\n      \"advanceWidth\": 1251\r\n    },\r\n    \"U\": {\r\n      \"x_min\": 161,\r\n      \"x_max\": 1314,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1491,\r\n      \"leftSideBearing\": 161,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"V\": {\r\n      \"x_min\": 9,\r\n      \"x_max\": 1350,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 9,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"W\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 1910,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 1933\r\n    },\r\n    \"X\": {\r\n      \"x_min\": 9,\r\n      \"x_max\": 1353,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 9,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"Y\": {\r\n      \"x_min\": 6,\r\n      \"x_max\": 1350,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 6,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"Z\": {\r\n      \"x_min\": 41,\r\n      \"x_max\": 1200,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 41,\r\n      \"advanceWidth\": 1251\r\n    },\r\n    \"[\": {\r\n      \"x_min\": 139,\r\n      \"x_max\": 536,\r\n      \"y_min\": -407,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1873,\r\n      \"leftSideBearing\": 139,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"\\\\\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 569,\r\n      \"y_min\": -25,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1516,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"]\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 436,\r\n      \"y_min\": -407,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1873,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"^\": {\r\n      \"x_min\": 54,\r\n      \"x_max\": 907,\r\n      \"y_min\": 690,\r\n      \"y_max\": 1491,\r\n      \"ha\": 801,\r\n      \"leftSideBearing\": 54,\r\n      \"advanceWidth\": 961\r\n    },\r\n    \"_\": {\r\n      \"x_min\": -31,\r\n      \"x_max\": 1162,\r\n      \"y_min\": -407,\r\n      \"y_max\": -277,\r\n      \"ha\": 130,\r\n      \"leftSideBearing\": -31,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"`\": {\r\n      \"x_min\": 89,\r\n      \"x_max\": 465,\r\n      \"y_min\": 1194,\r\n      \"y_max\": 1474,\r\n      \"ha\": 280,\r\n      \"leftSideBearing\": 89,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"a\": {\r\n      \"x_min\": 74,\r\n      \"x_max\": 1052,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1110,\r\n      \"leftSideBearing\": 74,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"b\": {\r\n      \"x_min\": 134,\r\n      \"x_max\": 1055,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1490,\r\n      \"leftSideBearing\": 134,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"c\": {\r\n      \"x_min\": 80,\r\n      \"x_max\": 1005,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1110,\r\n      \"leftSideBearing\": 80,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"d\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 991,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1490,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"e\": {\r\n      \"x_min\": 75,\r\n      \"x_max\": 1054,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1110,\r\n      \"leftSideBearing\": 75,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"f\": {\r\n      \"x_min\": 19,\r\n      \"x_max\": 640,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1491,\r\n      \"leftSideBearing\": 19,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"g\": {\r\n      \"x_min\": 66,\r\n      \"x_max\": 1002,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1517,\r\n      \"leftSideBearing\": 66,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"h\": {\r\n      \"x_min\": 135,\r\n      \"x_max\": 1000,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 135,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"i\": {\r\n      \"x_min\": 136,\r\n      \"x_max\": 316,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 136,\r\n      \"advanceWidth\": 455\r\n    },\r\n    \"j\": {\r\n      \"x_min\": -94,\r\n      \"x_max\": 314,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1897,\r\n      \"leftSideBearing\": -94,\r\n      \"advanceWidth\": 455\r\n    },\r\n    \"k\": {\r\n      \"x_min\": 136,\r\n      \"x_max\": 1016,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 136,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"l\": {\r\n      \"x_min\": 131,\r\n      \"x_max\": 311,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1466,\r\n      \"ha\": 1466,\r\n      \"leftSideBearing\": 131,\r\n      \"advanceWidth\": 455\r\n    },\r\n    \"m\": {\r\n      \"x_min\": 135,\r\n      \"x_max\": 1574,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1086,\r\n      \"leftSideBearing\": 135,\r\n      \"advanceWidth\": 1706\r\n    },\r\n    \"n\": {\r\n      \"x_min\": 135,\r\n      \"x_max\": 998,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1086,\r\n      \"leftSideBearing\": 135,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"o\": {\r\n      \"x_min\": 68,\r\n      \"x_max\": 1063,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1110,\r\n      \"leftSideBearing\": 68,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"p\": {\r\n      \"x_min\": 135,\r\n      \"x_max\": 1057,\r\n      \"y_min\": -407,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1493,\r\n      \"leftSideBearing\": 135,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"q\": {\r\n      \"x_min\": 72,\r\n      \"x_max\": 992,\r\n      \"y_min\": -407,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1493,\r\n      \"leftSideBearing\": 72,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"r\": {\r\n      \"x_min\": 133,\r\n      \"x_max\": 710,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1086,\r\n      \"leftSideBearing\": 133,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"s\": {\r\n      \"x_min\": 63,\r\n      \"x_max\": 945,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1086,\r\n      \"ha\": 1110,\r\n      \"leftSideBearing\": 63,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"t\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 554,\r\n      \"y_min\": -14,\r\n      \"y_max\": 1433,\r\n      \"ha\": 1447,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"u\": {\r\n      \"x_min\": 131,\r\n      \"x_max\": 992,\r\n      \"y_min\": -24,\r\n      \"y_max\": 1062,\r\n      \"ha\": 1086,\r\n      \"leftSideBearing\": 131,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"v\": {\r\n      \"x_min\": 26,\r\n      \"x_max\": 1000,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1062,\r\n      \"ha\": 1062,\r\n      \"leftSideBearing\": 26,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"w\": {\r\n      \"x_min\": 6,\r\n      \"x_max\": 1463,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1062,\r\n      \"ha\": 1062,\r\n      \"leftSideBearing\": 6,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"x\": {\r\n      \"x_min\": 15,\r\n      \"x_max\": 1009,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1062,\r\n      \"ha\": 1062,\r\n      \"leftSideBearing\": 15,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"y\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 1006,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1062,\r\n      \"ha\": 1493,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"z\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 980,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1062,\r\n      \"ha\": 1062,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"{\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 636,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1922,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 684\r\n    },\r\n    \"|\": {\r\n      \"x_min\": 188,\r\n      \"x_max\": 345,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1922,\r\n      \"leftSideBearing\": 188,\r\n      \"advanceWidth\": 532\r\n    },\r\n    \"}\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 626,\r\n      \"y_min\": -431,\r\n      \"y_max\": 1491,\r\n      \"ha\": 1922,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 684\r\n    },\r\n    \"~\": {\r\n      \"x_min\": 87,\r\n      \"x_max\": 1110,\r\n      \"y_min\": 557,\r\n      \"y_max\": 885,\r\n      \"ha\": 328,\r\n      \"leftSideBearing\": 87,\r\n      \"advanceWidth\": 1196\r\n    }\r\n  },\r\n  \"fontFamily\": \"Arial\",\r\n  \"resolution\": 2048,\r\n  \"generatedOn\": \"2020-10-18T18:48:11.823Z\"\r\n};\r\n","export const SourceSansProFont = {\r\n  smufl: false,\r\n  name: \"Sans\",\r\n  spacing: 50,\r\n  description: \"Open-source Sans font from Adobe\",\r\n  serifs: true,\r\n  monospaced: false,\r\n  superscriptOffset: 0.66,\r\n  subscriptOffset: 0.66,\r\n  maxSizeGlyph: 'H',\r\n  \"fontFamily\": \"Source Sans Pro\",\r\n  \"resolution\": 1000,\r\n  \"generatedOn\": \"2020-11-01T21:31:30.347Z\",\r\n  \"glyphs\": {\r\n    \"0\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 453,\r\n      \"y_min\": -12,\r\n      \"y_max\": 650,\r\n      \"ha\": 662,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"1\": {\r\n      \"x_min\": 79,\r\n      \"x_max\": 439,\r\n      \"y_min\": 0,\r\n      \"y_max\": 638,\r\n      \"ha\": 638,\r\n      \"leftSideBearing\": 79,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"2\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 452,\r\n      \"y_min\": 0,\r\n      \"y_max\": 650,\r\n      \"ha\": 650,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"3\": {\r\n      \"x_min\": 26,\r\n      \"x_max\": 446,\r\n      \"y_min\": -12,\r\n      \"y_max\": 650,\r\n      \"ha\": 662,\r\n      \"leftSideBearing\": 26,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"4\": {\r\n      \"x_min\": 17,\r\n      \"x_max\": 469,\r\n      \"y_min\": 0,\r\n      \"y_max\": 638,\r\n      \"ha\": 638,\r\n      \"leftSideBearing\": 17,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"5\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 449,\r\n      \"y_min\": -12,\r\n      \"y_max\": 638,\r\n      \"ha\": 650,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"6\": {\r\n      \"x_min\": 48,\r\n      \"x_max\": 457,\r\n      \"y_min\": -12,\r\n      \"y_max\": 650,\r\n      \"ha\": 662,\r\n      \"leftSideBearing\": 48,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"7\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 455,\r\n      \"y_min\": 0,\r\n      \"y_max\": 638,\r\n      \"ha\": 638,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"8\": {\r\n      \"x_min\": 41,\r\n      \"x_max\": 456,\r\n      \"y_min\": -12,\r\n      \"y_max\": 650,\r\n      \"ha\": 662,\r\n      \"leftSideBearing\": 41,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"9\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 448,\r\n      \"y_min\": -12,\r\n      \"y_max\": 650,\r\n      \"ha\": 662,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \" \": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 0,\r\n      \"y_min\": 0,\r\n      \"y_max\": 0,\r\n      \"ha\": 0,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 200\r\n    },\r\n    \"!\": {\r\n      \"x_min\": 85,\r\n      \"x_max\": 204,\r\n      \"y_min\": -12,\r\n      \"y_max\": 670,\r\n      \"ha\": 682,\r\n      \"leftSideBearing\": 85,\r\n      \"advanceWidth\": 289\r\n    },\r\n    \"\\\"\": {\r\n      \"x_min\": 80,\r\n      \"x_max\": 344,\r\n      \"y_min\": 431,\r\n      \"y_max\": 690,\r\n      \"ha\": 259,\r\n      \"leftSideBearing\": 80,\r\n      \"advanceWidth\": 425\r\n    },\r\n    \"#\": {\r\n      \"x_min\": 35,\r\n      \"x_max\": 467,\r\n      \"y_min\": 0,\r\n      \"y_max\": 650,\r\n      \"ha\": 650,\r\n      \"leftSideBearing\": 35,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"$\": {\r\n      \"x_min\": 52,\r\n      \"x_max\": 437,\r\n      \"y_min\": -110,\r\n      \"y_max\": 748,\r\n      \"ha\": 858,\r\n      \"leftSideBearing\": 52,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"%\": {\r\n      \"x_min\": 35,\r\n      \"x_max\": 790,\r\n      \"y_min\": -12,\r\n      \"y_max\": 668,\r\n      \"ha\": 680,\r\n      \"leftSideBearing\": 35,\r\n      \"advanceWidth\": 824\r\n    },\r\n    \"&\": {\r\n      \"x_min\": 32,\r\n      \"x_max\": 594,\r\n      \"y_min\": -12,\r\n      \"y_max\": 668,\r\n      \"ha\": 680,\r\n      \"leftSideBearing\": 32,\r\n      \"advanceWidth\": 609\r\n    },\r\n    \"'\": {\r\n      \"x_min\": 80,\r\n      \"x_max\": 168,\r\n      \"y_min\": 431,\r\n      \"y_max\": 690,\r\n      \"ha\": 259,\r\n      \"leftSideBearing\": 80,\r\n      \"advanceWidth\": 249\r\n    },\r\n    \"(\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 265,\r\n      \"y_min\": -176,\r\n      \"y_max\": 732,\r\n      \"ha\": 908,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 303\r\n    },\r\n    \")\": {\r\n      \"x_min\": 38,\r\n      \"x_max\": 221,\r\n      \"y_min\": -176,\r\n      \"y_max\": 732,\r\n      \"ha\": 908,\r\n      \"leftSideBearing\": 38,\r\n      \"advanceWidth\": 303\r\n    },\r\n    \"*\": {\r\n      \"x_min\": 58,\r\n      \"x_max\": 360,\r\n      \"y_min\": 420,\r\n      \"y_max\": 712,\r\n      \"ha\": 292,\r\n      \"leftSideBearing\": 58,\r\n      \"advanceWidth\": 418\r\n    },\r\n    \"+\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 463,\r\n      \"y_min\": 104,\r\n      \"y_max\": 556,\r\n      \"ha\": 452,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \",\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 198,\r\n      \"y_min\": -170,\r\n      \"y_max\": 114,\r\n      \"ha\": 284,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 249\r\n    },\r\n    \"-\": {\r\n      \"x_min\": 41,\r\n      \"x_max\": 271,\r\n      \"y_min\": 219,\r\n      \"y_max\": 282,\r\n      \"ha\": 63,\r\n      \"leftSideBearing\": 41,\r\n      \"advanceWidth\": 311\r\n    },\r\n    \".\": {\r\n      \"x_min\": 65,\r\n      \"x_max\": 184,\r\n      \"y_min\": -12,\r\n      \"y_max\": 114,\r\n      \"ha\": 126,\r\n      \"leftSideBearing\": 65,\r\n      \"advanceWidth\": 249\r\n    },\r\n    \"/\": {\r\n      \"x_min\": 10,\r\n      \"x_max\": 337,\r\n      \"y_min\": -160,\r\n      \"y_max\": 710,\r\n      \"ha\": 870,\r\n      \"leftSideBearing\": 10,\r\n      \"advanceWidth\": 350\r\n    },\r\n    \":\": {\r\n      \"x_min\": 65,\r\n      \"x_max\": 184,\r\n      \"y_min\": -12,\r\n      \"y_max\": 475,\r\n      \"ha\": 487,\r\n      \"leftSideBearing\": 65,\r\n      \"advanceWidth\": 249\r\n    },\r\n    \";\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 198,\r\n      \"y_min\": -170,\r\n      \"y_max\": 475,\r\n      \"ha\": 645,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 249\r\n    },\r\n    \"<\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 463,\r\n      \"y_min\": 131,\r\n      \"y_max\": 533,\r\n      \"ha\": 402,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"=\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 463,\r\n      \"y_min\": 193,\r\n      \"y_max\": 468,\r\n      \"ha\": 275,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \">\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 463,\r\n      \"y_min\": 131,\r\n      \"y_max\": 533,\r\n      \"ha\": 402,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"?\": {\r\n      \"x_min\": 38,\r\n      \"x_max\": 377,\r\n      \"y_min\": -12,\r\n      \"y_max\": 682,\r\n      \"ha\": 694,\r\n      \"leftSideBearing\": 38,\r\n      \"advanceWidth\": 425\r\n    },\r\n    \"@\": {\r\n      \"x_min\": 51,\r\n      \"x_max\": 796,\r\n      \"y_min\": -155,\r\n      \"y_max\": 646,\r\n      \"ha\": 801,\r\n      \"leftSideBearing\": 51,\r\n      \"advanceWidth\": 847\r\n    },\r\n    \"A\": {\r\n      \"x_min\": 3,\r\n      \"x_max\": 541,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 3,\r\n      \"advanceWidth\": 544\r\n    },\r\n    \"B\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 548,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 588\r\n    },\r\n    \"C\": {\r\n      \"x_min\": 52,\r\n      \"x_max\": 539,\r\n      \"y_min\": -12,\r\n      \"y_max\": 668,\r\n      \"ha\": 680,\r\n      \"leftSideBearing\": 52,\r\n      \"advanceWidth\": 571\r\n    },\r\n    \"D\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 564,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 615\r\n    },\r\n    \"E\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 478,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 527\r\n    },\r\n    \"F\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 468,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 494\r\n    },\r\n    \"G\": {\r\n      \"x_min\": 52,\r\n      \"x_max\": 550,\r\n      \"y_min\": -12,\r\n      \"y_max\": 668,\r\n      \"ha\": 680,\r\n      \"leftSideBearing\": 52,\r\n      \"advanceWidth\": 617\r\n    },\r\n    \"H\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 562,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 652\r\n    },\r\n    \"I\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 173,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 263\r\n    },\r\n    \"J\": {\r\n      \"x_min\": 31,\r\n      \"x_max\": 393,\r\n      \"y_min\": -12,\r\n      \"y_max\": 656,\r\n      \"ha\": 668,\r\n      \"leftSideBearing\": 31,\r\n      \"advanceWidth\": 480\r\n    },\r\n    \"K\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 575,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 579\r\n    },\r\n    \"L\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 460,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 486\r\n    },\r\n    \"M\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 637,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 727\r\n    },\r\n    \"N\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 557,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 647\r\n    },\r\n    \"O\": {\r\n      \"x_min\": 52,\r\n      \"x_max\": 613,\r\n      \"y_min\": -12,\r\n      \"y_max\": 668,\r\n      \"ha\": 680,\r\n      \"leftSideBearing\": 52,\r\n      \"advanceWidth\": 664\r\n    },\r\n    \"P\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 523,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 566\r\n    },\r\n    \"Q\": {\r\n      \"x_min\": 52,\r\n      \"x_max\": 627,\r\n      \"y_min\": -165,\r\n      \"y_max\": 668,\r\n      \"ha\": 833,\r\n      \"leftSideBearing\": 52,\r\n      \"advanceWidth\": 664\r\n    },\r\n    \"R\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 544,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"S\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 495,\r\n      \"y_min\": -12,\r\n      \"y_max\": 668,\r\n      \"ha\": 680,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 534\r\n    },\r\n    \"T\": {\r\n      \"x_min\": 28,\r\n      \"x_max\": 508,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 28,\r\n      \"advanceWidth\": 536\r\n    },\r\n    \"U\": {\r\n      \"x_min\": 87,\r\n      \"x_max\": 558,\r\n      \"y_min\": -12,\r\n      \"y_max\": 656,\r\n      \"ha\": 668,\r\n      \"leftSideBearing\": 87,\r\n      \"advanceWidth\": 645\r\n    },\r\n    \"V\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 515,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 515\r\n    },\r\n    \"W\": {\r\n      \"x_min\": 23,\r\n      \"x_max\": 762,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 23,\r\n      \"advanceWidth\": 786\r\n    },\r\n    \"X\": {\r\n      \"x_min\": 15,\r\n      \"x_max\": 498,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 15,\r\n      \"advanceWidth\": 513\r\n    },\r\n    \"Y\": {\r\n      \"x_min\": -1,\r\n      \"x_max\": 477,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": -1,\r\n      \"advanceWidth\": 476\r\n    },\r\n    \"Z\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 497,\r\n      \"y_min\": 0,\r\n      \"y_max\": 656,\r\n      \"ha\": 656,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 539\r\n    },\r\n    \"[\": {\r\n      \"x_min\": 94,\r\n      \"x_max\": 273,\r\n      \"y_min\": -152,\r\n      \"y_max\": 708,\r\n      \"ha\": 860,\r\n      \"leftSideBearing\": 94,\r\n      \"advanceWidth\": 303\r\n    },\r\n    \"\\\\\": {\r\n      \"x_min\": 14,\r\n      \"x_max\": 340,\r\n      \"y_min\": -160,\r\n      \"y_max\": 710,\r\n      \"ha\": 870,\r\n      \"leftSideBearing\": 14,\r\n      \"advanceWidth\": 350\r\n    },\r\n    \"]\": {\r\n      \"x_min\": 31,\r\n      \"x_max\": 209,\r\n      \"y_min\": -152,\r\n      \"y_max\": 708,\r\n      \"ha\": 860,\r\n      \"leftSideBearing\": 31,\r\n      \"advanceWidth\": 303\r\n    },\r\n    \"^\": {\r\n      \"x_min\": 60,\r\n      \"x_max\": 437,\r\n      \"y_min\": 284,\r\n      \"y_max\": 670,\r\n      \"ha\": 386,\r\n      \"leftSideBearing\": 60,\r\n      \"advanceWidth\": 497\r\n    },\r\n    \"_\": {\r\n      \"x_min\": 12,\r\n      \"x_max\": 488,\r\n      \"y_min\": -126,\r\n      \"y_max\": -71,\r\n      \"ha\": 55,\r\n      \"leftSideBearing\": 12,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"`\": {\r\n      \"x_min\": 128,\r\n      \"x_max\": 327,\r\n      \"y_min\": 573,\r\n      \"y_max\": 781,\r\n      \"ha\": 208,\r\n      \"leftSideBearing\": 128,\r\n      \"advanceWidth\": 542\r\n    },\r\n    \"a\": {\r\n      \"x_min\": 52,\r\n      \"x_max\": 433,\r\n      \"y_min\": -12,\r\n      \"y_max\": 498,\r\n      \"ha\": 510,\r\n      \"leftSideBearing\": 52,\r\n      \"advanceWidth\": 504\r\n    },\r\n    \"b\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 507,\r\n      \"y_min\": -12,\r\n      \"y_max\": 712,\r\n      \"ha\": 724,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 553\r\n    },\r\n    \"c\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 431,\r\n      \"y_min\": -12,\r\n      \"y_max\": 498,\r\n      \"ha\": 510,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 456\r\n    },\r\n    \"d\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 473,\r\n      \"y_min\": -12,\r\n      \"y_max\": 712,\r\n      \"ha\": 724,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 555\r\n    },\r\n    \"e\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 458,\r\n      \"y_min\": -12,\r\n      \"y_max\": 498,\r\n      \"ha\": 510,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 496\r\n    },\r\n    \"f\": {\r\n      \"x_min\": 30,\r\n      \"x_max\": 319,\r\n      \"y_min\": 0,\r\n      \"y_max\": 724,\r\n      \"ha\": 724,\r\n      \"leftSideBearing\": 30,\r\n      \"advanceWidth\": 292\r\n    },\r\n    \"g\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 492,\r\n      \"y_min\": -224,\r\n      \"y_max\": 498,\r\n      \"ha\": 722,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 504\r\n    },\r\n    \"h\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 471,\r\n      \"y_min\": 0,\r\n      \"y_max\": 712,\r\n      \"ha\": 712,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 544\r\n    },\r\n    \"i\": {\r\n      \"x_min\": 67,\r\n      \"x_max\": 181,\r\n      \"y_min\": 0,\r\n      \"y_max\": 692,\r\n      \"ha\": 692,\r\n      \"leftSideBearing\": 67,\r\n      \"advanceWidth\": 246\r\n    },\r\n    \"j\": {\r\n      \"x_min\": -40,\r\n      \"x_max\": 181,\r\n      \"y_min\": -217,\r\n      \"y_max\": 692,\r\n      \"ha\": 909,\r\n      \"leftSideBearing\": -40,\r\n      \"advanceWidth\": 247\r\n    },\r\n    \"k\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 486,\r\n      \"y_min\": 0,\r\n      \"y_max\": 712,\r\n      \"ha\": 712,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 495\r\n    },\r\n    \"l\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 216,\r\n      \"y_min\": -12,\r\n      \"y_max\": 712,\r\n      \"ha\": 724,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 255\r\n    },\r\n    \"m\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 753,\r\n      \"y_min\": 0,\r\n      \"y_max\": 498,\r\n      \"ha\": 498,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 829\r\n    },\r\n    \"n\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 471,\r\n      \"y_min\": 0,\r\n      \"y_max\": 498,\r\n      \"ha\": 498,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 547\r\n    },\r\n    \"o\": {\r\n      \"x_min\": 46,\r\n      \"x_max\": 496,\r\n      \"y_min\": -12,\r\n      \"y_max\": 498,\r\n      \"ha\": 510,\r\n      \"leftSideBearing\": 46,\r\n      \"advanceWidth\": 542\r\n    },\r\n    \"p\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 507,\r\n      \"y_min\": -205,\r\n      \"y_max\": 498,\r\n      \"ha\": 703,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 555\r\n    },\r\n    \"q\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 473,\r\n      \"y_min\": -205,\r\n      \"y_max\": 498,\r\n      \"ha\": 703,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 555\r\n    },\r\n    \"r\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 350,\r\n      \"y_min\": 0,\r\n      \"y_max\": 498,\r\n      \"ha\": 498,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 347\r\n    },\r\n    \"s\": {\r\n      \"x_min\": 28,\r\n      \"x_max\": 387,\r\n      \"y_min\": -12,\r\n      \"y_max\": 498,\r\n      \"ha\": 510,\r\n      \"leftSideBearing\": 28,\r\n      \"advanceWidth\": 419\r\n    },\r\n    \"t\": {\r\n      \"x_min\": 24,\r\n      \"x_max\": 325,\r\n      \"y_min\": -12,\r\n      \"y_max\": 622,\r\n      \"ha\": 634,\r\n      \"leftSideBearing\": 24,\r\n      \"advanceWidth\": 338\r\n    },\r\n    \"u\": {\r\n      \"x_min\": 75,\r\n      \"x_max\": 462,\r\n      \"y_min\": -12,\r\n      \"y_max\": 486,\r\n      \"ha\": 498,\r\n      \"leftSideBearing\": 75,\r\n      \"advanceWidth\": 544\r\n    },\r\n    \"v\": {\r\n      \"x_min\": 12,\r\n      \"x_max\": 455,\r\n      \"y_min\": 0,\r\n      \"y_max\": 486,\r\n      \"ha\": 486,\r\n      \"leftSideBearing\": 12,\r\n      \"advanceWidth\": 467\r\n    },\r\n    \"w\": {\r\n      \"x_min\": 24,\r\n      \"x_max\": 694,\r\n      \"y_min\": 0,\r\n      \"y_max\": 486,\r\n      \"ha\": 486,\r\n      \"leftSideBearing\": 24,\r\n      \"advanceWidth\": 718\r\n    },\r\n    \"x\": {\r\n      \"x_min\": 14,\r\n      \"x_max\": 432,\r\n      \"y_min\": 0,\r\n      \"y_max\": 486,\r\n      \"ha\": 486,\r\n      \"leftSideBearing\": 14,\r\n      \"advanceWidth\": 446\r\n    },\r\n    \"y\": {\r\n      \"x_min\": 12,\r\n      \"x_max\": 455,\r\n      \"y_min\": -209,\r\n      \"y_max\": 486,\r\n      \"ha\": 695,\r\n      \"leftSideBearing\": 12,\r\n      \"advanceWidth\": 467\r\n    },\r\n    \"z\": {\r\n      \"x_min\": 31,\r\n      \"x_max\": 399,\r\n      \"y_min\": 0,\r\n      \"y_max\": 486,\r\n      \"ha\": 486,\r\n      \"leftSideBearing\": 31,\r\n      \"advanceWidth\": 425\r\n    },\r\n    \"{\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 273,\r\n      \"y_min\": -152,\r\n      \"y_max\": 708,\r\n      \"ha\": 860,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 303\r\n    },\r\n    \"|\": {\r\n      \"x_min\": 92,\r\n      \"x_max\": 150,\r\n      \"y_min\": -250,\r\n      \"y_max\": 750,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 92,\r\n      \"advanceWidth\": 241\r\n    },\r\n    \"}\": {\r\n      \"x_min\": 31,\r\n      \"x_max\": 269,\r\n      \"y_min\": -152,\r\n      \"y_max\": 708,\r\n      \"ha\": 860,\r\n      \"leftSideBearing\": 31,\r\n      \"advanceWidth\": 303\r\n    },\r\n    \"~\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 461,\r\n      \"y_min\": 257,\r\n      \"y_max\": 403,\r\n      \"ha\": 146,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 497\r\n    }\r\n  },\r\n};\r\n","export const SourceSerifProFont = {\r\n  smufl: false,\r\n  name: \"Serif\",\r\n  spacing: 50,\r\n  description: \"Open-source Serif font from Adobe\",\r\n  serifs: true,\r\n  monospaced: false,\r\n  superscriptOffset: 0.66,\r\n  subscriptOffset: 0.66,\r\n  maxSizeGlyph: 'H',\r\n  \"fontFamily\": \"Source Serif Pro\",\r\n  \"resolution\": 1000,\r\n  \"glyphs\": {\r\n    \"0\": {\r\n      \"x_min\": 41,\r\n      \"x_max\": 460,\r\n      \"y_min\": -13,\r\n      \"y_max\": 659,\r\n      \"ha\": 672,\r\n      \"leftSideBearing\": 41,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"1\": {\r\n      \"x_min\": 74,\r\n      \"x_max\": 445,\r\n      \"y_min\": 0,\r\n      \"y_max\": 654,\r\n      \"ha\": 654,\r\n      \"leftSideBearing\": 74,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"2\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 460,\r\n      \"y_min\": 0,\r\n      \"y_max\": 659,\r\n      \"ha\": 659,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"3\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 460,\r\n      \"y_min\": -13,\r\n      \"y_max\": 659,\r\n      \"ha\": 672,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"4\": {\r\n      \"x_min\": 24,\r\n      \"x_max\": 484,\r\n      \"y_min\": 0,\r\n      \"y_max\": 655,\r\n      \"ha\": 655,\r\n      \"leftSideBearing\": 24,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"5\": {\r\n      \"x_min\": 38,\r\n      \"x_max\": 458,\r\n      \"y_min\": -13,\r\n      \"y_max\": 646,\r\n      \"ha\": 659,\r\n      \"leftSideBearing\": 38,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"6\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 457,\r\n      \"y_min\": -13,\r\n      \"y_max\": 659,\r\n      \"ha\": 672,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"7\": {\r\n      \"x_min\": 51,\r\n      \"x_max\": 464,\r\n      \"y_min\": 0,\r\n      \"y_max\": 646,\r\n      \"ha\": 646,\r\n      \"leftSideBearing\": 51,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"8\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 455,\r\n      \"y_min\": -13,\r\n      \"y_max\": 659,\r\n      \"ha\": 672,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"9\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 450,\r\n      \"y_min\": -20,\r\n      \"y_max\": 659,\r\n      \"ha\": 679,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \" \": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 0,\r\n      \"y_min\": 0,\r\n      \"y_max\": 0,\r\n      \"ha\": 0,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 233\r\n    },\r\n    \"!\": {\r\n      \"x_min\": 80,\r\n      \"x_max\": 209,\r\n      \"y_min\": -13,\r\n      \"y_max\": 684,\r\n      \"ha\": 697,\r\n      \"leftSideBearing\": 80,\r\n      \"advanceWidth\": 289\r\n    },\r\n    \"\\\"\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 315,\r\n      \"y_min\": 429,\r\n      \"y_max\": 737,\r\n      \"ha\": 308,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 356\r\n    },\r\n    \"#\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 502,\r\n      \"y_min\": 0,\r\n      \"y_max\": 650,\r\n      \"ha\": 650,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 526\r\n    },\r\n    \"$\": {\r\n      \"x_min\": 51,\r\n      \"x_max\": 464,\r\n      \"y_min\": -115,\r\n      \"y_max\": 749,\r\n      \"ha\": 864,\r\n      \"leftSideBearing\": 51,\r\n      \"advanceWidth\": 500\r\n    },\r\n    \"%\": {\r\n      \"x_min\": 69,\r\n      \"x_max\": 792,\r\n      \"y_min\": -25,\r\n      \"y_max\": 669,\r\n      \"ha\": 694,\r\n      \"leftSideBearing\": 69,\r\n      \"advanceWidth\": 861\r\n    },\r\n    \"&\": {\r\n      \"x_min\": 27,\r\n      \"x_max\": 675,\r\n      \"y_min\": -13,\r\n      \"y_max\": 684,\r\n      \"ha\": 697,\r\n      \"leftSideBearing\": 27,\r\n      \"advanceWidth\": 720\r\n    },\r\n    \"'\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 143,\r\n      \"y_min\": 429,\r\n      \"y_max\": 737,\r\n      \"ha\": 308,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 183\r\n    },\r\n    \"(\": {\r\n      \"x_min\": 80,\r\n      \"x_max\": 314,\r\n      \"y_min\": -192,\r\n      \"y_max\": 748,\r\n      \"ha\": 940,\r\n      \"leftSideBearing\": 80,\r\n      \"advanceWidth\": 339\r\n    },\r\n    \")\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 259,\r\n      \"y_min\": -192,\r\n      \"y_max\": 748,\r\n      \"ha\": 940,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 339\r\n    },\r\n    \"*\": {\r\n      \"x_min\": 20,\r\n      \"x_max\": 420,\r\n      \"y_min\": 363,\r\n      \"y_max\": 747,\r\n      \"ha\": 384,\r\n      \"leftSideBearing\": 20,\r\n      \"advanceWidth\": 439\r\n    },\r\n    \"+\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 502,\r\n      \"y_min\": 77,\r\n      \"y_max\": 577,\r\n      \"ha\": 500,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 531\r\n    },\r\n    \",\": {\r\n      \"x_min\": 6,\r\n      \"x_max\": 213,\r\n      \"y_min\": -224,\r\n      \"y_max\": 130,\r\n      \"ha\": 354,\r\n      \"leftSideBearing\": 6,\r\n      \"advanceWidth\": 300\r\n    },\r\n    \"-\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 272,\r\n      \"y_min\": 218,\r\n      \"y_max\": 284,\r\n      \"ha\": 66,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 312\r\n    },\r\n    \".\": {\r\n      \"x_min\": 79,\r\n      \"x_max\": 221,\r\n      \"y_min\": -13,\r\n      \"y_max\": 130,\r\n      \"ha\": 143,\r\n      \"leftSideBearing\": 79,\r\n      \"advanceWidth\": 300\r\n    },\r\n    \"/\": {\r\n      \"x_min\": 2,\r\n      \"x_max\": 328,\r\n      \"y_min\": -160,\r\n      \"y_max\": 710,\r\n      \"ha\": 870,\r\n      \"leftSideBearing\": 2,\r\n      \"advanceWidth\": 330\r\n    },\r\n    \":\": {\r\n      \"x_min\": 79,\r\n      \"x_max\": 221,\r\n      \"y_min\": -13,\r\n      \"y_max\": 493,\r\n      \"ha\": 506,\r\n      \"leftSideBearing\": 79,\r\n      \"advanceWidth\": 300\r\n    },\r\n    \";\": {\r\n      \"x_min\": 6,\r\n      \"x_max\": 221,\r\n      \"y_min\": -224,\r\n      \"y_max\": 493,\r\n      \"ha\": 717,\r\n      \"leftSideBearing\": 6,\r\n      \"advanceWidth\": 300\r\n    },\r\n    \"<\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 474,\r\n      \"y_min\": 81,\r\n      \"y_max\": 578,\r\n      \"ha\": 497,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 531\r\n    },\r\n    \"=\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 502,\r\n      \"y_min\": 201,\r\n      \"y_max\": 458,\r\n      \"ha\": 257,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 531\r\n    },\r\n    \">\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 474,\r\n      \"y_min\": 81,\r\n      \"y_max\": 578,\r\n      \"ha\": 497,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 531\r\n    },\r\n    \"?\": {\r\n      \"x_min\": 66,\r\n      \"x_max\": 350,\r\n      \"y_min\": -13,\r\n      \"y_max\": 684,\r\n      \"ha\": 697,\r\n      \"leftSideBearing\": 66,\r\n      \"advanceWidth\": 416\r\n    },\r\n    \"@\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 800,\r\n      \"y_min\": -155,\r\n      \"y_max\": 660,\r\n      \"ha\": 815,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 835\r\n    },\r\n    \"A\": {\r\n      \"x_min\": 5,\r\n      \"x_max\": 653,\r\n      \"y_min\": 0,\r\n      \"y_max\": 674,\r\n      \"ha\": 674,\r\n      \"leftSideBearing\": 5,\r\n      \"advanceWidth\": 664\r\n    },\r\n    \"B\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 586,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 629\r\n    },\r\n    \"C\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 592,\r\n      \"y_min\": -15,\r\n      \"y_max\": 684,\r\n      \"ha\": 699,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 631\r\n    },\r\n    \"D\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 663,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 710\r\n    },\r\n    \"E\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 569,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 603\r\n    },\r\n    \"F\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 549,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 579\r\n    },\r\n    \"G\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 667,\r\n      \"y_min\": -15,\r\n      \"y_max\": 684,\r\n      \"ha\": 699,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"H\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 744,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 789\r\n    },\r\n    \"I\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 327,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 371\r\n    },\r\n    \"J\": {\r\n      \"x_min\": -43,\r\n      \"x_max\": 340,\r\n      \"y_min\": -163,\r\n      \"y_max\": 669,\r\n      \"ha\": 832,\r\n      \"leftSideBearing\": -43,\r\n      \"advanceWidth\": 374\r\n    },\r\n    \"K\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 662,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 667\r\n    },\r\n    \"L\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 552,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 596\r\n    },\r\n    \"M\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 857,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 902\r\n    },\r\n    \"N\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 695,\r\n      \"y_min\": -7,\r\n      \"y_max\": 669,\r\n      \"ha\": 676,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 735\r\n    },\r\n    \"O\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 660,\r\n      \"y_min\": -15,\r\n      \"y_max\": 684,\r\n      \"ha\": 699,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 707\r\n    },\r\n    \"P\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 567,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 589\r\n    },\r\n    \"Q\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 660,\r\n      \"y_min\": -216,\r\n      \"y_max\": 684,\r\n      \"ha\": 900,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 707\r\n    },\r\n    \"R\": {\r\n      \"x_min\": 44,\r\n      \"x_max\": 637,\r\n      \"y_min\": -10,\r\n      \"y_max\": 669,\r\n      \"ha\": 679,\r\n      \"leftSideBearing\": 44,\r\n      \"advanceWidth\": 651\r\n    },\r\n    \"S\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 472,\r\n      \"y_min\": -15,\r\n      \"y_max\": 684,\r\n      \"ha\": 699,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 512\r\n    },\r\n    \"T\": {\r\n      \"x_min\": 20,\r\n      \"x_max\": 584,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 20,\r\n      \"advanceWidth\": 604\r\n    },\r\n    \"U\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 693,\r\n      \"y_min\": -15,\r\n      \"y_max\": 669,\r\n      \"ha\": 684,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 727\r\n    },\r\n    \"V\": {\r\n      \"x_min\": 15,\r\n      \"x_max\": 665,\r\n      \"y_min\": -7,\r\n      \"y_max\": 669,\r\n      \"ha\": 676,\r\n      \"leftSideBearing\": 15,\r\n      \"advanceWidth\": 674\r\n    },\r\n    \"W\": {\r\n      \"x_min\": 15,\r\n      \"x_max\": 953,\r\n      \"y_min\": -7,\r\n      \"y_max\": 669,\r\n      \"ha\": 676,\r\n      \"leftSideBearing\": 15,\r\n      \"advanceWidth\": 962\r\n    },\r\n    \"X\": {\r\n      \"x_min\": 10,\r\n      \"x_max\": 639,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 10,\r\n      \"advanceWidth\": 648\r\n    },\r\n    \"Y\": {\r\n      \"x_min\": 15,\r\n      \"x_max\": 623,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 15,\r\n      \"advanceWidth\": 633\r\n    },\r\n    \"Z\": {\r\n      \"x_min\": 20,\r\n      \"x_max\": 531,\r\n      \"y_min\": 0,\r\n      \"y_max\": 669,\r\n      \"ha\": 669,\r\n      \"leftSideBearing\": 20,\r\n      \"advanceWidth\": 551\r\n    },\r\n    \"[\": {\r\n      \"x_min\": 100,\r\n      \"x_max\": 291,\r\n      \"y_min\": -159,\r\n      \"y_max\": 715,\r\n      \"ha\": 874,\r\n      \"leftSideBearing\": 100,\r\n      \"advanceWidth\": 320\r\n    },\r\n    \"\\\\\": {\r\n      \"x_min\": 2,\r\n      \"x_max\": 328,\r\n      \"y_min\": -160,\r\n      \"y_max\": 710,\r\n      \"ha\": 870,\r\n      \"leftSideBearing\": 2,\r\n      \"advanceWidth\": 330\r\n    },\r\n    \"]\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 220,\r\n      \"y_min\": -159,\r\n      \"y_max\": 715,\r\n      \"ha\": 874,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 320\r\n    },\r\n    \"^\": {\r\n      \"x_min\": 88,\r\n      \"x_max\": 446,\r\n      \"y_min\": 208,\r\n      \"y_max\": 481,\r\n      \"ha\": 273,\r\n      \"leftSideBearing\": 88,\r\n      \"advanceWidth\": 531\r\n    },\r\n    \"_\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 472,\r\n      \"y_min\": -66,\r\n      \"y_max\": 0,\r\n      \"ha\": 66,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 512\r\n    },\r\n    \"`\": {\r\n      \"x_min\": 75,\r\n      \"x_max\": 256,\r\n      \"y_min\": 557,\r\n      \"y_max\": 758,\r\n      \"ha\": 201,\r\n      \"leftSideBearing\": 75,\r\n      \"advanceWidth\": 400\r\n    },\r\n    \"a\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 503,\r\n      \"y_min\": -13,\r\n      \"y_max\": 488,\r\n      \"ha\": 501,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 509\r\n    },\r\n    \"b\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 532,\r\n      \"y_min\": -13,\r\n      \"y_max\": 739,\r\n      \"ha\": 752,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 577\r\n    },\r\n    \"c\": {\r\n      \"x_min\": 42,\r\n      \"x_max\": 453,\r\n      \"y_min\": -13,\r\n      \"y_max\": 488,\r\n      \"ha\": 501,\r\n      \"leftSideBearing\": 42,\r\n      \"advanceWidth\": 488\r\n    },\r\n    \"d\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 551,\r\n      \"y_min\": -13,\r\n      \"y_max\": 739,\r\n      \"ha\": 752,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 567\r\n    },\r\n    \"e\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 461,\r\n      \"y_min\": -13,\r\n      \"y_max\": 488,\r\n      \"ha\": 501,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 510\r\n    },\r\n    \"f\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 426,\r\n      \"y_min\": 0,\r\n      \"y_max\": 749,\r\n      \"ha\": 749,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 354\r\n    },\r\n    \"g\": {\r\n      \"x_min\": 36,\r\n      \"x_max\": 495,\r\n      \"y_min\": -239,\r\n      \"y_max\": 488,\r\n      \"ha\": 727,\r\n      \"leftSideBearing\": 36,\r\n      \"advanceWidth\": 518\r\n    },\r\n    \"h\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 571,\r\n      \"y_min\": 0,\r\n      \"y_max\": 739,\r\n      \"ha\": 739,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 601\r\n    },\r\n    \"i\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 267,\r\n      \"y_min\": 0,\r\n      \"y_max\": 726,\r\n      \"ha\": 726,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 298\r\n    },\r\n    \"j\": {\r\n      \"x_min\": -83,\r\n      \"x_max\": 220,\r\n      \"y_min\": -249,\r\n      \"y_max\": 726,\r\n      \"ha\": 975,\r\n      \"leftSideBearing\": -83,\r\n      \"advanceWidth\": 277\r\n    },\r\n    \"k\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 547,\r\n      \"y_min\": 0,\r\n      \"y_max\": 739,\r\n      \"ha\": 739,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 547\r\n    },\r\n    \"l\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 273,\r\n      \"y_min\": 0,\r\n      \"y_max\": 739,\r\n      \"ha\": 739,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 298\r\n    },\r\n    \"m\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 872,\r\n      \"y_min\": 0,\r\n      \"y_max\": 488,\r\n      \"ha\": 488,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 901\r\n    },\r\n    \"n\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 576,\r\n      \"y_min\": 0,\r\n      \"y_max\": 488,\r\n      \"ha\": 488,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 606\r\n    },\r\n    \"o\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 504,\r\n      \"y_min\": -13,\r\n      \"y_max\": 488,\r\n      \"ha\": 501,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 549\r\n    },\r\n    \"p\": {\r\n      \"x_min\": 35,\r\n      \"x_max\": 538,\r\n      \"y_min\": -239,\r\n      \"y_max\": 488,\r\n      \"ha\": 727,\r\n      \"leftSideBearing\": 35,\r\n      \"advanceWidth\": 583\r\n    },\r\n    \"q\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 556,\r\n      \"y_min\": -239,\r\n      \"y_max\": 488,\r\n      \"ha\": 727,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 557\r\n    },\r\n    \"r\": {\r\n      \"x_min\": 34,\r\n      \"x_max\": 416,\r\n      \"y_min\": 0,\r\n      \"y_max\": 488,\r\n      \"ha\": 488,\r\n      \"leftSideBearing\": 34,\r\n      \"advanceWidth\": 423\r\n    },\r\n    \"s\": {\r\n      \"x_min\": 47,\r\n      \"x_max\": 395,\r\n      \"y_min\": -13,\r\n      \"y_max\": 488,\r\n      \"ha\": 501,\r\n      \"leftSideBearing\": 47,\r\n      \"advanceWidth\": 434\r\n    },\r\n    \"t\": {\r\n      \"x_min\": 9,\r\n      \"x_max\": 323,\r\n      \"y_min\": -13,\r\n      \"y_max\": 611,\r\n      \"ha\": 624,\r\n      \"leftSideBearing\": 9,\r\n      \"advanceWidth\": 325\r\n    },\r\n    \"u\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 549,\r\n      \"y_min\": -13,\r\n      \"y_max\": 481,\r\n      \"ha\": 494,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 583\r\n    },\r\n    \"v\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 496,\r\n      \"y_min\": -6,\r\n      \"y_max\": 475,\r\n      \"ha\": 481,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 505\r\n    },\r\n    \"w\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 754,\r\n      \"y_min\": -6,\r\n      \"y_max\": 475,\r\n      \"ha\": 481,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 764\r\n    },\r\n    \"x\": {\r\n      \"x_min\": 10,\r\n      \"x_max\": 516,\r\n      \"y_min\": 0,\r\n      \"y_max\": 475,\r\n      \"ha\": 475,\r\n      \"leftSideBearing\": 10,\r\n      \"advanceWidth\": 526\r\n    },\r\n    \"y\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 512,\r\n      \"y_min\": -249,\r\n      \"y_max\": 475,\r\n      \"ha\": 724,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 512\r\n    },\r\n    \"z\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 431,\r\n      \"y_min\": 0,\r\n      \"y_max\": 475,\r\n      \"ha\": 475,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 456\r\n    },\r\n    \"{\": {\r\n      \"x_min\": 40,\r\n      \"x_max\": 314,\r\n      \"y_min\": -159,\r\n      \"y_max\": 715,\r\n      \"ha\": 874,\r\n      \"leftSideBearing\": 40,\r\n      \"advanceWidth\": 344\r\n    },\r\n    \"|\": {\r\n      \"x_min\": 96,\r\n      \"x_max\": 155,\r\n      \"y_min\": -250,\r\n      \"y_max\": 750,\r\n      \"ha\": 1000,\r\n      \"leftSideBearing\": 96,\r\n      \"advanceWidth\": 251\r\n    },\r\n    \"}\": {\r\n      \"x_min\": 30,\r\n      \"x_max\": 304,\r\n      \"y_min\": -159,\r\n      \"y_max\": 715,\r\n      \"ha\": 874,\r\n      \"leftSideBearing\": 30,\r\n      \"advanceWidth\": 344\r\n    },\r\n    \"~\": {\r\n      \"x_min\": 49,\r\n      \"x_max\": 482,\r\n      \"y_min\": 268,\r\n      \"y_max\": 422,\r\n      \"ha\": 154,\r\n      \"leftSideBearing\": 49,\r\n      \"advanceWidth\": 531\r\n    }\r\n  },\r\n  \"generatedOn\": \"2020-11-01T21:35:39.674Z\"\r\n};\r\n","export const TimesFont = {\r\n  smufl: false,\r\n  name: \"Times New Roman\",\r\n  spacing: 50,\r\n  Description: 'Built-in serif font',\r\n  bold: true,\r\n  italic: true,\r\n  monospaced: false,\r\n  serifs: true,\r\n\r\n  \"glyphs\": {\r\n    \"0\": {\r\n      \"x_min\": 49,\r\n      \"x_max\": 975,\r\n      \"y_min\": -27,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1410,\r\n      \"leftSideBearing\": 49,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"1\": {\r\n      \"x_min\": 227,\r\n      \"x_max\": 811,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1383,\r\n      \"leftSideBearing\": 227,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"2\": {\r\n      \"x_min\": 61,\r\n      \"x_max\": 965,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1383,\r\n      \"leftSideBearing\": 61,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"3\": {\r\n      \"x_min\": 88,\r\n      \"x_max\": 883,\r\n      \"y_min\": -27,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1410,\r\n      \"leftSideBearing\": 88,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"4\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 967,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1384,\r\n      \"ha\": 1384,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"5\": {\r\n      \"x_min\": 66,\r\n      \"x_max\": 898,\r\n      \"y_min\": -27,\r\n      \"y_max\": 1409,\r\n      \"ha\": 1436,\r\n      \"leftSideBearing\": 66,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"6\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 958,\r\n      \"y_min\": -27,\r\n      \"y_max\": 1401,\r\n      \"ha\": 1428,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"7\": {\r\n      \"x_min\": 41,\r\n      \"x_max\": 920,\r\n      \"y_min\": -16,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1372,\r\n      \"leftSideBearing\": 41,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"8\": {\r\n      \"x_min\": 115,\r\n      \"x_max\": 911,\r\n      \"y_min\": -27,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1410,\r\n      \"leftSideBearing\": 115,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"9\": {\r\n      \"x_min\": 61,\r\n      \"x_max\": 940,\r\n      \"y_min\": -41,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1424,\r\n      \"leftSideBearing\": 61,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \" \": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 0,\r\n      \"y_min\": 0,\r\n      \"y_max\": 0,\r\n      \"ha\": 0,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 512\r\n    },\r\n    \"!\": {\r\n      \"x_min\": 266,\r\n      \"x_max\": 488,\r\n      \"y_min\": -22,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1405,\r\n      \"leftSideBearing\": 266,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"\\\"\": {\r\n      \"x_min\": 157.2000021972655,\r\n      \"x_max\": 678.2500021457677,\r\n      \"y_min\": 881,\r\n      \"y_max\": 1385,\r\n      \"ha\": 504,\r\n      \"leftSideBearing\": 157,\r\n      \"advanceWidth\": 836\r\n    },\r\n    \"#\": {\r\n      \"x_min\": 10,\r\n      \"x_max\": 1016,\r\n      \"y_min\": -1,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1357,\r\n      \"leftSideBearing\": 10,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"$\": {\r\n      \"x_min\": 90,\r\n      \"x_max\": 936,\r\n      \"y_min\": -180,\r\n      \"y_max\": 1492,\r\n      \"ha\": 1672,\r\n      \"leftSideBearing\": 90,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"%\": {\r\n      \"x_min\": 125,\r\n      \"x_max\": 1581,\r\n      \"y_min\": -30,\r\n      \"y_max\": 1388,\r\n      \"ha\": 1418,\r\n      \"leftSideBearing\": 125,\r\n      \"advanceWidth\": 1706\r\n    },\r\n    \"&\": {\r\n      \"x_min\": 86,\r\n      \"x_max\": 1536,\r\n      \"y_min\": -28,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1411,\r\n      \"leftSideBearing\": 86,\r\n      \"advanceWidth\": 1593\r\n    },\r\n    \"'\": {\r\n      \"x_min\": 97.20000219726548,\r\n      \"x_max\": 273.2500021457677,\r\n      \"y_min\": 881,\r\n      \"y_max\": 1385,\r\n      \"ha\": 504,\r\n      \"leftSideBearing\": 97,\r\n      \"advanceWidth\": 369\r\n    },\r\n    \"(\": {\r\n      \"x_min\": 98,\r\n      \"x_max\": 623,\r\n      \"y_min\": -363,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1746,\r\n      \"leftSideBearing\": 98,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \")\": {\r\n      \"x_min\": 59,\r\n      \"x_max\": 584,\r\n      \"y_min\": -363,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1746,\r\n      \"leftSideBearing\": 59,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"*\": {\r\n      \"x_min\": 137.96078522291893,\r\n      \"x_max\": 886.039214777081,\r\n      \"y_min\": 543,\r\n      \"y_max\": 1383,\r\n      \"ha\": 840,\r\n      \"leftSideBearing\": 137,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"+\": {\r\n      \"x_min\": 61,\r\n      \"x_max\": 1093,\r\n      \"y_min\": 2,\r\n      \"y_max\": 1034,\r\n      \"ha\": 1032,\r\n      \"leftSideBearing\": 61,\r\n      \"advanceWidth\": 1155\r\n    },\r\n    \",\": {\r\n      \"x_min\": 115,\r\n      \"x_max\": 399,\r\n      \"y_min\": -291,\r\n      \"y_max\": 208,\r\n      \"ha\": 499,\r\n      \"leftSideBearing\": 115,\r\n      \"advanceWidth\": 512\r\n    },\r\n    \"-\": {\r\n      \"x_min\": 80,\r\n      \"x_max\": 584,\r\n      \"y_min\": 396,\r\n      \"y_max\": 525,\r\n      \"ha\": 129,\r\n      \"leftSideBearing\": 80,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \".\": {\r\n      \"x_min\": 143,\r\n      \"x_max\": 371,\r\n      \"y_min\": -22,\r\n      \"y_max\": 205,\r\n      \"ha\": 227,\r\n      \"leftSideBearing\": 143,\r\n      \"advanceWidth\": 512\r\n    },\r\n    \"/\": {\r\n      \"x_min\": -17,\r\n      \"x_max\": 586,\r\n      \"y_min\": -27,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1410,\r\n      \"leftSideBearing\": -17,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \":\": {\r\n      \"x_min\": 166,\r\n      \"x_max\": 394,\r\n      \"y_min\": -22,\r\n      \"y_max\": 943,\r\n      \"ha\": 965,\r\n      \"leftSideBearing\": 166,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \";\": {\r\n      \"x_min\": 164,\r\n      \"x_max\": 448,\r\n      \"y_min\": -290,\r\n      \"y_max\": 943,\r\n      \"ha\": 1233,\r\n      \"leftSideBearing\": 164,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"<\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 1098,\r\n      \"y_min\": -15,\r\n      \"y_max\": 1051,\r\n      \"ha\": 1066,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 1155\r\n    },\r\n    \"=\": {\r\n      \"x_min\": 61,\r\n      \"x_max\": 1093,\r\n      \"y_min\": 246,\r\n      \"y_max\": 791,\r\n      \"ha\": 545,\r\n      \"leftSideBearing\": 61,\r\n      \"advanceWidth\": 1155\r\n    },\r\n    \">\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 1098,\r\n      \"y_min\": -15,\r\n      \"y_max\": 1051,\r\n      \"ha\": 1066,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 1155\r\n    },\r\n    \"?\": {\r\n      \"x_min\": 139,\r\n      \"x_max\": 848,\r\n      \"y_min\": -15,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1398,\r\n      \"leftSideBearing\": 139,\r\n      \"advanceWidth\": 909\r\n    },\r\n    \"@\": {\r\n      \"x_min\": 238,\r\n      \"x_max\": 1657,\r\n      \"y_min\": -29,\r\n      \"y_max\": 1386,\r\n      \"ha\": 1415,\r\n      \"leftSideBearing\": 238,\r\n      \"advanceWidth\": 1886\r\n    },\r\n    \"A\": {\r\n      \"x_min\": 31,\r\n      \"x_max\": 1445,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1380,\r\n      \"ha\": 1380,\r\n      \"leftSideBearing\": 31,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"B\": {\r\n      \"x_min\": 35,\r\n      \"x_max\": 1214,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 35,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"C\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 1296,\r\n      \"y_min\": -28,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1411,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"D\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 1403,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"E\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 1222,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 1251\r\n    },\r\n    \"F\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 1119,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"G\": {\r\n      \"x_min\": 66,\r\n      \"x_max\": 1452,\r\n      \"y_min\": -28,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1411,\r\n      \"leftSideBearing\": 66,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"H\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 1438,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"I\": {\r\n      \"x_min\": 37,\r\n      \"x_max\": 642,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 37,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"J\": {\r\n      \"x_min\": 20,\r\n      \"x_max\": 758,\r\n      \"y_min\": -28,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1384,\r\n      \"leftSideBearing\": 20,\r\n      \"advanceWidth\": 797\r\n    },\r\n    \"K\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 1479,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"L\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 1224,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 1251\r\n    },\r\n    \"M\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 1768,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 1821\r\n    },\r\n    \"N\": {\r\n      \"x_min\": 25,\r\n      \"x_max\": 1450,\r\n      \"y_min\": -22,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1378,\r\n      \"leftSideBearing\": 25,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"O\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 1409,\r\n      \"y_min\": -28,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1411,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"P\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 1110,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"Q\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 1435,\r\n      \"y_min\": -364.28571588721996,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1747.28571588722,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"R\": {\r\n      \"x_min\": 35,\r\n      \"x_max\": 1347,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 35,\r\n      \"advanceWidth\": 1366\r\n    },\r\n    \"S\": {\r\n      \"x_min\": 86,\r\n      \"x_max\": 1006,\r\n      \"y_min\": -28,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1411,\r\n      \"leftSideBearing\": 86,\r\n      \"advanceWidth\": 1139\r\n    },\r\n    \"T\": {\r\n      \"x_min\": 35,\r\n      \"x_max\": 1214,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 35,\r\n      \"advanceWidth\": 1251\r\n    },\r\n    \"U\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 1444,\r\n      \"y_min\": -28,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1384,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"V\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 1428,\r\n      \"y_min\": -22,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1378,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"W\": {\r\n      \"x_min\": 10,\r\n      \"x_max\": 1906,\r\n      \"y_min\": -22,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1378,\r\n      \"leftSideBearing\": 10,\r\n      \"advanceWidth\": 1933\r\n    },\r\n    \"X\": {\r\n      \"x_min\": 20,\r\n      \"x_max\": 1449,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 20,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"Y\": {\r\n      \"x_min\": 45,\r\n      \"x_max\": 1441,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 45,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"Z\": {\r\n      \"x_min\": 18,\r\n      \"x_max\": 1222,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1356,\r\n      \"ha\": 1356,\r\n      \"leftSideBearing\": 18,\r\n      \"advanceWidth\": 1251\r\n    },\r\n    \"[\": {\r\n      \"x_min\": 180,\r\n      \"x_max\": 612,\r\n      \"y_min\": -319,\r\n      \"y_max\": 1355,\r\n      \"ha\": 1674,\r\n      \"leftSideBearing\": 180,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"\\\\\": {\r\n      \"x_min\": -17,\r\n      \"x_max\": 586,\r\n      \"y_min\": -27,\r\n      \"y_max\": 1383,\r\n      \"ha\": 1410,\r\n      \"leftSideBearing\": -17,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"]\": {\r\n      \"x_min\": 70,\r\n      \"x_max\": 502,\r\n      \"y_min\": -319,\r\n      \"y_max\": 1355,\r\n      \"ha\": 1674,\r\n      \"leftSideBearing\": 70,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"^\": {\r\n      \"x_min\": 49,\r\n      \"x_max\": 914,\r\n      \"y_min\": 608,\r\n      \"y_max\": 1355,\r\n      \"ha\": 747,\r\n      \"leftSideBearing\": 49,\r\n      \"advanceWidth\": 961\r\n    },\r\n    \"_\": {\r\n      \"x_min\": 0,\r\n      \"x_max\": 1024,\r\n      \"y_min\": -255,\r\n      \"y_max\": -153,\r\n      \"ha\": 102,\r\n      \"leftSideBearing\": 0,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"`\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 499,\r\n      \"y_min\": 1037,\r\n      \"y_max\": 1392.509803639748,\r\n      \"ha\": 355.50980363974804,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"a\": {\r\n      \"x_min\": 76,\r\n      \"x_max\": 905,\r\n      \"y_min\": -20,\r\n      \"y_max\": 942,\r\n      \"ha\": 962,\r\n      \"leftSideBearing\": 76,\r\n      \"advanceWidth\": 909\r\n    },\r\n    \"b\": {\r\n      \"x_min\": 6,\r\n      \"x_max\": 958,\r\n      \"y_min\": -20,\r\n      \"y_max\": 1399,\r\n      \"ha\": 1419,\r\n      \"leftSideBearing\": 6,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"c\": {\r\n      \"x_min\": 51,\r\n      \"x_max\": 843,\r\n      \"y_min\": -20,\r\n      \"y_max\": 942,\r\n      \"ha\": 962,\r\n      \"leftSideBearing\": 51,\r\n      \"advanceWidth\": 909\r\n    },\r\n    \"d\": {\r\n      \"x_min\": 55,\r\n      \"x_max\": 1006,\r\n      \"y_min\": -20,\r\n      \"y_max\": 1399,\r\n      \"ha\": 1419,\r\n      \"leftSideBearing\": 55,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"e\": {\r\n      \"x_min\": 51,\r\n      \"x_max\": 868,\r\n      \"y_min\": -20,\r\n      \"y_max\": 942,\r\n      \"ha\": 962,\r\n      \"leftSideBearing\": 51,\r\n      \"advanceWidth\": 909\r\n    },\r\n    \"f\": {\r\n      \"x_min\": 41,\r\n      \"x_max\": 783,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1399,\r\n      \"ha\": 1399,\r\n      \"leftSideBearing\": 41,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"g\": {\r\n      \"x_min\": 57,\r\n      \"x_max\": 963,\r\n      \"y_min\": -446,\r\n      \"y_max\": 942,\r\n      \"ha\": 1388,\r\n      \"leftSideBearing\": 57,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"h\": {\r\n      \"x_min\": 18,\r\n      \"x_max\": 997,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1399,\r\n      \"ha\": 1399,\r\n      \"leftSideBearing\": 18,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"i\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 516,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1399,\r\n      \"ha\": 1399,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"j\": {\r\n      \"x_min\": -142,\r\n      \"x_max\": 397,\r\n      \"y_min\": -446,\r\n      \"y_max\": 1399,\r\n      \"ha\": 1845,\r\n      \"leftSideBearing\": -142,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"k\": {\r\n      \"x_min\": 14,\r\n      \"x_max\": 1029,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1399,\r\n      \"ha\": 1399,\r\n      \"leftSideBearing\": 14,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"l\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 523,\r\n      \"y_min\": 0,\r\n      \"y_max\": 1399,\r\n      \"ha\": 1399,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"m\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 1587,\r\n      \"y_min\": 0,\r\n      \"y_max\": 944,\r\n      \"ha\": 944,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 1593\r\n    },\r\n    \"n\": {\r\n      \"x_min\": 33,\r\n      \"x_max\": 993,\r\n      \"y_min\": 0,\r\n      \"y_max\": 944,\r\n      \"ha\": 944,\r\n      \"leftSideBearing\": 33,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"o\": {\r\n      \"x_min\": 59,\r\n      \"x_max\": 963,\r\n      \"y_min\": -20,\r\n      \"y_max\": 942,\r\n      \"ha\": 962,\r\n      \"leftSideBearing\": 59,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"p\": {\r\n      \"x_min\": 10,\r\n      \"x_max\": 964,\r\n      \"y_min\": -443,\r\n      \"y_max\": 944,\r\n      \"ha\": 1387,\r\n      \"leftSideBearing\": 10,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"q\": {\r\n      \"x_min\": 49,\r\n      \"x_max\": 999,\r\n      \"y_min\": -443,\r\n      \"y_max\": 942.0135137169275,\r\n      \"ha\": 1385.0135137169275,\r\n      \"leftSideBearing\": 49,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"r\": {\r\n      \"x_min\": 10,\r\n      \"x_max\": 685,\r\n      \"y_min\": 0,\r\n      \"y_max\": 944,\r\n      \"ha\": 944,\r\n      \"leftSideBearing\": 10,\r\n      \"advanceWidth\": 682\r\n    },\r\n    \"s\": {\r\n      \"x_min\": 104,\r\n      \"x_max\": 713,\r\n      \"y_min\": -20,\r\n      \"y_max\": 942.0263161804552,\r\n      \"ha\": 962.0263161804552,\r\n      \"leftSideBearing\": 104,\r\n      \"advanceWidth\": 797\r\n    },\r\n    \"t\": {\r\n      \"x_min\": 27,\r\n      \"x_max\": 572,\r\n      \"y_min\": -18,\r\n      \"y_max\": 1186,\r\n      \"ha\": 1204,\r\n      \"leftSideBearing\": 27,\r\n      \"advanceWidth\": 569\r\n    },\r\n    \"u\": {\r\n      \"x_min\": 18,\r\n      \"x_max\": 981,\r\n      \"y_min\": -21,\r\n      \"y_max\": 921,\r\n      \"ha\": 942,\r\n      \"leftSideBearing\": 18,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"v\": {\r\n      \"x_min\": 39,\r\n      \"x_max\": 976,\r\n      \"y_min\": -28,\r\n      \"y_max\": 921,\r\n      \"ha\": 949,\r\n      \"leftSideBearing\": 39,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"w\": {\r\n      \"x_min\": 43,\r\n      \"x_max\": 1423,\r\n      \"y_min\": -28,\r\n      \"y_max\": 921,\r\n      \"ha\": 949,\r\n      \"leftSideBearing\": 43,\r\n      \"advanceWidth\": 1479\r\n    },\r\n    \"x\": {\r\n      \"x_min\": 35,\r\n      \"x_max\": 989,\r\n      \"y_min\": 0,\r\n      \"y_max\": 921,\r\n      \"ha\": 921,\r\n      \"leftSideBearing\": 35,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"y\": {\r\n      \"x_min\": 29,\r\n      \"x_max\": 976,\r\n      \"y_min\": -445,\r\n      \"y_max\": 921,\r\n      \"ha\": 1366,\r\n      \"leftSideBearing\": 29,\r\n      \"advanceWidth\": 1024\r\n    },\r\n    \"z\": {\r\n      \"x_min\": 55,\r\n      \"x_max\": 855,\r\n      \"y_min\": 0,\r\n      \"y_max\": 921,\r\n      \"ha\": 921,\r\n      \"leftSideBearing\": 55,\r\n      \"advanceWidth\": 909\r\n    },\r\n    \"{\": {\r\n      \"x_min\": 205,\r\n      \"x_max\": 717,\r\n      \"y_min\": -377,\r\n      \"y_max\": 1397,\r\n      \"ha\": 1774,\r\n      \"leftSideBearing\": 205,\r\n      \"advanceWidth\": 983\r\n    },\r\n    \"|\": {\r\n      \"x_min\": 137,\r\n      \"x_max\": 273,\r\n      \"y_min\": -512,\r\n      \"y_max\": 1535,\r\n      \"ha\": 2047,\r\n      \"leftSideBearing\": 137,\r\n      \"advanceWidth\": 410\r\n    },\r\n    \"}\": {\r\n      \"x_min\": 266,\r\n      \"x_max\": 778,\r\n      \"y_min\": -377,\r\n      \"y_max\": 1397,\r\n      \"ha\": 1774,\r\n      \"leftSideBearing\": 266,\r\n      \"advanceWidth\": 983\r\n    },\r\n    \"~\": {\r\n      \"x_min\": 82,\r\n      \"x_max\": 1028,\r\n      \"y_min\": 380,\r\n      \"y_max\": 666,\r\n      \"ha\": 286,\r\n      \"leftSideBearing\": 82,\r\n      \"advanceWidth\": 1108\r\n    }\r\n  },\r\n  \"fontFamily\": \"Times\",\r\n  \"resolution\": 2048,\r\n  \"generatedOn\": \"2020-10-18T19:03:12.514Z\"\r\n};\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../common/serializationHelpers';\r\nimport { suiController } from './controller';\r\nimport { SmoConfiguration } from '../smo/data/common';\r\nimport { SuiScoreRender } from '../render/sui/scoreRender';\r\nimport { suiMenuManager } from './menus';\r\nimport { SuiRenderDemon } from '../render/sui/layoutDemon';\r\nimport { SuiKeyCommands } from './keyCommands';\r\nimport { SuiScoreViewOperations } from '../render/sui/scoreViewOperations';\r\nimport { SmoScore } from '../smo/data/score';\r\nimport { SmoTranslationEditor } from './i18n/translationEditor';\r\nimport { SmoTranslator } from './i18n/language';\r\nimport { browserEventSource } from './eventSource';\r\nimport { SuiOscillator } from '../render/audio/oscillator';\r\nimport { ArialFont } from '../styles/font_metrics/arial_metrics';\r\nimport { TimesFont } from '../styles/font_metrics/times_metrics';\r\nimport { Commissioner_MediumFont } from '../styles/font_metrics/Commissioner-Medium-Metrics';\r\nimport { Concert_OneFont } from '../styles/font_metrics/ConcertOne-Regular';\r\nimport { MerriweatherFont } from '../styles/font_metrics/Merriweather-Regular';\r\nimport { SourceSansProFont } from '../styles/font_metrics/ssp-sans-metrics';\r\nimport { SourceSerifProFont } from '../styles/font_metrics/ssp-serif-metrics';\r\nimport { _MidiWriter } from '../common/midiWriter';\r\nimport { SuiDom } from './dom';\r\nimport { librarySeed } from './fileio/library';\r\n\r\ndeclare var SmoConfig : SmoConfiguration;\r\n\r\ninterface pairType { [key: string]: string }\r\n\r\ninterface loadedScore {\r\n  scorePath: string | null,\r\n  score: SmoScore | null,\r\n  mode: string\r\n}\r\nexport interface controllerKeyBinding {\r\n  event: string,\r\n  key: string,\r\n  ctrlKey: boolean,\r\n  altKey: boolean,\r\n  shiftKey: boolean,\r\n  action: string\r\n}\r\nexport interface controllerParams {\r\n  keyBindingDefaults: controllerKeyBinding[],\r\n  eventSource: browserEventSource\r\n  view: SuiScoreViewOperations,\r\n  keyCommands: SuiKeyCommands,\r\n  layoutDemon: SuiRenderDemon,\r\n  menus: suiMenuManager\r\n}\r\nconst VF = eval('Vex.Flow');\r\nconst Smo = eval('globalThis.Smo');\r\n\r\n/**\r\n * SuiScoreBuilder\r\n * create the initial score based on the query string/history\r\n */\r\nexport class SuiScoreBuilder {\r\n  localScoreLoad(): loadedScore {\r\n    var score = null;\r\n    var scoreStr = localStorage.getItem(smoSerialize.localScore);\r\n    if (scoreStr && scoreStr.length) {\r\n      try {\r\n        score = SmoScore.deserialize(scoreStr);\r\n      } catch (exp) {\r\n        console.log('could not parse ' + scoreStr);\r\n      }\r\n    }\r\n    return { score, scorePath: null, mode: 'local' };\r\n  }\r\n\r\n  queryScoreLoad(): loadedScore | null {\r\n    var i;\r\n    if (window.location.search) {\r\n      const cmd = window.location.search.substring(1, window.location.search.length);\r\n      const cmds = cmd.split('&');\r\n      for (i = 0; i < cmds.length; ++i) {\r\n        const cmd = cmds[i];\r\n        const pairs = SuiApplication._nvQueryPair(cmd);\r\n        if (pairs.score) {\r\n          try {\r\n            const path = SuiApplication.scoreLibrary.find((pp) => pp.alias === pairs.score);\r\n            if (!path) {\r\n              return null;\r\n            } else {\r\n              return { scorePath: path.path, score: null, mode: 'remote' };\r\n            }\r\n          } catch (exp) {\r\n            console.log('could not parse ' + exp);\r\n          }\r\n        } else if (pairs.lang) {\r\n          SuiApplication._deferLanguageSelection(pairs.lang);\r\n          return null;\r\n        } else if (pairs.translate) {\r\n          SuiApplication._deferCreateTranslator(pairs.translate);\r\n          return null;\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  libraryScoreLoad(): loadedScore {\r\n    const score = SmoScore.deserialize(Smo.getClass(SmoConfig.scoreLoadJson));\r\n    return { score, scorePath: null, mode: 'local' };\r\n  }\r\n}\r\n/** SuiApplication\r\n * main entry point of application.  Based on the configuration,\r\n * either start the default UI, or initialize library mode and\r\n * await further instructions.\r\n */\r\nexport class SuiApplication {\r\n  scoreLibrary: any;\r\n  static get defaultConfig():SmoConfiguration {\r\n    return {\r\n      smoPath: '..',\r\n      language: 'en',\r\n      scoreLoadOrder: ['query', 'local', 'library'],\r\n      scoreLoadJson: 'Smo.basicJson',\r\n      smoDomContainer: 'smoo',\r\n      vexDomContainer: 'boo',\r\n      domSource: ' SuiDom',\r\n      ribbon: true,\r\n      keyCommands: true,\r\n      menus: true,\r\n      title: 'Smoosic',\r\n      libraryUrl: 'https://aarondavidnewman.github.io/Smoosic/release/library/links/smoLibrary.json',\r\n      languageDir: 'ltr',\r\n      demonPollTime: 50, // how often we poll the score to see if it changed\r\n      idleRedrawTime: 1000, // maximum time between score modification and render\r\n    };\r\n  }\r\n  static configure(params: Partial<SmoConfiguration>) {\r\n    const config: SmoConfiguration = SuiApplication.defaultConfig;\r\n    Vex.Merge(config, params);\r\n    (window as any).SmoConfig = config;\r\n    SuiApplication.registerFonts();\r\n  }\r\n\r\n  constructor(params: any) {\r\n    SuiApplication.configure(params);\r\n    this.startApplication();\r\n  }\r\n  startApplication() {\r\n    SuiOscillator.samplePromise().then(() => {\r\n      this._startApplication();\r\n    });\r\n  }\r\n  _startApplication() {\r\n    let i = 0;\r\n    let loaded = false;\r\n    // Initialize the midi writer library\r\n    _MidiWriter();\r\n    const config = (window as any).SmoConfig;\r\n    for (i = 0; i < config.scoreLoadOrder.length; ++i) {\r\n      const loader: string = config.scoreLoadOrder[i];\r\n      let method = 'localScoreLoad' as keyof SuiScoreBuilder;\r\n      if (loader === 'query') {\r\n        method = 'queryScoreLoad' as keyof SuiScoreBuilder;\r\n      } else if (loader === 'libraryScoreLoad') {\r\n        method = 'libraryScoreLoad' as keyof SuiScoreBuilder;\r\n      }\r\n      const ssb = new SuiScoreBuilder();\r\n      const ss: loadedScore | null = ssb[method]();\r\n      if (ss && ss.score) {\r\n        if (ss.mode === 'local') {\r\n          loaded = true;\r\n          this.createUi(ss.score);\r\n        } else if (ss.score !== null) {\r\n          const localScore = ssb.libraryScoreLoad();\r\n          if (localScore.score === null) {\r\n            return;\r\n          }\r\n          loaded = true;\r\n          this.createUi(localScore.score);\r\n          smoSerialize.loadRemoteFile(ss.scorePath);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    if (loaded === false) {\r\n      const scoreString = eval('globalThis.Smo.basicJson');\r\n      const score = SmoScore.deserialize(scoreString);\r\n      this.createUi(score);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Convenience constructor, take the score and render it in the\r\n   * configured rendering space.\r\n   * @param score(SmoScore) - the score\r\n   */\r\n  createUi(score: SmoScore) {\r\n    SuiDom.createDom();\r\n    const params: Partial<controllerParams> = {};\r\n    params.keyBindingDefaults = suiController.keyBindingDefaults;\r\n    params.eventSource = new browserEventSource(); // events come from the browser UI.\r\n    const selector = typeof(SmoConfig.vexDomContainer) === 'undefined' ? '' : SmoConfig.vexDomContainer;\r\n\r\n    const scoreRenderer = SuiScoreRender.createScoreRenderer(document.getElementById(\r\n      selector)!, score);\r\n    params.eventSource.setRenderElement(scoreRenderer.renderElement);\r\n    params.view = new SuiScoreViewOperations(scoreRenderer, score, '.musicRelief');\r\n    if (SmoConfig.keyCommands) {\r\n      params.keyCommands = new SuiKeyCommands(params);\r\n    }\r\n    if (SmoConfig.menus) {\r\n      params.menus = new suiMenuManager(params);\r\n    }\r\n    params.layoutDemon = params.view.layoutDemon;\r\n    // Start the application event processing and render the initial score\r\n    // eslint-disable-next-line\r\n    new suiController(params);\r\n    SuiDom.splash();\r\n  }\r\n  static registerFonts() {\r\n    VF.TextFont.registerFont({\r\n      name: ArialFont.name,\r\n      resolution: ArialFont.resolution,\r\n      glyphs: ArialFont.glyphs,\r\n      family: ArialFont.fontFamily,\r\n      serifs: false,\r\n      monospaced: false,\r\n      italic: true,\r\n      bold: true,\r\n      maxSizeGlyph: 'H',\r\n      superscriptOffset: 0.66,\r\n      subscriptOffset: 0.66,\r\n      description: 'Built-in sans font',\r\n    });\r\n    VF.TextFont.registerFont({\r\n      name: TimesFont.name,\r\n      resolution: TimesFont.resolution,\r\n      glyphs: TimesFont.glyphs,\r\n      family: TimesFont.fontFamily,\r\n      serifs: false,\r\n      monospaced: false,\r\n      italic: true,\r\n      bold: true,\r\n      maxSizeGlyph: 'H',\r\n      superscriptOffset: 0.66,\r\n      subscriptOffset: 0.66,\r\n      description: 'Built-in serif font',\r\n    });\r\n    VF.TextFont.registerFont({\r\n      name: Commissioner_MediumFont.name,\r\n      resolution: Commissioner_MediumFont.resolution,\r\n      glyphs: Commissioner_MediumFont.glyphs,\r\n      family: Commissioner_MediumFont.fontFamily,\r\n      serifs: false,\r\n      monospaced: false,\r\n      italic: false,\r\n      bold: false,\r\n      maxSizeGlyph: 'H',\r\n      superscriptOffset: 0.66,\r\n      subscriptOffset: 0.66,\r\n      description: 'Low-contrast sans-serif text font',\r\n    });\r\n    VF.TextFont.registerFont({\r\n      name: Concert_OneFont.name,\r\n      resolution: Concert_OneFont.resolution,\r\n      glyphs: Concert_OneFont.glyphs,\r\n      family: Concert_OneFont.fontFamily,\r\n      serifs: false,\r\n      monospaced: false,\r\n      italic: false,\r\n      bold: false,\r\n      maxSizeGlyph: 'H',\r\n      superscriptOffset: 0.66,\r\n      subscriptOffset: 0.66,\r\n      description: 'Rounded grotesque typeface inspired by 19th century 3D l',\r\n    });\r\n    VF.TextFont.registerFont({\r\n      name: MerriweatherFont.name,\r\n      resolution: MerriweatherFont.resolution,\r\n      glyphs: MerriweatherFont.glyphs,\r\n      family: MerriweatherFont.fontFamily,\r\n      serifs: true,\r\n      monospaced: false,\r\n      italic: false,\r\n      bold: false,\r\n      maxSizeGlyph: 'H',\r\n      superscriptOffset: 0.66,\r\n      subscriptOffset: 0.66,\r\n      description: 'Serif screen font from Sorkin Type',\r\n    });\r\n    VF.TextFont.registerFont({\r\n      name: SourceSansProFont.name,\r\n      resolution: SourceSansProFont.resolution,\r\n      glyphs: SourceSansProFont.glyphs,\r\n      family: SourceSansProFont.fontFamily,\r\n      serifs: false,\r\n      monospaced: false,\r\n      italic: false,\r\n      bold: false,\r\n      maxSizeGlyph: 'H',\r\n      superscriptOffset: 0.66,\r\n      subscriptOffset: 0.66,\r\n      description: 'Open source Sans screen font from Adobe',\r\n    });\r\n    VF.TextFont.registerFont({\r\n      name: SourceSerifProFont.name,\r\n      resolution: SourceSerifProFont.resolution,\r\n      glyphs: SourceSerifProFont.glyphs,\r\n      family: SourceSerifProFont.fontFamily,\r\n      serifs: false,\r\n      monospaced: false,\r\n      italic: false,\r\n      bold: false,\r\n      maxSizeGlyph: 'H',\r\n      superscriptOffset: 0.66,\r\n      subscriptOffset: 0.66,\r\n      description: 'Open source Serif screen font from Adobe',\r\n    });\r\n  }\r\n\r\n  static _nvQueryPair(str: string): pairType {\r\n    var i = 0;\r\n    const ar = str.split('=');\r\n    const rv: pairType = {};\r\n    for (i = 0; i < ar.length - 1; i += 2) {\r\n      const name = decodeURIComponent(ar[i]);\r\n      rv[name] = decodeURIComponent(ar[i + 1]);\r\n    }\r\n    return rv;\r\n  }\r\n\r\n  static get scoreLibrary(): librarySeed[] {\r\n    return [\r\n      { alias: 'bach', format: 'json', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/BachInvention.json' },\r\n      { alias: 'yama', format: 'json', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Yama2.json' },\r\n      { alias: 'handel', format: 'json', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Messiah Pt 1-1.json' },\r\n      { alias: 'bambino', format: 'json', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Gesu Bambino.json' },\r\n      { alias: 'shade', format: 'json', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Shade.json' },\r\n      { alias: 'postillion', format: 'json', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Postillionlied.json' },\r\n      { alias: 'preciousLord', format: 'json', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Precious Lord.json' },\r\n      { alias: 'dichterliebe', format: 'xml', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Dichterliebe01.xml' },\r\n      { alias: 'beethoven', format: 'xml', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Beethoven_AnDieFerneGeliebte.xml' },\r\n      { alias: 'mozart', format: 'xml', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/Mozart_AnChloe.xml' },\r\n      { alias: 'joplin', format: 'xml', path: 'https://aarondavidnewman.github.io/Smoosic/release/library/ScottJoplin_The_Entertainer.xml' }\r\n    ];\r\n  }\r\n  static _deferCreateTranslator(lang: string) {\r\n    setTimeout(() => {\r\n      SmoTranslationEditor.startEditor(lang);\r\n    }, 1);\r\n  }\r\n\r\n  static _deferLanguageSelection(lang: string) {\r\n    setTimeout(() => {\r\n      SmoTranslator.setLanguage(lang);\r\n    }, 1);\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n\r\nimport { RibbonButtons } from './ribbon';\r\nimport { SuiExceptionHandler } from './exceptions';\r\nimport { Qwerty } from './qwerty';\r\nimport { SuiModifierDialogFactory } from './dialog';\r\nimport { SuiPiano } from '../render/sui/piano'\r\nimport { layoutDebug } from '../render/sui/layoutDebug';\r\nimport { SuiHelp } from './help';\r\nimport { SuiTracker } from '../render/sui/tracker';\r\nimport { defaultEditorKeys } from './keyBindings/default/editorKeys';\r\nimport { defaultTrackerKeys } from './keyBindings/default/trackerKeys';\r\nimport { defaultRibbonLayout } from './ribbonLayout/default/defaultRibbon';\r\n\r\n// ## suiController\r\n// ## Description:\r\n// Manages DOM events and binds keyboard and mouse events\r\n// to editor and menu commands, tracker and layout manager.\r\n// ### Event model:\r\n// Events can come from the following sources:\r\n// 1. menus or dialogs can send dialogDismiss or menuDismiss event, indicating a modal has been dismissed.\r\n// 2. window resize events\r\n// 3. keyboard, when in editor mode.  When modals or dialogs are active, wait for dismiss event\r\n// 4. svg piano key events smo-piano-key\r\n// 5. tracker change events tracker-selection\r\nexport class suiController {\r\n\r\n  constructor(params) {\r\n    Vex.Merge(this, suiController.defaults);\r\n    Vex.Merge(this, params);\r\n    window.suiControllerInstance = this;\r\n\r\n    this.view = params.view;\r\n    this.eventSource = params.eventSource;\r\n    this.tracker = this.view.tracker; // needed for key event handling\r\n    this.keyCommands.controller = this;\r\n    this.keyCommands.view = this.view;\r\n    this.resizing = false;\r\n    this.undoStatus=0;\r\n    this.trackScrolling = false;\r\n\r\n    this.keyHandlerObj = null;\r\n\r\n    this.ribbon = new RibbonButtons({\r\n      ribbons: defaultRibbonLayout.ribbons,\r\n      ribbonButtons: defaultRibbonLayout.ribbonButtons,\r\n      menus: this.menus,\r\n      controller: this,\r\n      keyCommands: this.keyCommands,\r\n      view: this.view,\r\n      eventSource:this.eventSource\r\n    });\r\n\r\n    this.menus.setController(this);\r\n\r\n    // create globbal exception instance\r\n    this.exhandler = new SuiExceptionHandler(this);\r\n\r\n    this.bindEvents();\r\n\r\n    // Only display the ribbon one time b/c it's expensive operation\r\n    this.ribbon.display();\r\n    this.bindResize();\r\n    this.view.startRenderingEngine();\r\n    this.createPiano();\r\n  }\r\n\r\n  static get scrollable() {\r\n    return '.musicRelief';\r\n  }\r\n\r\n  static get keyboardWidget() {\r\n    return suiController._kbWidget;\r\n  }\r\n\r\n  static set keyboardWidget(value) {\r\n    suiController._kbWidget = value;\r\n    if (suiController._kbWidget) {\r\n      Qwerty.displayKb();\r\n    }\r\n  }\r\n\r\n  get isLayoutQuiet() {\r\n    return ((this.view.renderer.passState == SuiRenderState.passStates.clean && this.renderer.layout.dirty == false)\r\n       || this.view.renderer.passState == SuiRenderState.passStates.replace);\r\n  }\r\n\r\n  handleScrollEvent(ev) {\r\n    const self = this;\r\n    if (self.trackScrolling) {\r\n        return;\r\n    }\r\n    self.trackScrolling = true;\r\n    setTimeout(function() {\r\n      try {\r\n        // wait until redraw is done to track scroll events.\r\n        self.trackScrolling = false;\r\n          // Thisi s a WIP...\r\n        self.view.tracker.scroller.handleScroll($(suiController.scrollable)[0].scrollLeft, $(suiController.scrollable)[0].scrollTop);\r\n      } catch(e) {\r\n        SuiExceptionHandler.instance.exceptionHandler(e);\r\n      }\r\n    },500);\r\n  }\r\n\r\n  createPiano() {\r\n    this.piano = new SuiPiano(this.view);\r\n  }\r\n  resizeEvent() {\r\n    var self = this;\r\n    if (this.resizing) {\r\n      return;\r\n    }\r\n    if ($('body').hasClass('printing')) {\r\n      return;\r\n    }\r\n    this.resizing = true;\r\n    setTimeout(function () {\r\n      console.log('resizing');\r\n      self.resizing = false;\r\n      self.piano.handleResize();\r\n    }, 500);\r\n  }\r\n\r\n  createModifierDialog(modifierSelection) {\r\n    var parameters = {\r\n      modifier: modifierSelection.modifier,\r\n        view: this.view, eventSource:this.eventSource,\r\n         completeNotifier:this, keyCommands:this.keyCommands\r\n    }\r\n    return SuiModifierDialogFactory.createDialog(modifierSelection.modifier, parameters);\r\n  }\r\n\r\n  // If the user has selected a modifier via the mouse/touch, bring up mod dialog\r\n  // for that modifier\r\n  trackerModifierSelect(ev) {\r\n    var modSelection = this.view.tracker.getSelectedModifier();\r\n    if (modSelection) {\r\n      var dialog = this.createModifierDialog(modSelection);\r\n      if (dialog) {\r\n        // this.view.tracker.selectSuggestion(ev);\r\n        return;\r\n        // this.unbindKeyboardForModal(dialog);\r\n      } else {\r\n        this.view.tracker.advanceModifierSelection(ev);\r\n      }\r\n    } else {\r\n      this.view.tracker.selectSuggestion(ev);\r\n    }\r\n    return;\r\n  }\r\n\r\n    // ### bindResize\r\n  // This handles both resizing of the music area (scrolling) and resizing of the window.\r\n  // The latter results in a redraw, the former just resets the client/logical map of elements\r\n  // in the tracker.\r\n  bindResize() {\r\n    const self = this;\r\n    const el = $(suiController.scrollable)[0];\r\n    // unit test programs don't have resize html\r\n    if (!el) {\r\n      return;\r\n    }\r\n    window.addEventListener('resize', function () {\r\n      self.resizeEvent();\r\n    });\r\n\r\n    let scrollCallback = (ev) => {\r\n      self.handleScrollEvent(ev);\r\n    };\r\n    el.onscroll = scrollCallback;\r\n  }\r\n\r\n\r\n  // ### renderElement\r\n  // return render element that is the DOM parent of the svg\r\n  get renderElement() {\r\n    return this.view.renderer.renderElement;\r\n  }\r\n\r\n  // ## keyBindingDefaults\r\n  // ### Description:\r\n  // Different applications can create their own key bindings, these are the defaults.\r\n  // Many editor commands can be reached by a single keystroke.  For more advanced things there\r\n  // are menus.\r\n  static get keyBindingDefaults() {\r\n    var editorKeys = suiController.editorKeyBindingDefaults;\r\n    editorKeys.forEach((key) => {\r\n      key.module = 'keyCommands'\r\n    });\r\n    var trackerKeys = suiController.trackerKeyBindingDefaults;\r\n    trackerKeys.forEach((key) => {\r\n      key.module = 'tracker'\r\n    });\r\n    return trackerKeys.concat(editorKeys);\r\n  }\r\n\r\n  // ## editorKeyBindingDefaults\r\n  // ## Description:\r\n  // execute a simple command on the editor, based on a keystroke.\r\n  static get editorKeyBindingDefaults() {\r\n    return defaultEditorKeys.keys;\r\n  }\r\n\r\n  // ## trackerKeyBindingDefaults\r\n  // ### Description:\r\n  // Key bindings for the tracker.  The tracker is the 'cursor' in the music\r\n  // that lets you select and edit notes.\r\n  static get trackerKeyBindingDefaults() {\r\n    return defaultTrackerKeys.keys;\r\n  }\r\n  helpControls() {\r\n    var self = this;\r\n    var rebind = function () {\r\n      self.bindEvents();\r\n    }\r\n  }\r\n  static set reentry(value) {\r\n    suiController._reentry = value;\r\n  }\r\n  static get reentry() {\r\n    if (typeof(suiController['_reentry']) == 'undefined') {\r\n      suiController._reentry = false;\r\n    }\r\n    return suiController._reentry;\r\n  }\r\n\r\n  menuHelp() {\r\n    SuiHelp.displayHelp();\r\n  }\r\n\r\n  static get defaults() {\r\n    return {\r\n      keyBind: suiController.keyBindingDefaults\r\n    };\r\n  }\r\n\r\n  // ### unbindKeyboardForModal\r\n  // Global events from keyboard and pointer are handled by this object.  Modal\r\n  // UI elements take over the events, and then let the controller know when\r\n  // the modals go away.\r\n  unbindKeyboardForModal(dialog) {\r\n    if (this.unbound) {\r\n      console.log('received duplicate bind event');\r\n      return;\r\n    }\r\n    this.unbound = true;\r\n    layoutDebug.addDialogDebug('controller: unbindKeyboardForModal')\r\n    const rebind = () => {\r\n      this.unbound = false;\r\n      this.bindEvents();\r\n      layoutDebug.addDialogDebug('controller: unbindKeyboardForModal resolve')\r\n    }\r\n    this.eventSource.unbindKeydownHandler(this.keydownHandler);\r\n    this.eventSource.unbindMouseMoveHandler(this.mouseMoveHandler);\r\n    this.eventSource.unbindMouseClickHandler(this.mouseClickHandler);\r\n\r\n    dialog.closeModalPromise.then(rebind);\r\n  }\r\n\r\n  evKey(evdata) {\r\n    if ($('body').hasClass('translation-mode')) {\r\n      return;\r\n    }\r\n\r\n    console.log(\"KeyboardEvent: key='\" + evdata.key + \"' | code='\" +\r\n      evdata.code + \"'\"\r\n       + \" shift='\" + evdata.shiftKey + \"' control='\" + evdata.ctrlKey + \"'\" + \" alt='\" + evdata.altKey + \"'\");\r\n    evdata.preventDefault();\r\n\r\n    if (suiController.keyboardWidget) {\r\n      Qwerty.handleKeyEvent(evdata);\r\n    }\r\n    const dataCopy = SuiTracker.serializeEvent(evdata);\r\n    this.view.renderer.updatePromise().then(() => {\r\n      if (dataCopy.key == '?') {\r\n        SuiHelp.displayHelp();\r\n      }\r\n\r\n      if (dataCopy.key == '/') {\r\n        // set up menu DOM.\r\n        this.menus.slashMenuMode(this);\r\n      }\r\n\r\n      if (dataCopy.key == 'Enter') {\r\n        this.trackerModifierSelect(dataCopy);\r\n      }\r\n\r\n      var binding = this.keyBind.find((ev) =>\r\n        ev.event === 'keydown' && ev.key === dataCopy.key &&\r\n        ev.ctrlKey === dataCopy.ctrlKey &&\r\n        ev.altKey === dataCopy.altKey && dataCopy.shiftKey === ev.shiftKey);\r\n\r\n      if (binding) {\r\n        try {\r\n          this[binding.module][binding.action](dataCopy);\r\n        } catch (e) {\r\n          if (typeof(e) === 'string') {\r\n            console.error(e);\r\n          }\r\n          this.exhandler.exceptionHandler(e);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  mouseMove(ev) {\r\n    this.view.tracker.intersectingArtifact({\r\n      x: ev.clientX,\r\n      y: ev.clientY\r\n    });\r\n  }\r\n\r\n  mouseClick(ev) {\r\n    const dataCopy = SuiTracker.serializeEvent(ev);\r\n    this.view.renderer.updatePromise().then(() => {\r\n      this.view.tracker.selectSuggestion(dataCopy);\r\n      var modifier = this.view.tracker.getSelectedModifier();\r\n      if (modifier) {\r\n        this.createModifierDialog(modifier);\r\n      }\r\n    });\r\n  }\r\n  bindEvents() {\r\n    const self = this;\r\n    const tracker = this.view.tracker;\r\n\r\n    $('body').off('redrawScore').on('redrawScore', function() {\r\n      self.handleRedrawTimer();\r\n    });\r\n    $('body').off('forceScrollEvent').on('forceScrollEvent', function() {\r\n      self.handleScrollEvent();\r\n    });\r\n    $('body').off('forceResizeEvent').on('forceResizeEvent', function() {\r\n      self.resizeEvent();\r\n    });\r\n    this.mouseMoveHandler = this.eventSource.bindMouseMoveHandler(this, 'mouseMove');\r\n    this.mouseClickHandler = this.eventSource.bindMouseClickHandler(this, 'mouseClick');\r\n    this.keydownHandler = this.eventSource.bindKeydownHandler(this, 'evKey');\r\n\r\n    this.helpControls();\r\n    window.addEventListener('error', function (e) {\r\n      SuiExceptionHandler.instance.exceptionHandler(e);\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { svgHelpers } from '../common/svgHelpers';\r\nimport { htmlHelpers } from '../common/htmlHelpers';\r\nimport { SmoTranslator } from './i18n/language';\r\nimport { SmoLyric } from '../smo/data/noteModifiers';\r\n\r\n// # Dialog base classes\r\n\r\n// ## SuiModifierDialogFactory\r\n// Automatic dialog constructors for dialogs without too many parameters\r\n// that operated on a selection.\r\nexport class SuiModifierDialogFactory {\r\n  static createDialog(modifier, parameters) {\r\n    let dbType = SuiModifierDialogFactory.modifierDialogMap[modifier.attrs.type];\r\n    if (dbType === 'SuiLyricDialog' && modifier.parser === SmoLyric.parsers.chord) {\r\n      dbType = 'SuiChordChangeDialog';\r\n    }\r\n    if (typeof(dbType) === 'undefined') {\r\n      return null;\r\n    }\r\n    const ctor = Smo.getClass(dbType);\r\n    return ctor.createAndDisplay({\r\n      modifier,\r\n      ...parameters\r\n    });\r\n  }\r\n  static get modifierDialogMap() {\r\n    return {\r\n      SmoStaffHairpin: 'SuiHairpinAttributesDialog',\r\n      SmoTie: 'SuiTieAttributesDialog',\r\n      SmoSlur: 'SuiSlurAttributesDialog',\r\n      SmoDynamicText: 'SuiDynamicModifierDialog',\r\n      SmoVolta: 'SuiVoltaAttributeDialog',\r\n      SmoScoreText: 'SuiTextTransformDialog',\r\n      SmoTextGroup: 'SuiTextTransformDialog',\r\n      SmoLoadScore: 'SuiLoadFileDialog',\r\n      SmoLyric: 'SuiLyricDialog'\r\n    };\r\n  }\r\n}\r\n\r\n// ## SuiDialogBase\r\n// Base class for dialogs.\r\nexport class SuiDialogBase {\r\n  static get parameters() {\r\n    return ['eventSource', 'view',\r\n      'completeNotifier', 'keyCommands', 'modifier'];\r\n  }\r\n  static get displayOptions() {\r\n    return { BINDCOMPONENTS: 'bindComponents', BINDNAMES: '_bindComponentNames', DRAGGABLE: 'makeDraggable',\r\n      KEYBOARD_CAPTURE: 'captureKeyboardPromise', GLOBALPOS: 'positionGlobally',\r\n      SELECTIONPOS: 'positionFromSelection', MODIFIERPOS: 'positionFromModifier' };\r\n  }\r\n  static getStaticText(dialogElements, label) {\r\n    const rv = dialogElements.find((x) => x.staticText).staticText.find((x) => x[label]);\r\n    if (rv !== null && rv[label]) {\r\n      return rv[label];\r\n    }\r\n    return 'text not found';\r\n  }\r\n  // ### SuiDialogBase ctor\r\n  // Creates the DOM element for the dialog and gets some initial elements\r\n  constructor(dialogElements, parameters) {\r\n    this.id = parameters.id;\r\n    this.boundKeyboard = false;\r\n    this.components = [];\r\n    this.scroller = parameters.view.tracker.scroller;\r\n\r\n    this.closeDialogPromise = new Promise((resolve) => {\r\n      $('body').off('dialogDismiss').on('dialogDismiss', () => {\r\n        resolve();\r\n      });\r\n    });\r\n\r\n    const staticText = dialogElements.find((xx) => xx.staticText);\r\n    if (!staticText) {\r\n      throw 'dialog ' + this.ctor + ' needs a static text section';\r\n    }\r\n    this.staticText = {};\r\n    staticText.staticText.forEach((st) => {\r\n      const key = Object.keys(st)[0];\r\n      this.staticText[key] = st[key];\r\n    });\r\n\r\n    // If this dialog was spawned by a menu, wait for the menu to dismiss\r\n    // before continuing.\r\n    // this.startPromise = parameters.closeMenuPromise;\r\n    this.startPromise = parameters.startPromise;\r\n\r\n    this.dialogElements = dialogElements;\r\n    SuiDialogBase.parameters.forEach((param) => {\r\n      this[param] = parameters[param];\r\n    });\r\n\r\n    const left = $('.musicRelief').offset().left + $('.musicRelief').width() / 2;\r\n    const top  = $('.musicRelief').offset().top + $('.musicRelief').height() / 2;\r\n\r\n    this.dgDom = this._constructDialog(dialogElements, {\r\n      id: 'dialog-' + this.id,\r\n      top,\r\n      left,\r\n      label: this.label\r\n    });\r\n\r\n    SmoTranslator.registerDialog(this.ctor);\r\n  }\r\n\r\n  // ### printXlate\r\n  // print json with string labels to use as a translation file seed.\r\n  static printTranslate(_class) {\r\n    const output = [];\r\n    const xx = Smo.getClass(_class);\r\n    xx.dialogElements.forEach((element) => {\r\n      const component = {};\r\n      if (element.label) {\r\n        component.label = element.label;\r\n        component.id = element.smoName;\r\n        if (element.options) {\r\n          component.options = [];\r\n\r\n          element.options.forEach((option) => {\r\n            component.options.push({ value: option.value, label: option.label });\r\n          });\r\n        }\r\n      }\r\n      if (element.staticText) {\r\n        component.staticText = {};\r\n        element.staticText.forEach((st) => {\r\n          var key = Object.keys(st)[0];\r\n          component.staticText[key] = st[key];\r\n        });\r\n      }\r\n      output.push(component);\r\n    });\r\n    return { ctor: xx.ctor, dialogElements: output };\r\n  }\r\n  get closeModalPromise() {\r\n    return this.closeDialogPromise;\r\n  }\r\n  // ### position\r\n  // For dialogs based on selections, tries to place the dialog near the selection and also\r\n  // to scroll so the dialog is in view\r\n  static position(box, dgDom, scroller) {\r\n    let y = (box.y + box.height) - scroller.netScroll.y;\r\n    let x = 0;\r\n\r\n    // TODO: adjust if db is clipped by the browser.\r\n    const dge = $(dgDom.element).find('.attributeModal');\r\n    const dgeHeight = $(dge).height();\r\n    const maxY =  $('.musicRelief').height();\r\n    const maxX = $('.musicRelief').width();\r\n    const offset = $('.dom-container').offset();\r\n    y = y - offset.top;\r\n\r\n    const offsetY = dgeHeight + y > window.innerHeight ? (dgeHeight + y) -  window.innerHeight : 0;\r\n    y = (y < 0) ? -y : y - offsetY;\r\n\r\n    y = (y > maxY || y < 0) ? maxY / 2 : y;\r\n\r\n    $(dge).css('top', '' + y + 'px');\r\n\r\n    x = box.x - scroller.netScroll.x;\r\n    x = x - offset.left;\r\n    const w = $(dge).width();\r\n    x = (x > window.innerWidth / 2)  ? x - (w + 25) : x + (w + 25);\r\n\r\n    x = (x < 0 || x > maxX) ? maxX / 2 : x;\r\n    $(dge).css('left', '' + x + 'px');\r\n\r\n    // Make sure the dialog is visible if the selection is not\r\n    setTimeout(() => {\r\n      scroller.scrollVisibleBox(\r\n        svgHelpers.smoBox(box)\r\n      );\r\n    }, 1);\r\n  }\r\n\r\n  applyDisplayOptions() {\r\n    $('body').addClass('showAttributeDialog');\r\n    this.displayOptions.forEach((option) => {\r\n      this[SuiDialogBase.displayOptions[option]]();\r\n    });\r\n  }\r\n  bindComponents() {\r\n    this.components.forEach((component) => {\r\n      component.bind();\r\n    });\r\n  }\r\n  // ### position\r\n  // Position the dialog near a selection.  If the dialog is not visible due\r\n  // to scrolling, make sure it is visible.\r\n  position(box) {\r\n    SuiDialogBase.position(box, this.dgDom, this.view.tracker.scroller);\r\n  }\r\n  // ### positionModifier()\r\n  positionFromModifier() {\r\n    if (typeof(this.modifier.renderedBox) === 'undefined') {\r\n      this.positionGlobally();\r\n      return;\r\n    }\r\n    this.position(this.modifier.renderedBox);\r\n  }\r\n  // ### positionGlobally\r\n  // position the dialog box in the center of the current scroll region\r\n  positionGlobally() {\r\n    const box = svgHelpers.boxPoints(250, 250, 1, 1);\r\n    SuiDialogBase.position(box, this.dgDom, this.view.tracker.scroller);\r\n  }\r\n  // ### postionFromSelection\r\n  // set initial position of dialog based on first selection\r\n  positionFromSelection() {\r\n    this.position(this.view.tracker.selections[0].note.renderedBox);\r\n  }\r\n  // ### build the html for the dialog, based on the instance-specific components.\r\n  _constructDialog(dialogElements, parameters) {\r\n    const id = parameters.id;\r\n    const b = htmlHelpers.buildDom;\r\n    const r = b('div').classes('attributeModal').attr('id', 'attr-modal-' + id)\r\n      .css('top', parameters.top + 'px').css('left', parameters.left + 'px')\r\n      .append(b('spanb').classes('draggable button').append(b('span').classes('icon icon-move jsDbMove')))\r\n      .append(b('h2').classes('dialog-label').text(this.staticText.label));\r\n\r\n    var ctrl = b('div').classes('smoControlContainer');\r\n    dialogElements.filter((de) => de.control).forEach((de) => {\r\n      let ctor = null;\r\n      if (typeof(de.control) === 'function') {\r\n        ctor = de.control;\r\n      } else {\r\n        ctor = Smo.getClass(de.control);\r\n      }\r\n      const control = new ctor(this, de);\r\n      this.components.push(control);\r\n      ctrl.append(control.html);\r\n    });\r\n    r.append(ctrl);\r\n    r.append(\r\n      b('div').classes('buttonContainer').append(\r\n        b('button').classes('ok-button button-left').text('OK')).append(\r\n        b('button').classes('cancel-button button-center').text('Cancel')).append(\r\n        b('button').classes('remove-button button-right').text('Remove').append(\r\n          b('span').classes('icon icon-cancel-circle'))));\r\n    $('.attributeDialog').html('');\r\n\r\n    $('.attributeDialog').append(r.dom());\r\n\r\n    const trapper = htmlHelpers.inputTrapper('.attributeDialog');\r\n    $('.attributeDialog').find('.cancel-button').focus();\r\n    return {\r\n      element: $('.attributeDialog'),\r\n      trapper\r\n    };\r\n  }\r\n  // ### Complete\r\n  // Dialogs take over the keyboard, so release that and trigger an event\r\n  // that the dialog is closing that can resolve any outstanding promises.\r\n  complete() {\r\n    if (this.boundKeyboard) {\r\n      this.eventSource.unbindKeydownHandler(this.keydownHandler);\r\n    }\r\n    $('body').removeClass('showAttributeDialog');\r\n    $('body').trigger('dialogDismiss');\r\n    this.dgDom.trapper.close();\r\n  }\r\n\r\n  // ### _bindComponentNames\r\n  // helper method to give components class names based on their static configuration\r\n  _bindComponentNames() {\r\n    this.components.forEach((component) => {\r\n      var nm = component.smoName + 'Ctrl';\r\n      this[nm] = component;\r\n    });\r\n  }\r\n\r\n  // ### display\r\n  // make3 the modal visible.  bind events and elements.\r\n  display() {\r\n    $('body').addClass('showAttributeDialog');\r\n    this.components.forEach((component) => {\r\n      component.bind();\r\n    });\r\n    this._bindElements();\r\n    if (this.modifier && this.modifier.renderedBox) {\r\n      this.position(this.modifier.renderedBox);\r\n    }\r\n    this.view.tracker.scroller.scrollVisibleBox(\r\n      svgHelpers.smoBox($(this.dgDom.element)[0].getBoundingClientRect())\r\n    );\r\n    this.makeDraggable();\r\n  }\r\n  // ### makeDraggable\r\n  // generic code to make the dialog box draggable so it doesn't\r\n  // get in front of stuff.\r\n  makeDraggable() {\r\n    const cb = () => {};\r\n    htmlHelpers.draggable({\r\n      parent: $(this.dgDom.element).find('.attributeModal'),\r\n      handle: $(this.dgDom.element).find('.jsDbMove'),\r\n      animateDiv: '.draganime',\r\n      cb,\r\n      moveParent: true\r\n    });\r\n  }\r\n  // ### captureKeyboardPromise\r\n  // capture keyboard events until the dialog closes,\r\n  // then give control back to the current keyboard\r\n  captureKeyboardPromise() {\r\n    if (typeof(this.startPromise) === 'undefined') {\r\n      this.completeNotifier.unbindKeyboardForModal(this);\r\n      this.bindKeyboard();\r\n      return;\r\n    }\r\n    const getKeys = () => {\r\n      this.completeNotifier.unbindKeyboardForModal(this);\r\n      this.bindKeyboard();\r\n    };\r\n    this.startPromise.then(getKeys);\r\n  }\r\n\r\n  // ### handleKeydown\r\n  // allow a dialog to be dismissed by esc.\r\n  evKey(evdata) {\r\n    if (evdata.key === 'Escape') {\r\n      $(this.dgDom.element).find('.cancel-button').click();\r\n      evdata.preventDefault();\r\n    }\r\n  }\r\n\r\n  // ### bindKeyboard\r\n  // generic logic to grab keyboard elements for modal\r\n  bindKeyboard() {\r\n    this.boundKeyboard = true;\r\n    this.keydownHandler = this.eventSource.bindKeydownHandler(this, 'evKey');\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { htmlHelpers } from '../common/htmlHelpers';\r\nimport { smoSerialize } from '../common/serializationHelpers';\r\nimport { SuiFileInput } from './fileio/fileInput';\r\n\r\n// # dbComponents - components of modal dialogs.\r\nexport class SuiComponentBase {\r\n  constructor(parameters) {\r\n    this.changeFlag = false;\r\n    this.css = parameters.classes;\r\n  }\r\n  handleChanged() {\r\n    this.changeFlag = true;\r\n    this.dialog.changed();\r\n    this.changeFlag = false;\r\n  }\r\n  // ### makeClasses\r\n  // Allow specific dialogs to add css to components so they can\r\n  // be conditionally displayed\r\n  makeClasses(classes) {\r\n    if (this.css) {\r\n      return classes + ' ' + this.css;\r\n    }\r\n    return classes;\r\n  }\r\n}\r\n\r\n// ## SuiRockerComponent\r\n// A numeric input box with +- buttons.   Adjustable type and scale\r\nexport class SuiRockerComponent extends SuiComponentBase {\r\n  static get dataTypes() {\r\n    return ['int', 'float', 'percent'];\r\n  }\r\n  static get increments() {\r\n    return { 'int': 1, 'float': 0.1, 'percent': 10 };\r\n  }\r\n  static get parsers() {\r\n    return { 'int': '_getIntValue', 'float': '_getFloatValue', 'percent': '_getPercentValue' };\r\n  }\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label', 'increment', 'type'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    if (!this.type) {\r\n      this.type = 'int';\r\n    }\r\n    if (!this.increment) {\r\n      this.increment = SuiRockerComponent.increments[this.type];\r\n    }\r\n    if (SuiRockerComponent.dataTypes.indexOf(this.type) < 0) {\r\n      throw new Error('dialog element invalid type ' + this.type);\r\n    }\r\n\r\n    this.id = this.id ? this.id : '';\r\n\r\n    if (this.type === 'percent') {\r\n      this.defaultValue = 100 * this.defaultValue;\r\n    }\r\n    this.parser = SuiRockerComponent.parsers[this.type];\r\n    this.dialog = dialog;\r\n  }\r\n\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    const r = b('div').classes(this.makeClasses('rockerControl smoControl')).attr('id', id).attr('data-param', this.parameterName)\r\n      .append(\r\n        b('button').classes('increment').append(\r\n          b('span').classes('icon icon-circle-up'))).append(\r\n        b('button').classes('decrement').append(\r\n          b('span').classes('icon icon-circle-down'))).append(\r\n        b('input').attr('type', 'text').classes('rockerInput')\r\n          .attr('id', id + '-input')).append(\r\n        b('label').attr('for', id + '-input').text(this.label));\r\n    return r;\r\n  }\r\n\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  handleChange() {\r\n    this.changeFlag = true;\r\n    this.dialog.changed();\r\n    this.changeFlag = false;\r\n  }\r\n\r\n  bind() {\r\n    const pid = this.parameterId;\r\n    const input = this._getInputElement();\r\n    let val = 0;\r\n    this.setValue(this.defaultValue);\r\n    const self = this;\r\n    $('#' + pid).find('button.increment').off('click').on('click',\r\n      () => {\r\n        val = self[self.parser]();\r\n        if (self.type === 'percent') {\r\n          val = 100 * val;\r\n        }\r\n        $(input).val(val + self.increment);\r\n        self.handleChanged();\r\n      }\r\n    );\r\n    $('#' + pid).find('button.decrement').off('click').on('click',\r\n      () => {\r\n        val = self[self.parser]();\r\n        if (self.type === 'percent') {\r\n          val = 100 * val;\r\n        }\r\n        $(input).val(val - self.increment);\r\n        self.handleChanged();\r\n      }\r\n    );\r\n    $(input).off('blur').on('blur',\r\n      () => {\r\n        self.handleChanged();\r\n      }\r\n    );\r\n  }\r\n\r\n  _getInputElement() {\r\n    const pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('input');\r\n  }\r\n  _getIntValue() {\r\n    let val = parseInt(this._getInputElement().val(), 10);\r\n    val = isNaN(val) ? 0 : val;\r\n    return val;\r\n  }\r\n  _getFloatValue() {\r\n    let val = parseFloat(this._getInputElement().val(), 10);\r\n    val = isNaN(val) ? 1.0 : val;\r\n    return val;\r\n  }\r\n  _getPercentValue() {\r\n    let val = parseFloat(this._getInputElement().val(), 10);\r\n    val = isNaN(val) ? 1 : val;\r\n    return val / 100;\r\n  }\r\n  _setIntValue(val) {\r\n    this._getInputElement().val(val);\r\n  }\r\n  setValue(value) {\r\n    if (this.type === 'percent') {\r\n      value = value * 100;\r\n    }\r\n    this._setIntValue(value);\r\n  }\r\n  getValue() {\r\n    return this[this.parser]();\r\n  }\r\n}\r\n\r\n// ## SuiFileDownloadComponent\r\n// Download a test file using the file input.\r\nexport class SuiFileDownloadComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    this.dialog = dialog;\r\n    this.value = '';\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    var r = b('div').classes(this.makeClasses('select-file')).attr('id', this.parameterId).attr('data-param', this.parameterName)\r\n      .append(b('input').attr('type', 'file').classes('file-button')\r\n        .attr('id', id + '-input')).append(\r\n        b('label').attr('for', id + '-input').text(this.label));\r\n    return r;\r\n  }\r\n  _handleUploadedFiles(evt)  {\r\n    const localFile = new SuiFileInput(evt);\r\n    localFile.loadAsync().then(() => {\r\n      this.value = localFile.value;\r\n      this.handleChanged();\r\n    });\r\n  }\r\n  getValue() {\r\n    return this.value;\r\n  }\r\n  bind() {\r\n    const self = this;\r\n    $('#' + this.parameterId).find('input').off('change').on('change', (e) => {\r\n      self._handleUploadedFiles(e);\r\n    });\r\n  }\r\n}\r\n\r\n// ## SuiToggleComponent\r\n// Simple on/off behavior\r\nexport class SuiToggleComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    this.dialog = dialog;\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    const r = b('div').classes(this.makeClasses('toggleControl smoControl')).attr('id', this.parameterId).attr('data-param', this.parameterName)\r\n      .append(b('input').attr('type', 'checkbox').classes('toggleInput')\r\n        .attr('id', id + '-input')).append(\r\n        b('label').attr('for', id + '-input').text(this.label));\r\n    return r;\r\n  }\r\n  _getInputElement() {\r\n    const pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('input');\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n\r\n  setValue(value) {\r\n    $(this._getInputElement()).prop('checked', value);\r\n  }\r\n  getValue() {\r\n    return $(this._getInputElement()).prop('checked');\r\n  }\r\n\r\n  bind() {\r\n    const input = this._getInputElement();\r\n    this.setValue(this.defaultValue);\r\n    const self = this;\r\n    $(input).off('change').on('change',\r\n      () => {\r\n        self.handleChanged();\r\n      });\r\n  }\r\n}\r\n\r\n// ## SuiToggleComponent\r\n// Simple on/off behavior\r\nexport class SuiButtonComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label', 'additionalClasses', 'icon'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    this.dialog = dialog;\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    this.icon = typeof(this.icon) === 'undefined' ? '' : this.icon;\r\n    const r = b('div').classes(this.makeClasses('buttonControl smoControl')).attr('id', this.parameterId).attr('data-param', this.parameterName)\r\n      .append(b('button').attr('type', 'button').classes(this.icon)\r\n        .attr('id', id + '-input')).append(\r\n        b('label').attr('for', id + '-input').text(this.label));\r\n    return r;\r\n  }\r\n  _getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('button');\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n\r\n  setValue() {\r\n  }\r\n  getValue() {\r\n    return null;\r\n  }\r\n\r\n  bind() {\r\n    const input = this._getInputElement();\r\n    this.setValue(this.defaultValue);\r\n    const self = this;\r\n    $(input).off('click').on('click',\r\n      () => {\r\n        self.handleChanged();\r\n      });\r\n  }\r\n}\r\n\r\n// ### SuiDropdownComponent\r\n// simple dropdown select list.\r\nexport class SuiDropdownComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'options', 'control', 'label', 'dataType', 'disabledOption'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    if (!this.dataType) {\r\n      this.dataType = 'string';\r\n    }\r\n    this.dialog = dialog;\r\n  }\r\n\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  checkDefault(s, b) {\r\n    if (typeof(this.disabledOption) === 'string') {\r\n      s.prop('required', true).append(b('option').attr('selected', 'selected').prop('disabled', true).text(this.disabledOption));\r\n    }\r\n  }\r\n\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    const r = b('div').classes(this.makeClasses('dropdownControl smoControl')).attr('id', id).attr('data-param', this.parameterName);\r\n    const s = b('select');\r\n    this.checkDefault(s, b);\r\n    this.options.forEach((option) => {\r\n      s.append(\r\n        b('option').attr('value', option.value).text(option.label));\r\n    });\r\n    r.append(s).append(\r\n      b('label').attr('for', id + '-input').text(this.label));\r\n    return r;\r\n  }\r\n  replaceOptions(options) {\r\n    const b = htmlHelpers.buildDom;\r\n    const s = b('select');\r\n    const sel = this._getInputElement();\r\n    const parent = $(sel).parent();\r\n    $(sel).remove();\r\n    this.checkDefault(s, b);\r\n    options.forEach((option) => {\r\n      s.append(b('option').attr('value', option.value).text(option.label));\r\n    });\r\n    $(parent).append(s.dom());\r\n    this.bind();\r\n  }\r\n\r\n  unselect() {\r\n    $(this._getInputElement())[0].selectedIndex = -1;\r\n    $(this._getInputElement()).blur();\r\n  }\r\n\r\n  _getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('select');\r\n  }\r\n  getValue() {\r\n    const input = this._getInputElement();\r\n    const option = input.find('option:selected');\r\n    let val = $(option).val();\r\n    val = (this.dataType.toLowerCase() === 'int') ?  parseInt(val, 10) : val;\r\n    val = (this.dataType.toLowerCase() === 'float') ?  parseFloat(val, 10) : val;\r\n    if (typeof(val) === 'undefined') {\r\n      val = $(input).find('option:first').val();\r\n      $(input).find('option:first').prop('selected', true);\r\n    }\r\n    return val;\r\n  }\r\n  setValue(value) {\r\n    const input = this._getInputElement();\r\n    $(input).val(value);\r\n  }\r\n\r\n  bind() {\r\n    const input = this._getInputElement();\r\n    if (!this.disabledOption) {\r\n      this.setValue(this.defaultValue);\r\n    }\r\n    const self = this;\r\n    $(input).off('change').on('change',\r\n      () => {\r\n        self.handleChanged();\r\n      });\r\n  }\r\n}\r\n\r\n// ### SuiDropdownComposite\r\n// Dropdown component that can be part of a composite control.\r\nexport class SuiDropdownComposite extends SuiDropdownComponent {\r\n  constructor(dialog, parameters) {\r\n    super(dialog, parameters);\r\n    this.parentControl = parameters.parentControl;\r\n  }\r\n\r\n  handleChanged() {\r\n    this.changeFlag = true;\r\n    this.parentControl.changed();\r\n    this.changeFlag = false;\r\n  }\r\n}\r\n\r\n// ### SuiToggleComposite\r\n// Dropdown component that can be part of a composite control.\r\nexport class SuiToggleComposite extends SuiToggleComponent {\r\n  constructor(dialog, parameters) {\r\n    super(dialog, parameters);\r\n    this.parentControl = parameters.parentControl;\r\n  }\r\n\r\n  handleChanged() {\r\n    this.changeFlag = true;\r\n    this.parentControl.changed();\r\n    this.changeFlag = false;\r\n  }\r\n}\r\n\r\n// ### SuiButtonComposite\r\n// Dropdown component that can be part of a composite control.\r\nexport class SuiButtonComposite extends SuiButtonComponent {\r\n  constructor(dialog, parameters) {\r\n    super(dialog, parameters);\r\n    this.parentControl = parameters.parentControl;\r\n  }\r\n\r\n  handleChanged() {\r\n    this.changeFlag = true;\r\n    this.parentControl.changed();\r\n    this.changeFlag = false;\r\n  }\r\n}\r\n\r\nexport class SuiRockerComposite extends SuiRockerComponent {\r\n  constructor(dialog, parameters) {\r\n    super(dialog, parameters);\r\n    this.parentControl = parameters.parentControl;\r\n  }\r\n\r\n  handleChanged() {\r\n    this.changeFlag = true;\r\n    this.parentControl.changed();\r\n    this.changeFlag = false;\r\n  }\r\n}\r\n\r\n// ## SuiTextInputComponent\r\n// Just get text from an input, such as a filename.\r\n// Note: this is HTML input, not for SVG/score editing\r\nexport class SuiTextInputComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    this.dialog = dialog;\r\n    this.value = '';\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    const r = b('div').classes(this.makeClasses('text-input smoControl')).attr('id', this.parameterId).attr('data-param', this.parameterName)\r\n      .append(b('input').attr('type', 'text').classes('file-name')\r\n        .attr('id', id + '-input')).append(\r\n        b('label').attr('for', id + '-input').text(this.label));\r\n    return r;\r\n  }\r\n\r\n  getValue() {\r\n    return this.value;\r\n  }\r\n  setValue(val) {\r\n    this.value = val;\r\n    $('#' + this.parameterId).find('input').val(val);\r\n  }\r\n  _getInputElement() {\r\n    const pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('input');\r\n  }\r\n  bind() {\r\n    const self = this;\r\n    $('#' + this.parameterId).find('input').off('change').on('change', () => {\r\n      self.value = $(this._getInputElement()).val();\r\n      self.handleChanged();\r\n    });\r\n  }\r\n}\r\n\r\nexport class SuiTextInputComposite extends SuiTextInputComponent {\r\n  constructor(dialog, parameters) {\r\n    super(dialog, parameters);\r\n    this.parentControl = parameters.parentControl;\r\n  }\r\n\r\n  handleChanged() {\r\n    this.changeFlag = true;\r\n    this.parentControl.changed();\r\n    this.changeFlag = false;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiDialogBase } from '../dialog';\r\nimport { SmoScore } from '../../smo/data/score';\r\nimport { mxmlScore } from '../../smo/mxml/xmlScore';\r\n\r\nexport class SuiFileDialog extends SuiDialogBase {\r\n  constructor(parameters) {\r\n    var p = parameters;\r\n    var ctor = Smo.getClass(parameters.ctor);\r\n    p.label = parameters.label ? parameters.label : 'Dialog Box';\r\n    p.id = 'dialog-file';\r\n\r\n    super(ctor.dialogElements, p);\r\n    this.value = '';\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n  }\r\n\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.commit();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.remove-button').remove();\r\n    this.bindKeyboard();\r\n  }\r\n}\r\nexport class SuiLoadFileDialog extends SuiFileDialog {\r\n  static get ctor() {\r\n    return 'SuiLoadFileDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiLoadFileDialog.ctor;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiLoadFileDialog._dialogElements = SuiLoadFileDialog._dialogElements ? SuiLoadFileDialog._dialogElements :\r\n      [{\r\n        smoName: 'loadFile',\r\n        parameterName: 'jsonFile',\r\n        defaultValue: '',\r\n        control: 'SuiFileDownloadComponent',\r\n        label: ''\r\n      }, { staticText: [\r\n        { label: 'Load File' }\r\n      ] }\r\n      ];\r\n    return SuiLoadFileDialog._dialogElements;\r\n  }\r\n  changed() {\r\n    this.value = this.components[0].getValue();\r\n    $(this.dgDom.element).find('.ok-button').prop('disabled', false);\r\n  }\r\n  commit() {\r\n    let scoreWorks = false;\r\n    if (this.value) {\r\n      try {\r\n        const score = SmoScore.deserialize(this.value);\r\n        scoreWorks = true;\r\n        this.view.changeScore(score);\r\n        this.complete();\r\n      } catch (e) {\r\n        console.warn('unable to score ' + e);\r\n      }\r\n      if (!scoreWorks) {\r\n        this.complete();\r\n      }\r\n    }\r\n  }\r\n  static createAndDisplay(params) {\r\n    const dg = new SuiLoadFileDialog(params);\r\n    dg.display();\r\n    // disable until file is selected\r\n    $(dg.dgDom.element).find('.ok-button').prop('disabled', true);\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiLoadFileDialog';\r\n    super(parameters);\r\n  }\r\n}\r\n\r\nexport class SuiLoadMxmlDialog extends SuiFileDialog {\r\n  static get ctor() {\r\n    return 'SuiLoadMxmlDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiLoadMxmlDialog.ctor;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiLoadMxmlDialog._dialogElements = SuiLoadMxmlDialog._dialogElements ? SuiLoadMxmlDialog._dialogElements :\r\n      [{\r\n        smoName: 'loadFile',\r\n        parameterName: 'jsonFile',\r\n        defaultValue: '',\r\n        control: 'SuiFileDownloadComponent',\r\n        label: ''\r\n      }, { staticText: [\r\n        { label: 'Load File' }\r\n      ] }\r\n      ];\r\n    return SuiLoadMxmlDialog._dialogElements;\r\n  }\r\n  changed() {\r\n    this.value = this.components[0].getValue();\r\n    $(this.dgDom.element).find('.ok-button').prop('disabled', false);\r\n  }\r\n  _readZipAsync() {\r\n\r\n  }\r\n  commit() {\r\n    let scoreWorks = false;\r\n    if (this.value) {\r\n      try {\r\n        const parser = new DOMParser();\r\n        const xml = parser.parseFromString(this.value, 'text/xml');\r\n        const score = mxmlScore.smoScoreFromXml(xml);\r\n        scoreWorks = true;\r\n        this.view.changeScore(score);\r\n        this.complete();\r\n      } catch (e) {\r\n        console.warn('unable to score ' + e);\r\n      }\r\n      if (!scoreWorks) {\r\n        this.complete();\r\n      }\r\n    }\r\n  }\r\n  static createAndDisplay(params) {\r\n    const dg = new SuiLoadMxmlDialog(params);\r\n    dg.display();\r\n    // disable until file is selected\r\n    $(dg.dgDom.element).find('.ok-button').prop('disabled', true);\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiLoadMxmlDialog';\r\n    super(parameters);\r\n  }\r\n}\r\n\r\nexport class SuiLoadActionsDialog extends SuiFileDialog {\r\n  static get ctor() {\r\n    return 'SuiLoadActionsDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiLoadActionsDialog.ctor;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiLoadActionsDialog._dialogElements = SuiLoadActionsDialog._dialogElements ? SuiLoadActionsDialog._dialogElements :\r\n      [{\r\n        smoName: 'loadFile',\r\n        parameterName: 'jsonFile',\r\n        defaultValue: '',\r\n        control: 'SuiFileDownloadComponent',\r\n        label: ''\r\n      }, { staticText: [\r\n        { label: 'Load Action File' }\r\n      ] }\r\n      ];\r\n    return SuiLoadActionsDialog._dialogElements;\r\n  }\r\n  changed() {\r\n    this.value = this.loadFileCtrl.getValue();\r\n    $(this.dgDom.element).find('.ok-button').prop('disabled', false);\r\n  }\r\n  commit() {\r\n    let scoreWorks = false;\r\n    if (this.value) {\r\n      try {\r\n        const json = JSON.parse(this.value);\r\n        this.view.playActions(json);\r\n        scoreWorks = true;\r\n        this.complete();\r\n      } catch (e) {\r\n        console.warn('unable to score ' + e);\r\n      }\r\n      if (!scoreWorks) {\r\n        this.complete();\r\n      }\r\n    }\r\n  }\r\n  static createAndDisplay(params) {\r\n    const dg = new SuiLoadActionsDialog(params);\r\n    dg.display();\r\n    dg._bindComponentNames();\r\n    // disable until file is selected\r\n    $(dg.dgDom.element).find('.ok-button').prop('disabled', true);\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiLoadActionsDialog';\r\n    super(parameters);\r\n  }\r\n}\r\n\r\nexport class SuiPrintFileDialog extends SuiFileDialog {\r\n  static get ctor() {\r\n    return 'SuiPrintFileDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiPrintFileDialog.ctor;\r\n  }\r\n  static get label() {\r\n    SuiPrintFileDialog._label = typeof(SuiPrintFileDialog._label) !== 'undefined' ? SuiPrintFileDialog._label :\r\n      'Print Complete';\r\n    return SuiPrintFileDialog._label;\r\n  }\r\n  static set label(value) {\r\n    SuiPrintFileDialog._label = value;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    return [\r\n      { staticText: [\r\n        { label: 'Print Complete' }\r\n      ] }];\r\n  }\r\n  static createAndDisplay(params) {\r\n    var dg = new SuiPrintFileDialog(params);\r\n    dg.display();\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiPrintFileDialog';\r\n    super(parameters);\r\n  }\r\n  changed() {}\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      $('body').removeClass('printing');\r\n      this.view.renderer.restoreLayoutAfterPrint();\r\n      window.dispatchEvent(new Event('resize'));\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').remove();\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n}\r\nexport class SuiSaveFileDialog extends SuiFileDialog {\r\n  static get ctor() {\r\n    return 'SuiSaveFileDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiSaveFileDialog.ctor;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiSaveFileDialog._dialogElements = typeof(SuiSaveFileDialog._dialogElements) !== 'undefined' ?\r\n      SuiSaveFileDialog._dialogElements :\r\n      [{\r\n        smoName: 'saveFileName',\r\n        parameterName: 'saveFileName',\r\n        defaultValue: '',\r\n        control: 'SuiTextInputComponent',\r\n        label: 'File Name'\r\n      },\r\n      {\r\n        staticText: [\r\n          { label: 'Save Score' }\r\n        ]\r\n      }];\r\n    return SuiSaveFileDialog._dialogElements;\r\n  }\r\n\r\n  changed() {\r\n    this.value = this.components[0].getValue();\r\n  }\r\n  commit() {\r\n    let filename = this.value;\r\n    if (!filename) {\r\n      filename = 'myScore.json';\r\n    }\r\n    if (filename.indexOf('.json') < 0) {\r\n      filename = filename + '.json';\r\n    }\r\n    this.view.score.scoreInfo.version += 1;\r\n    this.view.saveScore(filename);\r\n    this.complete();\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.saveFileNameCtrl.setValue(this.value);\r\n    this._bindElements();\r\n  }\r\n  static createName(score) {\r\n    return score.scoreInfo.name + '-' + score.scoreInfo.version + '.json';\r\n  }\r\n  static createAndDisplay(params) {\r\n    var dg = new SuiSaveFileDialog(params);\r\n    dg.display();\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiSaveFileDialog';\r\n    super(parameters);\r\n    this.value = SuiSaveFileDialog.createName(this.view.score);\r\n  }\r\n}\r\n\r\nexport class SuiSaveXmlDialog extends SuiFileDialog {\r\n  static get ctor() {\r\n    return 'SuiSaveXmlDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiSaveXmlDialog.ctor;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiSaveXmlDialog._dialogElements = typeof(SuiSaveXmlDialog._dialogElements) !== 'undefined' ?\r\n      SuiSaveXmlDialog._dialogElements :\r\n      [{\r\n        smoName: 'saveFileName',\r\n        parameterName: 'saveFileName',\r\n        defaultValue: '',\r\n        control: 'SuiTextInputComponent',\r\n        label: 'File Name'\r\n      },\r\n      {\r\n        staticText: [\r\n          { label: 'Save Score' }\r\n        ]\r\n      }];\r\n    return SuiSaveXmlDialog._dialogElements;\r\n  }\r\n\r\n  changed() {\r\n    this.value = this.components[0].getValue();\r\n  }\r\n  commit() {\r\n    let filename = this.value;\r\n    if (!filename) {\r\n      filename = 'myScore.xml';\r\n    }\r\n    if (filename.indexOf('.xml') < 0) {\r\n      filename = filename + '.xml';\r\n    }\r\n    this.view.score.scoreInfo.version += 1;\r\n    this.view.saveXml(filename);\r\n    this.complete();\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n    this.saveFileNameCtrl.setValue(this.value);\r\n  }\r\n  static createName(score) {\r\n    return score.scoreInfo.name + '-' + score.scoreInfo.version + '.xml';\r\n  }\r\n  static createAndDisplay(params) {\r\n    var dg = new SuiSaveXmlDialog(params);\r\n    dg.display();\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiSaveXmlDialog';\r\n    super(parameters);\r\n    this.value = SuiSaveXmlDialog.createName(this.view.score);\r\n  }\r\n}\r\n\r\nexport class SuiSaveMidiDialog extends SuiFileDialog {\r\n  static get ctor() {\r\n    return 'SuiSaveMidiDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiSaveMidiDialog.ctor;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiSaveMidiDialog._dialogElements = typeof(SuiSaveMidiDialog._dialogElements) !== 'undefined' ?\r\n      SuiSaveMidiDialog._dialogElements :\r\n      [{\r\n        smoName: 'saveFileName',\r\n        parameterName: 'saveFileName',\r\n        defaultValue: '',\r\n        control: 'SuiTextInputComponent',\r\n        label: 'File Name'\r\n      },\r\n      {\r\n        staticText: [\r\n          { label: 'Save Score as Midi' }\r\n        ]\r\n      }];\r\n    return SuiSaveMidiDialog._dialogElements;\r\n  }\r\n  changed() {\r\n    this.value = this.components[0].getValue();\r\n  }\r\n  commit() {\r\n    let filename = this.value;\r\n    if (!filename) {\r\n      filename = 'myScore.mid';\r\n    }\r\n    if (filename.indexOf('.mid') < 0) {\r\n      filename = filename + '.mid';\r\n    }\r\n    this.view.score.scoreInfo.version += 1;\r\n    this.view.saveMidi(filename);\r\n    this.complete();\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.saveFileNameCtrl.setValue(this.value);\r\n    this._bindElements();\r\n  }\r\n  static createName(score) {\r\n    return score.scoreInfo.name + '-' + score.scoreInfo.version + '.mid';\r\n  }\r\n  static createAndDisplay(params) {\r\n    var dg = new SuiSaveMidiDialog(params);\r\n    dg.display();\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiSaveMidiDialog';\r\n    super(parameters);\r\n    this.value = SuiSaveMidiDialog.createName(this.view.score);\r\n  }\r\n}\r\n\r\nexport class SuiSaveActionsDialog extends SuiFileDialog {\r\n  static get ctor() {\r\n    return 'SuiSaveActionsDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiSaveActionsDialog.ctor;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiSaveActionsDialog._dialogElements = typeof(SuiSaveActionsDialog._dialogElements) !== 'undefined' ?\r\n      SuiSaveActionsDialog._dialogElements :\r\n      [{\r\n        smoName: 'saveFileName',\r\n        parameterName: 'saveFileName',\r\n        defaultValue: '',\r\n        control: 'SuiTextInputComponent',\r\n        label: 'File Name'\r\n      },\r\n      {\r\n        staticText: [\r\n          { label: 'Save Score' }\r\n        ]\r\n      }];\r\n    return SuiSaveActionsDialog._dialogElements;\r\n  }\r\n\r\n  changed() {\r\n    this.value = this.components[0].getValue();\r\n  }\r\n  commit() {\r\n    let filename = this.value;\r\n    if (!filename) {\r\n      filename = 'myScore.json';\r\n    }\r\n    if (filename.indexOf('.json') < 0) {\r\n      filename = filename + '.json';\r\n    }\r\n    this.view.score.scoreInfo.version += 1;\r\n    this.view.saveActions(filename);\r\n    this.complete();\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.saveFileNameCtrl.setValue(this.value);\r\n    this._bindElements();\r\n  }\r\n  static createName(score) {\r\n    return score.scoreInfo.name + '-' + score.scoreInfo.version + '-actions.json';\r\n  }\r\n  static createAndDisplay(params) {\r\n    var dg = new SuiSaveActionsDialog(params);\r\n    dg.display();\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiSaveActionsDialog';\r\n    super(parameters);\r\n    this.value = SuiSaveActionsDialog.createName(this.view.score);\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiToggleComposite, SuiComponentBase, SuiDropdownComposite, SuiButtonComposite, SuiRockerComposite } from '../dialogComponents';\r\nimport { SmoTextGroup, SmoScoreText } from '../../smo/data/scoreModifiers';\r\nimport { htmlHelpers } from '../../common/htmlHelpers';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SourceSerifProFont } from '../../styles/font_metrics/ssp-serif-metrics';\r\nimport { SourceSansProFont } from '../../styles/font_metrics/ssp-sans-metrics';\r\n\r\n// ## SuiFontComponent\r\n// Dialog component that lets user choose and customize fonts.\r\nexport class SuiFontComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'options', 'control', 'label', 'dataType'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    if (!this.dataType) {\r\n      this.dataType = 'string';\r\n    }\r\n    this.dialog = dialog;\r\n\r\n    this.familyPart = new SuiDropdownComposite(this.dialog,\r\n      {\r\n        smoName: 'fontFamily',\r\n        parameterName: 'fontFamily' + this.parameterId,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        defaultValue: SmoScoreText.fontFamilies.times,\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Font Family',\r\n        startRow: true,\r\n        parentControl: this,\r\n        options: [\r\n          { label: 'Arial', value: 'Arial' },\r\n          { label: 'Times New Roman', value: 'Times New Roman' },\r\n          { label: 'Serif', value: SourceSerifProFont.fontFamily },\r\n          { label: 'Sans', value: SourceSansProFont.fontFamily },\r\n          { label: 'Roboto Slab', value: 'Roboto Slab' },\r\n          { label: 'Petaluma', value: 'Petaluma Script' },\r\n          { label: 'Commissioner', value: 'Commissioner' },\r\n          { label: 'Concert One', value: 'ConcertOne' },\r\n          { label: 'Merriweather', value: 'Merriweather' }\r\n        ]\r\n      });\r\n    this.sizePart = new SuiRockerComposite(\r\n      this.dialog,\r\n      {\r\n        smoName: 'fontSize',\r\n        parameterName: 'fontSize' + this.parameterId,\r\n        defaultValue: 1,\r\n        parentControl: this,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiRockerComponent',\r\n        label: 'Font Size',\r\n        type: 'float',\r\n        increment: 0.1\r\n      },\r\n    );\r\n    this.italicsCtrl = new SuiToggleComposite(\r\n      this.dialog,\r\n      {\r\n        smoName: 'italics',\r\n        parameterName: 'italics' + this.parameterId,\r\n        defaultValue: false,\r\n        parentControl: this,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiToggleComponent',\r\n        label: 'Italics'\r\n      }\r\n    );\r\n    this.boldCtrl = new SuiToggleComposite(\r\n      this.dialog,\r\n      {\r\n        smoName: 'bold',\r\n        parameterName: 'bold' + this.parameterId,\r\n        parentControl: this,\r\n        defaultValue: false,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiToggleComponent',\r\n        label: 'Bold'\r\n      }\r\n    );\r\n  }\r\n  changed() {\r\n    this.handleChanged();\r\n  }\r\n\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const q = b('div').classes(this.makeClasses('multiControl smoControl')).attr('id', this.parameterId);\r\n    if (this.label) {\r\n      q.append(b('h3').classes('font-purpose').text(this.label));\r\n    }\r\n    q.append(this.familyPart.html);\r\n    q.append(this.sizePart.html);\r\n    q.append(this.boldCtrl.html);\r\n    q.append(this.italicsCtrl.html);\r\n\r\n    return q;\r\n  }\r\n\r\n  _getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('select');\r\n  }\r\n  getValue() {\r\n    return {\r\n      family: this.familyPart.getValue(),\r\n      size: this.sizePart.getValue(),\r\n      weight: this.boldCtrl.getValue() ? 'bold' : 'normal',\r\n      style: this.italicsCtrl.getValue() ? 'italics' : 'normal'\r\n    };\r\n  }\r\n  setValue(value) {\r\n    let italics = false;\r\n    // upconvert font size, all font sizes now in points.\r\n    if (typeof(value.size) !== 'number') {\r\n      value.size = SmoScoreText.fontPointSize(value.size);\r\n    }\r\n    if (value.style && value.style === 'italics') {\r\n      italics = true;\r\n    }\r\n    const boldString = SmoScoreText.weightString(value.weight);\r\n    const bold = boldString === 'bold';\r\n    this.boldCtrl.setValue(bold);\r\n    this.italicsCtrl.setValue(italics);\r\n    this.familyPart.setValue(value.family);\r\n    this.sizePart.setValue(value.size);\r\n  }\r\n\r\n  bind() {\r\n    this.familyPart.bind();\r\n    this.sizePart.bind();\r\n    this.boldCtrl.bind();\r\n    this.italicsCtrl.bind();\r\n  }\r\n}\r\n\r\nexport class SuiTextBlockComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'options', 'control', 'label', 'dataType'], parameter, this);\r\n    this.dialog = dialog;\r\n    this.addBlockCtrl = new SuiButtonComposite(this.dialog,\r\n      {\r\n        smoName: 'addBlock',\r\n        parameterName: 'addBlock',\r\n        parentControl: this,\r\n        defaultValue: false,\r\n        icon: 'icon-plus',\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiButtonComponent',\r\n        label: 'Add Text Block'\r\n      });\r\n\r\n    this.toggleBlockCtrl = new SuiButtonComposite(this.dialog,\r\n      {\r\n        smoName: 'toggleBlock',\r\n        parameterName: 'toggleBlock',\r\n        parentControl: this,\r\n        defaultValue: false,\r\n        icon: 'icon-arrow-right',\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiButtonComponent',\r\n        label: 'Next Block'\r\n      });\r\n\r\n    this.removeBlockCtrl = new SuiButtonComposite(this.dialog,\r\n      {\r\n        smoName: 'removeBlock',\r\n        parameterName: 'removeBlock',\r\n        parentControl: this,\r\n        defaultValue: false,\r\n        icon: 'icon-minus',\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiButtonComponent',\r\n        label: 'Remove Block'\r\n      });\r\n    this.relativePositionCtrl = new SuiDropdownComposite(\r\n      this.dialog,\r\n      {\r\n        smoName: 'relativePosition',\r\n        parameterName: 'relativePosition',\r\n        parentControl: this,\r\n        defaultValue: SmoScoreText.justifications.left,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Block Positions',\r\n        startRow: true,\r\n        options: [{\r\n          value: SmoTextGroup.relativePositions.ABOVE,\r\n          label: 'Above'\r\n        }, {\r\n          value: SmoTextGroup.relativePositions.BELOW,\r\n          label: 'Below'\r\n        }, {\r\n          value: SmoTextGroup.relativePositions.LEFT,\r\n          label: 'Left'\r\n        }, {\r\n          value: SmoTextGroup.relativePositions.RIGHT,\r\n          label: 'Right'\r\n        }]\r\n      }\r\n    );\r\n    this.justificationCtrl = new SuiDropdownComposite(\r\n      this.dialog,\r\n      {\r\n        smoName: 'justification',\r\n        parameterName: 'justification',\r\n        parentControl: this,\r\n        defaultValue: SmoScoreText.justifications.left,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Justification',\r\n        options: [{\r\n          value: SmoTextGroup.justifications.LEFT,\r\n          label: 'Left'\r\n        }, {\r\n          value: SmoTextGroup.justifications.RIGHT,\r\n          label: 'Right'\r\n        }, {\r\n          value: SmoTextGroup.justifications.CENTER,\r\n          label: 'Center'\r\n        }]\r\n      });\r\n    this.spacingCtrl = new SuiRockerComposite(\r\n      this.dialog,\r\n      {\r\n        smoName: 'spacing',\r\n        parameterName: 'spacing',\r\n        defaultValue: 0,\r\n        parentControl: this,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiRockerComponent',\r\n        label: 'Spacing',\r\n        type: 'float',\r\n        increment: 0.1\r\n      },\r\n    );\r\n    this.modifier = this.dialog.modifier;\r\n    this.activeScoreText = this.dialog.activeScoreText;\r\n  }\r\n  changed() {\r\n    if (this.addBlockCtrl.changeFlag) {\r\n      const nt = new SmoScoreText(this.activeScoreText);\r\n      this.modifier.addScoreText(nt);\r\n      this.activeScoreText = nt;\r\n      this.modifier.setActiveBlock(nt);\r\n      this._updateMultiiFields();\r\n    }\r\n    if (this.relativePositionCtrl.changeFlag) {\r\n      this.modifier.setRelativePosition(parseInt(this.relativePositionCtrl.getValue(), 10));\r\n    }\r\n    if (this.justificationCtrl.changeFlag) {\r\n      this.modifier.justification = parseInt(this.justificationCtrl.getValue(), 10);\r\n    }\r\n    if (this.removeBlockCtrl.changeFlag) {\r\n      this.modifier.removeBlock(this.activeScoreText);\r\n      this.activeScoreText = this.modifier.firstBlock();\r\n      this._updateMultiiFields();\r\n    }\r\n    if (this.toggleBlockCtrl.changeFlag) {\r\n      const curIx = this.modifier.indexOf(this.activeScoreText);\r\n      const newIx = (curIx + 1) % this.modifier.textBlocks.length;\r\n      this.activeScoreText = this.modifier.textBlocks[newIx].text;\r\n      this.modifier.setActiveBlock(this.activeScoreText);\r\n    }\r\n    if (this.spacingCtrl.changeFlag) {\r\n      const val = this.spacingCtrl.getValue();\r\n      if (val >= 0) {\r\n        this.modifier.spacing = val;\r\n      }\r\n    }\r\n    this.handleChanged();\r\n  }\r\n\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const q = b('div').classes(this.makeClasses('multiControl smoControl'));\r\n    q.append(this.addBlockCtrl.html);\r\n    q.append(this.removeBlockCtrl.html);\r\n    q.append(this.toggleBlockCtrl.html);\r\n    q.append(this.relativePositionCtrl.html);\r\n    q.append(this.justificationCtrl.html);\r\n    q.append(this.spacingCtrl.html);\r\n\r\n    return q;\r\n  }\r\n\r\n  _getInputElement() {\r\n    return $(this.dialog.dgDom.element).find('#' + this.pid);\r\n  }\r\n  getValue() {\r\n    return {\r\n      activeScoreText: this.activeScoreText,\r\n      modifier: this.modifier\r\n    };\r\n  }\r\n  _updateMultiiFields() {\r\n    const fields = [this.justificationCtrl, this.relativePositionCtrl,\r\n      this.removeBlockCtrl, this.toggleBlockCtrl, this.spacingCtrl];\r\n    fields.forEach((field) => {\r\n      if (this.modifier.textBlocks.length < 2) {\r\n        $('#' + field.parameterId).addClass('hide');\r\n      } else {\r\n        $('#' + field.parameterId).removeClass('hide');\r\n      }\r\n    });\r\n  }\r\n  setValue(value) {\r\n    this.activeScoreText = value.activeScoreText;\r\n    this.modifier = value.modifier;\r\n    this.relativePositionCtrl.setValue(this.modifier.relativePosition);\r\n    this._updateMultiiFields();\r\n    this.justificationCtrl.setValue(this.modifier.justification);\r\n    this.spacingCtrl.setValue(this.modifier.spacing);\r\n  }\r\n\r\n  bind() {\r\n    this.addBlockCtrl.bind();\r\n    this.relativePositionCtrl.bind();\r\n    this.justificationCtrl.bind();\r\n    this.removeBlockCtrl.bind();\r\n    this.toggleBlockCtrl.bind();\r\n    this.spacingCtrl.bind();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiDialogBase } from '../dialog';\r\nimport { SmoLibrary } from '../fileio/library';\r\nimport { SuiXhrLoader } from '../fileio/xhrLoader';\r\nimport { mxmlScore } from '../../smo/mxml/xmlScore';\r\nimport { SmoScore } from '../../smo/data/score';\r\n\r\n// ## SuiLibraryDialog\r\n// Traverse the library nodes or load a score\r\nexport class SuiLibraryDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiLibraryDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiLibraryDialog.ctor;\r\n  }\r\n  static get dialogElements() {\r\n    SuiLibraryDialog._dialogElements = typeof (SuiLibraryDialog._dialogElements)\r\n      !== 'undefined' ? SuiLibraryDialog._dialogElements :\r\n      [{\r\n        smoName: 'smoLibrary',\r\n        parameterName: 'smoLibrary',\r\n        control: 'SuiTreeComponent',\r\n        root: '',\r\n        label: 'Selection',\r\n        options: []\r\n      }, {\r\n        staticText: [\r\n          { label: 'Music Library' }\r\n        ]\r\n      }];\r\n    return SuiLibraryDialog._dialogElements;\r\n  }\r\n  static addChildRecurse(options, parent, child) {\r\n    options.push({ label: child.metadata.name, value: child.url, parent: parent.url, format: child.format, expanded: false });\r\n    child.children.forEach((gchild) => {\r\n      SuiLibraryDialog.addChildRecurse(options, child, gchild);\r\n    });\r\n  }\r\n  static _createOptions(topLib) {\r\n    const options = [];\r\n    topLib.children.forEach((child) => {\r\n      SuiLibraryDialog.addChildRecurse(options, topLib, child);\r\n    });\r\n    return options;\r\n  }\r\n  static _createElements(topLib) {\r\n    const elements = JSON.parse(JSON.stringify(SuiLibraryDialog.dialogElements));\r\n    const txt = elements.find((ee) => typeof (ee.staticText) !== 'undefined');\r\n    const tree = elements.find((ee) => typeof (ee.smoName) !== 'undefined' && ee.smoName === 'smoLibrary');\r\n    txt.label = topLib.metadata.name;\r\n    tree.root = topLib.url;\r\n    tree.options = SuiLibraryDialog._createOptions(topLib);\r\n    return elements;\r\n  }\r\n  static _createAndDisplay(parameters, topLib) {\r\n    const elements = SuiLibraryDialog._createElements(topLib);\r\n    const dg = new SuiLibraryDialog(parameters, elements, topLib);\r\n    dg.display();\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const topLib = new SmoLibrary({ url: SmoConfig.libraryUrl });\r\n    topLib.load().then(() => SuiLibraryDialog._createAndDisplay(parameters, topLib));\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  buildTreeRecurse(children) {\r\n    children.forEach((child) => {\r\n      this.tree[child.url] = child;\r\n      this.buildTreeRecurse(child.children);\r\n    });\r\n  }\r\n  buildTree() {\r\n    this.tree = {};\r\n    this.buildTreeRecurse(this.topLib.children);\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n    $(this.dgDom.element).find('.smoControlContainer').addClass('center-flex');\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    this.okButton = $(dgDom.element).find('.ok-button');\r\n    $(this.okButton).prop('disabled', true);\r\n    this.cancelButton = $(dgDom.element).find('.cancel-button');\r\n    $(this.okButton).off('click').on('click', () => {\r\n      if (this.selectedScore !== null) {\r\n        if (this.selectedScore.format === 'mxml') {\r\n          this._loadXmlAndComplete();\r\n        } else {\r\n          this._loadJsonAndComplete();\r\n        }\r\n      } else {\r\n        this.complete();\r\n      }\r\n    });\r\n    $(this.cancelButton).off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n  _loadJsonAndComplete() {\r\n    const req = new SuiXhrLoader(this.selectedScore.url);\r\n    req.loadAsync().then(() => {\r\n      const score = SmoScore.deserialize(req.value);\r\n      this.view.changeScore(score);\r\n      this.complete();\r\n    });\r\n  }\r\n  _loadXmlAndComplete() {\r\n    const req = new SuiXhrLoader(this.selectedScore.url);\r\n    req.loadAsync().then(() => {\r\n      const parser = new DOMParser();\r\n      const xml = parser.parseFromString(req.value, 'text/xml');\r\n      const score = mxmlScore.smoScoreFromXml(xml);\r\n      this.view.changeScore(score);\r\n      this.complete();\r\n    });\r\n  }\r\n  changed() {\r\n    if (this.smoLibraryCtrl.changeFlag) {\r\n      const url = this.smoLibraryCtrl.getValue();\r\n      this.buildTree();\r\n      this.selectedLib = this.tree[url];\r\n      this.smoLibraryCtrl.setValue(this.selectedLib.url);\r\n      // User navigates to parent library\r\n      if (this.selectedLib.format === 'library') {\r\n        $(this.okButton).prop('disabled', true);\r\n        this.selectedScore = null;\r\n        if (!this.selectedLib.loaded) {\r\n          this.selectedLib.load().then(() => {\r\n            const options = SuiLibraryDialog._createOptions(this.topLib);\r\n            this.smoLibraryCtrl.updateOptions(options);\r\n            this.smoLibraryCtrl.setValue(this.selectedLib.url);\r\n          });\r\n        }\r\n      } else {\r\n        this.selectedScore = this.selectedLib;\r\n        this.smoLibraryCtrl.setValue(this.selectedLib.url);\r\n        $(this.okButton).prop('disabled', false);\r\n      }\r\n    }\r\n  }\r\n  constructor(parameters, dialogElements, topLib) {\r\n    super(dialogElements, {\r\n      id: 'dialog-layout',\r\n      ...parameters\r\n    });\r\n    this.libHash = {};\r\n    this.libHash[topLib.url] = topLib;\r\n    this.topLib = topLib;\r\n    this.selectedLib = null;\r\n    this.parentLib = {};\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiDialogBase } from '../dialog';\r\nimport { CheckboxDropdownComponent } from './staffComponents';\r\nimport { SmoMeasure } from '../../smo/data/measure';\r\nimport { SmoMeasureText, SmoTempoText } from '../../smo/data/measureModifiers';\r\nimport { smoMusic } from '../../common/musicHelpers';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\n\r\n// ## measureDialogs.js\r\n// This file contains dialogs that affect all measures at a certain position,\r\n// such as tempo or time signature.\r\nexport class SuiMeasureDialog extends SuiDialogBase {\r\n  static get attributes() {\r\n    return ['pickupMeasure', 'makePickup', 'padLeft', 'padAllInSystem',\r\n      'measureText', 'measureTextPosition'];\r\n  }\r\n  static get ctor() {\r\n    return 'SuiMeasureDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiMeasureDialog.ctor;\r\n  }\r\n  static get dialogElements() {\r\n    SuiMeasureDialog._dialogElements = typeof (SuiMeasureDialog._dialogElements) !== 'undefined' ? SuiMeasureDialog._dialogElements :\r\n      [{\r\n        staticText: [\r\n          { label: 'Measure Properties' }]\r\n      },\r\n      {\r\n        smoName: 'pickup',\r\n        parameterName: 'pickup',\r\n        defaultValue: '',\r\n        control: CheckboxDropdownComponent,\r\n        label: 'Pickup',\r\n        toggleElement: {\r\n          smoName: 'makePickup',\r\n          parameterName: 'makePickup',\r\n          defaultValue: false,\r\n          control: 'SuiToggleComponent',\r\n          label: 'Convert to Pickup Measure'\r\n        },\r\n        dropdownElement: {\r\n          smoName: 'pickupMeasure',\r\n          parameterName: 'pickupMeasure',\r\n          defaultValue: 2048,\r\n          control: 'SuiDropdownComponent',\r\n          label: 'Pickup Measure',\r\n          options: [{\r\n            value: 2048,\r\n            label: 'Eighth Note'\r\n          }, {\r\n            value: 4096,\r\n            label: 'Quarter Note'\r\n          }, {\r\n            value: 6144,\r\n            label: 'Dotted Quarter'\r\n          }, {\r\n            value: 8192,\r\n            label: 'Half Note'\r\n          }]\r\n        }\r\n      }, {\r\n        parameterName: 'padLeft',\r\n        smoName: 'padLeft',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Pad Left (px)'\r\n      }, {\r\n        parameterName: 'customStretch',\r\n        smoName: 'customStretch',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Stretch Contents'\r\n      }, {\r\n        parameterName: 'customProportion',\r\n        smoName: 'customProportion',\r\n        defaultValue: SmoMeasure.defaults.customProportion,\r\n        control: 'SuiRockerComponent',\r\n        increment: 10,\r\n        label: 'Proportionalality'\r\n      }, {\r\n        smoName: 'padAllInSystem',\r\n        parameterName: 'padAllInSystem',\r\n        defaultValue: false,\r\n        control: 'SuiToggleComponent',\r\n        label: 'Pad all measures in system'\r\n      }, {\r\n        smoName: 'autoJustify',\r\n        parameterName: 'autoJustify',\r\n        defaultValue: true,\r\n        control: 'SuiToggleComponent',\r\n        label: 'Justify Columns'\r\n      }, {\r\n        smoName: 'measureTextPosition',\r\n        parameterName: 'measureTextPosition',\r\n        defaultValue: SmoMeasureText.positions.above,\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Text Position',\r\n        options: [{\r\n          value: SmoMeasureText.positions.left,\r\n          label: 'Left'\r\n        }, {\r\n          value: SmoMeasureText.positions.right,\r\n          label: 'Right'\r\n        }, {\r\n          value: SmoMeasureText.positions.above,\r\n          label: 'Above'\r\n        }, {\r\n          value: SmoMeasureText.positions.below,\r\n          label: 'Below'\r\n        }]\r\n      }, {\r\n        smoName: 'systemBreak',\r\n        parameterName: 'systemBreak',\r\n        defaultValue: false,\r\n        control: 'SuiToggleComponent',\r\n        label: 'System break before this measure'\r\n      }];\r\n    return SuiMeasureDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    // SmoUndoable.scoreSelectionOp(score,selection,'addTempo',\r\n    //      new SmoTempoText({bpm:144}),undo,'tempo test 1.3');\r\n    parameters.selection = parameters.view.tracker.selections[0];\r\n    const dg = new SuiMeasureDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n  changed() {\r\n    this.edited = true;\r\n    let updateFormat = true;\r\n    // TODO: move pickup out of this dialog\r\n    if (this.pickupCtrl.changeFlag) {\r\n      if (this.pickupCtrl.toggleCtrl.getValue() === false) {\r\n        this.view.createPickup(smoMusic.timeSignatureToTicks(this.measure.timeSignature));\r\n      } else {\r\n        this.view.createPickup(this.pickupCtrl.dropdownCtrl.getValue());\r\n      }\r\n    }\r\n    if (this.customStretchCtrl.changeFlag) {\r\n      this.modifier.customStretch = this.customStretchCtrl.getValue();\r\n      updateFormat = true;\r\n    }\r\n    if (this.customProportionCtrl.changeFlag) {\r\n      this.modifier.customProportion = this.customProportionCtrl.getValue();\r\n      updateFormat = true;\r\n    }\r\n    if (this.systemBreakCtrl.changeFlag) {\r\n      updateFormat = true;\r\n      this.modifier.systemBreak = this.systemBreakCtrl.getValue();\r\n    }\r\n    if (this.autoJustifyCtrl.changeFlag) {\r\n      updateFormat = true;\r\n      this.modifier.autoJustify = this.autoJustifyCtrl.getValue();\r\n    }\r\n    if (this.padLeftCtrl.changeFlag || this.padAllInSystemCtrl.changeFlag) {\r\n      updateFormat = true;\r\n      this.modifier.padLeft = this.padLeftCtrl.getValue();\r\n      this.modifier.padAllInSystem = this.padAllInSystemCtrl.getValue();\r\n    }\r\n    if (updateFormat) {\r\n      this.view.setMeasureFormat(this.modifier);\r\n    }\r\n    //\r\n    this._updateConditionals();\r\n  }\r\n  constructor(parameters) {\r\n    if (!parameters.selection) {\r\n      throw new Error('measure dialogmust have measure and selection');\r\n    }\r\n\r\n    super(SuiMeasureDialog.dialogElements, {\r\n      id: 'dialog-measure',\r\n      label: 'Measure Properties',\r\n      ...parameters\r\n    });\r\n    this.view.groupUndo(true);\r\n    this.edited = false;\r\n    this.refresh = false;\r\n    Vex.Merge(this, parameters);\r\n\r\n    // The 'modifier' that this dialog acts on is a measure.\r\n    this.measure = this.selection.measure;\r\n    this.modifier = this.measure.format;\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'SELECTIONPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n  }\r\n  _updateConditionals() {\r\n    if (this.padLeftCtrl.getValue() !== 0 || this.padLeftCtrl.changeFlag) {\r\n      $('.attributeDialog .attributeModal').addClass('pad-left-select');\r\n    } else {\r\n      $('.attributeDialog .attributeModal').removeClass('pad-left-select');\r\n    }\r\n  }\r\n  populateInitial() {\r\n    this.padLeftCtrl.setValue(this.modifier.padLeft);\r\n    this.autoJustifyCtrl.setValue(this.modifier.autoJustify);\r\n    const isPickup = this.measure.isPickup();\r\n    this.customStretchCtrl.setValue(this.modifier.customStretch);\r\n    this.customProportionCtrl.setValue(this.modifier.customProportion);\r\n    this.pickupCtrl.toggleCtrl.setValue(isPickup);\r\n    if (isPickup) {\r\n      this.pickupCtrl.dropdownCtrl.setValue(this.measure.getTicksFromVoice(0));\r\n    }\r\n\r\n    const isSystemBreak = this.modifier.systemBreak;\r\n    this.systemBreakCtrl.setValue(isSystemBreak);\r\n    this._updateConditionals();\r\n\r\n    // TODO: handle multiples (above/below)\r\n    this.measure.getMeasureText();\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      if (this.edited) {\r\n        this.view.undo();\r\n      }\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').off('click').on('click', () => {\r\n      this.groupUndo(false);\r\n      this.complete();\r\n    });\r\n  }\r\n}\r\n\r\nexport class SuiInstrumentDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiInstrumentDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiInstrumentDialog.ctor;\r\n  }\r\n  static get applyTo() {\r\n    return {\r\n      score: 0, selected: 1, remaining: 3\r\n    };\r\n  }\r\n  static get dialogElements() {\r\n    SuiInstrumentDialog._dialogElements = typeof (SuiInstrumentDialog._dialogElements) !== 'undefined' ?\r\n      SuiInstrumentDialog._dialogElements :\r\n      [{\r\n        staticText: [\r\n          { label: 'Instrument Properties' }\r\n        ]\r\n      },\r\n      {\r\n        smoName: 'transposeIndex',\r\n        parameterName: 'transposeIndex',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Transpose Index (1/2 steps)',\r\n      }, {\r\n        smoName: 'applyTo',\r\n        parameterName: 'applyTo',\r\n        defaultValue: SuiInstrumentDialog.applyTo.score,\r\n        dataType: 'int',\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Apply To',\r\n        options: [{\r\n          value: SuiInstrumentDialog.applyTo.score,\r\n          label: 'Score'\r\n        }, {\r\n          value: SuiInstrumentDialog.applyTo.selected,\r\n          label: 'Selected Measures'\r\n        }, {\r\n          value: SuiInstrumentDialog.applyTo.remaining,\r\n          label: 'Remaining Measures'\r\n        }]\r\n      }];\r\n    return SuiInstrumentDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    var db = new SuiInstrumentDialog(parameters);\r\n    db.display();\r\n    return db;\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n  }\r\n  populateInitial() {\r\n    const ix = this.measure.transposeIndex;\r\n    this.transposeIndexCtrl.setValue(ix);\r\n  }\r\n\r\n  changed() {\r\n    let selections = [];\r\n    if (!this.transposeIndexCtrl.changeFlag) {\r\n      return;\r\n    }\r\n    const xpose = this.transposeIndexCtrl.getValue();\r\n    if (this.applyToCtrl.getValue() === SuiInstrumentDialog.applyTo.score) {\r\n      selections = SmoSelection.selectionsToEnd(this.view.score, this.selection.selector.staff, 0);\r\n    } else if (this.applyToCtrl.getValue() === SuiInstrumentDialog.applyTo.remaining) {\r\n      selections = SmoSelection.selectionsToEnd(this.view.score, this.selection.selector.staff, this.selection.selector.measure);\r\n    } else {\r\n      selections.push(this.selection);\r\n    }\r\n    this.view.changeInstrument(\r\n      {\r\n        instrumentName: 'Treble Instrument',\r\n        keyOffset: xpose,\r\n        clef: this.measure.clef\r\n      },\r\n      selections\r\n    );\r\n  }\r\n\r\n  constructor(parameters) {\r\n    const selection = parameters.view.tracker.selections[0];\r\n    const measure = selection.measure;\r\n    parameters = { selection, measure, ...parameters };\r\n\r\n    super(SuiInstrumentDialog.dialogElements, {\r\n      id: 'instrument-measure',\r\n      ...parameters\r\n    });\r\n    this.measure = measure;\r\n    this.refresh = false;\r\n    this.selection = parameters.selection;\r\n  }\r\n  _bindElements() {\r\n    var dgDom = this.dgDom;\r\n\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n  }\r\n}\r\n\r\nexport class SuiInsertMeasures extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiInsertMeasures';\r\n  }\r\n  get ctor() {\r\n    return SuiInsertMeasures.ctor;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiInsertMeasures._dialogElements = typeof (SuiInsertMeasures._dialogElements) !== 'undefined' ?\r\n      SuiInsertMeasures._dialogElements :\r\n      [{\r\n        staticText: [\r\n          { label: 'Insert Measures' }\r\n        ]\r\n      }, {\r\n        smoName: 'measureCount',\r\n        parameterName: 'measureCount',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Measures to Insert',\r\n      }, {\r\n        smoName: 'append',\r\n        parameterName: 'append',\r\n        defaultValue: true,\r\n        control: 'SuiToggleComponent',\r\n        label: 'Append to Selection'\r\n      }];\r\n    return SuiInsertMeasures._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    var db = new SuiInsertMeasures(parameters);\r\n    db.display();\r\n    return db;\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n  }\r\n  populateInitial() {\r\n    this.measureCountCtrl.setValue(1);\r\n  }\r\n  // noop\r\n  changed() {\r\n  }\r\n  constructor(parameters) {\r\n    const selection = parameters.view.tracker.selections[0];\r\n    const measure = selection.measure;\r\n    parameters = { selection, measure, ...parameters };\r\n    super(SuiInsertMeasures.dialogElements, {\r\n      id: 'time-signature-measure',\r\n      ...parameters\r\n    });\r\n    this.measure = measure;\r\n    Vex.Merge(this, parameters);\r\n    if (!this.startPromise) {\r\n      this.startPromise = new Promise((resolve) => {\r\n        resolve();\r\n      });\r\n    }\r\n  }\r\n  _bindElements() {\r\n    var dgDom = this.dgDom;\r\n    this.populateInitial();\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.view.addMeasures(this.appendCtrl.getValue(), this.measureCountCtrl.getValue());\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n}\r\n\r\nexport class SuiTimeSignatureDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiTimeSignatureDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiTimeSignatureDialog.ctor;\r\n  }\r\n  static get dialogElements() {\r\n    SuiTimeSignatureDialog._dialogElements = SuiTimeSignatureDialog._dialogElements ? SuiTimeSignatureDialog._dialogElements :\r\n      [\r\n        {\r\n          staticText: [\r\n            { label: 'Custom Time Signature' }\r\n          ]\r\n        },\r\n        {\r\n          smoName: 'numerator',\r\n          parameterName: 'numerator',\r\n          defaultValue: 3,\r\n          control: 'SuiRockerComponent',\r\n          label: 'Beats/Measure',\r\n        },\r\n        {\r\n          parameterName: 'denominator',\r\n          smoName: 'denominator',\r\n          defaultValue: 8,\r\n          dataType: 'int',\r\n          control: 'SuiDropdownComponent',\r\n          label: 'Beat Value',\r\n          options: [{\r\n            value: 8,\r\n            label: '8',\r\n          }, {\r\n            value: 4,\r\n            label: '4'\r\n          }, {\r\n            value: 2,\r\n            label: '2'\r\n          }]\r\n        }, {\r\n          smoName: 'display',\r\n          parameterName: 'display',\r\n          defaultValue: true,\r\n          control: 'SuiToggleComponent',\r\n          label: 'Display',\r\n        },\r\n      ];\r\n    return SuiTimeSignatureDialog._dialogElements;\r\n  }\r\n  populateInitial() {\r\n    const num = this.measure.timeSignature.actualBeats;\r\n    const den = this.measure.timeSignature.beatDuration;\r\n    this.numeratorCtrl.setValue(num);\r\n    this.denominatorCtrl.setValue(den);\r\n    this.displayCtrl.setValue(this.measure.timeSignature.display);\r\n  }\r\n\r\n  changed() {\r\n    // no dynamic change for time  signatures\r\n  }\r\n  static createAndDisplay(params) {\r\n    var dg = new SuiTimeSignatureDialog(\r\n      params\r\n    );\r\n    dg.display();\r\n    return dg;\r\n  }\r\n\r\n  changeTimeSignature() {\r\n    const ts = SmoMeasure.convertLegacyTimeSignature('' + this.numeratorCtrl.getValue() + '/' + this.denominatorCtrl.getValue());\r\n    ts.display = this.displayCtrl.getValue();\r\n    this.view.setTimeSignature(ts);\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    this.numeratorCtrl = this.components.find((comp) => comp.smoName === 'numerator');\r\n    this.denominatorCtrl = this.components.find((comp) => comp.smoName === 'denominator');\r\n    this.populateInitial();\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.changeTimeSignature();\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n  }\r\n  constructor(parameters) {\r\n    const measure = parameters.view.tracker.selections[0].measure;\r\n\r\n    super(SuiTimeSignatureDialog.dialogElements, {\r\n      id: 'time-signature-measure',\r\n      label: 'Custom Time Signature',\r\n      ...parameters\r\n    });\r\n    this.measure = measure;\r\n    this.refresh = false;\r\n    this.startPromise = parameters.closeMenuPromise;\r\n    Vex.Merge(this, parameters);\r\n  }\r\n}\r\n\r\n// ## SuiTempoDialog\r\n// Allow user to choose a tempo or tempo change.\r\nexport class SuiTempoDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiTempoDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiTempoDialog.ctor;\r\n  }\r\n  static get attributes() {\r\n    return ['tempoMode', 'bpm', 'beatDuration', 'tempoText', 'yOffset'];\r\n  }\r\n  static get dialogElements() {\r\n    SuiTempoDialog._dialogElements = SuiTempoDialog._dialogElements ? SuiTempoDialog._dialogElements :\r\n      [\r\n        {\r\n          staticText: [\r\n            { label: 'Tempo Properties' }\r\n          ]\r\n        },\r\n        {\r\n          smoName: 'tempoMode',\r\n          parameterName: 'tempoMode',\r\n          defaultValue: SmoTempoText.tempoModes.durationMode,\r\n          control: 'SuiDropdownComponent',\r\n          label: 'Tempo Mode',\r\n          options: [{\r\n            value: 'duration',\r\n            label: 'Duration (Beats/Minute)'\r\n          }, {\r\n            value: 'text',\r\n            label: 'Tempo Text'\r\n          }, {\r\n            value: 'custom',\r\n            label: 'Specify text and duration'\r\n          }\r\n          ]\r\n        },\r\n        {\r\n          smoName: 'customText',\r\n          parameterName: 'customText',\r\n          defaultValue: '',\r\n          control: 'SuiTextInputComponent',\r\n          label: 'Custom Text',\r\n          classes: 'hide-when-text-mode'\r\n        },\r\n        {\r\n          parameterName: 'bpm',\r\n          smoName: 'bpm',\r\n          defaultValue: 120,\r\n          control: 'SuiRockerComponent',\r\n          label: 'Notes/Minute'\r\n        },\r\n        {\r\n          parameterName: 'duration',\r\n          smoName: 'beatDuration',\r\n          defaultValue: 4096,\r\n          dataType: 'int',\r\n          control: 'SuiDropdownComponent',\r\n          label: 'Unit for Beat',\r\n          options: [{\r\n            value: 4096,\r\n            label: 'Quarter Note',\r\n          }, {\r\n            value: 2048,\r\n            label: '1/8 note'\r\n          }, {\r\n            value: 6144,\r\n            label: 'Dotted 1/4 note'\r\n          }, {\r\n            value: 8192,\r\n            label: '1/2 note'\r\n          }\r\n          ]\r\n        },\r\n        {\r\n          smoName: 'tempoText',\r\n          parameterName: 'tempoText',\r\n          defaultValue: SmoTempoText.tempoTexts.allegro,\r\n          control: 'SuiDropdownComponent',\r\n          label: 'Tempo Text',\r\n          classes: 'hide-when-not-text-mode',\r\n          options: [{\r\n            value: SmoTempoText.tempoTexts.larghissimo,\r\n            label: 'Larghissimo'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.grave,\r\n            label: 'Grave'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.lento,\r\n            label: 'Lento'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.largo,\r\n            label: 'Largo'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.larghetto,\r\n            label: 'Larghetto'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.adagio,\r\n            label: 'Adagio'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.adagietto,\r\n            label: 'Adagietto'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.andante_moderato,\r\n            label: 'Andante moderato'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.andante,\r\n            label: 'Andante'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.andantino,\r\n            label: 'Andantino'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.moderator,\r\n            label: 'Moderato'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.allegretto,\r\n            label: 'Allegretto',\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.allegro,\r\n            label: 'Allegro'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.vivace,\r\n            label: 'Vivace'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.presto,\r\n            label: 'Presto'\r\n          }, {\r\n            value: SmoTempoText.tempoTexts.prestissimo,\r\n            label: 'Prestissimo'\r\n          }\r\n          ]\r\n        }, {\r\n          smoName: 'applyToAll',\r\n          parameterName: 'applyToAll',\r\n          defaultValue: false,\r\n          control: 'SuiToggleComponent',\r\n          label: 'Apply to all future measures?'\r\n        }, {\r\n          smoName: 'display',\r\n          parameterName: 'display',\r\n          defaultValue: true,\r\n          control: 'SuiToggleComponent',\r\n          label: 'Display Tempo'\r\n        }, {\r\n          smoName: 'yOffset',\r\n          parameterName: 'yOffset',\r\n          defaultValue: 0,\r\n          control: 'SuiRockerComponent',\r\n          label: 'Y Offset'\r\n        }\r\n      ];\r\n    return SuiTempoDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiTempoDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n  }\r\n\r\n  constructor(parameters) {\r\n    parameters.measures = SmoSelection.getMeasureList(parameters.view.tracker.selections)\r\n      .map((sel) => sel.measure);\r\n    const measure = parameters.measures[0];\r\n\r\n    // All measures have a default tempo, but it is not explicitly set unless it is\r\n    // non-default\r\n    parameters.modifier = measure.getTempo();\r\n    if (!parameters.modifier) {\r\n      parameters.modifier = new SmoTempoText();\r\n    }\r\n    if (!parameters.modifier.renderedBox) {\r\n      parameters.modifier.renderedBox = svgHelpers.copyBox(measure.svg.renderedBox);\r\n    }\r\n    if (!parameters.modifier || !parameters.measures) {\r\n      throw new Error('modifier attribute dialog must have modifier and selection');\r\n    }\r\n    super(SuiTempoDialog.dialogElements, {\r\n      id: 'dialog-tempo',\r\n      top: parameters.modifier.renderedBox.y,\r\n      left: parameters.modifier.renderedBox.x,\r\n      ...parameters\r\n    });\r\n    this.refresh = false;\r\n    Vex.Merge(this, parameters);\r\n  }\r\n  populateInitial() {\r\n    SmoTempoText.attributes.forEach((attr) => {\r\n      var comp = this.components.find((cc) => cc.smoName === attr);\r\n      if (comp) {\r\n        comp.setValue(this.modifier[attr]);\r\n      }\r\n    });\r\n    this._updateModeClass();\r\n  }\r\n  _updateModeClass() {\r\n    if (this.modifier.tempoMode === SmoTempoText.tempoModes.textMode) {\r\n      $('.attributeModal').addClass('tempoTextMode');\r\n      $('.attributeModal').removeClass('tempoDurationMode');\r\n    } else if (this.modifier.tempoMode === SmoTempoText.tempoModes.durationMode) {\r\n      $('.attributeModal').addClass('tempoDurationMode');\r\n      $('.attributeModal').removeClass('tempoTextMode');\r\n    } else {\r\n      $('.attributeModal').removeClass('tempoDurationMode');\r\n      $('.attributeModal').removeClass('tempoTextMode');\r\n    }\r\n  }\r\n  changed() {\r\n    this.components.forEach((component) => {\r\n      if (SmoTempoText.attributes.indexOf(component.smoName) >= 0) {\r\n        this.modifier[component.smoName] = component.getValue();\r\n      }\r\n    });\r\n    if (this.modifier.tempoMode === SmoTempoText.tempoModes.textMode) {\r\n      this.modifier.bpm = SmoTempoText.bpmFromText[this.modifier.tempoText];\r\n    }\r\n    if (this.customTextCtrl.changeFlag) {\r\n      this.modifier.customText = this.customTextCtrl.getValue();\r\n    }\r\n    this._updateModeClass();\r\n    this.view.updateTempoScore(this.modifier, this.applyToAllCtrl.getValue());\r\n  }\r\n  // ### handleRemove\r\n  // Removing a tempo change is like changing the measure to the previous measure's tempo.\r\n  // If this is the first measure, use the default value.\r\n  handleRemove() {\r\n    this.view.removeTempo(this.applyToAllCtrl.getValue());\r\n  }\r\n  // ### Populate the initial values and bind to the buttons.\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    $(dgDom.element).find('.cancel-button').remove();\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').off('click').on('click', () => {\r\n      this.handleRemove();\r\n      this.complete();\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiDialogBase } from '../dialog';\r\nimport { SmoScore } from '../../smo/data/score';\r\nimport { SmoPageLayout, SmoTextGroup, SmoLayoutManager } from '../../smo/data/scoreModifiers';\r\nimport { SmoMeasureFormat } from '../../smo/data/measureModifiers';\r\n\r\nconst deepCopy = (x) => JSON.parse(JSON.stringify(x));\r\n\r\n// ## SuiScoreViewDialog\r\n// decide which rows of the score to look at\r\nexport class SuiScoreViewDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiScoreViewDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiScoreViewDialog.ctor;\r\n  }\r\n  static get dialogElements() {\r\n    SuiScoreViewDialog._dialogElements = typeof(SuiScoreViewDialog._dialogElements) !== 'undefined' ? SuiScoreViewDialog._dialogElements :\r\n      [{\r\n        smoName: 'scoreView',\r\n        parameterName: 'scoreView',\r\n        defaultValue: [],\r\n        control: 'StaffCheckComponent',\r\n        label: 'Show staff',\r\n      }, {\r\n        staticText: [\r\n          { label: 'Score View' }\r\n        ]\r\n      }];\r\n    return SuiScoreViewDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiScoreViewDialog(parameters);\r\n    dg.display();\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    $('body').addClass('showAttributeDialog');\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n    const currentView = this.view.getView();\r\n    this.originalValue = JSON.parse(JSON.stringify(currentView));\r\n    this.scoreViewCtrl.setValue(currentView);\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      if (this.viewChanged) {\r\n        this.view.setView(this.scoreViewCtrl.getValue());\r\n      }\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      if (this.viewChanged) {\r\n        this.view.setView(this.originalValue);\r\n      }\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n\r\n  changed() {\r\n    this.viewChanged = true;\r\n  }\r\n  constructor(parameters) {\r\n    super(SuiScoreViewDialog.dialogElements, {\r\n      id: 'dialog-layout',\r\n      ...parameters\r\n    });\r\n    this.viewChanged = false;\r\n  }\r\n}\r\n\r\n// ## SuiGlobalLayoutDialog\r\n// change editor and formatting defaults for this score.\r\nexport class SuiGlobalLayoutDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiGlobalLayoutDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiGlobalLayoutDialog.ctor;\r\n  }\r\n  static get dialogElements() {\r\n    SuiGlobalLayoutDialog._dialogElements = typeof(SuiGlobalLayoutDialog._dialogElements)\r\n      !== 'undefined' ? SuiGlobalLayoutDialog._dialogElements :\r\n      [{\r\n        smoName: 'scoreName',\r\n        parameterName: 'scoreName',\r\n        defaultValue: [],\r\n        control: 'SuiTextInputComponent',\r\n        label: 'Score Name',\r\n      }, {\r\n        smoName: 'autoPlay',\r\n        parameterName: 'autoPlay',\r\n        defaultValue: [],\r\n        control: 'SuiToggleComponent',\r\n        label: 'Play Selections',\r\n      }, {\r\n        smoName: 'autoAdvance',\r\n        parameterName: 'autoAdvance',\r\n        defaultValue: [],\r\n        control: 'SuiToggleComponent',\r\n        label: 'Auto-Advance Cursor',\r\n      }, {\r\n        smoName: 'noteSpacing',\r\n        parameterName: 'noteSpacing',\r\n        defaultValue: SmoLayoutManager.defaults.noteSpacing,\r\n        control: 'SuiRockerComponent',\r\n        type: 'percent',\r\n        label: 'Note Spacing'\r\n      }, {\r\n        smoName: 'pageSize',\r\n        parameterName: 'pageSize',\r\n        defaultValue: SmoScore.pageSizes.letter,\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Page Size',\r\n        options: [\r\n          {\r\n            value: 'letter',\r\n            label: 'Letter (Portrait)'\r\n          }, {\r\n            value: 'letterLandscape',\r\n            label: 'Letter (Landscape)'\r\n          }, {\r\n            value: 'tabloid',\r\n            label: 'Tabloid (11x17)'\r\n          }, {\r\n            value: 'A4',\r\n            label: 'A4'\r\n          }, {\r\n            value: 'custom',\r\n            label: 'Custom'\r\n          }]\r\n      }, {\r\n        smoName: 'pageWidth',\r\n        parameterName: 'pageWidth',\r\n        defaultValue: SmoLayoutManager.defaults.pageWidth,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Page Width (px)'\r\n      }, {\r\n        smoName: 'pageHeight',\r\n        parameterName: 'pageHeight',\r\n        defaultValue: SmoLayoutManager.defaults.pageHeight,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Page Height (px)'\r\n      }, {\r\n        smoName: 'zoomScale',\r\n        parameterName: 'zoomScale',\r\n        defaultValue: SmoLayoutManager.defaults.zoomScale,\r\n        control: 'SuiRockerComponent',\r\n        label: '% Zoom',\r\n        type: 'percent'\r\n      }, {\r\n        smoName: 'svgScale',\r\n        parameterName: 'svgScale',\r\n        defaultValue: SmoLayoutManager.defaults.svgScale,\r\n        control: 'SuiRockerComponent',\r\n        label: '% Note size',\r\n        type: 'percent'\r\n      }, {\r\n        staticText: [\r\n          { label: 'Global Settings' }\r\n        ]\r\n      }];\r\n    return SuiGlobalLayoutDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiGlobalLayoutDialog(parameters);\r\n    dg.display();\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n    this.scoreNameCtrl.setValue(this.view.score.scoreInfo.name);\r\n    this.autoPlayCtrl.setValue(this.view.score.preferences.autoPlay);\r\n    this.autoAdvanceCtrl.setValue(this.view.score.preferences.autoAdvance);\r\n    this.noteSpacingCtrl.setValue(this.globalLayout.noteSpacing);\r\n    this.zoomScaleCtrl.setValue(this.globalLayout.zoomScale);\r\n    this.svgScaleCtrl.setValue(this.globalLayout.svgScale);\r\n    this.pageWidthCtrl.setValue(this.globalLayout.pageWidth);\r\n    this.pageHeightCtrl.setValue(this.globalLayout.pageHeight);\r\n    this._setPageSizeDefault();\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      if (this.layoutChanged) {\r\n        this.view.renderer.rerenderAll();\r\n      }\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      if (this.layoutChanged) {\r\n        this.view.setGlobalLayout(this.layoutBackup);\r\n        this.view.renderer.rerenderAll();\r\n      }\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n  // ### _handlePageSizeChange\r\n  // see if the dimensions have changed.\r\n  _handlePageSizeChange() {\r\n    const sel = this.pageSizeCtrl.getValue();\r\n    if (sel === 'custom') {\r\n      $('.attributeModal').addClass('customPage');\r\n    } else {\r\n      $('.attributeModal').removeClass('customPage');\r\n      const dim = SmoScore.pageDimensions[sel];\r\n      this.pageHeightCtrl.setValue(dim.height);\r\n      this.pageWidthCtrl.setValue(dim.width);\r\n      this.globalLayout.pageHeight = dim.height;\r\n      this.globalLayout.pageWidth = dim.width;\r\n      this.view.setGlobalLayout(this.globalLayout);\r\n    }\r\n  }\r\n  _setPageSizeDefault() {\r\n    let value = 'custom';\r\n    const scoreDims = this.globalLayout;\r\n    SmoScore.pageSizes.forEach((sz) => {\r\n      const dim = SmoScore.pageDimensions[sz];\r\n      if (scoreDims.pageWidth === dim.width && scoreDims.pageHeight === dim.height) {\r\n        value = sz;\r\n      } else if (scoreDims.pageHeight === dim.width && scoreDims.pageWidth === dim.height) {\r\n        value = sz;\r\n      }\r\n    });\r\n    this.pageSizeCtrl.setValue(value);\r\n    this._handlePageSizeChange();\r\n  }\r\n\r\n  changed() {\r\n    let layoutChanged = false;\r\n    let prefChanged = false;\r\n    if (this.scoreNameCtrl.changeFlag) {\r\n      const newInfo = JSON.parse(JSON.stringify(this.view.score.scoreInfo));\r\n      newInfo.name = this.scoreNameCtrl.getValue();\r\n      this.view.updateScoreInfo(newInfo);\r\n      return;\r\n    }\r\n    if (this.pageWidthCtrl.changeFlag) {\r\n      this.globalLayout.pageWidth = this.pageWidthCtrl.getValue();\r\n      layoutChanged = true;\r\n    }\r\n    if (this.pageHeightCtrl.changeFlag) {\r\n      this.globalLayout.pageHeight = this.pageHeightCtrl.getValue();\r\n      layoutChanged = true;\r\n    }\r\n    if (this.pageSizeCtrl.changeFlag) {\r\n      this._handlePageSizeChange();\r\n    }\r\n    if (this.autoPlayCtrl.changeFlag) {\r\n      this.preferences.autoPlay = this.autoPlayCtrl.getValue();\r\n      prefChanged = true;\r\n    }\r\n    if (this.autoAdvanceCtrl.changeFlag) {\r\n      this.preferences.autoAdvance = this.autoAdvanceCtrl.getValue();\r\n      prefChanged = true;\r\n    }\r\n    if (this.noteSpacingCtrl.changeFlag) {\r\n      layoutChanged = true;\r\n      this.globalLayout.noteSpacing = this.noteSpacingCtrl.getValue();\r\n    }\r\n    if (this.zoomScaleCtrl.changeFlag) {\r\n      layoutChanged = true;\r\n      this.globalLayout.zoomScale = this.zoomScaleCtrl.getValue();\r\n    }\r\n    if (this.svgScaleCtrl.changeFlag) {\r\n      layoutChanged = true;\r\n      this.globalLayout.svgScale = this.svgScaleCtrl.getValue();\r\n    }\r\n    if (layoutChanged) {\r\n      this.view.setGlobalLayout(this.globalLayout);\r\n      this.layoutChanged = true;\r\n    }\r\n    if (prefChanged) {\r\n      this.view.updateScorePreferences(this.preferences);\r\n    }\r\n  }\r\n  constructor(parameters) {\r\n    super(SuiGlobalLayoutDialog.dialogElements, {\r\n      id: 'dialog-layout',\r\n      ...parameters\r\n    });\r\n    this.layoutChanged = false;\r\n    this.score = this.view.score;\r\n    this.globalLayout = this.score.layoutManager.getGlobalLayout();\r\n    this.layoutBackup = deepCopy(this.globalLayout);\r\n    this.preferences = deepCopy(this.view.score.preferences);\r\n  }\r\n}\r\n\r\n// ## SuiScoreIdentificationDialog\r\n// change editor and formatting defaults for this score.\r\nexport class SuiScoreIdentificationDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiScoreIdentificationDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiScoreIdentificationDialog.ctor;\r\n  }\r\n  static get dialogElements() {\r\n    SuiScoreIdentificationDialog._dialogElements = typeof(SuiScoreIdentificationDialog._dialogElements)\r\n      !== 'undefined' ? SuiScoreIdentificationDialog._dialogElements :\r\n      [{\r\n        smoName: 'title',\r\n        parameterName: 'title',\r\n        defaultValue: '',\r\n        control: 'TextCheckComponent',\r\n        label: 'Title',\r\n      }, {\r\n        smoName: 'subTitle',\r\n        parameterName: 'subTitle',\r\n        defaultValue: [],\r\n        control: 'TextCheckComponent',\r\n        label: 'Sub Title',\r\n      }, {\r\n        smoName: 'composer',\r\n        parameterName: 'composer',\r\n        defaultValue: [],\r\n        control: 'TextCheckComponent',\r\n        label: 'Composer',\r\n      }, {\r\n        smoName: 'copyright',\r\n        parameterName: 'copyright',\r\n        defaultValue: SmoMeasureFormat.defaults.customProportion,\r\n        control: 'TextCheckComponent',\r\n        label: 'Copyright'\r\n      }, {\r\n        staticText: [\r\n          { label: 'Score Preferences' },\r\n          { titleText: 'Title' },\r\n          { subTitleText: 'Sub-title' },\r\n          { copyrightText: 'Copyright' },\r\n          { composerText: 'Composer' },\r\n          { show: 'Show' }\r\n        ]\r\n      }];\r\n    return SuiScoreIdentificationDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiScoreIdentificationDialog(parameters);\r\n    dg.display();\r\n  }\r\n  _setInitialValues() {\r\n    const titleText = this.score.getTextGroups().find((tg) => tg.purpose === SmoTextGroup.purposes.TITLE);\r\n    const subText = this.score.getTextGroups().find((tg) => tg.purpose === SmoTextGroup.purposes.SUBTITLE);\r\n    const composerText = this.score.getTextGroups().find((tg) => tg.purpose === SmoTextGroup.purposes.COMPOSER);\r\n    const copyrightText = this.score.getTextGroups().find((tg) => tg.purpose === SmoTextGroup.purposes.COPYRIGHT);\r\n    this.titleCtrl.setValue({ text: this.scoreInfo.title, checked: titleText !== null });\r\n    this.subTitleCtrl.setValue({ text: this.scoreInfo.subTitle, checked: subText !== null });\r\n    this.composerCtrl.setValue({ text: this.scoreInfo.composer, checked: composerText !== null });\r\n    this.copyrightCtrl.setValue({ text: this.scoreInfo.copyright, checked: copyrightText !== null });\r\n  }\r\n  _createText(purpose, text) {\r\n    const existing = this.score.getTextGroups().find((tg) => tg.purpose === purpose);\r\n    if (existing) {\r\n      const copy = SmoTextGroup.deserialize(existing.serialize());\r\n      copy.attrs.id = existing.attrs.id;\r\n      copy.firstBlock().text = text;\r\n      this.view.updateTextGroup(existing, copy);\r\n      return;\r\n    }\r\n    const tg = SmoTextGroup.createTextForLayout(purpose, text, this.score.layoutManager.getScaledPageLayout(0));\r\n    this.view.addTextGroup(tg);\r\n  }\r\n  _removeText(purpose) {\r\n    const existing = this.score.getTextGroups().find((tg) => tg.purpose === purpose);\r\n    if (existing) {\r\n      this.view.removeTextGroup(existing);\r\n    }\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n    this._setInitialValues();\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n\r\n  changed() {\r\n    const params = [\r\n      { control: 'titleCtrl', purpose: SmoTextGroup.purposes.TITLE, scoreField: 'title' },\r\n      { control: 'subTitleCtrl', purpose: SmoTextGroup.purposes.SUBTITLE, scoreField: 'subTitle' },\r\n      { control: 'composerCtrl', purpose: SmoTextGroup.purposes.COMPOSER, scoreField: 'composer' },\r\n      { control: 'copyrightCtrl', purpose: SmoTextGroup.purposes.COPYRIGHT, scoreField: 'copyright' },\r\n    ];\r\n    params.forEach((param) => {\r\n      if (this[param.control].changeFlag) {\r\n        const val = this[param.control].getValue();\r\n        if (val.checked === true) {\r\n          this._createText(param.purpose, val.text);\r\n        } else {\r\n          this._removeText(param.purpose, val.text);\r\n        }\r\n        const scoreInfo = JSON.parse(JSON.stringify(this.scoreInfo));\r\n        scoreInfo.name = scoreInfo.title;\r\n        scoreInfo[param.scoreField] = val.text;\r\n        this.view.updateScoreInfo(scoreInfo);\r\n        this.scoreInfo = this.score.scoreInfo;\r\n      }\r\n    });\r\n  }\r\n  constructor(parameters) {\r\n    var p = parameters;\r\n    super(SuiScoreIdentificationDialog.dialogElements, {\r\n      id: 'dialog-layout',\r\n      ...parameters\r\n    });\r\n    this.startPromise = p.startPromise;\r\n    this.scoreInfo = this.view.score.scoreInfo;\r\n    this.score = this.view.score;\r\n  }\r\n}\r\n\r\nexport class SuiScoreFontDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiScoreFontDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiScoreFontDialog.ctor;\r\n  }\r\n  // ### dialogElements\r\n  // all dialogs have elements define the controls of the dialog.\r\n  static get dialogElements() {\r\n    SuiScoreFontDialog._dialogElements = typeof(SuiScoreFontDialog._dialogElements) !== 'undefined' ? SuiScoreFontDialog._dialogElements :\r\n      [{\r\n        smoName: 'engravingFont',\r\n        parameterName: 'engravingFont',\r\n        defaultValue: SmoScore.engravingFonts.Bravura,\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Engraving Font',\r\n        options: [{\r\n          value: 'Bravura',\r\n          label: 'Bravura'\r\n        }, {\r\n          value: 'Gonville',\r\n          label: 'Gonville'\r\n        }, {\r\n          value: 'Petaluma',\r\n          label: 'Petaluma'\r\n        }, {\r\n          value: 'Leland',\r\n          label: 'Leland'\r\n        }]\r\n      }, {\r\n        smoName: 'chordFont',\r\n        parameterName: 'chordFont',\r\n        classes: 'chord-font-component',\r\n        defaultValue: 0,\r\n        control: 'SuiFontComponent',\r\n        label: 'Chord Font'\r\n      }, {\r\n        smoName: 'lyricFont',\r\n        parameterName: 'lyricFont',\r\n        classes: 'lyric-font-component',\r\n        defaultValue: 0,\r\n        control: 'SuiFontComponent',\r\n        label: 'Lyric Font'\r\n      }, {\r\n        staticText: [\r\n          { label: 'Score Fonts' }\r\n        ]\r\n      }];\r\n    return SuiScoreFontDialog._dialogElements;\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n  display() {\r\n    $('body').addClass('showAttributeDialog');\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n    const engraving = this.fontBackup.find((ff) => ff.purpose === SmoScore.fontPurposes.ENGRAVING);\r\n    const chords = this.fontBackup.find((ff) => ff.purpose === SmoScore.fontPurposes.CHORDS);\r\n    const lyrics = this.fontBackup.find((ff) => ff.purpose === SmoScore.fontPurposes.LYRICS);\r\n    this.engravingFontCtrl.setValue(engraving.family);\r\n    this.chordFontCtrl.setValue(chords);\r\n    this.lyricFontCtrl.setValue(lyrics);\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this._handleCancel();\r\n    });\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n  _handleCancel() {\r\n    if (this.needRefresh) {\r\n      const engrave = this.fontBackup.find((fn) => fn.purpose === SmoScore.fontPurposes.ENGRAVING);\r\n      const chords = this.fontBackup.find((ff) => ff.purpose === SmoScore.fontPurposes.CHORDS);\r\n      const lyrics = this.fontBackup.find((ff) => ff.purpose === SmoScore.fontPurposes.LYRICS);\r\n      this.view.setEngravingFontFamily(engrave.family);\r\n      this.chordFontCtrl.setValue(chords);\r\n      this.lyricFontCtrl.setValue(lyrics);\r\n      this.view.renderer.rerenderAll();\r\n    }\r\n    this.complete();\r\n  }\r\n  changed() {\r\n    if (this.engravingFontCtrl.changeFlag)  {\r\n      this.needRefresh = true;\r\n      this.view.setEngravingFontFamily(this.engravingFontCtrl.getValue());\r\n      this.view.renderer.rerenderAll();\r\n    }\r\n    if (this.chordFontCtrl.changeFlag) {\r\n      this.needRefresh = true;\r\n      this.view.setChordFont(this.chordFontCtrl.getValue());\r\n      this.view.renderer.rerenderAll();\r\n    }\r\n    if (this.lyricFontCtrl.changeFlag) {\r\n      this.needRefresh = true;\r\n      this.view.setLyricFont(this.lyricFontCtrl.getValue());\r\n      this.view.renderer.rerenderAll();\r\n    }\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiScoreFontDialog(parameters);\r\n    dg.display();\r\n  }\r\n\r\n  constructor(parameters) {\r\n    var p = parameters;\r\n    super(SuiScoreFontDialog.dialogElements, {\r\n      id: 'dialog-scorefont',\r\n      ...parameters\r\n    });\r\n    this.score = p.view.score;\r\n    this.fontBackup = JSON.parse(JSON.stringify(this.score.fonts));\r\n    this.startPromise = p.startPromise;\r\n    this.needRefresh = false;\r\n  }\r\n}\r\n// ## SuiLayoutDialog\r\n// The layout dialog has page-specific layout parameters\r\nexport class SuiLayoutDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiLayoutDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiLayoutDialog.ctor;\r\n  }\r\n  static get layoutParams() {\r\n    return ['leftMargin', 'rightMargin', 'topMargin', 'bottomMargin', 'interGap', 'intraGap'];\r\n  }\r\n  // ### dialogElements\r\n  // all dialogs have elements define the controls of the dialog.\r\n  static get dialogElements() {\r\n    SuiLayoutDialog._dialogElements = typeof(SuiLayoutDialog._dialogElements) !== 'undefined' ? SuiLayoutDialog._dialogElements :\r\n      [{\r\n        smoName: 'applyToPage',\r\n        parameterName: 'applyToPage',\r\n        defaultValue: -1,\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Apply to Page',\r\n        dataType: 'int',\r\n        options: [{\r\n          value: -1,\r\n          label: 'All'\r\n        }, {\r\n          value: -2,\r\n          label: 'All Remaining'\r\n        }, {\r\n          value: 1,\r\n          label: 'Page 1'\r\n        }]\r\n      }, {\r\n        smoName: 'leftMargin',\r\n        parameterName: 'leftMargin',\r\n        defaultValue: SmoPageLayout.defaults.leftMargin,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Left Margin (px)'\r\n      }, {\r\n        smoName: 'rightMargin',\r\n        parameterName: 'rightMargin',\r\n        defaultValue: SmoPageLayout.defaults.rightMargin,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Right Margin (px)'\r\n      }, {\r\n        smoName: 'topMargin',\r\n        parameterName: 'topMargin',\r\n        defaultValue: SmoPageLayout.defaults.topMargin,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Top Margin (px)'\r\n      }, {\r\n        smoName: 'bottomMargin',\r\n        parameterName: 'bottomMargin',\r\n        defaultValue: SmoPageLayout.defaults.bottomMargin,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Bottom Margin (px)'\r\n      }, {\r\n        smoName: 'interGap',\r\n        parameterName: 'interGap',\r\n        defaultValue: SmoPageLayout.defaults.interGap,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Inter-System Margin'\r\n      }, {\r\n        smoName: 'intraGap',\r\n        parameterName: 'intraGap',\r\n        defaultValue: SmoPageLayout.defaults.intraGap,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Intra-System Margin'\r\n      }, {\r\n        staticText: [\r\n          { label: 'Page Layouts' }\r\n        ]\r\n      }];\r\n    return SuiLayoutDialog._dialogElements;\r\n  }\r\n\r\n  // ### backupOriginal\r\n  // backup the original layout parameters for trial period\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.focusedPage = this.view.getFocusedPage();\r\n    // Set the control that says which pages this dialog will apply to\r\n    if (this.layoutManager.pageLayouts.length === 1) {\r\n      this.applyToPageCtrl.setValue(-1);  // 1 page, applies to all\r\n      $(this.applyToPageCtrl._getInputElement()).prop('disabled', true);\r\n    } else {\r\n      if (this.focusedPage >= 1) {\r\n        this.applyToPageCtrl.setValue(-2); // apply to subsequent\r\n      } else {\r\n        this.applyToPageCtrl.setValue(-1); // apply to all\r\n      }\r\n    }\r\n    // Get the initial values from the currently focused page\r\n    const pl = this.layoutManager.pageLayouts[this.focusedPage];\r\n    SuiLayoutDialog.layoutParams.forEach((attr) => {\r\n      const ctrlName = attr + 'Ctrl';\r\n      this[ctrlName].setValue(pl[attr]);\r\n    });\r\n    this._bindElements();\r\n  }\r\n  _handleCancel() {\r\n    this.backup.forEach((page, pageIx) => {\r\n      this.view.setPageLayout(page, pageIx);\r\n    });\r\n    this.complete();\r\n  }\r\n  _bindElements() {\r\n    const self = this;\r\n    const dgDom = this.dgDom;\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      // TODO:  allow user to select a zoom mode.\r\n      self.complete();\r\n    });\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      self._handleCancel();\r\n    });\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n  _pagesFromCtrl() {\r\n    const ap = this.applyToPageCtrl.getValue();\r\n    const pages = this.layoutManager.pageLayouts.length;\r\n    if (ap === -1) {\r\n      return [...Array(pages)].map((v, i) => i);\r\n    } else if (ap === -2) {\r\n      return [...Array(pages - this.focusedPage)].map((v, i) => this.focusedPage + i);\r\n    }\r\n    return [ap - 1];\r\n  }\r\n\r\n  // ### changed\r\n  // One of the components has had a changed value.\r\n  changed() {\r\n    const pages = this._pagesFromCtrl();\r\n    pages.forEach((page) => {\r\n      const pl = this.layoutManager.getPageLayout(page);\r\n      SuiLayoutDialog.layoutParams.forEach((param) => {\r\n        const ctrl = param + 'Ctrl';\r\n        if (this.applyToPageCtrl.changeFlag) {\r\n          this[ctrl].setValue(pl[param]);\r\n        } else {\r\n          if (this[ctrl].changeFlag) {\r\n            pl[param] = this[ctrl].getValue();\r\n          }\r\n        }\r\n      });\r\n      this.view.setPageLayout(pl, page);\r\n    });\r\n  }\r\n\r\n  // ### createAndDisplay\r\n  // static method to create the object and then display it.\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiLayoutDialog(parameters);\r\n    dg.display();\r\n  }\r\n  constructor(parameters) {\r\n    const p = parameters;\r\n    const dialogElements = JSON.parse(JSON.stringify(SuiLayoutDialog.dialogElements));\r\n    let i = 1;\r\n    const score = p.view.score;\r\n    const pageCtrl = dialogElements.find((pp) => pp.smoName === 'applyToPage');\r\n    for (i = 1; i < score.layoutManager.pageLayouts.length; ++i) {\r\n      pageCtrl.options.push({ value: i + 1, label: 'Page ' + (i + 1) });\r\n    }\r\n    super(dialogElements, {\r\n      id: 'dialog-layout',\r\n      ...parameters\r\n    });\r\n    this.score = score;\r\n    this.layoutManager = this.score.layoutManager;\r\n    this.backup = this.layoutManager.getPageLayouts();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { SuiTextInputComposite, SuiToggleComposite, SuiComponentBase, SuiDropdownComposite, SuiToggleComponent } from '../dialogComponents';\r\nimport { htmlHelpers } from '../../common/htmlHelpers';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\nimport { SuiDialogBase } from '../dialog';\r\nimport { SuiTieAttributesDialog, SuiStaffGroupDialog } from './staffDialogs';\r\n\r\n// ## CheckboxDropdownComponent\r\n// A checkbox that enables a dropdown component, for optional or dependent parameter\r\nexport class CheckboxDropdownComponent extends SuiComponentBase {\r\n  // { dropdownElement: {...}, toggleElement: }\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'options', 'control', 'label', 'dataType'], parameter, this);\r\n    this.dialog = dialog;\r\n    parameter.toggleElement.parentControl = this;\r\n    parameter.dropdownElement.parentControl = this;\r\n    this.toggleCtrl = new SuiToggleComposite(this.dialog, parameter.toggleElement);\r\n    this.dropdownCtrl = new SuiDropdownComposite(this.dialog, parameter.dropdownElement);\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const q = b('div').classes(this.makeClasses('multiControl smoControl checkboxDropdown'))\r\n      .attr('id', this.parameterId);\r\n    q.append(this.toggleCtrl.html);\r\n    q.append(this.dropdownCtrl.html);\r\n    return q;\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  bind() {\r\n    this.toggleCtrl.bind();\r\n    this.dropdownCtrl.bind();\r\n  }\r\n  changed() {\r\n    if (this.toggleCtrl.getValue()) {\r\n      $('#' + this.parameterId).addClass('checked');\r\n    } else {\r\n      $('#' + this.parameterId).removeClass('checked');\r\n    }\r\n    this.handleChanged();\r\n  }\r\n}\r\n\r\n// ## TieMappingComponent\r\n// Represent the pitches in 2 notes that can be individually tied together\r\nexport class TieMappingComponent extends SuiComponentBase {\r\n  // { dropdownElement: {...}, toggleElement: }\r\n  constructor(dialog, parameter) {\r\n    let i = 0;\r\n    super(parameter);\r\n    this.dialog = dialog;\r\n    this.startSelection = SmoSelection.noteFromSelector(\r\n      this.dialog.view.score, this.dialog.modifier.startSelector);\r\n    this.endSelection = SmoSelection.noteFromSelector(\r\n      this.dialog.view.score, this.dialog.modifier.endSelector);\r\n    const pitchCount = Math.max(this.startSelection.note.pitches.length, this.endSelection.note.pitches.length);\r\n\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'options', 'control', 'label', 'dataType'], parameter, this);\r\n    this.controlRows = [];\r\n    for (i = 0; i < pitchCount; ++i) {\r\n      const smoName = 'Line-' + (i + 1);\r\n      const defaultValue = -1;\r\n      const leftControl = new SuiDropdownComposite(this.dialog, {\r\n        smoName: smoName + '-left',\r\n        parameterName: smoName + '-left',\r\n        classes: 'leftControl',\r\n        defaultValue,\r\n        label: SuiDialogBase.getStaticText(SuiTieAttributesDialog.dialogElements, 'fromNote'),\r\n        options: this._generateOptions(this.startSelection.note),\r\n        parentControl: this\r\n      });\r\n      const rightControl = new SuiDropdownComposite(this.dialog, {\r\n        smoName: smoName + '-right',\r\n        parameterName: smoName + '-right',\r\n        classes: 'rightControl',\r\n        label: SuiDialogBase.getStaticText(SuiTieAttributesDialog.dialogElements, 'toNote'),\r\n        defaultValue,\r\n        options: this._generateOptions(this.endSelection.note),\r\n        parentControl: this\r\n      });\r\n      this.controlRows.push({ leftControl, rightControl });\r\n    }\r\n  }\r\n  bind() {\r\n    this.controlRows.forEach((row) => {\r\n      row.rightControl.bind();\r\n      row.leftControl.bind();\r\n    });\r\n  }\r\n\r\n  _generateOptions(note) {\r\n    const options = [];\r\n    let index = 0;\r\n    let label = '';\r\n    options.push({ value: -1, label: 'No Line' });\r\n    note.pitches.forEach((pitch) => {\r\n      const value = index;\r\n      label = pitch.letter.toUpperCase();\r\n      if (pitch.accidental !== 'n') {\r\n        label += pitch.accidental;\r\n      }\r\n      label += pitch.octave;\r\n      options.push({ value, label });\r\n      index += 1;\r\n    });\r\n    return options;\r\n  }\r\n  getValue() {\r\n    const lines = [];\r\n    this.controlRows.forEach((row) => {\r\n      const left = row.leftControl.getValue();\r\n      const right = row.rightControl.getValue();\r\n      if (left >= 0 && right >= 0) {\r\n        lines.push({ from: left, to: right });\r\n      }\r\n    });\r\n    return lines;\r\n  }\r\n  setValue(modifier) {\r\n    let i = 0;\r\n    for (i = 0; i < this.controlRows.length; ++i) {\r\n      const row = this.controlRows[i];\r\n      if (modifier.lines.length > i) {\r\n        row.leftControl.setValue(modifier.lines[i].from);\r\n        row.rightControl.setValue(modifier.lines[i].to);\r\n      }\r\n    }\r\n  }\r\n  changed() {\r\n    this.handleChanged();\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const q = b('div').classes(this.makeClasses('multiControl smoControl dropdownPair'))\r\n      .attr('id', this.parameterId);\r\n    this.controlRows.forEach((row) => {\r\n      q.append(row.leftControl.html).append(row.rightControl.html);\r\n    });\r\n    return q;\r\n  }\r\n}\r\nexport class StaffAddRemoveComponent extends SuiComponentBase {\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'options', 'control', 'label', 'dataType'], parameter, this);\r\n\r\n    this.dialog = dialog;\r\n    this.view = this.dialog.view;\r\n    this.createdShell = false;\r\n    this.staffRows = [];\r\n    this.label = SuiDialogBase.getStaticText(SuiStaffGroupDialog.dialogElements, 'includeStaff');\r\n  }\r\n  setControlRows() {\r\n    let i = this.modifier.startSelector.staff;\r\n    this.staffRows = [];\r\n    this.view.storeScore.staves.forEach((staff) => {\r\n      const name = this.label + ' ' + (staff.staffId + 1);\r\n      const id = 'show-' + i;\r\n      // Toggle add of last row + 1\r\n      if (staff.staffId === this.modifier.endSelector.staff + 1) {\r\n        const rowElement = new SuiToggleComposite(this.dialog, {\r\n          smoName: id,\r\n          parameterName: id,\r\n          defaultValue: false,\r\n          classes: 'toggle-add-row',\r\n          control: 'SuiToggleComponent',\r\n          label: name\r\n        });\r\n        rowElement.parentControl = this;\r\n        this.staffRows.push({\r\n          showCtrl: rowElement\r\n        });\r\n      } else if (staff.staffId > this.modifier.startSelector.staff &&\r\n        staff.staffId === this.modifier.endSelector.staff) {\r\n        // toggle remove of ultimate row, other than first row\r\n        const rowElement = new SuiToggleComposite(this.dialog, {\r\n          smoName: id,\r\n          parameterName: id,\r\n          defaultValue: true,\r\n          classes: 'toggle-remove-row',\r\n          control: 'SuiToggleComponent',\r\n          label: name\r\n        });\r\n        rowElement.parentControl = this;\r\n        this.staffRows.push({\r\n          showCtrl: rowElement\r\n        });\r\n      } else if ((staff.staffId <= this.modifier.endSelector.staff) &&\r\n        (staff.staffId >= this.modifier.startSelector.staff)) {\r\n        // toggle remove of ultimate row, other than first row\r\n        const rowElement = new SuiToggleComponent(this.dialog, {\r\n          smoName: id,\r\n          parameterName: id,\r\n          defaultValue: true,\r\n          classes: 'toggle-disabled',\r\n          control: 'SuiToggleComponent',\r\n          label: name\r\n        });\r\n        rowElement.parentControl = this;\r\n        this.staffRows.push({\r\n          showCtrl: rowElement\r\n        });\r\n      }\r\n      i += 1;\r\n    });\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    // a little hacky.  The first time we create an empty html shell for the control\r\n    // subsequent times, we fill the html with the row information\r\n    if (!this.createdShell) {\r\n      this.createdShell = true;\r\n      const q = b('div').classes(this.makeClasses('multiControl smoControl staffContainer')).attr('id', this.parameterId);\r\n      return q;\r\n    } else {\r\n      const q = b('div').classes(this.makeClasses('smoControl'));\r\n      this.staffRows.forEach((row) => {\r\n        q.append(row.showCtrl.html);\r\n      });\r\n      return q;\r\n    }\r\n  }\r\n  getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $('#' + pid);\r\n  }\r\n  getValue() {\r\n    let nextStaff = this.modifier.startSelector.staff;\r\n    const maxMeasure = this.modifier.endSelector.measure;\r\n    this.modifier.endSelector = JSON.parse(JSON.stringify(this.modifier.startSelector));\r\n    this.staffRows.forEach((staffRow) => {\r\n      if (staffRow.showCtrl.getValue()) {\r\n        this.modifier.endSelector = { staff: nextStaff, measure: maxMeasure };\r\n        nextStaff += 1;\r\n      }\r\n    });\r\n    return this.modifier;\r\n  }\r\n  setValue(staffGroup) {\r\n    this.modifier = staffGroup; // would this be used?\r\n    this.setControlRows();\r\n  }\r\n  changed() {\r\n    this.getValue(); // update modifier\r\n    this.handleChanged();\r\n    this.setControlRows();\r\n  }\r\n  bind() {\r\n    this.staffRows.forEach((row) => {\r\n      row.showCtrl.bind();\r\n    });\r\n  }\r\n}\r\n\r\nexport class StaffCheckComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'options', 'control', 'label', 'dataType'], parameter, this);\r\n    this.dialog = dialog;\r\n    this.view = this.dialog.view;\r\n    this.staffRows = [];\r\n    this.view.storeScore.staves.forEach((staff) => {\r\n      const name = 'View Staff ' + (staff.staffId + 1);\r\n      const id = 'show-' + staff.staffId;\r\n      const rowElement = new SuiToggleComponent(this.dialog, {\r\n        smoName: id,\r\n        parameterName: id,\r\n        defaultValue: true,\r\n        classes: 'hide-when-editing',\r\n        control: 'SuiToggleComponent',\r\n        label: name\r\n      });\r\n      this.staffRows.push({\r\n        showCtrl: rowElement\r\n      });\r\n    });\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const q = b('div').classes(this.makeClasses('multiControl smoControl staffContainer'));\r\n    this.staffRows.forEach((row) => {\r\n      q.append(row.showCtrl.html);\r\n    });\r\n    return q;\r\n  }\r\n  // Is this used for compound controls?\r\n  _getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('.staffContainer');\r\n  }\r\n  getValue() {\r\n    const rv = [];\r\n    let i = 0;\r\n    for (i = 0; i < this.staffRows.length; ++i) {\r\n      const show = this.staffRows[i].showCtrl.getValue();\r\n      rv.push({ show });\r\n    }\r\n    return rv;\r\n  }\r\n  setValue(rows) {\r\n    let i = 0;\r\n    rows.forEach((row) => {\r\n      this.staffRows[i].showCtrl.setValue(row.show);\r\n      i += 1;\r\n    });\r\n  }\r\n  changed() {\r\n    this.handleChanged();\r\n  }\r\n  bind() {\r\n    this.staffRows.forEach((row) => {\r\n      row.showCtrl.bind();\r\n    });\r\n  }\r\n}\r\n\r\nexport class TextCheckComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'options', 'control', 'label', 'dataType'], parameter, this);\r\n    this.dialog = dialog;\r\n    this.view = this.dialog.view;\r\n    const toggleName = this.smoName + 'Toggle';\r\n    const textName = this.smoName + 'Text';\r\n    const label = this.dialog.staticText[textName];\r\n    const show = this.dialog.staticText.show;\r\n    this.toggleCtrl = new SuiToggleComposite(this.dialog, {\r\n      smoName: toggleName,\r\n      parameterName: toggleName,\r\n      defaultValue: false,\r\n      control: 'SuiToggleComposite',\r\n      label: show,\r\n      parentControl: this\r\n    });\r\n    this.textCtrl = new SuiTextInputComposite(this.dialog, {\r\n      smoName: textName,\r\n      parameterName: textName,\r\n      defaultValue: this.defaultValue,\r\n      control: 'SuiTextInputComposite',\r\n      label,\r\n      parentControl: this\r\n    });\r\n  }\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const q = b('div').classes(this.makeClasses('multiControl smoControl textCheckContainer'))\r\n      .attr('id', this.parameterId);\r\n    q.append(this.textCtrl.html);\r\n    q.append(this.toggleCtrl.html);\r\n    return q;\r\n  }\r\n  getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $('#' + pid);\r\n  }\r\n  getValue() {\r\n    return {\r\n      checked: this.toggleCtrl.getValue(),\r\n      text: this.textCtrl.getValue()\r\n    };\r\n  }\r\n  setValue(val) {\r\n    this.toggleCtrl.setValue(val.checked);\r\n    this.textCtrl.setValue(val.text);\r\n  }\r\n  changed() {\r\n    this.handleChanged();\r\n  }\r\n  bind() {\r\n    this.toggleCtrl.bind();\r\n    this.textCtrl.bind();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiDialogBase } from '../dialog';\r\nimport { StaffModifierBase, SmoSlur, SmoStaffHairpin } from '../../smo/data/staffModifiers';\r\nimport { SmoScore } from '../../smo/data/score';\r\nimport { SmoSelection } from '../../smo/xform/selections';\r\nimport { SmoSystemGroup } from '../../smo/data/scoreModifiers';\r\nimport { SmoVolta } from '../../smo/data/measureModifiers';\r\n\r\n// ## SuiStaffModifierDialog\r\n// Edit the attributes of a staff modifier (connects notes in the same staff)\r\nexport class SuiStaffModifierDialog extends SuiDialogBase {\r\n  constructor(elements, params) {\r\n    super(elements, params);\r\n    this.original = StaffModifierBase.deserialize(params.modifier);\r\n    this.edited = false;\r\n    this.view.groupUndo(true);\r\n  }\r\n  handleRemove() {\r\n    this.view.removeStaffModifier(this.modifier);\r\n  }\r\n\r\n  changed() {\r\n    this.edited = true;\r\n    this.components.forEach((component) => {\r\n      this.modifier[component.smoName] = component.getValue();\r\n    });\r\n    this.view.addOrUpdateStaffModifier(this.original, this.modifier);\r\n    this.original = this.modifier;\r\n  }\r\n\r\n  // ### _bindElements\r\n  // bing the generic controls in most dialogs.\r\n  _bindElements() {\r\n    var dgDom = this.dgDom;\r\n\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      if (this.edited) {\r\n        this.view.undo();\r\n      }\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      this.handleRemove();\r\n      this.complete();\r\n    });\r\n  }\r\n}\r\n\r\nexport class SuiSlurAttributesDialog extends SuiStaffModifierDialog {\r\n  get ctor() {\r\n    return SuiSlurAttributesDialog.ctor;\r\n  }\r\n  static get ctor() {\r\n    return 'SuiSlurAttributesDialog';\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiSlurAttributesDialog._dialogElements = SuiSlurAttributesDialog._dialogElements ? SuiSlurAttributesDialog._dialogElements :\r\n      [{\r\n        staticText: [\r\n          { label: 'Slur Properties' }\r\n        ]\r\n      }, {\r\n        parameterName: 'spacing',\r\n        smoName: 'spacing',\r\n        defaultValue: 2,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Spacing'\r\n      }, {\r\n        smoName: 'thickness',\r\n        parameterName: 'thickness',\r\n        defaultValue: 2,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Thickness'\r\n      }, {\r\n        smoName: 'xOffset',\r\n        parameterName: 'xOffset',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'X Offset'\r\n      }, {\r\n        smoName: 'yOffset',\r\n        parameterName: 'yOffset',\r\n        defaultValue: 10,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Y Offset'\r\n      }, {\r\n        smoName: 'position',\r\n        parameterName: 'position',\r\n        defaultValue: SmoSlur.positions.HEAD,\r\n        options: [{\r\n          value: SmoSlur.positions.HEAD,\r\n          label: 'Head'\r\n        }, {\r\n          value: SmoSlur.positions.TOP,\r\n          label: 'Top'\r\n        }],\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Start Position'\r\n      }, {\r\n        smoName: 'position_end',\r\n        parameterName: 'position_end',\r\n        defaultValue: SmoSlur.positions.HEAD,\r\n        options: [{\r\n          value: SmoSlur.positions.HEAD,\r\n          label: 'Head'\r\n        }, {\r\n          value: SmoSlur.positions.TOP,\r\n          label: 'Top'\r\n        }],\r\n        control: 'SuiDropdownComponent',\r\n        label: 'End Position'\r\n      }, {\r\n        smoName: 'invert',\r\n        parameterName: 'invert',\r\n        defaultValue: false,\r\n        control: 'SuiToggleComponent',\r\n        label: 'Invert'\r\n      }, {\r\n        parameterName: 'cp1x',\r\n        smoName: 'cp1x',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Control Point 1 X'\r\n      }, {\r\n        parameterName: 'cp1y',\r\n        smoName: 'cp1y',\r\n        defaultValue: 40,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Control Point 1 Y'\r\n      }, {\r\n        parameterName: 'cp2x',\r\n        smoName: 'cp2x',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Control Point 2 X'\r\n      }, {\r\n        parameterName: 'cp2y',\r\n        smoName: 'cp2y',\r\n        defaultValue: 40,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Control Point 2 Y'\r\n      }];\r\n    return SuiSlurAttributesDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    var dg = new SuiSlurAttributesDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n  constructor(parameters) {\r\n    if (!parameters.modifier) {\r\n      throw new Error('modifier attribute dialog must have modifier');\r\n    }\r\n\r\n    super(SuiSlurAttributesDialog.dialogElements, {\r\n      id: 'dialog-' + parameters.modifier.attrs.id,\r\n      label: 'Slur Properties',\r\n      ...parameters\r\n    });\r\n    Vex.Merge(this, parameters);\r\n  }\r\n  populateInitial() {\r\n    this.components.forEach((comp) => {\r\n      if (typeof (this.modifier[comp.smoName]) !== 'undefined') {\r\n        comp.setValue(this.modifier[comp.smoName]);\r\n      }\r\n    });\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'MODIFIERPOS'];\r\n  }\r\n\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n  }\r\n}\r\n\r\nexport class SuiTieAttributesDialog extends SuiStaffModifierDialog {\r\n  get ctor() {\r\n    return SuiTieAttributesDialog.ctor;\r\n  }\r\n  static get ctor() {\r\n    return 'SuiTieAttributesDialog';\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiTieAttributesDialog._dialogElements = SuiTieAttributesDialog._dialogElements ? SuiTieAttributesDialog._dialogElements :\r\n      [{\r\n        staticText: [\r\n          { label: 'Tie Properties' },\r\n          { fromNote: 'From Note' },\r\n          { toNote: 'To Note' }\r\n        ]\r\n      }, {\r\n        parameterName: 'lines',\r\n        smoName: 'lines',\r\n        defaultValue: [],\r\n        control: 'TieMappingComponent',\r\n        label: 'Lines'\r\n      }];\r\n    return SuiTieAttributesDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    var dg = new SuiTieAttributesDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n  staticText(label) {\r\n    return SuiDialogBase.getStaticText(SuiTieAttributesDialog.dialogElements, label);\r\n  }\r\n  constructor(parameters) {\r\n    if (!parameters.modifier) {\r\n      throw new Error('modifier attribute dialog must have modifier');\r\n    }\r\n\r\n    super(SuiTieAttributesDialog.dialogElements, {\r\n      id: 'dialog-' + parameters.modifier.attrs.id,\r\n      label: 'Slur Properties',\r\n      ...parameters\r\n    });\r\n    Vex.Merge(this, parameters);\r\n    this.completeNotifier.unbindKeyboardForModal(this);\r\n  }\r\n  populateInitial() {\r\n    this.linesCtrl.setValue(this.modifier);\r\n  }\r\n  changed() {\r\n    if (this.linesCtrl.changeFlag) {\r\n      this.modifier.lines = JSON.parse(JSON.stringify(this.linesCtrl.getValue()));\r\n      this.view.addOrUpdateStaffModifier(this.original, this.modifier);\r\n      this.original = this.modifier;\r\n      this.edited = true;\r\n    }\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'MODIFIERPOS'];\r\n  }\r\n\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n  }\r\n}\r\n\r\n// ## SuiVoltaAttributeDialog\r\n// aka first and second endings\r\nexport class SuiVoltaAttributeDialog extends SuiStaffModifierDialog {\r\n  get ctor() {\r\n    return SuiVoltaAttributeDialog.ctor;\r\n  }\r\n  static get ctor() {\r\n    return 'SuiVoltaAttributeDialog';\r\n  }\r\n  static get label() {\r\n    SuiVoltaAttributeDialog._label = SuiVoltaAttributeDialog._label ?\r\n      SuiVoltaAttributeDialog._label : 'Volta Properties';\r\n    return SuiVoltaAttributeDialog._label;\r\n  }\r\n  static set label(value) {\r\n    SuiVoltaAttributeDialog._label = value;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiVoltaAttributeDialog._dialogElements = SuiVoltaAttributeDialog._dialogElements ? SuiVoltaAttributeDialog._dialogElements :\r\n      [{\r\n        staticText: [\r\n          { label: 'Volta Properties' }\r\n        ]\r\n      }, {\r\n        parameterName: 'number',\r\n        smoName: 'number',\r\n        defaultValue: 1,\r\n        control: 'SuiRockerComponent',\r\n        label: 'number'\r\n      }, {\r\n        smoName: 'xOffsetStart',\r\n        parameterName: 'xOffsetStart',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'X1 Offset'\r\n      }, {\r\n        smoName: 'xOffsetEnd',\r\n        parameterName: 'xOffsetEnd',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'X2 Offset'\r\n      }, {\r\n        smoName: 'yOffset',\r\n        parameterName: 'yOffset',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Y Offset'\r\n      }];\r\n    return SuiVoltaAttributeDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiVoltaAttributeDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n  handleRemove() {\r\n    this.view.removeEnding(this.modifier);\r\n  }\r\n  changed() {\r\n    this.components.forEach((component) => {\r\n      this.modifier[component.smoName] = component.getValue();\r\n    });\r\n    this.view.updateEnding(this.modifier);\r\n  }\r\n  populateInitial() {\r\n    SmoVolta.editableAttributes.forEach((attr) => {\r\n      const comp = this.components.find((cc) => cc.smoName === attr);\r\n      if (comp) {\r\n        comp.setValue(this.modifier[attr]);\r\n      }\r\n    });\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'MODIFIERPOS'];\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n  }\r\n  constructor(parameters) {\r\n    if (!parameters.modifier) {\r\n      throw new Error('modifier attribute dialog must have modifier');\r\n    }\r\n\r\n    super(SuiVoltaAttributeDialog.dialogElements, {\r\n      id: 'dialog-' + parameters.modifier.attrs.id,\r\n      ...parameters\r\n    });\r\n    Vex.Merge(this, parameters);\r\n    this.selection = SmoSelection.measureSelection(this.view.score, this.modifier.startSelector.staff, this.modifier.startSelector.measure);\r\n  }\r\n}\r\nexport class SuiHairpinAttributesDialog extends SuiStaffModifierDialog {\r\n  get ctor() {\r\n    return SuiHairpinAttributesDialog.ctor;\r\n  }\r\n  static get ctor() {\r\n    return 'SuiHairpinAttributesDialog';\r\n  }\r\n\r\n  static get label() {\r\n    SuiHairpinAttributesDialog._label = SuiHairpinAttributesDialog._label ? SuiHairpinAttributesDialog._label\r\n      : 'Hairpin Properties';\r\n    return SuiHairpinAttributesDialog._label;\r\n  }\r\n  static set label(value) {\r\n    SuiHairpinAttributesDialog._label = value;\r\n  }\r\n  static get dialogElements() {\r\n    SuiHairpinAttributesDialog._dialogElements = SuiHairpinAttributesDialog._dialogElements ? SuiHairpinAttributesDialog._dialogElements :\r\n      [{\r\n        staticText: [\r\n          { label: 'Hairpin Properties' }\r\n        ]\r\n      }, {\r\n        parameterName: 'height',\r\n        smoName: 'height',\r\n        defaultValue: 10,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Height'\r\n      }, {\r\n        smoName: 'yOffset',\r\n        parameterName: 'y_shift',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Y Shift'\r\n      }, {\r\n        smoName: 'xOffsetRight',\r\n        parameterName: 'right_shift_px',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Right Shift'\r\n      }, {\r\n        smoName: 'xOffsetLeft',\r\n        parameterName: 'left_shift_px',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Left Shift'\r\n      }];\r\n\r\n    return SuiHairpinAttributesDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    var dg = new SuiHairpinAttributesDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'MODIFIERPOS'];\r\n  }\r\n  populateInitial() {\r\n    SmoStaffHairpin.editableAttributes.forEach((attr) => {\r\n      var comp = this.components.find((cc) => cc.smoName === attr);\r\n      if (comp) {\r\n        comp.setValue(this.modifier[attr]);\r\n      }\r\n    });\r\n  }\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n  }\r\n  constructor(parameters) {\r\n    if (!parameters.modifier) {\r\n      throw new Error('modifier attribute dialog must have modifier');\r\n    }\r\n    super(SuiHairpinAttributesDialog.dialogElements, {\r\n      id: 'dialog-' + parameters.modifier.attrs.id,\r\n      top: parameters.modifier.renderedBox.y,\r\n      left: parameters.modifier.renderedBox.x,\r\n      ...parameters\r\n    });\r\n    Vex.Merge(this, parameters);\r\n  }\r\n}\r\n// ## SuiStaffGroupDialog\r\n// A staff group is a grouping of staves that can be bracketed and justified\r\nexport class SuiStaffGroupDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiStaffGroupDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiStaffGroupDialog.ctor;\r\n  }\r\n  static get dialogElements() {\r\n    SuiStaffGroupDialog._dialogElements = typeof (SuiStaffGroupDialog._dialogElements)\r\n      !== 'undefined' ? SuiStaffGroupDialog._dialogElements :\r\n      [{\r\n        smoName: 'staffGroups',\r\n        parameterName: 'staffGroups',\r\n        defaultValue: {},\r\n        control: 'StaffAddRemoveComponent',\r\n        label: 'Staves in Group',\r\n      }, {\r\n        smoName: 'leftConnector',\r\n        parameterName: 'leftConnector',\r\n        defaultValue: SmoScore.pageSizes.letter,\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Left Connector',\r\n        options: [\r\n          {\r\n            value: SmoSystemGroup.connectorTypes.bracket,\r\n            label: 'Bracket'\r\n          }, {\r\n            value: SmoSystemGroup.connectorTypes.brace,\r\n            label: 'Brace'\r\n          }, {\r\n            value: SmoSystemGroup.connectorTypes.single,\r\n            label: 'Single'\r\n          }, {\r\n            value: SmoSystemGroup.connectorTypes.double,\r\n            label: 'Double'\r\n          }]\r\n      }, {\r\n        staticText: [\r\n          { label: 'Staff Group' },\r\n          { includeStaff: 'Include Staff' }\r\n        ]\r\n      }];\r\n    return SuiStaffGroupDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiStaffGroupDialog(parameters);\r\n    dg.display();\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'GLOBALPOS'];\r\n  }\r\n\r\n  display() {\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n    this.populateInitial();\r\n    this._updateGroupMembership();\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.remove-button').remove();\r\n  }\r\n  populateInitial() {\r\n    this.staffGroupsCtrl.setValue(this.modifier);\r\n    this.leftConnectorCtrl.setValue(this.modifier.leftConnector);\r\n  }\r\n  _updateGroupMembership() {\r\n    const updateEl = this.staffGroupsCtrl.getInputElement();\r\n    this.staffGroupsCtrl.setControlRows();\r\n    $(updateEl).html('');\r\n    $(updateEl).append(this.staffGroupsCtrl.html.dom());\r\n    this.staffGroupsCtrl.bind();\r\n    $(this.staffGroupsCtrl.getInputElement()).find('input').prop('disabled', false);\r\n    $(this.staffGroupsCtrl.getInputElement()).find('.toggle-disabled input').prop('disabled', true);\r\n  }\r\n\r\n  changed() {\r\n    if (this.leftConnectorCtrl.changeFlag) {\r\n      this.modifier.leftConnector = parseInt(this.leftConnectorCtrl.getValue(), 10);\r\n    }\r\n    if (this.staffGroupsCtrl.changeFlag) {\r\n      // Recreate the new staff group with updated values\r\n      this._updateGroupMembership();\r\n    }\r\n    this.view.addOrUpdateStaffGroup(this.modifier);\r\n  }\r\n  constructor(parameters) {\r\n    var p = parameters;\r\n    super(SuiStaffGroupDialog.dialogElements, {\r\n      id: 'dialog-layout',\r\n      ...parameters\r\n    });\r\n    this.startPromise = p.startPromise;\r\n    const measureCount = this.view.score.staves[0].measures.length;\r\n    const selection = this.view.tracker.selections[0];\r\n    // Reset the view so we can see all the staves\r\n    this.view.setView(this.view.defaultStaffMap);\r\n    this.modifier = this.view.score.getSystemGroupForStaff(selection);\r\n    if (!this.modifier) {\r\n      this.modifier = new SmoSystemGroup({\r\n        mapType: SmoSystemGroup.mapTypes.allMeasures,\r\n        startSelector: { staff: selection.selector.staff, measure: 0 },\r\n        endSelector: { staff: selection.selector.staff, measure: measureCount - 1 }\r\n      });\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiTextTransformDialog, SuiLyricDialog } from './textDialogs';\r\nimport { SuiTextSession, SuiDragSession, SuiLyricSession, SuiChordSession } from '../../render/sui/textEdit';\r\nimport { SuiInlineText } from '../../render/sui/textRender';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { htmlHelpers } from '../../common/htmlHelpers';\r\nimport { SuiComponentBase } from '../dialogComponents';\r\n\r\n// ## textComponents module\r\n// This has the text editing dialog components.  Unlike components that are\r\n// actual dialog controls, these actually run a text editing session of some kind.\r\n//\r\n// The heirarchy of text editing objects goes:\r\n// dialog -> component -> session -> editor\r\n//\r\n// ### editor\r\n//  handles low-level events and renders the preview using one\r\n// of the text layout objects.\r\n//\r\n// ### session\r\n// creates and destroys editors, e.g. for lyrics that have a Different\r\n// editor instance for each note.\r\n//\r\n// ### component\r\n// is defined in the dialog, and creates/destroys the session based on input from\r\n// the dialog\r\n//\r\n// ### dialog\r\n// manages the coponent session, as well as other components of the text like font etc.\r\n//\r\n// ## SuiTextInPlace\r\n// Edit the text in an SVG element, in the same scale etc. as the text in the score SVG DOM.\r\n// This component just manages the text editing component of hte renderer.\r\nexport class SuiTextInPlace extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    this.scroller = dialog.scroller;\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    this.editMode = false;\r\n    this.dialog = dialog;\r\n    this.value = '';\r\n    const modifier = this.dialog.modifier;\r\n\r\n    this.value = modifier;\r\n    this.altLabel = SuiTextTransformDialog.getStaticText('editorLabel');\r\n  }\r\n\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    const r = b('div').classes(this.makeClasses('cbTextInPlace smoControl')).attr('id', this.parameterId).attr('data-param', this.parameterName)\r\n      .append(b('button').attr('type', 'checkbox').classes('toggleTextEdit')\r\n        .attr('id', id + '-input').append(\r\n          b('span').classes('icon icon-pencil'))\r\n        .append(\r\n          b('label').attr('for', id + '-input').text(this.label)));\r\n    return r;\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  endSession() {\r\n    $(this._getInputElement()).find('label').text(this.label);\r\n    const button = document.getElementById(this.parameterId);\r\n    $(button).find('span.icon').removeClass('icon-checkmark').addClass('icon-pencil');\r\n\r\n    this.dialog.modifier.skipRender = false;\r\n\r\n    const render = () => {\r\n      this.dialog.view.renderer.setRefresh();\r\n    };\r\n    if (this.session) {\r\n      this.session.textGroup.tryParseUnicode();\r\n      this.value = this.session.textGroup;\r\n      this.session.stopSession().then(render);\r\n    }\r\n    $('body').removeClass('text-edit');\r\n    this.handleChanged();\r\n  }\r\n  get isRunning() {\r\n    return this.session && this.session.isRunning;\r\n  }\r\n  getValue() {\r\n    return this.value;\r\n  }\r\n  _getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('button');\r\n  }\r\n  mouseMove(ev) {\r\n    if (this.session && this.session.isRunning) {\r\n      this.session.handleMouseEvent(ev);\r\n    }\r\n  }\r\n\r\n  mouseClick(ev) {\r\n    if (this.session && this.session.isRunning) {\r\n      this.session.handleMouseEvent(ev);\r\n    }\r\n  }\r\n  _renderInactiveBlocks() {\r\n    const modifier = this.dialog.modifier;\r\n    const context = this.dialog.view.renderer.context;\r\n    context.save();\r\n    context.setFillStyle('#ddd');\r\n    modifier.textBlocks.forEach((block) => {\r\n      const st = block.text;\r\n      if (st.attrs.id !== this.dialog.activeScoreText.attrs.id) {\r\n        const svgText = SuiInlineText.fromScoreText(st, context, this.scroller);\r\n        if (st.logicalBox) {\r\n          svgText.startX += st.logicalBox.x - st.x;\r\n          svgText.startY += (st.y - st.logicalBox.y) - st.logicalBox.height / 2;\r\n        }\r\n        const sgrp = context.openGroup();\r\n        sgrp.classList.add('inactive-text');\r\n        sgrp.classList.add('suiInlineText');\r\n        svgText.render();\r\n        context.closeGroup();\r\n      }\r\n    });\r\n    context.restore();\r\n  }\r\n  startEditSession() {\r\n    $(this._getInputElement()).find('label').text(this.altLabel);\r\n    const modifier = this.dialog.modifier;\r\n    modifier.skipRender = true;\r\n    $(this.dialog.view.renderer.context.svg).find('#' + modifier.attrs.id).remove();\r\n    this._renderInactiveBlocks();\r\n    const ul = modifier.ul();\r\n\r\n    // this.textElement=$(this.dialog.layout.svg).find('.'+modifier.attrs.id)[0];\r\n    this.session = new SuiTextSession({\r\n      renderer: this.dialog.view.renderer,\r\n      scroller: this.dialog.view.tracker.scroller,\r\n      x: ul.x,\r\n      y: ul.y,\r\n      textGroup: modifier,\r\n      scoreText: this.dialog.activeScoreText\r\n    });\r\n    $('body').addClass('text-edit');\r\n    this.value = this.session.textGroup;\r\n    const button = document.getElementById(this.parameterId);\r\n    $(button).find('span.icon').removeClass('icon-pencil').addClass('icon-checkmark');\r\n    this.session.startSession();\r\n    // blur the button so key events don't get passed to it.\r\n    $(this._getInputElement()).blur();\r\n  }\r\n  evKey(evdata) {\r\n    if (this.session) {\r\n      this.session.evKey(evdata);\r\n    }\r\n  }\r\n\r\n  bind() {\r\n    this.fontInfo = JSON.parse(JSON.stringify(this.dialog.activeScoreText.fontInfo));\r\n    this.value = this.dialog.modifier;\r\n    $(this._getInputElement()).off('click').on('click', () => {\r\n      if (this.session && this.session.isRunning) {\r\n        this.endSession();\r\n      } else {\r\n        this.startEditSession();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n// ## SuiNoteTextComponent\r\n// Base class for text editor components that navigate to\r\n// different notes.\r\nexport class SuiNoteTextComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n\r\n    this.selection = dialog.view.tracker.selections[0];\r\n    this.selector = JSON.parse(JSON.stringify(this.selection.selector));\r\n    this.dialog = dialog;\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  setView(eventSource, view) {\r\n    this.eventSource = eventSource;\r\n    this.view = view;\r\n  }\r\n  mouseMove(ev) {\r\n    if (this.session && this.session.isRunning) {\r\n      this.session.handleMouseEvent(ev);\r\n    }\r\n  }\r\n\r\n  mouseClick(ev) {\r\n    if (this.session && this.session.isRunning) {\r\n      this.session.handleMouseEvent(ev);\r\n    }\r\n  }\r\n  _getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('button');\r\n  }\r\n  get running() {\r\n    return this.session && this.session.isRunning;\r\n  }\r\n  evKey(evdata) {\r\n    if (this.session) {\r\n      return this.session.evKey(evdata);\r\n    }\r\n    return false;\r\n  }\r\n  setDialogLyric() {\r\n    if (this.session && this.session.lyric) {\r\n      this.dialog.setLyric(this.selector, this.session.lyric);\r\n    }\r\n  }\r\n\r\n  moveSelectionRight() {\r\n    this.session.advanceSelection(false);\r\n    this.setDialogLyric();\r\n  }\r\n  moveSelectionLeft() {\r\n    this.session.advanceSelection(true);\r\n    this.setDialogLyric();\r\n  }\r\n  removeText() {\r\n    this.session.removeLyric();\r\n  }\r\n\r\n  _bind() {\r\n    $(this._getInputElement()).off('click').on('click', () => {\r\n      if (this.session && this.session.isRunning) {\r\n        this.endSession();\r\n      } else {\r\n        this.startEditSession();\r\n      }\r\n    });\r\n    $('#' + this.parameterId + '-left').off('click').on('click', () => {\r\n      this.moveSelectionLeft();\r\n    });\r\n    $('#' + this.parameterId + '-right').off('click').on('click', () => {\r\n      this.moveSelectionRight();\r\n    });\r\n    $('#' + this.parameterId + '-remove').off('click').on('click', () => {\r\n      this.removeText();\r\n    });\r\n  }\r\n  getValue() {\r\n    return this.value;\r\n  }\r\n}\r\n\r\n// ## SuiLyricComponent\r\n// manage a lyric session that moves from note to note and adds lyrics.\r\nexport class SuiLyricComponent extends SuiNoteTextComponent {\r\n  constructor(dialog, parameter) {\r\n    super(dialog, parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    this.session = null;\r\n    this.altLabel = SuiLyricDialog.getStaticText('doneEditing');\r\n    if (!this.verse) {\r\n      this.verse = 0;\r\n    }\r\n    this.started = false;\r\n  }\r\n\r\n  get html() {\r\n    var b = htmlHelpers.buildDom;\r\n    var id = this.parameterId;\r\n    var r = b('div').classes(this.makeClasses('cbLyricEdit smoControl')).attr('id', this.parameterId).attr('data-param', this.parameterName)\r\n      .append(b('div').classes('toggleEdit')\r\n        .append(b('button').classes('toggleTextEdit')\r\n          .attr('id', id + '-toggleInput').append(\r\n            b('span').classes('icon icon-pencil'))).append(\r\n          b('label').attr('for', id + '-toggleInput').text(this.label)))\r\n      .append(b('div').classes('show-when-editing')\r\n        .append(b('span')\r\n          .append(\r\n            b('button').attr('id', id + '-left').classes('icon-arrow-left buttonComponent')))\r\n        .append(b('span')\r\n          .append(\r\n            b('button').attr('id', id + '-right').classes('icon-arrow-right buttonComponent')))\r\n        .append(b('span')\r\n          .append(\r\n            b('button').attr('id', id + '-remove').classes('icon-cross buttonComponent')))\r\n      );\r\n    return r;\r\n  }\r\n\r\n  endSession() {\r\n    this.started = false;\r\n    console.log('ending text session');\r\n    $(this._getInputElement()).find('label').text(this.label);\r\n    const button = document.getElementById(this.parameterId);\r\n    $(button).find('span.icon').removeClass('icon-checkmark').addClass('icon-pencil');\r\n    if (this.session) {\r\n      this.value = this.session.textGroup;\r\n      this.session.stopSession();\r\n    }\r\n    $('body').removeClass('text-edit');\r\n  }\r\n\r\n  startEditSession() {\r\n    $(this._getInputElement()).find('label').text(this.altLabel);\r\n    console.log('starting text session');\r\n    if (this.started) {\r\n      return;\r\n    }\r\n    // this.textElement=$(this.dialog.layout.svg).find('.'+modifier.attrs.id)[0];\r\n    this.session = new SuiLyricSession({\r\n      renderer: this.dialog.view.renderer,\r\n      selector: this.selector,\r\n      scroller: this.dialog.view.tracker.scroller,\r\n      verse: this.verse,\r\n      score: this.dialog.view.score,\r\n      view: this.view\r\n    }\r\n    );\r\n    this.started = true;\r\n    $('body').addClass('text-edit');\r\n    const button = document.getElementById(this.parameterId);\r\n    $(button).find('span.icon').removeClass('icon-pencil').addClass('icon-checkmark');\r\n    this.session.startSession();\r\n    this.setDialogLyric();\r\n  }\r\n\r\n  bind() {\r\n    this._bind();\r\n  }\r\n}\r\n\r\n// ## SuiChordComponent\r\n// manage a chord editing session that moves from note to note and adds chord symbols.\r\nexport class SuiChordComponent extends SuiNoteTextComponent {\r\n  constructor(dialog, parameter) {\r\n    super(dialog, parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    this.session = null;\r\n    this.dialog = dialog;\r\n\r\n    this.selection = dialog.view.tracker.selections[0];\r\n    this.selector = JSON.parse(JSON.stringify(this.selection.selector));\r\n    this.altLabel = SuiLyricDialog.getStaticText('doneEditing');\r\n    if (!this.verse) {\r\n      this.verse = 0;\r\n    }\r\n  }\r\n\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    const r = b('div').classes(this.makeClasses('cbChordEdit smoControl')).attr('id', this.parameterId).attr('data-param', this.parameterName)\r\n      .append(b('div').classes('toggleEdit')\r\n        .append(b('button').classes('toggleTextEdit')\r\n          .attr('id', id + '-toggleInput').append(\r\n            b('span').classes('icon icon-pencil'))).append(\r\n          b('label').attr('for', id + '-toggleInput').text(this.label)))\r\n\r\n      .append(b('div').classes('show-when-editing')\r\n        .append(b('span')\r\n          .append(\r\n            b('button').attr('id', id + '-left').classes('icon-arrow-left buttonComponent')))\r\n        .append(b('span')\r\n          .append(\r\n            b('button').attr('id', id + '-right').classes('icon-arrow-right buttonComponent')))\r\n        .append(b('span')\r\n          .append(\r\n            b('button').attr('id', id + '-remove').classes('icon-cross buttonComponent')))\r\n      );\r\n    return r;\r\n  }\r\n\r\n  endSession() {\r\n    $(this._getInputElement()).find('label').text(this.label);\r\n    const button = document.getElementById(this.parameterId);\r\n    $(button).find('span.icon').removeClass('icon-checkmark').addClass('icon-pencil');\r\n\r\n    const render = () => {\r\n      this.dialog.view.renderer.setRefresh();\r\n    };\r\n    if (this.session) {\r\n      this.value = this.session.textGroup;\r\n      this.session.stopSession().then(render);\r\n    }\r\n    $('body').removeClass('text-edit');\r\n  }\r\n  startEditSession() {\r\n    $(this._getInputElement()).find('label').text(this.altLabel);\r\n\r\n    // this.textElement=$(this.dialog.layout.svg).find('.'+modifier.attrs.id)[0];\r\n    this.session = new SuiChordSession({\r\n      renderer: this.dialog.view.renderer,\r\n      selector: this.selector,\r\n      scroller: this.dialog.view.tracker.scroller,\r\n      verse: 0,\r\n      view: this.view,\r\n      score: this.dialog.view.score\r\n    }\r\n    );\r\n    $('body').addClass('text-edit');\r\n    const button = document.getElementById(this.parameterId);\r\n    $(button).find('span.icon').removeClass('icon-pencil').addClass('icon-checkmark');\r\n    this.session.startSession();\r\n    this.setDialogLyric();\r\n  }\r\n  bind() {\r\n    this._bind();\r\n  }\r\n  setTextType(type) {\r\n    this.session.textType = parseInt(type, 10);\r\n  }\r\n  getTextType() {\r\n    return this.session.textType;\r\n  }\r\n}\r\n\r\n// ## SuiDragText\r\n// A component that lets you drag the text you are editing to anywhere on the score.\r\n// The text is not really part of the dialog but the location of the text appears\r\n// in other dialog fields.\r\nexport class SuiDragText extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'defaultValue', 'control', 'label'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    this.dragging = false;\r\n    this.running = false;\r\n\r\n    this.dialog = dialog;\r\n    this.altLabel = SuiTextTransformDialog.getStaticText('draggerLabel');\r\n    this.value = '';\r\n  }\r\n\r\n  get html() {\r\n    var b = htmlHelpers.buildDom;\r\n    var id = this.parameterId;\r\n    var r = b('div').classes(this.makeClasses('cbDragTextDialog smoControl')).attr('id', this.parameterId).attr('data-param', this.parameterName)\r\n      .append(b('button').attr('type', 'checkbox').classes('toggleTextEdit')\r\n        .attr('id', id + '-input').append(\r\n          b('span').classes('icon icon-move'))\r\n        .append(\r\n          b('label').attr('for', id + '-input').text(this.label)));\r\n    return r;\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n\r\n  getValue() {\r\n    return this.dialog.modifier;\r\n  }\r\n  _getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid).find('button');\r\n  }\r\n  stopEditSession() {\r\n    $('body').removeClass('text-move');\r\n    $(this._getInputElement()).find('span.icon').removeClass('icon-checkmark').addClass('icon-move');\r\n    if (this.session && this.session.dragging) {\r\n      this.session.dragging = false;\r\n    }\r\n    this.running = false;\r\n  }\r\n  startEditSession() {\r\n    $('body').addClass('text-move');\r\n    this.session = new SuiDragSession({\r\n      textGroup: this.dialog.modifier,\r\n      context: this.dialog.view.renderer.context,\r\n      scroller: this.dialog.view.tracker.scroller\r\n    });\r\n    $(this._getInputElement()).find('label').text(this.altLabel);\r\n    $(this._getInputElement()).find('span.icon').removeClass('icon-enlarge').addClass('icon-checkmark');\r\n    this.running = true;\r\n  }\r\n  mouseMove(e) {\r\n    if (this.session && this.session.dragging) {\r\n      this.session.mouseMove(e);\r\n    }\r\n  }\r\n  mouseDown(e) {\r\n    if (this.session && !this.session.dragging) {\r\n      this.session.startDrag(e);\r\n      this.dragging = true;\r\n    }\r\n  }\r\n  mouseUp(e) {\r\n    if (this.session && this.session.dragging) {\r\n      this.session.endDrag(e);\r\n      this.dragging = false;\r\n      this.handleChanged();\r\n    }\r\n  }\r\n\r\n  bind() {\r\n    const self = this;\r\n    $(this._getInputElement()).off('click').on('click', () => {\r\n      if (self.running) {\r\n        self.stopEditSession();\r\n      } else {\r\n        self.startEditSession();\r\n      }\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiDialogBase } from '../dialog';\r\nimport { SuiInlineText } from '../../render/sui/textRender';\r\nimport { SuiHelp } from '../help';\r\nimport { SmoScoreText, SmoTextGroup } from '../../smo/data/scoreModifiers';\r\nimport { layoutDebug } from '../../render/sui/layoutDebug';\r\nimport { SmoDynamicText } from '../../smo/data/noteModifiers';\r\nimport { htmlHelpers } from '../../common/htmlHelpers';\r\nimport { svgHelpers } from '../../common/svgHelpers';\r\n\r\nexport class SuiLyricDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiLyricDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiLyricDialog.ctor;\r\n  }\r\n  static get idleLyricTime() {\r\n    return 5000;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiLyricDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n  static get dialogElements() {\r\n    SuiLyricDialog._dialogElements = SuiLyricDialog._dialogElements ? SuiLyricDialog._dialogElements :\r\n      [{\r\n        smoName: 'verse',\r\n        parameterName: 'verse',\r\n        defaultValue: 0,\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Verse',\r\n        classes: 'hide-when-editing',\r\n        startRow: true,\r\n        options: [{\r\n          value: 0,\r\n          label: '1'\r\n        }, {\r\n          value: 1,\r\n          label: '2'\r\n        }, {\r\n          value: 2,\r\n          label: '3'\r\n        }, {\r\n          value: 3,\r\n          label: '4'\r\n        }\r\n        ]\r\n      }, {\r\n        smoName: 'translateY',\r\n        parameterName: 'translateY',\r\n        classes: 'hide-when-editing',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Y Adjustment (Px)',\r\n        type: 'int'\r\n      }, {\r\n        smoName: 'font',\r\n        parameterName: 'font',\r\n        classes: 'hide-when-editing',\r\n        defaultValue: 0,\r\n        control: 'SuiFontComponent',\r\n        label: 'Font'\r\n      }, {\r\n        smoName: 'lyricEditor',\r\n        parameterName: 'text',\r\n        defaultValue: 0,\r\n        classes: 'show-always',\r\n        control: 'SuiLyricComponent',\r\n        label: 'Edit Lyrics',\r\n        options: []\r\n      }, {\r\n        staticText: [\r\n          { doneEditing: 'Done Editing Lyrics' },\r\n          { undo: 'Undo Lyrics' },\r\n          { label: 'Lyric Editor' }\r\n        ]\r\n      }];\r\n\r\n    return SuiLyricDialog._dialogElements;\r\n  }\r\n\r\n  // ### getStaticText\r\n  // given 'foo' return dialogElements.staticText value that has key of 'foo'\r\n  static getStaticText(label) {\r\n    return SuiLyricDialog.dialogElements.find((x) => x.staticText).staticText.find((x) => x[label])[label];\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'SELECTIONPOS'];\r\n  }\r\n\r\n  constructor(parameters) {\r\n    parameters.ctor = typeof (parameters.ctor) !== 'undefined' ? parameters.ctor : 'SuiLyricDialog';\r\n    const p = parameters;\r\n    const _class = Smo.getClass(p.ctor);\r\n    const dialogElements = _class.dialogElements;\r\n\r\n    super(dialogElements, {\r\n      id: 'dialog-lyrics',\r\n      ...p\r\n    });\r\n    this.originalRefreshTimer = SmoConfig.idleRedrawTime;\r\n    SmoConfig.idleRedrawTime = SuiLyricDialog.idleLyricTime;\r\n\r\n    // If we are editing existing lyrics, make sure it is the same type of session.\r\n    // Note: the actual lyric (modifier) is picked later from the selection. We just\r\n    // need to keep track of which type of thing we are editing.\r\n    if (parameters.modifier) {\r\n      this.parser = parameters.modifier.parser;\r\n    } else {\r\n      this.parser = parameters.parser; // lyrics or chord changes\r\n    }\r\n  }\r\n  display() {\r\n    $('body').addClass('showAttributeDialog');\r\n    $('body').addClass('textEditor');\r\n    this.applyDisplayOptions();\r\n    // this.editor = this.components.find((c) => c.smoName === 'textEditor');\r\n    this.verse = this.components.find((c) => c.smoName === 'verse');\r\n    this._bindElements();\r\n    $(this.dgDom.element).find('.smoControl').each((ix, ctrl) => {\r\n      if (!$(ctrl).hasClass('cbLyricEdit')) {\r\n        $(ctrl).addClass('fold-textedit');\r\n      }\r\n    });\r\n    this.mouseMoveHandler = this.eventSource.bindMouseMoveHandler(this, 'mouseMove');\r\n    this.mouseClickHandler = this.eventSource.bindMouseClickHandler(this, 'mouseClick');\r\n\r\n    if (this.lyricEditorCtrl && this.lyricEditorCtrl.session && this.lyricEditorCtrl.session.lyric) {\r\n      const lyric = this.lyricEditorCtrl.session.lyric;\r\n      this.fontCtrl.setValue({\r\n        family: lyric.fontInfo.family,\r\n        size: lyric.fontInfo.size,\r\n      });\r\n    }\r\n  }\r\n  setLyric(lyric) {\r\n    this.lyric = lyric;\r\n    this.translateYCtrl.setValue(lyric.translateY);\r\n  }\r\n  _focusSelection() {\r\n    if (this.lyricEditorCtrl.editor.selection &&\r\n      this.lyricEditorCtrl.editor.selection.note &&\r\n      this.lyricEditorCtrl.editor.selection.note.renderedBox) {\r\n      this.view.scroller.scrollVisibleBox(this.lyricEditorCtrl.editor.selection.note.renderedBox);\r\n    }\r\n  }\r\n  changed() {\r\n    this.lyricEditorCtrl.verse = parseInt(this.verse.getValue(), 10);\r\n\r\n    // TODO: make these undoable\r\n    if (this.fontCtrl.changeFlag) {\r\n      const fontInfo = this.fontCtrl.getValue();\r\n      this.view.setLyricFont({ 'family': fontInfo.family, size: fontInfo.size });\r\n    }\r\n    if (this.translateYCtrl && this.lyric) {\r\n      this.lyric.translateY = this.translateYCtrl.getValue();\r\n    }\r\n  }\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this._complete();\r\n    });\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this._complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').remove();\r\n    this.lyricEditorCtrl.eventSource = this.eventSource;\r\n    this.lyricEditorCtrl.setView(this.eventSource, this.view);\r\n    this.lyricEditorCtrl.startEditSession();\r\n  }\r\n  // ### handleKeydown\r\n  // allow a dialog to be dismissed by esc.\r\n  evKey(evdata) {\r\n    if (evdata.key === 'Escape') {\r\n      $(this.dgDom.element).find('.cancel-button').click();\r\n      evdata.preventDefault();\r\n    } else {\r\n      if (!this.lyricEditorCtrl.running) {\r\n        return;\r\n      }\r\n      const edited = this.lyricEditorCtrl.evKey(evdata);\r\n      if (edited) {\r\n        evdata.stopPropagation();\r\n      }\r\n    }\r\n  }\r\n\r\n  _complete() {\r\n    if (this.lyricEditorCtrl.running) {\r\n      this.lyricEditorCtrl.endSession();\r\n    }\r\n    this.eventSource.unbindMouseMoveHandler(this.mouseMoveHandler);\r\n    this.eventSource.unbindMouseClickHandler(this.mouseClickHandler);\r\n    $('body').removeClass('showAttributeDialog');\r\n    $('body').removeClass('textEditor');\r\n    SmoConfig.idleRedrawTime = this.originalRefreshTimer;\r\n    this.complete();\r\n  }\r\n\r\n  mouseMove(ev) {\r\n    if (this.lyricEditorCtrl && this.lyricEditorCtrl.running) {\r\n      this.lyricEditorCtrl.mouseMove(ev);\r\n    }\r\n  }\r\n\r\n  mouseClick(ev) {\r\n    if (this.lyricEditorCtrl && this.lyricEditorCtrl.running) {\r\n      this.lyricEditorCtrl.mouseClick(ev);\r\n      ev.stopPropagation();\r\n    }\r\n  }\r\n}\r\nexport class SuiChordChangeDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiChordChangeDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiChordChangeDialog.ctor;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    var dg = new SuiChordChangeDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n  constructor(parameters) {\r\n    parameters.ctor = 'SuiChordChangeDialog';\r\n    const p = parameters;\r\n    const _class = Smo.getClass(p.ctor);\r\n    const dialogElements = _class.dialogElements;\r\n\r\n    super(dialogElements, {\r\n      id: 'dialog-chords',\r\n      ...p\r\n    });\r\n  }\r\n  static get dialogElements() {\r\n    SuiChordChangeDialog._dialogElements = SuiChordChangeDialog._dialogElements ? SuiChordChangeDialog._dialogElements :\r\n      [{\r\n        smoName: 'verse',\r\n        parameterName: 'verse',\r\n        defaultValue: 0,\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Ordinality',\r\n        classes: 'hide-when-editing',\r\n        startRow: true,\r\n        options: [{\r\n          value: 0,\r\n          label: '1'\r\n        }, {\r\n          value: 1,\r\n          label: '2'\r\n        }, {\r\n          value: 2,\r\n          label: '3'\r\n        }]\r\n      }, {\r\n        smoName: 'translateY',\r\n        parameterName: 'translateY',\r\n        defaultValue: 0,\r\n        classes: 'hide-when-editing',\r\n        control: 'SuiRockerComponent',\r\n        label: 'Y Adjustment (Px)',\r\n        type: 'int'\r\n      }, {\r\n        smoName: 'chordEditor',\r\n        parameterName: 'text',\r\n        defaultValue: 0,\r\n        classes: 'show-always',\r\n        control: 'SuiChordComponent',\r\n        label: 'Edit Text',\r\n        options: []\r\n      }, {\r\n        smoName: 'chordSymbol',\r\n        parameterName: 'chordSymbol',\r\n        defaultValue: '',\r\n        classes: 'show-when-editing',\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Chord Symbol',\r\n        startRow: true,\r\n        options: [{\r\n          value: 'csymDiminished',\r\n          label: 'Dim'\r\n        }, {\r\n          value: 'csymHalfDiminished',\r\n          label: 'Half dim'\r\n        }, {\r\n          value: 'csymDiagonalArrangementSlash',\r\n          label: 'Slash'\r\n        }, {\r\n          value: 'csymMajorSeventh',\r\n          label: 'Maj7'\r\n        }]\r\n      }, {\r\n        smoName: 'textPosition',\r\n        parameterName: 'textPosition',\r\n        defaultValue: SuiInlineText.textTypes.normal,\r\n        classes: 'show-when-editing',\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Text Position',\r\n        startRow: true,\r\n        options: [{\r\n          value: SuiInlineText.textTypes.superScript,\r\n          label: 'Superscript'\r\n        }, {\r\n          value: SuiInlineText.textTypes.subScript,\r\n          label: 'Subscript'\r\n        }, {\r\n          value: SuiInlineText.textTypes.normal,\r\n          label: 'Normal'\r\n        }]\r\n      }, {\r\n        smoName: 'font',\r\n        parameterName: 'font',\r\n        classes: 'hide-when-editing',\r\n        defaultValue: 0,\r\n        control: 'SuiFontComponent',\r\n        label: 'Font'\r\n      }, {\r\n        smoName: 'adjustWidth',\r\n        parameterName: 'adjustNoteWidth',\r\n        defaultValue: true,\r\n        classes: 'hide-when-editing',\r\n        control: 'SuiToggleComponent',\r\n        label: 'Adjust Note Width',\r\n        options: []\r\n      }, {\r\n        staticText: [\r\n          { label: 'Edit Chord Symbol' },\r\n          { undo: 'Undo Chord Symbols' },\r\n          { doneEditing: 'Done Editing Chord Symbols' }\r\n        ]\r\n      }];\r\n\r\n    return SuiChordChangeDialog._dialogElements;\r\n  }\r\n  changed() {\r\n    let val = '';\r\n    if (this.chordSymbolCtrl.changeFlag && this.chordEditorCtrl.running) {\r\n      val = '@' + this.chordSymbolCtrl.getValue() + '@';\r\n      this.chordEditorCtrl.evKey({\r\n        key: val\r\n      });\r\n      // Move focus outside the element so it doesn't intercept keys\r\n      this.chordSymbolCtrl.unselect();\r\n    }\r\n    if (this.translateYCtrl.changeFlag) {\r\n      if (this.lyric && this.selector) {\r\n        this.lyric.translateY = this.translateYCtrl.getValue();\r\n        this.view.addOrUpdateLyric(this.selector, this.lyric);\r\n      }\r\n    }\r\n    if (this.textPositionCtrl.changeFlag) {\r\n      this.chordEditorCtrl.setTextType(this.textPositionCtrl.getValue());\r\n      $(this.textPositionCtrl._getInputElement())[0].selectedIndex = -1;\r\n      $(this.textPositionCtrl._getInputElement()).blur();\r\n    }\r\n    if (this.fontCtrl.changeFlag) {\r\n      const fontInfo = this.fontCtrl.getValue();\r\n      this.view.setChordFont(fontInfo);\r\n    }\r\n    if (this.adjustWidthCtrl.changeFlag) {\r\n      this.view.score.setChordAdjustWidth(this.adjustWidthCtrl.getValue());\r\n    }\r\n  }\r\n  setLyric(selector, lyric) {\r\n    this.selector = selector;\r\n    this.lyric = lyric;\r\n    this.translateYCtrl.setValue(lyric.translateY);\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'SELECTIONPOS'];\r\n  }\r\n  display() {\r\n    $('body').addClass('showAttributeDialog');\r\n    $('body').addClass('textEditor');\r\n    this.applyDisplayOptions();\r\n\r\n    // this.editor = this.components.find((c) => c.smoName === 'textEditor');\r\n    this.verse = this.components.find((c) => c.smoName === 'verse');\r\n    this._bindElements();\r\n\r\n    $(this.dgDom.element).find('.smoControl').each((ix, ctrl) => {\r\n      if (!$(ctrl).hasClass('cbLyricEdit')) {\r\n        $(ctrl).addClass('fold-textedit');\r\n      }\r\n    });\r\n    this.mouseMoveHandler = this.eventSource.bindMouseMoveHandler(this, 'mouseMove');\r\n    this.mouseClickHandler = this.eventSource.bindMouseClickHandler(this, 'mouseClick');\r\n    if (this.chordEditorCtrl && this.chordEditorCtrl.session && this.chordEditorCtrl.session.lyric) {\r\n      const lyric = this.chordEditorCtrl.session.lyric;\r\n      this.adjustWidthCtrl.setValue(lyric.adjustNoteWidth);\r\n      this.fontCtrl.setValue({\r\n        family: lyric.fontInfo.family,\r\n        size: lyric.fontInfo.size\r\n      });\r\n    }\r\n  }\r\n\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this._complete();\r\n    });\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this._complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').remove();\r\n    this.chordEditorCtrl.setView(this.eventSource, this.view);\r\n    this.chordEditorCtrl.startEditSession();\r\n  }\r\n\r\n  // ### handleKeydown\r\n  // allow a dialog to be dismissed by esc.\r\n  evKey(evdata) {\r\n    if (evdata.key === 'Escape') {\r\n      $(this.dgDom.element).find('.cancel-button').click();\r\n      evdata.preventDefault();\r\n    } else {\r\n      if (!this.chordEditorCtrl.running) {\r\n        return;\r\n      }\r\n      const edited = this.chordEditorCtrl.evKey(evdata);\r\n      if (edited) {\r\n        evdata.stopPropagation();\r\n      }\r\n    }\r\n  }\r\n\r\n  _complete() {\r\n    if (this.chordEditorCtrl.running) {\r\n      this.chordEditorCtrl.endSession();\r\n    }\r\n    this.view.renderer.setDirty();\r\n    this.eventSource.unbindMouseMoveHandler(this.mouseMoveHandler);\r\n    this.eventSource.unbindMouseClickHandler(this.mouseClickHandler);\r\n    $('body').removeClass('showAttributeDialog');\r\n    $('body').removeClass('textEditor');\r\n    this.complete();\r\n  }\r\n\r\n  mouseMove(ev) {\r\n    if (this.chordEditorCtrl && this.chordEditorCtrl.running) {\r\n      this.chordEditorCtrl.mouseMove(ev);\r\n    }\r\n  }\r\n\r\n  mouseClick(ev) {\r\n    if (this.chordEditorCtrl && this.chordEditorCtrl.running) {\r\n      this.chordEditorCtrl.mouseClick(ev);\r\n      ev.stopPropagation();\r\n    }\r\n  }\r\n}\r\nexport class SuiTextTransformDialog extends SuiDialogBase {\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiTextTransformDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n\r\n  static get ctor() {\r\n    return 'SuiTextTransformDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiTextTransformDialog.ctor;\r\n  }\r\n  static get dialogElements() {\r\n    SuiTextTransformDialog._dialogElements = SuiTextTransformDialog._dialogElements ? SuiTextTransformDialog._dialogElements :\r\n      [{\r\n        smoName: 'textEditor',\r\n        parameterName: 'text',\r\n        defaultValue: 0,\r\n        control: 'SuiTextInPlace',\r\n        classes: 'show-always hide-when-moving',\r\n        label: 'Edit Text',\r\n        options: []\r\n      }, {\r\n        smoName: 'insertCode',\r\n        parameterName: 'insertCode',\r\n        defaultValue: false,\r\n        classes: 'show-when-editing hide-when-moving',\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Insert Special',\r\n        options: [\r\n          { value: '@@@', label: 'Pages' },\r\n          { value: '###', label: 'Page Number' }\r\n        ]\r\n      }, {\r\n        smoName: 'textDragger',\r\n        parameterName: 'textLocation',\r\n        classes: 'hide-when-editing show-when-moving',\r\n        defaultValue: 0,\r\n        control: 'SuiDragText',\r\n        label: 'Move Text',\r\n        options: []\r\n      }, {\r\n        smoName: 'x',\r\n        parameterName: 'x',\r\n        defaultValue: 0,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiRockerComponent',\r\n        label: 'X Position (Px)',\r\n        type: 'int'\r\n      }, {\r\n        smoName: 'y',\r\n        parameterName: 'y',\r\n        defaultValue: 0,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiRockerComponent',\r\n        label: 'Y Position (Px)',\r\n        type: 'int'\r\n      }, {\r\n        smoName: 'font',\r\n        parameterName: 'font',\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        defaultValue: SmoScoreText.fontFamilies.times,\r\n        control: 'SuiFontComponent',\r\n        label: 'Font Information'\r\n      },\r\n      {\r\n        smoName: 'textBlock',\r\n        parameterName: 'textBlock',\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        defaultValue: '',\r\n        control: 'SuiTextBlockComponent',\r\n        label: 'Text Block Properties'\r\n      },\r\n      { // {every:'every',even:'even',odd:'odd',once:'once'}\r\n        smoName: 'pagination',\r\n        parameterName: 'pagination',\r\n        defaultValue: SmoScoreText.paginations.every,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Page Behavior',\r\n        startRow: true,\r\n        options: [{ value: SmoTextGroup.paginations.ONCE, label: 'Once' },\r\n          { value: SmoTextGroup.paginations.EVERY, label: 'Every' },\r\n          { value: SmoTextGroup.paginations.EVEN, label: 'Even' },\r\n          { value: SmoTextGroup.paginations.ODD, label: 'Odd' },\r\n          { value: SmoTextGroup.paginations.SUBSEQUENT, label: 'Subsequent' }\r\n        ]\r\n      }, {\r\n        smoName: 'attachToSelector',\r\n        parameterName: 'attachToSelector',\r\n        defaultValue: false,\r\n        parentControl: this,\r\n        classes: 'hide-when-editing hide-when-moving',\r\n        control: 'SuiToggleComponent',\r\n        label: 'Attach to Selection'\r\n      }, {\r\n        staticText: [\r\n          { label: 'Text Properties' },\r\n          { editorLabel: 'Done Editing Text' },\r\n          { draggerLabel: 'Done Dragging Text' }\r\n        ]\r\n      }];\r\n    return SuiTextTransformDialog._dialogElements;\r\n  }\r\n  static getStaticText(label) {\r\n    return SuiTextTransformDialog.dialogElements.find((x) => x.staticText).staticText.find((x) => x[label])[label];\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'MODIFIERPOS'];\r\n  }\r\n  populateInitial() {\r\n    this.textBlockCtrl.setValue({\r\n      activeScoreText: this.activeScoreText,\r\n      modifier: this.modifier\r\n    });\r\n    const fontFamily = this.activeScoreText.fontInfo.family;\r\n    const fontSize = this.activeScoreText.fontInfo.size;\r\n    this.fontCtrl.setValue({\r\n      family: fontFamily,\r\n      size: fontSize,\r\n      style: this.activeScoreText.fontInfo.style,\r\n      weight: this.activeScoreText.fontInfo.weight\r\n    });\r\n    this.attachToSelectorCtrl.setValue(this.modifier.attachToSelector);\r\n    this.paginationsComponent = this.components.find((c) => c.smoName === 'pagination');\r\n    this.paginationsComponent.setValue(this.modifier.pagination);\r\n    const ul = this.modifier.ul();\r\n    this.xCtrl.setValue(ul.x);\r\n    this.yCtrl.setValue(ul.y);\r\n  }\r\n  display() {\r\n    this.textElement = $(this.view.renderer.context.svg).find('.' + this.modifier.attrs.id)[0];\r\n    $('body').addClass('showAttributeDialog');\r\n    $('body').addClass('textEditor');\r\n    this.applyDisplayOptions();\r\n    this.populateInitial();\r\n    this._bindElements();\r\n    if (!this.modifier.renderedBox) {\r\n      this.view.renderer.renderTextGroup(this.modifier);\r\n    }\r\n\r\n    // If this control has not been edited this session, assume they want to\r\n    // edit the text and just right into that.\r\n    if (!this.modifier.edited) {\r\n      this.modifier.edited = true;\r\n      layoutDebug.addDialogDebug('text transform db: startEditSession');\r\n      this.textEditorCtrl.startEditSession();\r\n    }\r\n    this.mouseMoveHandler = this.eventSource.bindMouseMoveHandler(this, 'mouseMove');\r\n    this.mouseUpHandler = this.eventSource.bindMouseUpHandler(this, 'mouseUp');\r\n    this.mouseDownHandler = this.eventSource.bindMouseDownHandler(this, 'mouseDown');\r\n    this.mouseClickHandler = this.eventSource.bindMouseClickHandler(this, 'mouseClick');\r\n  }\r\n  _resetAttachToSelector() {\r\n    this.modifier.attachToSelector = false;\r\n    this.modifier.selector = SmoTextGroup.defaults.selector;\r\n    this.modifier.musicXOffset = SmoTextGroup.defaults.musicXOffset;\r\n    this.modifier.musicYOffset = SmoTextGroup.defaults.musicYOffset;\r\n  }\r\n  _activateAttachToSelector() {\r\n    this.modifier.attachToSelector = true;\r\n    this.modifier.selector = JSON.parse(JSON.stringify(this.view.tracker.selections[0].selector));\r\n    this.modifier.musicXOffset = this.modifier.logicalBox.x - this.view.tracker.selections[0].measure.svg.logicalBox.x;\r\n    this.modifier.musicYOffset = this.modifier.logicalBox.y - this.view.tracker.selections[0].measure.svg.logicalBox.y;\r\n  }\r\n\r\n  changed() {\r\n    this.edited = true;\r\n    if (this.insertCodeCtrl.changeFlag && this.textEditorCtrl.session) {\r\n      const val = this.insertCodeCtrl.getValue().split('');\r\n      val.forEach((key) => {\r\n        this.evKey({ key });\r\n      });\r\n      this.insertCodeCtrl.unselect();\r\n    }\r\n\r\n    if (this.textBlockCtrl.changeFlag) {\r\n      const nval = this.textBlockCtrl.getValue();\r\n      this.activeScoreText = nval.activeScoreText;\r\n      this.textEditorCtrl.activeScoreText = this.activeScoreText;\r\n    }\r\n\r\n    if (this.attachToSelectorCtrl.changeFlag) {\r\n      const toSet = this.attachToSelectorCtrl.getValue();\r\n      if (toSet) {\r\n        this._activateAttachToSelector();\r\n        this.paginationsComponent.setValue(SmoTextGroup.paginations.ONCE);\r\n        this.modifier.pagination = SmoTextGroup.paginations.ONCE;\r\n      } else {\r\n        this._resetAttachToSelector();\r\n      }\r\n    }\r\n\r\n    const pos = this.modifier.ul();\r\n\r\n    // position can change from drag or by dialog - only update from\r\n    // dialog entries if that changed.\r\n    if (this.xCtrl.changeFlag) {\r\n      this.modifier.offsetX(this.xCtrl.getValue() - pos.x);\r\n    }\r\n    if (this.yCtrl.changeFlag) {\r\n      this.modifier.offsetY(this.yCtrl.getValue() - pos.y);\r\n    }\r\n    if (this.textDraggerCtrl.changeFlag) {\r\n      this.xCtrl.setValue(pos.x);\r\n      this.yCtrl.setValue(pos.y);\r\n    }\r\n\r\n    if (this.paginationsComponent.changeFlag) {\r\n      this.modifier.pagination = parseInt(this.paginationsComponent.getValue(), 10);\r\n      // Pagination and attach to measure don't mix.\r\n      this._resetAttachToSelector();\r\n      this.attachToSelectorCtrl.setValue(false);\r\n    }\r\n\r\n    if (this.fontCtrl.changeFlag) {\r\n      const fontInfo = this.fontCtrl.getValue();\r\n      this.activeScoreText.fontInfo.family = fontInfo.family;\r\n      // transitioning away from non-point-based font size units\r\n      this.activeScoreText.fontInfo.size = fontInfo.size;\r\n      this.activeScoreText.fontInfo.weight = fontInfo.weight;\r\n      this.activeScoreText.fontInfo.style = fontInfo.style;\r\n    }\r\n    // Use layout context because render may have reset svg.\r\n    this.view.updateTextGroup(this.previousModifier, this.modifier);\r\n    this.previousModifier = this.modifier.serialize();\r\n  }\r\n\r\n  // ### handleKeydown\r\n  // allow a dialog to be dismissed by esc.\r\n  evKey(evdata) {\r\n    if (evdata.key === 'Escape') {\r\n      $(this.dgDom.element).find('.cancel-button').click();\r\n      evdata.preventDefault();\r\n    } else {\r\n      this.textEditorCtrl.evKey(evdata);\r\n    }\r\n  }\r\n\r\n  // ### Event handlers, passed from dialog\r\n  mouseUp() {\r\n    if (this.textResizerCtrl && this.textResizerCtrl.running) {\r\n      this.textResizerCtrl.mouseUp();\r\n    } else if (this.textDraggerCtrl && this.textDraggerCtrl.running) {\r\n      this.textDraggerCtrl.mouseUp();\r\n    }\r\n  }\r\n\r\n  mouseMove(ev) {\r\n    if (this.textResizerCtrl && this.textResizerCtrl.running) {\r\n      this.textResizerCtrl.mouseMove(ev);\r\n    } else if (this.textDraggerCtrl && this.textDraggerCtrl.running) {\r\n      this.textDraggerCtrl.mouseMove(ev);\r\n    } else if (this.textEditorCtrl && this.textEditorCtrl.isRunning) {\r\n      this.textEditorCtrl.mouseMove(ev);\r\n    }\r\n  }\r\n\r\n  mouseClick(ev) {\r\n    if (this.textEditorCtrl && this.textEditorCtrl.isRunning) {\r\n      this.textEditorCtrl.mouseClick(ev);\r\n      ev.stopPropagation();\r\n    }\r\n  }\r\n\r\n  mouseDown(ev) {\r\n    if (this.textResizerCtrl && this.textResizerCtrl.running) {\r\n      this.textResizerCtrl.mouseDown(ev);\r\n    } else if (this.textDraggerCtrl && this.textDraggerCtrl.running) {\r\n      this.textDraggerCtrl.mouseDown(ev);\r\n    }\r\n  }\r\n\r\n  constructor(parameters) {\r\n    let edited = false;\r\n    const tracker = parameters.view.tracker;\r\n    const layout = parameters.view.score.layoutManager.getGlobalLayout();\r\n\r\n    // Create a new text modifier, if this is new text.   Else use selection\r\n    if (!parameters.modifier) {\r\n      const newText = new SmoScoreText({ position: SmoScoreText.positions.custom });\r\n      newText.y += tracker.scroller.scrollState.scroll.y;\r\n      if (tracker.selections.length > 0) {\r\n        const sel = tracker.selections[0].measure.svg;\r\n        if (typeof (sel.logicalBox) !== 'undefined') {\r\n          if (sel.logicalBox.y >= newText.y) {\r\n            newText.y = sel.logicalBox.y;\r\n            newText.x = sel.logicalBox.x;\r\n          }\r\n        }\r\n      }\r\n      const newGroup = new SmoTextGroup({ blocks: [{ text: newText, position: SmoTextGroup.relativePositions.LEFT }] });\r\n      parameters.modifier = newGroup;\r\n      parameters.modifier.setActiveBlock(newText);\r\n      parameters.view.addTextGroup(parameters.modifier);\r\n      edited = true;\r\n    } else {\r\n      // Make sure there is a score text to start the editing.\r\n      parameters.modifier.setActiveBlock(parameters.modifier.textBlocks[0].text);\r\n    }\r\n    const scrollPosition = tracker.scroller.absScroll;\r\n    scrollPosition.y = scrollPosition.y / (layout.svgScale * layout.zoomScale);\r\n    scrollPosition.x = scrollPosition.x / (layout.svgScale * layout.zoomScale);\r\n    super(SuiTextTransformDialog.dialogElements, {\r\n      id: 'dialog-' + parameters.modifier.attrs.id,\r\n      top: scrollPosition.y + 100,\r\n      left: scrollPosition.x + 100,\r\n      ...parameters\r\n    });\r\n    this.edited = edited;\r\n    this.view.groupUndo(true);\r\n    this.previousModifier = this.modifier.serialize();\r\n    this.activeScoreText = this.modifier.getActiveBlock();\r\n    Vex.Merge(this, parameters);\r\n  }\r\n\r\n  _complete() {\r\n    this.view.groupUndo(false);\r\n    this.modifier.setActiveBlock(null);\r\n    this.view.tracker.updateMap(); // update the text map\r\n    this.view.renderer.setDirty();\r\n    this.eventSource.unbindMouseDownHandler(this.mouseDownHandler);\r\n    this.eventSource.unbindMouseUpHandler(this.mouseUpHandler);\r\n    this.eventSource.unbindMouseMoveHandler(this.mouseMoveHandler);\r\n    this.eventSource.unbindMouseClickHandler(this.mouseClickHandler);\r\n    svgHelpers.eraseOutline(this.view.renderer.context.svg, 'text-drag');\r\n    $('body').removeClass('showAttributeDialog');\r\n    $('body').removeClass('textEditor');\r\n    this.complete();\r\n  }\r\n  _removeText() {\r\n    this.view.removeTextGroup(this.modifier);\r\n  }\r\n\r\n  _bindElements() {\r\n    const dgDom = this.dgDom;\r\n\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this._complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      if (this.edited) {\r\n        this.view.undo();\r\n      }\r\n      this._complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').off('click').on('click', () => {\r\n      this._removeText();\r\n      this._complete();\r\n    });\r\n  }\r\n}\r\n\r\n// ## SuiDynamicModifierDialog\r\n// This is a poorly named class, it just allows you to placeText\r\n// dynamic text so it doesn't collide with something.\r\nexport class SuiDynamicModifierDialog extends SuiDialogBase {\r\n  static get ctor() {\r\n    return 'SuiDynamicModifierDialog';\r\n  }\r\n  get ctor() {\r\n    return SuiDynamicModifierDialog.ctor;\r\n  }\r\n  static get label() {\r\n    SuiDynamicModifierDialog._label = SuiDynamicModifierDialog._label ? SuiDynamicModifierDialog._label :\r\n      'Dynamics Properties';\r\n    return SuiDynamicModifierDialog._label;\r\n  }\r\n  static set label(value) {\r\n    SuiDynamicModifierDialog._label = value;\r\n  }\r\n\r\n  static get dialogElements() {\r\n    SuiDynamicModifierDialog._dialogElements = SuiDynamicModifierDialog._dialogElements ? SuiDynamicModifierDialog._dialogElements :\r\n      [{\r\n        smoName: 'yOffsetLine',\r\n        parameterName: 'yOffsetLine',\r\n        defaultValue: 11,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Y Line'\r\n      }, {\r\n        smoName: 'yOffsetPixels',\r\n        parameterName: 'yOffsetPixels',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'Y Offset Px'\r\n      }, {\r\n        smoName: 'xOffset',\r\n        parameterName: 'yOffset',\r\n        defaultValue: 0,\r\n        control: 'SuiRockerComponent',\r\n        label: 'X Offset'\r\n      }, {\r\n        smoName: 'text',\r\n        parameterName: 'text',\r\n        defaultValue: SmoDynamicText.dynamics.P,\r\n        options: [{\r\n          value: SmoDynamicText.dynamics.P,\r\n          label: 'Piano'\r\n        }, {\r\n          value: SmoDynamicText.dynamics.PP,\r\n          label: 'Pianissimo'\r\n        }, {\r\n          value: SmoDynamicText.dynamics.MP,\r\n          label: 'Mezzo-Piano'\r\n        }, {\r\n          value: SmoDynamicText.dynamics.MF,\r\n          label: 'Mezzo-Forte'\r\n        }, {\r\n          value: SmoDynamicText.dynamics.F,\r\n          label: 'Forte'\r\n        }, {\r\n          value: SmoDynamicText.dynamics.FF,\r\n          label: 'Fortissimo'\r\n        }, {\r\n          value: SmoDynamicText.dynamics.SFZ,\r\n          label: 'Sforzando'\r\n        }],\r\n        control: 'SuiDropdownComponent',\r\n        label: 'Text'\r\n      },\r\n      {\r\n        staticText: [\r\n          { label: 'Dynamics Properties' }\r\n        ]\r\n      }\r\n      ];\r\n    return SuiDynamicModifierDialog._dialogElements;\r\n  }\r\n  static createAndDisplay(parameters) {\r\n    const dg = new SuiDynamicModifierDialog(parameters);\r\n    dg.display();\r\n    return dg;\r\n  }\r\n\r\n  constructor(parameters) {\r\n    super(SuiDynamicModifierDialog.dialogElements, {\r\n      id: 'dialog-' + parameters.modifier.id,\r\n      ...parameters\r\n    });\r\n    Vex.Merge(this, parameters);\r\n    this.edited = false;\r\n    this.view.groupUndo(true);\r\n    this.components.find((x) => x.parameterName === 'text').defaultValue = parameters.modifier.text;\r\n  }\r\n  get displayOptions() {\r\n    return ['BINDCOMPONENTS', 'BINDNAMES', 'DRAGGABLE', 'KEYBOARD_CAPTURE', 'MODIFIERPOS'];\r\n  }\r\n  display() {\r\n    $('body').addClass('showAttributeDialog');\r\n    this.applyDisplayOptions();\r\n    this._bindElements();\r\n    this.textCtrl.setValue(this.modifier.text);\r\n    this.xOffsetCtrl.setValue(this.modifier.xOffset);\r\n    this.yOffsetLineCtrl.setValue(this.modifier.yOffsetLine);\r\n    this.yOffsetPixelsCtrl.setValue(this.modifier.yOffsetPixels);\r\n  }\r\n  // ### _bindElements\r\n  // bing the generic controls in most dialogs.\r\n  _bindElements() {\r\n    var dgDom = this.dgDom;\r\n\r\n    $(dgDom.element).find('.ok-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      this.complete();\r\n    });\r\n\r\n    $(dgDom.element).find('.cancel-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      if (this.edited) {\r\n        this.view.undo();\r\n      }\r\n      this.complete();\r\n    });\r\n    $(dgDom.element).find('.remove-button').off('click').on('click', () => {\r\n      this.view.groupUndo(false);\r\n      this.handleRemove();\r\n      this.complete();\r\n    });\r\n  }\r\n  handleRemove() {\r\n    this.view.removeDynamic(this.modifier);\r\n  }\r\n  changed() {\r\n    this.edited = true;\r\n    this.components.forEach((component) => {\r\n      this.modifier[component.smoName] = component.getValue();\r\n    });\r\n    this.view.addDynamic(this.modifier);\r\n  }\r\n}\r\nexport class helpModal {\r\n  static createAndDisplay() {\r\n    SuiHelp.displayHelp();\r\n    return htmlHelpers.closeDialogPromise();\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiComponentBase } from '../dialogComponents';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\nimport { htmlHelpers } from '../../common/htmlHelpers';\r\n\r\n// ### SuiDropdownComponent\r\n// simple dropdown select list.\r\nexport class SuiTreeComponent extends SuiComponentBase {\r\n  constructor(dialog, parameter) {\r\n    super(parameter);\r\n    smoSerialize.filteredMerge(\r\n      ['parameterName', 'smoName', 'root', 'options', 'control', 'label', 'dataType', 'disabledOption'], parameter, this);\r\n    if (!this.defaultValue) {\r\n      this.defaultValue = 0;\r\n    }\r\n    if (!this.dataType) {\r\n      this.dataType = 'string';\r\n    }\r\n    this.dialog = dialog;\r\n    this.persistControls = false;\r\n    this.calculateOptionTree();\r\n  }\r\n  calculateOptionTree() {\r\n    this.tree = {};\r\n    this.options.forEach((option) => {\r\n      if (option.parent) {\r\n        if (typeof(this.tree[option.parent] === 'undefined')) {\r\n          this.tree[option.parent] = [];\r\n        }\r\n        this.tree[option.parent].push(option);\r\n        const button = $('ul.tree li[data-value=\"' + option.value + '\"] button');\r\n        if (button.length && button.hasClass('expanded')) {\r\n          option.expanded = true;\r\n        }\r\n        if (button.length && button.hasClass('collapsed')) {\r\n          option.collapsed = true;\r\n        }\r\n      }\r\n    });\r\n  }\r\n  getNodesWithParent(parent) {\r\n    return this.options.filter((oo) => oo.parent === parent);\r\n  }\r\n  get parameterId() {\r\n    return this.dialog.id + '-' + this.parameterName;\r\n  }\r\n  appendOptionRecurse(b, option, level) {\r\n    const children = this.getNodesWithParent(option.value);\r\n    let treeClass = 'tree-branch';\r\n    let buttonClass = 'expander';\r\n    if (this.persistControls && option.expanded) {\r\n      buttonClass += ' expanded icon-minus';\r\n    }\r\n    if (this.persistControls && option.collapsed) {\r\n      buttonClass += ' collapsed icon-plus';\r\n      treeClass += ' collapsed';\r\n    }\r\n    const current = b('li').classes(treeClass).attr('data-value', option.value).attr('data-level', level);\r\n    current.append(b('button').classes(buttonClass));\r\n    current.append(b('a').classes('tree-link').text(option.label));\r\n    if (option.format === 'library') {\r\n      current.append(b('span').classes('file-type icon-book'));\r\n    } else {\r\n      current.append(b('span').classes('file-type icon-file-music'));\r\n    }\r\n    children.forEach((child) => {\r\n      current.append(b('ul').append(this.appendOptionRecurse(b, child, level + 1)));\r\n    });\r\n    return current;\r\n  }\r\n  _createTree(builder, ul) {\r\n    // this.checkDefault(s, b);\r\n    const options = this.getNodesWithParent(this.root);\r\n    options.forEach((option) => {\r\n      ul.append(this.appendOptionRecurse(builder, option, 0));\r\n    });\r\n  }\r\n\r\n  get html() {\r\n    const b = htmlHelpers.buildDom;\r\n    const id = this.parameterId;\r\n    const r = b('div').classes(this.makeClasses('dropdownControl smoControl')).attr('id', id).attr('data-param', this.parameterName);\r\n    const ul = b('ul').classes('tree tree-root');\r\n    this._createTree(b, ul);\r\n    r.append(ul);\r\n    this.persistControls = true;\r\n    return r;\r\n  }\r\n  updateOptions(options) {\r\n    this.options = options;\r\n    this.calculateOptionTree();\r\n    const parentEl = $(this._getInputElement());\r\n    const oldUl = $(parentEl).find('ul.tree-root');\r\n    $(oldUl).remove();\r\n    const b = htmlHelpers.buildDom;\r\n    const ul = b('ul').classes('tree tree-root');\r\n    this._createTree(b, ul);\r\n    $(parentEl).append(ul.dom());\r\n    this.bind();\r\n  }\r\n\r\n  unselect() {\r\n    $(this._getInputElement())[0].selectedIndex = -1;\r\n    $(this._getInputElement()).blur();\r\n  }\r\n\r\n  _getInputElement() {\r\n    var pid = this.parameterId;\r\n    return $(this.dialog.dgDom.element).find('#' + pid);\r\n  }\r\n  getValue() {\r\n    return this.value;\r\n  }\r\n  setValue(value) {\r\n    $('ul.tree li').removeClass('selected');\r\n    const option = this.options.find((o) => o.value === value);\r\n    const input = this._getInputElement();\r\n    const li = $(input).find('li[data-value=\"' + value + '\"]');\r\n    $(li).addClass('selected');\r\n    if (option.format === 'library') {\r\n      $(li).find('button').first().addClass('expanded icon-minus');\r\n    }\r\n    this.bindTreeControls();\r\n  }\r\n  bindTreeControls() {\r\n    $('ul.tree button.expanded').off('click').on('click', (evt) => {\r\n      const button = evt.currentTarget;\r\n      $(button).removeClass('expanded').removeClass('icon-minus').addClass('icon-plus').addClass('collapsed');\r\n      $(button).closest('li').addClass('collapsed');\r\n      this.bindTreeControls();\r\n    });\r\n    $('ul.tree button.collapsed').off('click').on('click', (evt) => {\r\n      const button = evt.currentTarget;\r\n      $(button).addClass('expanded').addClass('icon-minus').removeClass('icon-plus').removeClass('collapsed');\r\n      $(button).closest('li').removeClass('collapsed');\r\n      this.bindTreeControls();\r\n    });\r\n  }\r\n\r\n  bind() {\r\n    const input = this._getInputElement();\r\n    this.bindTreeControls();\r\n    $(input).find('a.tree-link').each((ix, el) => {\r\n      $(el).removeClass('selected');\r\n      $(el).off('click').on('click', (ev) => {\r\n        const li = $(ev.currentTarget).closest('li.tree-branch');\r\n        this.value = $(li).attr('data-value');\r\n        $(li).addClass('selected');\r\n        this.handleChanged();\r\n      });\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { htmlHelpers } from \"../common/htmlHelpers\";\r\nimport { svgHelpers } from \"../common/svgHelpers\";\r\nimport { SuiPiano } from \"../render/sui/piano\";\r\n\r\nexport class SuiDom {\r\n  static splash() {\r\n    var b = htmlHelpers.buildDom;\r\n    var logoPath = SmoConfig.smoPath + '/styles/images/logo.png'\r\n    var r = b('div').classes('bug-modal').append(\r\n      b('img').attr('src', logoPath).classes('splash-logo'))\r\n      .append(b('button').classes('icon icon-cross bug-dismiss-button'))\r\n      .append(b('span').classes('splash-title').text('Sm'))\r\n      .append(b('span').classes('splash-shine').text('ooooooooo'))\r\n      .append(b('span').classes('splash-title').text('sic'));\r\n    $('.bugDialog').append(r.dom());\r\n    $('body').addClass('splashScreen modal');\r\n    setTimeout(function () {\r\n      $('body').removeClass('splashScreen modal');\r\n    }, 1000);\r\n  }\r\n\r\n  static createDom(title) {\r\n    if (title) {\r\n      $('h1.testTitle').text(title);\r\n    }\r\n\r\n    var b = htmlHelpers.buildDom;\r\n    var smoId = SmoConfig.smoDomContainer;\r\n    var vexId = SmoConfig.vexDomContainer;\r\n    var r = b('div').classes('dom-container')\r\n      .append(b('div').classes('modes'))\r\n      .append(b('div').classes('overlay'))\r\n      .append(b('div').classes('draganime hide'))\r\n      .append(b('div').classes('textEdit hide'))\r\n      .append(b('div').classes('glyphRender hide').attr('id', 'glyphRender'))\r\n      .append(b('div').classes('translation-editor'))\r\n      .append(b('div').classes('attributeDialog'))\r\n      .append(b('progress').attr('id', 'renderProgress').attr('value', '0').attr('max', '100'))\r\n      .append(b('div').classes('qwertyKb'))\r\n      .append(b('div').classes('saveLink'))\r\n      .append(b('div').classes('bugDialog'))\r\n      .append(b('div').classes('printFrame'))\r\n      .append(b('div').classes('menuContainer'))\r\n      .append(b('div').classes('workspace language-dir').attr('dir', SmoConfig.languageDir)\r\n        .append(b('div').classes('helpDialog'))\r\n        .append(b('div').classes('control-bar')\r\n          .append(b('div').classes('titleText').text('Smoosic'))\r\n          .append(b('div').classes('piano-container')\r\n            .append(b('div').classes('key-left-ctrl'))\r\n            .append(b('div').classes('piano-keys'))\r\n            .append(b('div').classes('key-right-ctrl')))\r\n          .append(b('div').classes('controls-top')))\r\n        .append(b('div').classes('media')\r\n          .append(b('div').classes('controls-left'))\r\n          .append(b('div').classes('controls-menu-message'))\r\n          .append(b('div').classes('musicRelief')\r\n            .append(b('div').classes('musicContainer').attr('id', vexId)\r\n              .attr('dir', 'ltr')))));\r\n    $('#' + smoId).append(r.dom());\r\n    var pianoDom = $('.piano-keys')[0];\r\n    var svg = document.createElementNS(svgHelpers.namespace, 'svg');\r\n    svg.id = 'piano-svg';\r\n    svg.setAttributeNS('', 'width', '' + SuiPiano.owidth * SuiPiano.dimensions.octaves);\r\n    svg.setAttributeNS('', 'height', '' + SuiPiano.dimensions.wheight);\r\n    svg.setAttributeNS('', 'viewBox', '0 0 ' + SuiPiano.owidth * SuiPiano.dimensions.octaves + ' ' + SuiPiano.dimensions.wheight);\r\n    pianoDom.appendChild(svg);\r\n  }\r\n}\r\n","// Smoosic relies on dynamic creation of almost everything.  This class exports all the symbols\r\n// that need to be created via reflection.\r\n// ui application components\r\nimport { SuiApplication } from './application';\r\nimport { suiController } from './controller';\r\nimport {\r\n    RibbonButtons, DisplaySettings, NoteButtons, TextButtons,\r\n    ChordButtons, MicrotoneButtons, StaveButtons, BeamButtons, MeasureButtons,\r\n    DebugButtons, DurationButtons, VoiceButtons, PlayerButtons,\r\n    ArticulationButtons, NavigationButtons, ExtendedCollapseParent\r\n} from './ribbon';\r\nimport { SuiExceptionHandler } from './exceptions';\r\nimport { Qwerty } from './qwerty';\r\nimport { SuiPiano } from '../render/sui/piano';\r\nimport { SuiDom } from './dom';\r\nimport { basicJson, emptyScoreJson } from '../music/basic';\r\nimport { SuiHelp } from './help';\r\n\r\n// Language strings\r\nimport { quickStartHtmlen, selectionHtmlen, enterDurationsHtmlen, enterPitchesHtmlen } from './i18n/language_en';\r\nimport { quickStartHtmlar, selectionHtmlar, enterDurationsHtmlar, enterPitchesHtmlar } from './i18n/language_ar';\r\n\r\n// ui dialogs and menus\r\n// Dialogs\r\nimport { SuiModifierDialogFactory } from './dialog';\r\nimport { SuiTempoDialog, SuiInstrumentDialog, SuiMeasureDialog, SuiInsertMeasures,\r\n    SuiTimeSignatureDialog } from './dialogs/measureDialogs';\r\nimport { SuiScoreViewDialog, SuiGlobalLayoutDialog, SuiScoreIdentificationDialog,\r\n    SuiScoreFontDialog, SuiLayoutDialog,  } from './dialogs/scoreDialogs';\r\nimport { SuiLibraryDialog } from './dialogs/libraryDialog';\r\nimport { SuiDynamicModifierDialog, SuiTextTransformDialog, SuiLyricDialog, SuiChordChangeDialog,\r\n  helpModal } from './dialogs/textDialogs';\r\nimport { SuiStaffModifierDialog, SuiSlurAttributesDialog, SuiTieAttributesDialog, SuiVoltaAttributeDialog,\r\n    SuiHairpinAttributesDialog, SuiStaffGroupDialog } from './dialogs/staffDialogs';\r\nimport { SuiLoadFileDialog, SuiLoadMxmlDialog,\r\n    SuiLoadActionsDialog, SuiPrintFileDialog, SuiSaveFileDialog, SuiSaveXmlDialog,\r\n    SuiSaveMidiDialog, SuiSaveActionsDialog, SuiFileDialog } from './dialogs/fileDialogs';\r\n    // Dialog components\r\nimport {\r\n    SuiDropdownComponent, SuiRockerComponent, SuiFileDownloadComponent,\r\n    SuiToggleComponent, SuiButtonComponent, SuiDropdownComposite,\r\n    SuiToggleComposite, SuiButtonComposite, SuiRockerComposite, SuiTextInputComposite,\r\n    SuiTextInputComponent\r\n} from './dialogComponents';\r\nimport { SuiFontComponent, SuiTextBlockComponent } from './dialogs/fontComponent';\r\nimport { SuiTreeComponent } from './dialogs/treeComponent';\r\nimport {\r\n    SuiTextInPlace, SuiLyricComponent, SuiChordComponent, SuiDragText,\r\n    SuiNoteTextComponent\r\n} from './dialogs/textComponents';\r\nimport { CheckboxDropdownComponent, TieMappingComponent, StaffAddRemoveComponent,\r\n    StaffCheckComponent, TextCheckComponent} from './dialogs/staffComponents';\r\n// menus\r\nimport {\r\n    suiMenuManager, SuiScoreMenu, SuiFileMenu, SuiLibraryMenu,\r\n    SuiDynamicsMenu, SuiTimeSignatureMenu, SuiKeySignatureMenu, SuiStaffModifierMenu,\r\n    SuiLanguageMenu, SuiMeasureMenu, SuiAddStaffMenu\r\n} from './menus';\r\n\r\nimport { SuiXhrLoader } from './fileio/xhrLoader';\r\nimport { PromiseHelpers } from '../common/promiseHelpers';\r\n// render library\r\nimport { SuiScoreView } from '../render/sui/scoreView';\r\nimport { SuiScoreViewOperations } from '../render/sui/scoreViewOperations';\r\nimport { SuiScoreRender } from '../render/sui/scoreRender';\r\nimport { layoutDebug } from '../render/sui/layoutDebug';\r\nimport { SuiMapper } from '../render/sui/mapper';\r\nimport { SuiScroller } from '../render/sui/scroller';\r\nimport { SuiActionPlayback } from '../render/sui/actionPlayback';\r\n// SMO components\r\nimport { SmoScore } from '../smo/data/score';\r\nimport { mxmlScore } from '../smo/mxml/xmlScore';\r\nimport { UndoBuffer } from '../smo/xform/undo';\r\nimport { SmoNote } from '../smo/data/note';\r\nimport { SmoDuration } from '../smo/xform/tickDuration';\r\nimport { SmoStaffHairpin, StaffModifierBase, SmoInstrument, SmoPartMap, SmoSlur, SmoTie } from '../smo/data/staffModifiers';\r\nimport { SmoMeasure } from '../smo/data/measure';\r\nimport { SmoSelection } from '../smo/xform/selections';\r\nimport { SmoOrnament, SmoArticulation, SmoDynamicText, SmoGraceNote, SmoMicrotone, SmoLyric } from '../smo/data/noteModifiers';\r\nimport { SmoSystemStaff } from '../smo/data/systemStaff';\r\nimport { SmoSystemGroup } from '../smo/data/scoreModifiers';\r\nimport {\r\n    SmoRehearsalMark, SmoMeasureFormat, SmoBarline, SmoRepeatSymbol,\r\n    SmoVolta, SmoMeasureText, SmoTempoText\r\n} from '../smo/data/measureModifiers';\r\n\r\nimport { SmoToVex } from '../smo/xform/toVex';\r\nconst getClass = (jsonString: string) => {\r\n    return eval('Smo.' + jsonString);\r\n};\r\nexport const Smo = {\r\n    // Application-level classes\r\n    SuiApplication,\r\n    SuiDom,  suiController, SuiExceptionHandler,\r\n    Qwerty, SuiHelp,\r\n    // Ribbon buttons\r\n    RibbonButtons, NoteButtons, TextButtons, ChordButtons, MicrotoneButtons,\r\n    StaveButtons, BeamButtons, MeasureButtons, DebugButtons, DurationButtons,\r\n    VoiceButtons, PlayerButtons, ArticulationButtons,  NavigationButtons,\r\n    DisplaySettings,  ExtendedCollapseParent,\r\n    // Menus\r\n    suiMenuManager, SuiScoreMenu, SuiFileMenu, SuiLibraryMenu,\r\n    SuiDynamicsMenu, SuiTimeSignatureMenu, SuiKeySignatureMenu, SuiStaffModifierMenu,\r\n    SuiLanguageMenu, SuiMeasureMenu, SuiAddStaffMenu,\r\n    // Dialogs\r\n    SuiTempoDialog, SuiInstrumentDialog, SuiModifierDialogFactory, SuiLibraryDialog,\r\n    SuiScoreViewDialog, SuiGlobalLayoutDialog, SuiScoreIdentificationDialog,\r\n    SuiScoreFontDialog, SuiLayoutDialog, SuiMeasureDialog, SuiInsertMeasures,\r\n    SuiTimeSignatureDialog,SuiTextTransformDialog, SuiLyricDialog, SuiChordChangeDialog,\r\n    SuiStaffModifierDialog, SuiSlurAttributesDialog, SuiTieAttributesDialog, SuiVoltaAttributeDialog,\r\n    SuiHairpinAttributesDialog, SuiStaffGroupDialog, helpModal,\r\n    SuiFileDialog,  SuiLoadFileDialog, SuiLoadMxmlDialog,\r\n    SuiLoadActionsDialog, SuiPrintFileDialog, SuiSaveFileDialog, SuiSaveXmlDialog,\r\n    SuiSaveMidiDialog, SuiSaveActionsDialog,\r\n    // Dialog components\r\n    SuiTreeComponent,\r\n    SuiDropdownComponent,\r\n    SuiRockerComponent, SuiFileDownloadComponent,\r\n    SuiToggleComponent, SuiButtonComponent, SuiDropdownComposite,\r\n    SuiToggleComposite, SuiButtonComposite, SuiRockerComposite, SuiTextInputComposite,\r\n    SuiFontComponent, SuiTextInPlace, SuiLyricComponent, SuiChordComponent, SuiDragText,\r\n    SuiNoteTextComponent, SuiTextBlockComponent, SuiTextInputComponent,\r\n    SuiDynamicModifierDialog, CheckboxDropdownComponent, TieMappingComponent, StaffAddRemoveComponent,\r\n    StaffCheckComponent, TextCheckComponent,\r\n    SuiXhrLoader,PromiseHelpers,\r\n    // Rendering components\r\n    SuiPiano, layoutDebug, SuiScoreView,SuiScroller, SuiMapper, SuiScoreRender,\r\n    SuiScoreViewOperations,SuiActionPlayback,\r\n    // Smo Music Objects\r\n    SmoScore,\r\n    mxmlScore,\r\n    SmoMeasure,\r\n    SmoSystemStaff,\r\n    SmoNote,\r\n    // staff modifier\r\n    SmoStaffHairpin, StaffModifierBase,\r\n    SmoInstrument, SmoPartMap, SmoSlur, SmoTie, SmoSystemGroup,\r\n    // measure modifiers\r\n    SmoRehearsalMark, SmoMeasureFormat, SmoBarline, SmoRepeatSymbol,\r\n    SmoVolta, SmoMeasureText, SmoTempoText,\r\n    // note modifiers\r\n    SmoOrnament,\r\n    SmoArticulation, SmoDynamicText, SmoGraceNote, SmoMicrotone, SmoLyric,\r\n    // Smo Transformers\r\n    SmoSelection, SmoDuration, UndoBuffer, SmoToVex,\r\n    // new score bootstrap\r\n    basicJson,\r\n    emptyScoreJson,\r\n    // strings\r\n    quickStartHtmlen, selectionHtmlen, enterDurationsHtmlen, enterPitchesHtmlen,\r\n    quickStartHtmlar, selectionHtmlar, enterDurationsHtmlar, enterPitchesHtmlar\r\n    ,getClass\r\n}\r\nexport default Smo;\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n\r\n\r\n// ##browserEventSource\r\n// Handle registration for events.  Can be used for automated testing, so all\r\n// the events are consolidated in one place so they can be simulated or recorded\r\nexport class browserEventSource {\r\n  constructor(evMask) {\r\n    this.keydownHandlers = [];\r\n    this.mouseMoveHandlers = [];\r\n    this.mouseClickHandlers = [];\r\n    this.mouseUpHandlers = [];\r\n    this.mouseDownHandlers = [];\r\n    this.domTriggers = [];\r\n    this.scrollers = [];\r\n    this.handleKeydown = this.evKey.bind(this);\r\n    this.vexContext = null;\r\n    window.addEventListener(\"keydown\", this.handleKeydown, true);\r\n  }\r\n\r\n  evKey(event) {\r\n    this.keydownHandlers.forEach((handler) => {\r\n      handler.sink[handler.method](event);\r\n    });\r\n  }\r\n\r\n  mouseMove(event) {\r\n    this.mouseMoveHandlers.forEach((handler) => {\r\n      handler.sink[handler.method](event);\r\n    });\r\n  }\r\n\r\n  mouseClick(event) {\r\n    this.mouseClickHandlers.forEach((handler) => {\r\n      handler.sink[handler.method](event);\r\n    });\r\n  }\r\n\r\n  mouseDown(event) {\r\n    this.mouseDownHandlers.forEach((handler) => {\r\n      handler.sink[handler.method](event);\r\n    });\r\n  }\r\n\r\n  mouseUp(event) {\r\n    this.mouseUpHandlers.forEach((handler) => {\r\n      handler.sink[handler.method](event);\r\n    });\r\n  }\r\n\r\n  setRenderElement(renderElement) {\r\n    this.renderElement = renderElement;\r\n    var self = this;\r\n    this.handleMouseMove = this.mouseMove.bind(this);\r\n    this.handleMouseClick = this.mouseClick.bind(this);\r\n    this.handleMouseUp = this.mouseUp.bind(this);\r\n    this.handleMouseDown = this.mouseDown.bind(this);\r\n    $(document)[0].addEventListener(\"mousemove\",this.handleMouseMove);\r\n    $(this.renderElement)[0].addEventListener(\"click\",this.handleMouseClick);\r\n    $(document)[0].addEventListener(\"mouseup\",this.handleMouseUp);\r\n    $(document)[0].addEventListener(\"mousedown\",this.handleMouseDown);\r\n  }\r\n\r\n  _unbindHandlerArray(arSrc,arDest,handler) {\r\n    arSrc.forEach((htest) => {\r\n      if (handler.symbol !== htest.symbol) {\r\n        arDest.push(htest);\r\n      }\r\n    });\r\n  }\r\n\r\n  unbindMouseMoveHandler(handler) {\r\n    var handlers = [];\r\n    this._unbindHandlerArray(this.mouseMoveHandlers,handlers,handler);\r\n    this.mouseMoveHandlers = handlers;\r\n  }\r\n  unbindMouseDownHandler(handler) {\r\n    var handlers = [];\r\n    this._unbindHandlerArray(this.mouseDownHandlers,handlers,handler);\r\n    this.mouseDownHandlers = handlers;\r\n  }\r\n  unbindMouseUpHandler(handler) {\r\n    var handlers = [];\r\n    this._unbindHandlerArray(this.mouseUpHandlers,handlers,handler);\r\n    this.mouseUpHandlers = handlers;\r\n  }\r\n  unbindMouseClickHandler(handler) {\r\n    var handlers = [];\r\n    this._unbindHandlerArray(this.mouseClickHandlers,handlers,handler);\r\n    this.mouseClickHandlers = handlers;\r\n  }\r\n\r\n  unbindKeydownHandler(handler) {\r\n    var handlers = [];\r\n    this._unbindHandlerArray(this.keydownHandlers,handlers,handler);\r\n    this.keydownHandlers = handlers;\r\n  }\r\n\r\n  bindScroller(sink,method) {}\r\n\r\n  // ### bindKeydownHandler\r\n  // add a handler for the evKey event, for keyboard data.\r\n  bindKeydownHandler(sink,method) {\r\n    var handler = {};\r\n    handler.symbol = Symbol();\r\n    handler.sink = sink;\r\n    handler.method = method;\r\n    this.keydownHandlers.push(handler);\r\n    return handler;\r\n  }\r\n\r\n  bindMouseMoveHandler(sink, method) {\r\n    var handler = {symbol: Symbol(), sink, method};\r\n    this.mouseMoveHandlers.push(handler);\r\n    return handler;\r\n  }\r\n\r\n  bindMouseUpHandler(sink, method) {\r\n    var handler = {symbol: Symbol(), sink, method};\r\n    this.mouseUpHandlers.push(handler);\r\n    return handler;\r\n  }\r\n\r\n  bindMouseDownHandler(sink, method) {\r\n    var handler = {symbol: Symbol(), sink, method};\r\n    this.mouseDownHandlers.push(handler);\r\n    return handler;\r\n  }\r\n\r\n  bindMouseClickHandler(sink, method) {\r\n    var handler = {symbol: Symbol(), sink, method};\r\n    this.mouseClickHandlers.push(handler);\r\n    return handler;\r\n  }\r\n\r\n  domClick(selector,sink,method,args) {\r\n    $(selector).off('click').on('click',function(ev) {\r\n      sink[method](ev,args);\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { htmlHelpers } from '../common/htmlHelpers';\r\nimport { suiController } from './controller';\r\nexport class SuiExceptionHandler {\r\n  constructor(params) {\r\n    this.view = params.view;\r\n    this.thrown = false;\r\n    SuiExceptionHandler._instance = this;\r\n  }\r\n  static get instance() {\r\n    return SuiExceptionHandler._instance;\r\n  }\r\n  exceptionHandler(e) {\r\n    let stack = '';\r\n    let doing = '';\r\n    let scoreString = '';\r\n    if (this.thrown) {\r\n      return;\r\n    }\r\n    this.thrown = true;\r\n    if (window.suiController && window.suiController.reentry) {\r\n      return;\r\n    }\r\n\r\n    if (window.suiController) {\r\n      suiController.reentry = true;\r\n    }\r\n    scoreString = 'Could not serialize score.';\r\n    try {\r\n      scoreString = this.view.score.serialize();\r\n    } catch (e) {\r\n      scoreString += ' ' + e.message;\r\n    }\r\n    const message = e.message;\r\n    stack = 'No stack trace available';\r\n\r\n    try {\r\n      if (e.error && e.error.stack) {\r\n        stack = e.error.stack;\r\n      } else if (e.stack) {\r\n        stack = e.stack;\r\n      }\r\n    } catch (e2) {\r\n      stack = 'Error with stack: ' + e2.message;\r\n    }\r\n    doing = 'Last operation not available.';\r\n\r\n    const lastOp = this.view.undoBuffer.peek();\r\n    if (lastOp) {\r\n      doing = lastOp.title;\r\n    }\r\n    const url = 'https://github.com/AaronDavidNewman/Smoosic/issues';\r\n    const bodyObject = JSON.stringify({\r\n      message,\r\n      stack,\r\n      lastOperation: doing,\r\n      scoreString\r\n    }, null, ' ');\r\n\r\n    const b = htmlHelpers.buildDom;\r\n    const r = b('div').classes('bug-modal').append(\r\n      b('img').attr('src', '../styles/images/logo.png').classes('bug-logo'))\r\n      .append(b('button').classes('icon icon-cross bug-dismiss-button'))\r\n      .append(b('span').classes('bug-title').text('oh nooooo!  You\\'ve found a bug'))\r\n      .append(b('p').text('It would be helpful if you would submit a bug report, and copy the data below into an issue'))\r\n      .append(b('div')\r\n        .append(b('textarea').attr('id', 'bug-text-area').text(bodyObject))\r\n        .append(\r\n          b('div').classes('button-container').append(b('button').classes('bug-submit-button').text('Submit Report'))));\r\n\r\n    $('.bugDialog').html('');\r\n    $('.bugDialog').append(r.dom());\r\n\r\n    $('.bug-dismiss-button').off('click').on('click', () => {\r\n      $('body').removeClass('bugReport');\r\n      if (lastOp) {\r\n        this.view.undoBuffer.undo(this.view.score);\r\n        this.view.renderer.render();\r\n        suiController.reentry = false;\r\n      }\r\n    });\r\n    $('.bug-submit-button').off('click').on('click', () => {\r\n      $('#bug-text-area').select();\r\n      document.execCommand('copy');\r\n      window.open(url, 'Report Smoosic issues');\r\n    });\r\n    $('body').addClass('bugReport');\r\n    if (!this.thrown) {\r\n      this.thrown = true;\r\n      throw (e);\r\n    }\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n// ## SuiFileInput\r\n// Get a string or binary file  from a file input control and transparently\r\n// decompress it if it's mxml file (compressed).  This will read any text  or\r\n// binary file,\r\n// but it will only unzip .mxml files first and has a consistent async interface\r\nexport class SuiFileInput {\r\n  constructor(evt) {\r\n    this.compressed = false;\r\n    this.binary = false;\r\n    this.value = null;\r\n    this.event = evt;\r\n    if (evt.target.files[0].name.endsWith('.mxl')) {\r\n      this.compressed = true;\r\n      this.binary = true;\r\n    } else if (evt.target.files[0].name.endsWith('.mid')) {\r\n      this.binary = true;\r\n    }\r\n  }\r\n  _handleZip() {\r\n    const self = this;\r\n    return new Promise((resolve) => {\r\n      JSZip.loadAsync(self.value).then((zip) => {\r\n        // Find the real xml file in the zip (not metadata)\r\n        const filename =\r\n          Object.keys(zip.files).find((ss) => ss.indexOf('META') < 0 && ss.endsWith('xml'));\r\n        zip.file(filename).async('text').then((str) => {\r\n          self.value = str;\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n  loadAsync() {\r\n    const self = this;\r\n    return new Promise((resolve) => {\r\n      const reader = new FileReader();\r\n      reader.onload = (file) => {\r\n        self.value = file.target.result;\r\n        if (!self.compressed) {\r\n          resolve();\r\n        } else {\r\n          self._handleZip().then(() => {\r\n            resolve();\r\n          });\r\n        }\r\n      };\r\n      if (self.binary) {\r\n        reader.readAsBinaryString(self.event.target.files[0]);\r\n      } else {\r\n        reader.readAsText(self.event.target.files[0]);\r\n      }\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiXhrLoader } from './xhrLoader';\r\nimport { PromiseHelpers } from '../../common/promiseHelpers';\r\nimport { smoSerialize } from '../../common/serializationHelpers';\r\ninterface kvPair { [key: string]: string }\r\nexport interface LibraryParams {\r\n  loaded: boolean;\r\n  parentLib: kvPair;\r\n  url: string | undefined;\r\n  format: string;\r\n  metadata: kvPair;\r\n  children: SmoLibrary[];\r\n  data: any;\r\n}\r\nexport interface librarySeed { alias: string, format: string, path: string }\r\n\r\n// ## SmoLibrary\r\n// A class to organize smoosic files (or any format smoosic accepts) into libraries.\r\nexport class SmoLibrary {\r\n  static _defaults: Partial<LibraryParams>;\r\n  loaded: boolean;\r\n  parentLib: kvPair;\r\n  url: string | undefined = '';\r\n  format: string = 'smo';\r\n  metadata: kvPair = {};\r\n  children: SmoLibrary[] = [];\r\n  constructor(parameters: Partial<LibraryParams>) {\r\n    this.loaded = false;\r\n    this.parentLib = {};\r\n    if (parameters.url) {\r\n      this.url = parameters.url;\r\n    } else if (parameters.data) {\r\n      this.initialize(parameters.data);\r\n    }\r\n  }\r\n  initialize(parameters: LibraryParams) {\r\n    smoSerialize.serializedMerge(\r\n      SmoLibrary.parameterArray, SmoLibrary.defaults, this);\r\n    // if the object was loaded from URL, use that.\r\n    if (!this.url) {\r\n      this.url = parameters.url;\r\n    }\r\n    this.format = parameters.format;\r\n    Object.keys(parameters.metadata).forEach((key: string) => {\r\n      this.metadata[key] = parameters.metadata[key];\r\n    });\r\n    this.children = [];\r\n    if (typeof(parameters.children) !== 'undefined') {\r\n      parameters.children.forEach((childLib: SmoLibrary) => {\r\n        this.children.push(new SmoLibrary({ data: childLib }));\r\n      });\r\n    }\r\n    this.children.forEach((child) => {\r\n      child._inheritMetadata(this);\r\n    });\r\n  }\r\n  static get metadataNames() {\r\n    return ['name', 'icon', 'tags', 'composer', 'artist', 'copyright',\r\n      'title', 'subtitle', 'movement', 'source'];\r\n  }\r\n  static get formatTypes() {\r\n    return ['smoosic', 'library', 'mxml', 'midi', 'abc'];\r\n  }\r\n  static get libraryTypes() {\r\n    return ['work', 'transcription', 'library', 'collection'];\r\n  }\r\n  static get defaults() {\r\n    if (typeof(SmoLibrary._defaults) === 'undefined') {\r\n      SmoLibrary._defaults = { children: [], metadata: {} };\r\n    }\r\n    return SmoLibrary._defaults;\r\n  }\r\n  static get parameterArray() {\r\n    return ['children', 'metadata', 'format', 'url'];\r\n  }\r\n  load() {\r\n    const self = this;\r\n    if (this.loaded) {\r\n      return PromiseHelpers.emptyPromise();\r\n    }\r\n    const loader = new SuiXhrLoader(this.url);\r\n    return new Promise<void>((resolve) => {\r\n      loader.loadAsync().then(() => {\r\n        const jsonObj = JSON.parse(loader.value);\r\n        self.initialize(jsonObj);\r\n        self.loaded = true;\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n  _inheritMetadata(parent: any) {\r\n    // eslint-disable-next-line\r\n    for (const key in parent) {\r\n      if (typeof(this.metadata[key]) === 'undefined')  {\r\n        this.metadata[key] = parent[key];\r\n      }\r\n    }\r\n    this.parentLib = { name: parent.metadata.name, value: parent };\r\n    this.children.forEach((child) => {\r\n      child._inheritMetadata(this);\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n\r\n// ## SuiXhrLoader\r\n// Load music xml files from remote, transparently\r\n// unzip mxml files.  Other files (smo, xml, midi) are handled\r\n// transparently with consistent async interface\r\nexport class SuiXhrLoader {\r\n  constructor(path) {\r\n    this.compressed = false;\r\n    this.value = null;\r\n    this.path = path;\r\n    this.binary = false;\r\n    if (path.endsWith('mxl')) {\r\n      this.compressed = true;\r\n      this.binary = true;\r\n    } else if (path.endsWith('mid')) {\r\n      this.binary = true;\r\n    }\r\n  }\r\n  _uncompress(result) {\r\n    const self = this;\r\n    return new Promise((resolve) => {\r\n      JSZip.loadAsync(result).then((zip) => {\r\n        // Find the real xml file in the zip (not metadata)\r\n        const filename = Object.keys(zip.files).find((ss) => ss.indexOf('META') < 0 && ss.endsWith('xml'));\r\n        zip.file(filename).async('text').then((str) => {\r\n          self.value = str;\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n  loadAsync() {\r\n    const req = new XMLHttpRequest();\r\n    const self = this;\r\n    const promise = new Promise((resolve) => {\r\n      req.addEventListener('load', () => {\r\n        const reader = new FileReader();\r\n        reader.addEventListener('loadend', () => {\r\n          if (!self.compressed) {\r\n            self.value = reader.result;\r\n            resolve();\r\n          } else {\r\n            self._uncompress(reader.result).then(() => { resolve(); });\r\n          }\r\n        });\r\n        if (this.binary) {\r\n          reader.readAsBinaryString(req.response);\r\n        } else {\r\n          reader.readAsText(req.response);\r\n        }\r\n      });\r\n    });\r\n    req.responseType = 'blob';\r\n    req.open('GET', this.path);\r\n    req.send();\r\n    return promise;\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { htmlHelpers } from '../common/htmlHelpers';\r\nimport { SmoLanguage } from './i18n/language';\r\nexport class SuiHelp {\r\n  static displayHelp() {\r\n    $('body').addClass('showHelpDialog');\r\n    $('.helpDialog').html('');\r\n    SuiHelp.helpHtml.forEach((cat) => {\r\n      const r = SuiHelp._buildElements(cat);\r\n      $('.helpDialog').append(r.dom());\r\n    });\r\n    $('.helpDialog').append(SuiHelp.closeButton.dom());\r\n    $('button.help-title').off('click').on('click', (ev) => {\r\n      $(ev.currentTarget).closest('div.helpLine').toggleClass('showSection');\r\n      $(ev.currentTarget).find('span.icon').toggleClass('icon-plus');\r\n      $(ev.currentTarget).find('span.icon').toggleClass('icon-minus');\r\n    });\r\n    $('.helpDialog button.icon-cross').off('click').on('click', () => {\r\n      $('body').removeClass('showHelpDialog');\r\n      $('.workspace').css('height', '');\r\n    });\r\n    const wsh = window.innerHeight;\r\n    $('.workspace').css('height', '' + wsh + 'px');\r\n  }\r\n\r\n  static get closeButton() {\r\n    const b = htmlHelpers.buildDom;\r\n    const r = b('div').classes('help-closer').append(\r\n      b('button').classes('icon-cross close'));\r\n    return r;\r\n  }\r\n\r\n  static _buildElements(helps) {\r\n    const b = htmlHelpers.buildDom;\r\n    const r = b('div').classes('helpLine')\r\n      .append(b('div').classes('help-category-button')\r\n        .append(b('button')\r\n          .append(b('span').classes('icon icon-plus')).classes('help-title')\r\n          .append(b('span').classes('help-category-text').text(helps.title))))\r\n      .append(b('div').classes('help-content').html(helps.html));\r\n\r\n    return r;\r\n  }\r\n\r\n  static get helpHtml() {\r\n    return [\r\n      { title: 'Quick Start', html: SmoLanguage.getHelpFile('quickStartHtml') },\r\n      { title: 'Selections and Selecting Things', html: SmoLanguage.getHelpFile('selectionHtml') },\r\n      { title: 'Entering Music (Pitches)', html: SmoLanguage.getHelpFile('enterPitchesHtml') },\r\n      { title: 'Entering Music (Durations)', html: SmoLanguage.getHelpFile('enterDurationsHtml') },\r\n      { title: 'Working with Text, Lyrics, Chords', html: SmoLanguage.getHelpFile('workingWithText') }\r\n    ];\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { RibbonButtons } from '../ribbon';\r\nimport { smoLanguageStringAr } from './language_ar';\r\nimport { smoLanguageStringDe } from './language_de';\r\nimport { smoLanguageStringEn } from './language_en';\r\nexport class SmoTranslator {\r\n  static get dialogs() {\r\n    SmoTranslator._dialogs = SmoTranslator._dialogs ? SmoTranslator._dialogs : {};\r\n    return SmoTranslator._dialogs;\r\n  }\r\n  static get menus() {\r\n    SmoTranslator._menus = SmoTranslator._menus ? SmoTranslator._menus : {};\r\n    return SmoTranslator._menus;\r\n  }\r\n\r\n  static registerMenu(_class) {\r\n    if (!SmoTranslator.menus[_class]) {\r\n      SmoTranslator.menus[_class] = true;\r\n    }\r\n  }\r\n  static registerDialog(_class) {\r\n    if (!SmoTranslator.dialogs[_class]) {\r\n      SmoTranslator.dialogs[_class] = true;\r\n    }\r\n  }\r\n\r\n  static printLanguages() {\r\n    var translatables = [];\r\n    SmoTranslator.allDialogs.forEach((key) => {\r\n      SmoTranslator.registerDialog(key);\r\n      const translatable = Smo.getClass('SuiDialogBase');\r\n      translatables.push(translatable.printTranslate(key));\r\n    });\r\n    SmoTranslator.allMenus.forEach((key) => {\r\n      SmoTranslator.registerMenu(key);\r\n      const translatable = Smo.getClass('suiMenuBase');\r\n      translatables.push(translatable.printTranslate(key));\r\n    });\r\n\r\n    console.log(JSON.stringify(translatables, null, ' '));\r\n  }\r\n\r\n  static _updateDialog(dialogStrings, _dialogClass, dialogClass) {\r\n    if (!dialogStrings) {\r\n      console.log('no strings for Dialog ' + dialogClass);\r\n      return;\r\n    }\r\n    _dialogClass.label = dialogStrings.label;\r\n    const staticText = dialogStrings.dialogElements.find((ds) => ds.staticText);\r\n    _dialogClass.dialogElements.forEach((component) => {\r\n      const componentStrings = dialogStrings.dialogElements.find((ds) => ds.id === component.smoName);\r\n      if (component.staticText && staticText) {\r\n        component.staticText.forEach((st) => {\r\n          const trans = staticText.staticText.find((dst) => Object.keys(dst)[0] === Object.keys(st)[0]);\r\n          if (trans) {\r\n            const key = Object.keys(st)[0];\r\n            st[key] = trans[key];\r\n          }\r\n        });\r\n      } else if (componentStrings) {\r\n        component.label = componentStrings.label;\r\n        if (component.options) {\r\n          component.options.forEach((option) => {\r\n            const optionString = componentStrings.options.find((cs) => cs.value === option.value);\r\n            if (!optionString) {\r\n              console.log('no string for option ' + option.value + ' in component ' + component.smoName + ' in dialog ' + dialogClass);\r\n            } else {\r\n              option.label = optionString.label;\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        console.log('Untranslated component in  ' + dialogClass);\r\n      }\r\n    });\r\n  }\r\n\r\n  static _updateMenu(menuStrings, _menuClass, menuClass) {\r\n    if (!menuStrings) {\r\n      console.log('no strings for Menu ' + menuClass);\r\n      return;\r\n    }\r\n\r\n    _menuClass.defaults.menuItems.forEach((menuItem) => {\r\n      const val = menuItem.value;\r\n      const nvPair = menuStrings.menuItems.find((ff) => ff.value === val);\r\n      if (!nvPair) {\r\n        console.log('no xlate for ' + val + ' in menu ' + menuClass);\r\n      } else {\r\n        menuItem.text = nvPair.text;\r\n        console.log('setting menu item value ' + val + ' to ' + nvPair.text);\r\n      }\r\n    });\r\n  }\r\n\r\n  static setLanguage(language) {\r\n    if (!SmoLanguage[language]) {\r\n      return; // no xlate exists\r\n    }\r\n    const trans = SmoLanguage[language];\r\n    // Set the text in all the menus\r\n    SmoTranslator.allMenus.forEach((menuClass) => {\r\n      const _class = Smo.getClass(menuClass);\r\n      const menuStrings = trans.strings.find((mm) => mm.ctor === menuClass);\r\n      SmoTranslator._updateMenu(menuStrings, _class, menuClass);\r\n\r\n      // Set text in ribbon buttons that invoke menus\r\n      const menuButton = $('.ribbonButtonContainer button.' + menuClass).find('.left-text .text-span');\r\n      if (menuButton.length && menuStrings) {\r\n        $(menuButton).text(menuStrings.label);\r\n      }\r\n    });\r\n\r\n    SmoTranslator.allDialogs.forEach((dialogClass) => {\r\n      const _class = Smo.getClass(dialogClass);\r\n      const dialogStrings = trans.strings.find((mm) => mm.ctor === dialogClass);\r\n      // Set text in ribbon buttons that invoke menus\r\n      const dialogButton = $('.ribbonButtonContainer button.' + dialogClass).find('.left-text .text-span');\r\n      if (dialogButton.length && dialogStrings) {\r\n        $(dialogButton).text(dialogStrings.label);\r\n      }\r\n\r\n      SmoTranslator._updateDialog(dialogStrings, _class, dialogClass);\r\n    });\r\n\r\n    // Translate the buttons on the ribbon\r\n    const langButtons = trans.strings.find((buttonObj) => buttonObj.ribbonText);\r\n    if (langButtons) {\r\n      RibbonButtons.translateButtons.forEach((button) => {\r\n        const langButton = langButtons.ribbonText.find((lb) => lb.buttonId === button.buttonId);\r\n        if (langButton) {\r\n          const buttonDom = $('.ribbonButtonContainer #' + button.buttonId);\r\n          if (buttonDom.length) {\r\n            $(buttonDom).find('.left-text').text(langButton.buttonText);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // Handle rtl languages\r\n    $('body').find('.language-dir').each((ix, dd) => { $(dd).attr('dir', trans.dir); });\r\n  }\r\n\r\n  static get allMenus() {\r\n    return [\r\n      'SuiAddStaffMenu',\r\n      'SuiMeasureMenu',\r\n      'SuiFileMenu',\r\n      'SuiTimeSignatureMenu',\r\n      'SuiKeySignatureMenu',\r\n      'SuiTimeSignatureMenu',\r\n      'SuiKeySignatureMenu',\r\n      'SuiStaffModifierMenu',\r\n      'SuiDynamicsMenu',\r\n      'SuiLanguageMenu',\r\n      'SuiScoreMenu'\r\n    ];\r\n  }\r\n\r\n  static get allDialogs() {\r\n    return [\r\n      'SuiLoadFileDialog',\r\n      'SuiSaveFileDialog',\r\n      'SuiPrintFileDialog',\r\n      'SuiMeasureDialog',\r\n      'SuiTempoDialog',\r\n      'SuiInstrumentDialog',\r\n      'SuiTimeSignatureDialog',\r\n      'SuiLayoutDialog',\r\n      'SuiDynamicModifierDialog',\r\n      'SuiSlurAttributesDialog',\r\n      'SuiVoltaAttributeDialog',\r\n      'SuiHairpinAttributesDialog',\r\n      'SuiLyricDialog',\r\n      'SuiChordChangeDialog',\r\n      'SuiTextTransformDialog',\r\n      'SuiScoreViewDialog',\r\n      'SuiGlobalLayoutDialog',\r\n      'SuiLyricDialog',\r\n      'SuiChordChangeDialog',\r\n    ];\r\n  }\r\n  static get allHelpFiles() {\r\n    return [\r\n      'quickStartHtml',\r\n      'selectionHtml',\r\n      'enterPitchesHtml',\r\n      'enterDurationsHtml'\r\n    ];\r\n  }\r\n}\r\n\r\nexport class SmoLanguage {\r\n  static getHelpFile(category) {\r\n    return Smo.getClass(category + SmoConfig.language);\r\n  }\r\n  static get en() {\r\n    const strings = JSON.parse(smoLanguageStringEn);\r\n    const rv = { dir: 'ltr', strings, helpHtml: {} };\r\n    return rv;\r\n  }\r\n\r\n  static get ar() {\r\n    const strings = JSON.parse(smoLanguageStringAr);\r\n    const rv = { dir: 'rtl', strings, helpHtml: {} };\r\n    return rv;\r\n  }\r\n\r\n  static get de() {\r\n    const strings = JSON.parse(smoLanguageStringDe);\r\n    const rv = { dir: 'ltr', strings, helpHtml: {} };\r\n    return rv;\r\n  }\r\n}\r\n","\r\nexport const smoLanguageStringAr = `[\r\n {\r\n  \"ctor\": \"SuiLoadFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Load File\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiSaveFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Save Score\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiPrintFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Print Complete\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiMeasureDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Measure Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"pickupMeasure\",\r\n    \"label\": \"Pickup Measure\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"2048\",\r\n      \"label\": \"Eighth Note\"\r\n     },\r\n     {\r\n      \"value\": \"4096\",\r\n      \"label\": \"Quarter Note\"\r\n     },\r\n     {\r\n      \"value\": \"6144\",\r\n      \"label\": \"Dotted Quarter\"\r\n     },\r\n     {\r\n      \"value\": \"8192\",\r\n      \"label\": \"Half Note\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"measureTextPosition\",\r\n    \"label\": \"Text Position\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Left\"\r\n     },\r\n     {\r\n      \"value\": \"3\",\r\n      \"label\": \"Right\"\r\n     },\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Above\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Below\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTempoDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Tempo Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"tempoMode\",\r\n    \"label\": \"وضع الإيقاع\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"duration\",\r\n      \"label\": \"Duration (Beats/Minute)\"\r\n     },\r\n     {\r\n      \"value\": \"text\",\r\n      \"label\": \"Tempo Text\"\r\n     },\r\n     {\r\n      \"value\": \"custom\",\r\n      \"label\": \"Specify text and duration\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"beatDuration\",\r\n    \"label\": \"وحدة لكل ضربه\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"4096\",\r\n      \"label\": \"Quarter Note\"\r\n     },\r\n     {\r\n      \"value\": \"2048\",\r\n      \"label\": \"1/8 note\"\r\n     },\r\n     {\r\n      \"value\": \"6144\",\r\n      \"label\": \"Dotted 1/4 note\"\r\n     },\r\n     {\r\n      \"value\": \"8192\",\r\n      \"label\": \"1/2 note\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"tempoText\",\r\n    \"label\": \"Tempo Text\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Larghissimo\",\r\n      \"label\": \"Larghissimo\"\r\n     },\r\n     {\r\n      \"value\": \"Grave\",\r\n      \"label\": \"Grave\"\r\n     },\r\n     {\r\n      \"value\": \"Lento\",\r\n      \"label\": \"Lento\"\r\n     },\r\n     {\r\n      \"value\": \"Largo\",\r\n      \"label\": \"Largo\"\r\n     },\r\n     {\r\n      \"value\": \"Larghetto\",\r\n      \"label\": \"Larghetto\"\r\n     },\r\n     {\r\n      \"value\": \"Adagio\",\r\n      \"label\": \"Adagio\"\r\n     },\r\n     {\r\n      \"value\": \"Adagietto\",\r\n      \"label\": \"Adagietto\"\r\n     },\r\n     {\r\n      \"value\": \"Andante moderato\",\r\n      \"label\": \"Andante moderato\"\r\n     },\r\n     {\r\n      \"value\": \"Andante\",\r\n      \"label\": \"Andante\"\r\n     },\r\n     {\r\n      \"value\": \"Andantino\",\r\n      \"label\": \"Andantino\"\r\n     },\r\n     {\r\n      \"value\": \"Moderato\",\r\n      \"label\": \"Moderato\"\r\n     },\r\n     {\r\n      \"value\": \"Allegretto\",\r\n      \"label\": \"Allegretto\"\r\n     },\r\n     {\r\n      \"value\": \"Allegro\",\r\n      \"label\": \"Allegro\"\r\n     },\r\n     {\r\n      \"value\": \"Vivace\",\r\n      \"label\": \"Vivace\"\r\n     },\r\n     {\r\n      \"value\": \"Presto\",\r\n      \"label\": \"Presto\"\r\n     },\r\n     {\r\n      \"value\": \"Prestissimo\",\r\n      \"label\": \"Prestissimo\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiInstrumentDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Instrument Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"applyTo\",\r\n    \"label\": \"Apply To\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Score\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Selected Measures\"\r\n     },\r\n     {\r\n      \"value\": \"3\",\r\n      \"label\": \"Remaining Measures\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Custom Time Signature\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"denominator\",\r\n    \"label\": \"Beat Value\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"8\",\r\n      \"label\": \"8\"\r\n     },\r\n     {\r\n      \"value\": \"4\",\r\n      \"label\": \"4\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"2\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiLayoutDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"pageSize\",\r\n    \"label\": \"Page Size\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"letter\",\r\n      \"label\": \"Letter\"\r\n     },\r\n     {\r\n      \"value\": \"tabloid\",\r\n      \"label\": \"Tabloid (11x17)\"\r\n     },\r\n     {\r\n      \"value\": \"A4\",\r\n      \"label\": \"A4\"\r\n     },\r\n     {\r\n      \"value\": \"custom\",\r\n      \"label\": \"Custom\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"orientation\",\r\n    \"label\": \"Orientation\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Portrait\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Landscape\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"engravingFont\",\r\n    \"label\": \"Engraving Font\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Bravura\",\r\n      \"label\": \"Bravura\"\r\n     },\r\n     {\r\n      \"value\": \"Gonville\",\r\n      \"label\": \"Gonville\"\r\n     },\r\n     {\r\n      \"value\": \"Petaluma\",\r\n      \"label\": \"Petaluma\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Score Layout\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiDynamicModifierDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"text\",\r\n    \"label\": \"Text\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"p\",\r\n      \"label\": \"Piano\"\r\n     },\r\n     {\r\n      \"value\": \"pp\",\r\n      \"label\": \"Pianissimo\"\r\n     },\r\n     {\r\n      \"value\": \"mp\",\r\n      \"label\": \"Mezzo-Piano\"\r\n     },\r\n     {\r\n      \"value\": \"mf\",\r\n      \"label\": \"Mezzo-Forte\"\r\n     },\r\n     {\r\n      \"value\": \"f\",\r\n      \"label\": \"Forte\"\r\n     },\r\n     {\r\n      \"value\": \"ff\",\r\n      \"label\": \"Fortissimo\"\r\n     },\r\n     {\r\n      \"value\": \"sfz\",\r\n      \"label\": \"Sforzando\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Dynamics Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiSlurAttributesDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Slur Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"position\",\r\n    \"label\": \"Start Position\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Head\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Top\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"position_end\",\r\n    \"label\": \"End Position\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Head\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Top\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiVoltaAttributeDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Volta Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiHairpinAttributesDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Hairpin Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiLyricDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"verse\",\r\n    \"label\": \"Verse\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"1\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"2\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"3\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"doneEditing\": \"Done Editing Lyrics\"\r\n     },\r\n     {\r\n      \"undo\": \"Undo Lyrics\"\r\n     },\r\n     {\r\n      \"label\": \"Lyric Editor\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiChordChangeDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"verse\",\r\n    \"label\": \"Verse\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"1\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"2\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"3\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"doneEditing\": \"Done Editing Lyrics\"\r\n     },\r\n     {\r\n      \"undo\": \"Undo Lyrics\"\r\n     },\r\n     {\r\n      \"label\": \"Lyric Editor\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTextTransformDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"textDragger\",\r\n    \"label\": \"Move Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"textResizer\",\r\n    \"label\": \"Resize Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"justification\",\r\n    \"label\": \"Justification\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"left\",\r\n      \"label\": \"Left\"\r\n     },\r\n     {\r\n      \"value\": \"right\",\r\n      \"label\": \"Right\"\r\n     },\r\n     {\r\n      \"value\": \"center\",\r\n      \"label\": \"Center\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"fontFamily\",\r\n    \"label\": \"Font Family\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Merriweather,serif\",\r\n      \"label\": \"Serif\"\r\n     },\r\n     {\r\n      \"value\": \"Roboto,sans-serif\",\r\n      \"label\": \"Sans-Serif\"\r\n     },\r\n     {\r\n      \"value\": \"monospace\",\r\n      \"label\": \"Monospace\"\r\n     },\r\n     {\r\n      \"value\": \"cursive\",\r\n      \"label\": \"Cursive\"\r\n     },\r\n     {\r\n      \"value\": \"Merriweather\",\r\n      \"label\": \"times\"\r\n     },\r\n     {\r\n      \"value\": \"Arial\",\r\n      \"label\": \"arial\"\r\n     },\r\n     {\r\n      \"value\": \"Helvetica\",\r\n      \"label\": \"Helvetica\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"fontUnit\",\r\n    \"label\": \"Units\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"em\",\r\n      \"label\": \"em\"\r\n     },\r\n     {\r\n      \"value\": \"px\",\r\n      \"label\": \"px\"\r\n     },\r\n     {\r\n      \"value\": \"pt\",\r\n      \"label\": \"pt\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"pagination\",\r\n    \"label\": \"Page Behavior\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"once\",\r\n      \"label\": \"Once\"\r\n     },\r\n     {\r\n      \"value\": \"every\",\r\n      \"label\": \"Every\"\r\n     },\r\n     {\r\n      \"value\": \"even\",\r\n      \"label\": \"Even\"\r\n     },\r\n     {\r\n      \"value\": \"odd\",\r\n      \"label\": \"Odd\"\r\n     },\r\n     {\r\n      \"value\": \"subsequent\",\r\n      \"label\": \"Subsequent\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Text Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiAddStaffMenu\",\r\n  \"label\": \"المفاتيح\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"trebleInstrument\",\r\n    \"text\": \"طاقم التريبل مفتاح\"\r\n   },\r\n   {\r\n    \"value\": \"bassInstrument\",\r\n    \"text\": \"طاقم باس كلف\"\r\n   },\r\n   {\r\n    \"value\": \"altoInstrument\",\r\n    \"text\": \"طاقم ألتو مفتاح\"\r\n   },\r\n   {\r\n    \"value\": \"tenorInstrument\",\r\n    \"text\": \"طاقم تينور مفتاح\"\r\n   },\r\n   {\r\n    \"value\": \"remove\",\r\n    \"text\": \"حذف الطواقم\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"إلغاء\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiMeasureMenu\",\r\n  \"label\": \"Measure\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"addMenuBeforeCmd\",\r\n    \"text\": \"Add Measure Before\"\r\n   },\r\n   {\r\n    \"value\": \"addMenuAfterCmd\",\r\n    \"text\": \"Add Measure After\"\r\n   },\r\n   {\r\n    \"value\": \"deleteSelected\",\r\n    \"text\": \"Delete Selected Measures\"\r\n   },\r\n   {\r\n    \"value\": \"formatMeasureDialog\",\r\n    \"text\": \"Format Measure\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiFileMenu\",\r\n  \"label\": \"ملف\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"newFile\",\r\n    \"text\": \"جديدe\"\r\n   },\r\n   {\r\n    \"value\": \"openFile\",\r\n    \"text\": \"فتح\"\r\n   },\r\n   {\r\n    \"value\": \"saveFile\",\r\n    \"text\": \"حفظ\"\r\n   },\r\n   {\r\n    \"value\": \"quickSave\",\r\n    \"text\": \"Quick Save\"\r\n   },\r\n   {\r\n    \"value\": \"printScore\",\r\n    \"text\": \"طباعه\"\r\n   },\r\n   {\r\n    \"value\": \"bach\",\r\n    \"text\": \"Bach Invention\"\r\n   },\r\n   {\r\n    \"value\": \"bambino\",\r\n    \"text\": \"Jesu Bambino\"\r\n   },\r\n   {\r\n    \"value\": \"microtone\",\r\n    \"text\": \"Microtone Sample\"\r\n   },\r\n   {\r\n    \"value\": \"preciousLord\",\r\n    \"text\": \"Precious Lord\"\r\n   },\r\n   {\r\n    \"value\": \"yamaJson\",\r\n    \"text\": \"Yama\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"إلغاء\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureMenu\",\r\n  \"label\": \"وزن الإيقاع\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"6/8\",\r\n    \"text\": \"6/8\"\r\n   },\r\n   {\r\n    \"value\": \"3/4\",\r\n    \"text\": \"3/4\"\r\n   },\r\n   {\r\n    \"value\": \"2/4\",\r\n    \"text\": \"2/4\"\r\n   },\r\n   {\r\n    \"value\": \"12/8\",\r\n    \"text\": \"12/8\"\r\n   },\r\n   {\r\n    \"value\": \"7/8\",\r\n    \"text\": \"7/8\"\r\n   },\r\n   {\r\n    \"value\": \"5/8\",\r\n    \"text\": \"5/8\"\r\n   },\r\n   {\r\n    \"value\": \"TimeSigOther\",\r\n    \"text\": \"Other\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiKeySignatureMenu\",\r\n  \"label\": \"الدليل\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"KeyOfC\",\r\n    \"text\": \"C Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF\",\r\n    \"text\": \"F Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfG\",\r\n    \"text\": \"G Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfBb\",\r\n    \"text\": \"Bb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfD\",\r\n    \"text\": \"D Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfEb\",\r\n    \"text\": \"Eb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfA\",\r\n    \"text\": \"A Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfAb\",\r\n    \"text\": \"Ab Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfE\",\r\n    \"text\": \"E Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfDb\",\r\n    \"text\": \"Db Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfB\",\r\n    \"text\": \"B Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF#\",\r\n    \"text\": \"F# Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfC#\",\r\n    \"text\": \"C# Major\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureMenu\",\r\n  \"label\": \"وزن الإيقاع\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"6/8\",\r\n    \"text\": \"6/8\"\r\n   },\r\n   {\r\n    \"value\": \"3/4\",\r\n    \"text\": \"3/4\"\r\n   },\r\n   {\r\n    \"value\": \"2/4\",\r\n    \"text\": \"2/4\"\r\n   },\r\n   {\r\n    \"value\": \"12/8\",\r\n    \"text\": \"12/8\"\r\n   },\r\n   {\r\n    \"value\": \"7/8\",\r\n    \"text\": \"7/8\"\r\n   },\r\n   {\r\n    \"value\": \"5/8\",\r\n    \"text\": \"5/8\"\r\n   },\r\n   {\r\n    \"value\": \"TimeSigOther\",\r\n    \"text\": \"Other\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"إلغاء\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiKeySignatureMenu\",\r\n  \"label\": \"الدليل\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"KeyOfC\",\r\n    \"text\": \"C Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF\",\r\n    \"text\": \"F Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfG\",\r\n    \"text\": \"G Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfBb\",\r\n    \"text\": \"Bb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfD\",\r\n    \"text\": \"D Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfEb\",\r\n    \"text\": \"Eb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfA\",\r\n    \"text\": \"A Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfAb\",\r\n    \"text\": \"Ab Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfE\",\r\n    \"text\": \"E Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfDb\",\r\n    \"text\": \"Db Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfB\",\r\n    \"text\": \"B Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF#\",\r\n    \"text\": \"F# Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfC#\",\r\n    \"text\": \"C# Major\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiStaffModifierMenu\",\r\n  \"label\": \"خطوط\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"crescendo\",\r\n    \"text\": \"تصاعد\"\r\n   },\r\n   {\r\n    \"value\": \"decrescendo\",\r\n    \"text\": \"تهابط\"\r\n   },\r\n   {\r\n    \"value\": \"slur\",\r\n    \"text\": \"طمس / تعادل\"\r\n   },\r\n   {\r\n    \"value\": \"ending\",\r\n    \"text\": \"النهاية التاسعة\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"إلغاء\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiDynamicsMenu\",\r\n  \"label\": \"Dynamics\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"pp\",\r\n    \"text\": \"Pianissimo\"\r\n   },\r\n   {\r\n    \"value\": \"p\",\r\n    \"text\": \"Piano\"\r\n   },\r\n   {\r\n    \"value\": \"mp\",\r\n    \"text\": \"Mezzo-piano\"\r\n   },\r\n   {\r\n    \"value\": \"mf\",\r\n    \"text\": \"Mezzo-forte\"\r\n   },\r\n   {\r\n    \"value\": \"f\",\r\n    \"text\": \"Forte\"\r\n   },\r\n   {\r\n    \"value\": \"ff\",\r\n    \"text\": \"Fortissimo\"\r\n   },\r\n   {\r\n    \"value\": \"sfz\",\r\n    \"text\": \"sfortzando\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n }\r\n]`;\r\n\r\n\r\nexport const quickStartHtmlar = `(Arabic)\r\n    <h3 id=\"quick-start-guide\">Quick start guide</h3>\r\n<p>If you don&#39;t like to read instructions, this cook&#39;s tour of Smoosic was made for you.</p>\r\n<ul>\r\n<li><p>One of buttons on the left is called &#39;File&#39;.  Click on it. The menu items before &#39;cancel&#39; are pre-canned projects that you can use as a template to get you started.</p>\r\n</li>\r\n<li><p>The cursor keys will navigate you to the different notes.</p>\r\n</li>\r\n<li><p>Letters a-g on the computer keyboard change the note to those pitches</p>\r\n</li>\r\n<li><p>&#39;Insert&#39; adds a new, blank measure.</p>\r\n</li>\r\n<li><p>The ribbon of thick blue buttons on the top expand to button groups, that contain most of the functionality of Smoosic.  </p>\r\n</li>\r\n<li><p>The buttons on the left bring up menus or dialogs that do basically what the buttons say.</p>\r\n</li>\r\n<li><p>There are a few &#39;instant gratification&#39; buttons for playing the music, refreshing the screen or changing the zoom level on the left part of the ribbon.</p>\r\n</li>\r\n<li><p>The piano tool is an alternate way of entering music, or can be dismissed by the close button in the lower left.</p>\r\n</li>\r\n</ul>\r\n<p><img src=\"https://imgur.com/nP16PMI.gif\" alt=\"\" width=\"640\" height=\"480\"></p>\r\n`;\r\n\r\n\r\nexport const selectionHtmlar = `(Arabic)\r\n<h3 id=\"selecting-things\">Selecting things</h3>\r\n<p>Almost all operations in Smoosic act on the selected music.  You can select notes in different ways:</p>\r\n<ol>\r\n<li>with the computer mouse</li>\r\n<li>with the keyboard&#39;s navigation keys</li>\r\n<li>with the navigation keys on the ribbon</li>\r\n<li>with the piano tool, to some extent.</li>\r\n</ol>\r\n<p><img src=\"https://imgur.com/q1qK3Pn.gif\" alt=\"\"></p>\r\n<p>You can select multiple things with the keyboard navigation keys, by selecting &#39;shift-arrow&#39;, just like many applications.  There is a similar control for selection in the navigation ribbon.  Some operations, like changing pitch for instance, act on all the selected notes.</p>\r\n<p>Sometimes a selection of one line affects all the measures in that column (or all the measures of the system, if you like).  When you change the key, for instance, the selection determines where the key change starts.  If you have multiple measures selected, it applies to those measures, and then changes back to whatever it was before.</p>\r\n`;\r\n\r\n\r\nexport const enterDurationsHtmlar = `(Arabic)\r\n<p>Note duration in Smoosic is done by changing the duration of an existing note.  Usually, doubling the duration or cutting it in two, or adding a dot - duration to a note.  You can also create tuplets for uneven sets of notes (3, 5, or 7).</p>\r\n<p>There are actually 3 ways to do many duration operations - using the piano tool, using the computer keyboard, or using the button ribbon.  Like with many things, you should find entering duration using the keyboard fastest, once you have some experience with Smoosic.  But the ribbon or the </p>\r\n<h2 id=\"changing-note-length-with-the-keyboard\">Changing note length with the keyboard</h2>\r\n<p>You can change the length of notes using the &#39;,&#39; and &#39;.&#39; (comma and period) keys, which halve and double the note lengths, respectively.  You can add a dot to the length of the note (multiplying length by 3/2 for the first dot, and 3/4 for the second dot, if you like to think of it that way) or remove a dot, using the &#39;&gt;&#39; and &#39;&lt;&#39;.  The mnemonic device for these is &#39;&gt;&#39; makes note duration greater.  &#39;&lt;&#39; makes note duration...less.  (On most QWERTY keyboards, comma shifted is &#39;&lt;&#39; and period shifted is &#39;&gt;&#39;).</p>\r\n<p><img src=\"https://imgur.com/5ZWq2Xe.gif\" alt=\"\"></p>\r\n<p>Note how the selection is preserved as the notes get shorter.  When you change something, Smoosic will try to keep the selection as close as possible to what you had.  You can use the cursor navigation keys to move to a specific selected note.</p>\r\n<p><img src=\"https://imgur.com/woMw4RH.gif\" alt=\"\"></p>\r\n<p>When you increase the length of a note, Smoosic always &#39;borrows&#39; from the next note in the measure that is eligible.  So when you double the length of the 8th note, it combines the 16th, and 2 32nd notes, and collapses them into a single quarter.  If Smoosic can&#39;t honor the request, it does nothing.  For instance, it can&#39;t remove the dot from a note with no dot, and it can&#39;t extend beyond the length of the measure.</p>\r\n<p>You can create tuplets from the keyboard by typing Ctrl-3, Ctrl-5 or Ctrl-7 for triplets, quintuplets, and septuplets, respectively.  Individual notes in a tuplet can be doubled and halved with the duration keys &#39;-&#39; (minus) and &#39;=&#39; (equals), just like non-tuplets.  You &#39;untupletify&#39; a tuplet by Ctrl-0.</p>\r\n<p><img src=\"https://imgur.com/uBpQwXD.gif\" alt=\"\"></p>\r\n<h2 id=\"changing-note-length-with-piano-widget\">Changing note length with piano widget</h2>\r\n<p>The piano widget is shown when the application starts, and can be restored from the left menu &#39;Piano&#39; button when closed.</p>\r\n<p>You can double or halve note duration, or add dot duration, to a note using the piano tool. </p>\r\n<p><img src=\"https://imgur.com/Rw4yDxP.gif\" alt=\"\"></p>\r\n<h2 id=\"changing-note-length-from-the-button-ribbon\">Changing note length from the button ribbon</h2>\r\n<p>All the duration commands can be accomplished from the ribbon buttons.  </p>\r\n<p><img src=\"https://imgur.com/n9bmamg.gif\" alt=\"\"></p>\r\n<p>Note that the equivalent keyboard commands are also indicated on the right of each button, when it&#39;s available.  (there are only so many keys, so there are some ribbon buttons with no key shortcut). </p>\r\n`;\r\n\r\n\r\nexport const enterPitchesHtmlar = `(Arabic)\r\n<p>There are a few ways to enter notes in Smoosic.  You can click on the piano widget keys, or you can enter notes directly from the keyboard.</p>\r\n<h2 id=\"your-first-smoosical-notes\">Your first Smoosical notes</h2>\r\n<h3 id=\"notes-from-the-keyboard\">Notes from the keyboard</h3>\r\n<p>The keys a-g on the computer keyboard will enter a corresponding note, A-G, on the staff (Most key commands in Smoosic have a mnemonic device).  The default behavior is for the cursor to advance when a note is entered in this way.  (Future behavior, auto-advance can be overridden). You navigate to the notes using the keyboard navigation arrows.</p>\r\n<p><img src=\"https://imgur.com/lxR0NI7.gif\" alt=\"\"></p>\r\n<p>You change the octave from the keyboard using the &#39;_&#39; and &#39;+&#39; (underscore, aka shift-minus, and plus), and change notes chromatically using &#39;-&#39; and &#39;=&#39; key.  The mnemonic device for this is &#39;plus and minus&#39; for raising and lowering pitches.  You can change the enharmonic spelling of the note using the &#39;Shift-E&#39; (mnemonic: E for enharmonic - get it?).  And Shift-F gives you a courtesy, or cautionary, accidental (mnemonic - F comes after E).</p>\r\n<p><img src=\"https://imgur.com/1tC94sV.gif\" alt=\"\"></p>\r\n<p>You can create chords and intervals using the number keys along the top of the keyboard.  The &#39;3&#39; key makes a third, the &#39;4&#39; key a fourth, and so on.  Shift+number gives you the interval down.</p>\r\n<p><img src=\"https://imgur.com/IwoeWi3.gif\" alt=\"\"></p>\r\n<p>Note that the interval starts from the highest note in the chord, for intervals going up, and the lowest note in the chord, for intervals going down.  You can select individual pitches in the chord using &#39;Shift-Up Arrow&#39; as shown.  This is similar to how modifiers like dynamics are selected.  Once you have the pitch selected, you can change it using the up-down commands shows above, or change the enharmonic spelling.</p>\r\n<p>There is currently no way to remove a single pitch from the chord.  If you want to collapse the chord, just type a letter a-g on the keyboard, and it will be replaced with a single note.</p>\r\n<h3 id=\"notes-from-the-piano-tool\">Notes from the piano tool</h3>\r\n<p>You can also add notes to your score with the piano tool, by clicking on the corresponding notes.</p>\r\n<p><img src=\"https://imgur.com/MOMlIg3.gif\" alt=\"\"></p>\r\n<p>Clicking on the piano gives the selected note the piano pitch.  The octave of the note is based on the clef, so for treble clef, the &#39;C&#39; is middle &#39;C&#39;.  You can change the octave of the note, and move the pitch up and down.  The top buttons affect the pitch, and the bottom buttons navigate or change the length of the note.  Clicking on the chord button acts like a &#39;sustain&#39; that puts additional notes in chords.</p>\r\n<p>Everything that can be done from the piano widget, and most things in Smoosic generally, can be done more efficiently with keyboard commands. Once you are comfortable with the computer keyboard, you can free up some screen real-estate by closing the piano widget (cross control in lower left).  You can bring it up again with the piano menu button on the left.</p>\r\n`;\r\n","\r\nexport const smoLanguageStringDe = `[\r\n {\r\n  \"ctor\": \"SuiLoadFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Datei laden\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiSaveFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Score speichern\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiPrintFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Druck abgeschlossen\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiMeasureDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Takt Voreinstellungen\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"pickupMeasure\",\r\n    \"label\": \"Takt Pickup\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"2048\",\r\n      \"label\": \"Eighth Note\"\r\n     },\r\n     {\r\n      \"value\": \"4096\",\r\n      \"label\": \"Quarter Note\"\r\n     },\r\n     {\r\n      \"value\": \"6144\",\r\n      \"label\": \"Dotted Quarter\"\r\n     },\r\n     {\r\n      \"value\": \"8192\",\r\n      \"label\": \"Half Note\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"measureTextPosition\",\r\n    \"label\": \"Text Position\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Left\"\r\n     },\r\n     {\r\n      \"value\": \"3\",\r\n      \"label\": \"Right\"\r\n     },\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Above\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Below\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTempoDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Tempo Voreinstellungen\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"tempoMode\",\r\n    \"label\": \"Tempo Modus\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"duration\",\r\n      \"label\": \"Dauer (Beats/Minute)\"\r\n     },\r\n     {\r\n      \"value\": \"text\",\r\n      \"label\": \"Tempo Text\"\r\n     },\r\n     {\r\n      \"value\": \"custom\",\r\n      \"label\": \"Text und Dauer festlegen\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"beatDuration\",\r\n    \"label\": \"Einheit für Beat\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"4096\",\r\n      \"label\": \"Quarter Note\"\r\n     },\r\n     {\r\n      \"value\": \"2048\",\r\n      \"label\": \"1/8 note\"\r\n     },\r\n     {\r\n      \"value\": \"6144\",\r\n      \"label\": \"Dotted 1/4 note\"\r\n     },\r\n     {\r\n      \"value\": \"8192\",\r\n      \"label\": \"1/2 note\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"tempoText\",\r\n    \"label\": \"Tempo Text\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Larghissimo\",\r\n      \"label\": \"Larghissimo\"\r\n     },\r\n     {\r\n      \"value\": \"Grave\",\r\n      \"label\": \"Grave\"\r\n     },\r\n     {\r\n      \"value\": \"Lento\",\r\n      \"label\": \"Lento\"\r\n     },\r\n     {\r\n      \"value\": \"Largo\",\r\n      \"label\": \"Largo\"\r\n     },\r\n     {\r\n      \"value\": \"Larghetto\",\r\n      \"label\": \"Larghetto\"\r\n     },\r\n     {\r\n      \"value\": \"Adagio\",\r\n      \"label\": \"Adagio\"\r\n     },\r\n     {\r\n      \"value\": \"Adagietto\",\r\n      \"label\": \"Adagietto\"\r\n     },\r\n     {\r\n      \"value\": \"Andante moderato\",\r\n      \"label\": \"Andante moderato\"\r\n     },\r\n     {\r\n      \"value\": \"Andante\",\r\n      \"label\": \"Andante\"\r\n     },\r\n     {\r\n      \"value\": \"Andantino\",\r\n      \"label\": \"Andantino\"\r\n     },\r\n     {\r\n      \"value\": \"Moderato\",\r\n      \"label\": \"Moderato\"\r\n     },\r\n     {\r\n      \"value\": \"Allegretto\",\r\n      \"label\": \"Allegretto\"\r\n     },\r\n     {\r\n      \"value\": \"Allegro\",\r\n      \"label\": \"Allegro\"\r\n     },\r\n     {\r\n      \"value\": \"Vivace\",\r\n      \"label\": \"Vivace\"\r\n     },\r\n     {\r\n      \"value\": \"Presto\",\r\n      \"label\": \"Presto\"\r\n     },\r\n     {\r\n      \"value\": \"Prestissimo\",\r\n      \"label\": \"Prestissimo\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiInstrumentDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Instrument Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"applyTo\",\r\n    \"label\": \"Apply To\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Score\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Selected Measures\"\r\n     },\r\n     {\r\n      \"value\": \"3\",\r\n      \"label\": \"Remaining Measures\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Custom Time Signature\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"denominator\",\r\n    \"label\": \"Beat Value\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"8\",\r\n      \"label\": \"8\"\r\n     },\r\n     {\r\n      \"value\": \"4\",\r\n      \"label\": \"4\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"2\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiLayoutDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"pageSize\",\r\n    \"label\": \"Seitengröße\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"letter\",\r\n      \"label\": \"Brief\"\r\n     },\r\n     {\r\n      \"value\": \"tabloid\",\r\n      \"label\": \"Tabloid (11x17)\"\r\n     },\r\n     {\r\n      \"value\": \"A4\",\r\n      \"label\": \"A4\"\r\n     },\r\n     {\r\n      \"value\": \"custom\",\r\n      \"label\": \"benutzerdefiniert\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"orientation\",\r\n    \"label\": \"Ausrichtung\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Portrait\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Landscape\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"engravingFont\",\r\n    \"label\": \"Schriftart\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Bravura\",\r\n      \"label\": \"Bravura\"\r\n     },\r\n     {\r\n      \"value\": \"Gonville\",\r\n      \"label\": \"Gonville\"\r\n     },\r\n     {\r\n      \"value\": \"Petaluma\",\r\n      \"label\": \"Petaluma\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Score Layout\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiDynamicModifierDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"text\",\r\n    \"label\": \"Text\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"p\",\r\n      \"label\": \"Piano\"\r\n     },\r\n     {\r\n      \"value\": \"pp\",\r\n      \"label\": \"Pianissimo\"\r\n     },\r\n     {\r\n      \"value\": \"mp\",\r\n      \"label\": \"Mezzo-Piano\"\r\n     },\r\n     {\r\n      \"value\": \"mf\",\r\n      \"label\": \"Mezzo-Forte\"\r\n     },\r\n     {\r\n      \"value\": \"f\",\r\n      \"label\": \"Forte\"\r\n     },\r\n     {\r\n      \"value\": \"ff\",\r\n      \"label\": \"Fortissimo\"\r\n     },\r\n     {\r\n      \"value\": \"sfz\",\r\n      \"label\": \"Sforzando\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Dynamics Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiSlurAttributesDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Slur Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"position\",\r\n    \"label\": \"Startposition\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Head\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Top\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"position_end\",\r\n    \"label\": \"Endposition\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Head\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Top\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiVoltaAttributeDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Volta Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiHairpinAttributesDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Hairpin Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiLyricDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"verse\",\r\n    \"label\": \"Verse\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"1\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"2\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"3\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"doneEditing\": \"Done Editing Lyrics\"\r\n     },\r\n     {\r\n      \"undo\": \"Undo Lyrics\"\r\n     },\r\n     {\r\n      \"label\": \"Lyric Editor\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiChordChangeDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"verse\",\r\n    \"label\": \"Verse\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"1\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"2\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"3\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"doneEditing\": \"Done Editing Lyrics\"\r\n     },\r\n     {\r\n      \"undo\": \"Undo Lyrics\"\r\n     },\r\n     {\r\n      \"label\": \"Lyric Editor\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTextTransformDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"textDragger\",\r\n    \"label\": \"Move Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"textResizer\",\r\n    \"label\": \"Resize Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"justification\",\r\n    \"label\": \"Justification\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"left\",\r\n      \"label\": \"Left\"\r\n     },\r\n     {\r\n      \"value\": \"right\",\r\n      \"label\": \"Right\"\r\n     },\r\n     {\r\n      \"value\": \"center\",\r\n      \"label\": \"Center\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"fontFamily\",\r\n    \"label\": \"Font Family\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Merriweather,serif\",\r\n      \"label\": \"Serif\"\r\n     },\r\n     {\r\n      \"value\": \"Roboto,sans-serif\",\r\n      \"label\": \"Sans-Serif\"\r\n     },\r\n     {\r\n      \"value\": \"monospace\",\r\n      \"label\": \"Monospace\"\r\n     },\r\n     {\r\n      \"value\": \"cursive\",\r\n      \"label\": \"Cursive\"\r\n     },\r\n     {\r\n      \"value\": \"Merriweather\",\r\n      \"label\": \"times\"\r\n     },\r\n     {\r\n      \"value\": \"Arial\",\r\n      \"label\": \"arial\"\r\n     },\r\n     {\r\n      \"value\": \"Helvetica\",\r\n      \"label\": \"Helvetica\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"fontUnit\",\r\n    \"label\": \"Units\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"em\",\r\n      \"label\": \"em\"\r\n     },\r\n     {\r\n      \"value\": \"px\",\r\n      \"label\": \"px\"\r\n     },\r\n     {\r\n      \"value\": \"pt\",\r\n      \"label\": \"pt\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"pagination\",\r\n    \"label\": \"Page Behavior\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"once\",\r\n      \"label\": \"Once\"\r\n     },\r\n     {\r\n      \"value\": \"every\",\r\n      \"label\": \"Every\"\r\n     },\r\n     {\r\n      \"value\": \"even\",\r\n      \"label\": \"Even\"\r\n     },\r\n     {\r\n      \"value\": \"odd\",\r\n      \"label\": \"Odd\"\r\n     },\r\n     {\r\n      \"value\": \"subsequent\",\r\n      \"label\": \"Subsequent\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Text Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiAddStaffMenu\",\r\n  \"label\": \"Notenschlüssel\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"trebleInstrument\",\r\n    \"text\": \"Violinschlüssel\"\r\n   },\r\n   {\r\n    \"value\": \"bassInstrument\",\r\n    \"text\": \"Basschlüssel\"\r\n   },\r\n   {\r\n    \"value\": \"altoInstrument\",\r\n    \"text\": \"Altschlüssel\"\r\n   },\r\n   {\r\n    \"value\": \"tenorInstrument\",\r\n    \"text\": \"Tenorschlüssel\"\r\n   },\r\n   {\r\n    \"value\": \"remove\",\r\n    \"text\": \"Notenschlüssel entfernen\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Abbrechen\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiMeasureMenu\",\r\n  \"label\": \"Measure\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"addMenuBeforeCmd\",\r\n    \"text\": \"Add Measure Before\"\r\n   },\r\n   {\r\n    \"value\": \"addMenuAfterCmd\",\r\n    \"text\": \"Add Measure After\"\r\n   },\r\n   {\r\n    \"value\": \"deleteSelected\",\r\n    \"text\": \"Delete Selected Measures\"\r\n   },\r\n   {\r\n    \"value\": \"formatMeasureDialog\",\r\n    \"text\": \"Format Measure\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiFileMenu\",\r\n  \"label\": \"Datei\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"newFile\",\r\n    \"text\": \"Neu\"\r\n   },\r\n   {\r\n    \"value\": \"openFile\",\r\n    \"text\": \"Öffnen\"\r\n   },\r\n   {\r\n    \"value\": \"saveFile\",\r\n    \"text\": \"Speichern\"\r\n   },\r\n   {\r\n    \"value\": \"quickSave\",\r\n    \"text\": \"Schnellspeichern\"\r\n   },\r\n   {\r\n    \"value\": \"printScore\",\r\n    \"text\": \"Drucken\"\r\n   },\r\n   {\r\n    \"value\": \"bach\",\r\n    \"text\": \"Bach Invention\"\r\n   },\r\n   {\r\n    \"value\": \"bambino\",\r\n    \"text\": \"Jesu Bambino\"\r\n   },\r\n   {\r\n    \"value\": \"microtone\",\r\n    \"text\": \"Microtone Sample\"\r\n   },\r\n   {\r\n    \"value\": \"preciousLord\",\r\n    \"text\": \"Precious Lord\"\r\n   },\r\n   {\r\n    \"value\": \"yamaJson\",\r\n    \"text\": \"Yama\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Abbrechen\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureMenu\",\r\n  \"label\": \"Taktzeit\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"6/8\",\r\n    \"text\": \"6/8\"\r\n   },\r\n   {\r\n    \"value\": \"3/4\",\r\n    \"text\": \"3/4\"\r\n   },\r\n   {\r\n    \"value\": \"2/4\",\r\n    \"text\": \"2/4\"\r\n   },\r\n   {\r\n    \"value\": \"12/8\",\r\n    \"text\": \"12/8\"\r\n   },\r\n   {\r\n    \"value\": \"7/8\",\r\n    \"text\": \"7/8\"\r\n   },\r\n   {\r\n    \"value\": \"5/8\",\r\n    \"text\": \"5/8\"\r\n   },\r\n   {\r\n    \"value\": \"TimeSigOther\",\r\n    \"text\": \"benutzerdefiniert\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Abbrechen\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiKeySignatureMenu\",\r\n  \"label\": \"Tonlage\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"KeyOfC\",\r\n    \"text\": \"C Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF\",\r\n    \"text\": \"F Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfG\",\r\n    \"text\": \"G Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfBb\",\r\n    \"text\": \"Bb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfD\",\r\n    \"text\": \"D Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfEb\",\r\n    \"text\": \"Eb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfA\",\r\n    \"text\": \"A Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfAb\",\r\n    \"text\": \"Ab Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfE\",\r\n    \"text\": \"E Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfDb\",\r\n    \"text\": \"Db Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfB\",\r\n    \"text\": \"B Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF#\",\r\n    \"text\": \"F# Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfC#\",\r\n    \"text\": \"C# Major\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Abbrechen\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureMenu\",\r\n  \"label\": \"Taktzeit\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"6/8\",\r\n    \"text\": \"6/8\"\r\n   },\r\n   {\r\n    \"value\": \"3/4\",\r\n    \"text\": \"3/4\"\r\n   },\r\n   {\r\n    \"value\": \"2/4\",\r\n    \"text\": \"2/4\"\r\n   },\r\n   {\r\n    \"value\": \"12/8\",\r\n    \"text\": \"12/8\"\r\n   },\r\n   {\r\n    \"value\": \"7/8\",\r\n    \"text\": \"7/8\"\r\n   },\r\n   {\r\n    \"value\": \"5/8\",\r\n    \"text\": \"5/8\"\r\n   },\r\n   {\r\n    \"value\": \"TimeSigOther\",\r\n    \"text\": \"benutzerdefiniert\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Abbrechen\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiKeySignatureMenu\",\r\n  \"label\": \"Tonlage\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"KeyOfC\",\r\n    \"text\": \"C Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF\",\r\n    \"text\": \"F Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfG\",\r\n    \"text\": \"G Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfBb\",\r\n    \"text\": \"Bb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfD\",\r\n    \"text\": \"D Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfEb\",\r\n    \"text\": \"Eb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfA\",\r\n    \"text\": \"A Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfAb\",\r\n    \"text\": \"Ab Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfE\",\r\n    \"text\": \"E Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfDb\",\r\n    \"text\": \"Db Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfB\",\r\n    \"text\": \"B Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF#\",\r\n    \"text\": \"F# Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfC#\",\r\n    \"text\": \"C# Major\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Abbrechen\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiStaffModifierMenu\",\r\n  \"label\": \"Lines\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"crescendo\",\r\n    \"text\": \"Crescendo\"\r\n   },\r\n   {\r\n    \"value\": \"decrescendo\",\r\n    \"text\": \"Decrescendo\"\r\n   },\r\n   {\r\n    \"value\": \"slur\",\r\n    \"text\": \"Bogen/Bindung\"\r\n   },\r\n   {\r\n    \"value\": \"ending\",\r\n    \"text\": \"nth Ende\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Abbrechen\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiDynamicsMenu\",\r\n  \"label\": \"Dynamics\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"pp\",\r\n    \"text\": \"Pianissimo\"\r\n   },\r\n   {\r\n    \"value\": \"p\",\r\n    \"text\": \"Piano\"\r\n   },\r\n   {\r\n    \"value\": \"mp\",\r\n    \"text\": \"Mezzo-piano\"\r\n   },\r\n   {\r\n    \"value\": \"mf\",\r\n    \"text\": \"Mezzo-forte\"\r\n   },\r\n   {\r\n    \"value\": \"f\",\r\n    \"text\": \"Forte\"\r\n   },\r\n   {\r\n    \"value\": \"ff\",\r\n    \"text\": \"Fortissimo\"\r\n   },\r\n   {\r\n    \"value\": \"sfz\",\r\n    \"text\": \"sfortzando\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Abbrechen\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiLanguageMenu\",\r\n  \"label\": \"Language\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"en\",\r\n    \"text\": \"English\"\r\n   },\r\n   {\r\n    \"value\": \"de\",\r\n    \"text\": \"Deutsch\"\r\n   },\r\n   {\r\n    \"value\": \"ar\",\r\n    \"text\": \"اَلْعَرَبِيَّةُ\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ribbonText\": [\r\n   {\r\n    \"buttonId\": \"helpDialog\",\r\n    \"buttonText\": \"(de)Help\"\r\n   },\r\n   {\r\n    \"buttonId\": \"languageMenu\",\r\n    \"buttonText\": \"Language\"\r\n   },\r\n   {\r\n    \"buttonId\": \"fileMenu\",\r\n    \"buttonText\": \"File\"\r\n   },\r\n   {\r\n    \"buttonId\": \"addStaffMenu\",\r\n    \"buttonText\": \"Staves\"\r\n   },\r\n   {\r\n    \"buttonId\": \"measureModal\",\r\n    \"buttonText\": \"Measure\"\r\n   },\r\n   {\r\n    \"buttonId\": \"tempoModal\",\r\n    \"buttonText\": \"Tempo\"\r\n   },\r\n   {\r\n    \"buttonId\": \"timeSignatureMenu\",\r\n    \"buttonText\": \"Time Signature\"\r\n   },\r\n   {\r\n    \"buttonId\": \"keyMenu\",\r\n    \"buttonText\": \"Key\"\r\n   },\r\n   {\r\n    \"buttonId\": \"staffModifierMenu\",\r\n    \"buttonText\": \"Lines\"\r\n   },\r\n   {\r\n    \"buttonId\": \"instrumentModal\",\r\n    \"buttonText\": \"Instrument\"\r\n   },\r\n   {\r\n    \"buttonId\": \"pianoModal\",\r\n    \"buttonText\": \"Piano\"\r\n   },\r\n   {\r\n    \"buttonId\": \"layoutModal\",\r\n    \"buttonText\": \"Layout\"\r\n   },\r\n   {\r\n    \"buttonId\": \"UpOctaveButton\",\r\n    \"buttonText\": \"8va\"\r\n   },\r\n   {\r\n    \"buttonId\": \"DownOctaveButton\",\r\n    \"buttonText\": \"8vb\"\r\n   },\r\n   {\r\n    \"buttonId\": \"moreNavButtons\",\r\n    \"buttonText\": \"...\"\r\n   },\r\n   {\r\n    \"buttonId\": \"dcAlCoda\",\r\n    \"buttonText\": \"DC Al Coda\"\r\n   },\r\n   {\r\n    \"buttonId\": \"dsAlCoda\",\r\n    \"buttonText\": \"DS Al Coda\"\r\n   },\r\n   {\r\n    \"buttonId\": \"dcAlFine\",\r\n    \"buttonText\": \"DC Al Fine\"\r\n   },\r\n   {\r\n    \"buttonId\": \"dsAlFine\",\r\n    \"buttonText\": \"DS Al Fine\"\r\n   },\r\n   {\r\n    \"buttonId\": \"toCoda\",\r\n    \"buttonText\": \"to \"\r\n   },\r\n   {\r\n    \"buttonId\": \"fine\",\r\n    \"buttonText\": \"Fine\"\r\n   },\r\n   {\r\n    \"buttonId\": \"moreStaffButtons\",\r\n    \"buttonText\": \"...\"\r\n   }\r\n  ]\r\n }\r\n]`;\r\n","\r\nexport const smoLanguageStringEn = `[\r\n {\r\n  \"ctor\": \"SuiLoadFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Load File\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiSaveFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Save Score\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiPrintFileDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Print Complete\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiMeasureDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Measure Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"pickupMeasure\",\r\n    \"label\": \"Pickup Measure\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"2048\",\r\n      \"label\": \"Eighth Note\"\r\n     },\r\n     {\r\n      \"value\": \"4096\",\r\n      \"label\": \"Quarter Note\"\r\n     },\r\n     {\r\n      \"value\": \"6144\",\r\n      \"label\": \"Dotted Quarter\"\r\n     },\r\n     {\r\n      \"value\": \"8192\",\r\n      \"label\": \"Half Note\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"measureTextPosition\",\r\n    \"label\": \"Text Position\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Left\"\r\n     },\r\n     {\r\n      \"value\": \"3\",\r\n      \"label\": \"Right\"\r\n     },\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Above\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Below\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTempoDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Tempo Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"tempoMode\",\r\n    \"label\": \"Tempo Mode\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"duration\",\r\n      \"label\": \"Duration (Beats/Minute)\"\r\n     },\r\n     {\r\n      \"value\": \"text\",\r\n      \"label\": \"Tempo Text\"\r\n     },\r\n     {\r\n      \"value\": \"custom\",\r\n      \"label\": \"Specify text and duration\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"beatDuration\",\r\n    \"label\": \"Unit for Beat\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"4096\",\r\n      \"label\": \"Quarter Note\"\r\n     },\r\n     {\r\n      \"value\": \"2048\",\r\n      \"label\": \"1/8 note\"\r\n     },\r\n     {\r\n      \"value\": \"6144\",\r\n      \"label\": \"Dotted 1/4 note\"\r\n     },\r\n     {\r\n      \"value\": \"8192\",\r\n      \"label\": \"1/2 note\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"tempoText\",\r\n    \"label\": \"Tempo Text\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Larghissimo\",\r\n      \"label\": \"Larghissimo\"\r\n     },\r\n     {\r\n      \"value\": \"Grave\",\r\n      \"label\": \"Grave\"\r\n     },\r\n     {\r\n      \"value\": \"Lento\",\r\n      \"label\": \"Lento\"\r\n     },\r\n     {\r\n      \"value\": \"Largo\",\r\n      \"label\": \"Largo\"\r\n     },\r\n     {\r\n      \"value\": \"Larghetto\",\r\n      \"label\": \"Larghetto\"\r\n     },\r\n     {\r\n      \"value\": \"Adagio\",\r\n      \"label\": \"Adagio\"\r\n     },\r\n     {\r\n      \"value\": \"Adagietto\",\r\n      \"label\": \"Adagietto\"\r\n     },\r\n     {\r\n      \"value\": \"Andante moderato\",\r\n      \"label\": \"Andante moderato\"\r\n     },\r\n     {\r\n      \"value\": \"Andante\",\r\n      \"label\": \"Andante\"\r\n     },\r\n     {\r\n      \"value\": \"Andantino\",\r\n      \"label\": \"Andantino\"\r\n     },\r\n     {\r\n      \"value\": \"Moderato\",\r\n      \"label\": \"Moderato\"\r\n     },\r\n     {\r\n      \"value\": \"Allegretto\",\r\n      \"label\": \"Allegretto\"\r\n     },\r\n     {\r\n      \"value\": \"Allegro\",\r\n      \"label\": \"Allegro\"\r\n     },\r\n     {\r\n      \"value\": \"Vivace\",\r\n      \"label\": \"Vivace\"\r\n     },\r\n     {\r\n      \"value\": \"Presto\",\r\n      \"label\": \"Presto\"\r\n     },\r\n     {\r\n      \"value\": \"Prestissimo\",\r\n      \"label\": \"Prestissimo\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiInstrumentDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Instrument Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"applyTo\",\r\n    \"label\": \"Apply To\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Score\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Selected Measures\"\r\n     },\r\n     {\r\n      \"value\": \"3\",\r\n      \"label\": \"Remaining Measures\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Custom Time Signature\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"denominator\",\r\n    \"label\": \"Beat Value\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"8\",\r\n      \"label\": \"8\"\r\n     },\r\n     {\r\n      \"value\": \"4\",\r\n      \"label\": \"4\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"2\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiLayoutDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"pageSize\",\r\n    \"label\": \"Page Size\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"letter\",\r\n      \"label\": \"Letter\"\r\n     },\r\n     {\r\n      \"value\": \"tabloid\",\r\n      \"label\": \"Tabloid (11x17)\"\r\n     },\r\n     {\r\n      \"value\": \"A4\",\r\n      \"label\": \"A4\"\r\n     },\r\n     {\r\n      \"value\": \"custom\",\r\n      \"label\": \"Custom\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"orientation\",\r\n    \"label\": \"Orientation\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"Portrait\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Landscape\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"engravingFont\",\r\n    \"label\": \"Engraving Font\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Bravura\",\r\n      \"label\": \"Bravura\"\r\n     },\r\n     {\r\n      \"value\": \"Gonville\",\r\n      \"label\": \"Gonville\"\r\n     },\r\n     {\r\n      \"value\": \"Petaluma\",\r\n      \"label\": \"Petaluma\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Score Layout\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiDynamicModifierDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"text\",\r\n    \"label\": \"Text\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"p\",\r\n      \"label\": \"Piano\"\r\n     },\r\n     {\r\n      \"value\": \"pp\",\r\n      \"label\": \"Pianissimo\"\r\n     },\r\n     {\r\n      \"value\": \"mp\",\r\n      \"label\": \"Mezzo-Piano\"\r\n     },\r\n     {\r\n      \"value\": \"mf\",\r\n      \"label\": \"Mezzo-Forte\"\r\n     },\r\n     {\r\n      \"value\": \"f\",\r\n      \"label\": \"Forte\"\r\n     },\r\n     {\r\n      \"value\": \"ff\",\r\n      \"label\": \"Fortissimo\"\r\n     },\r\n     {\r\n      \"value\": \"sfz\",\r\n      \"label\": \"Sforzando\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Dynamics Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiSlurAttributesDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Slur Properties\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"position\",\r\n    \"label\": \"Start Position\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Head\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Top\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"position_end\",\r\n    \"label\": \"End Position\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"Head\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"Top\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiVoltaAttributeDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Volta Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiHairpinAttributesDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Hairpin Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiLyricDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"verse\",\r\n    \"label\": \"Verse\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"1\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"2\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"3\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"doneEditing\": \"Done Editing Lyrics\"\r\n     },\r\n     {\r\n      \"undo\": \"Undo Lyrics\"\r\n     },\r\n     {\r\n      \"label\": \"Lyric Editor\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiChordChangeDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"verse\",\r\n    \"label\": \"Verse\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"0\",\r\n      \"label\": \"1\"\r\n     },\r\n     {\r\n      \"value\": \"1\",\r\n      \"label\": \"2\"\r\n     },\r\n     {\r\n      \"value\": \"2\",\r\n      \"label\": \"3\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"doneEditing\": \"Done Editing Lyrics\"\r\n     },\r\n     {\r\n      \"undo\": \"Undo Lyrics\"\r\n     },\r\n     {\r\n      \"label\": \"Lyric Editor\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTextTransformDialog\",\r\n  \"dialogElements\": [\r\n   {\r\n    \"id\": \"textEditor\",\r\n    \"label\": \"Edit Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"textDragger\",\r\n    \"label\": \"Move Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"textResizer\",\r\n    \"label\": \"Resize Text\",\r\n    \"options\": []\r\n   },\r\n   {\r\n    \"id\": \"justification\",\r\n    \"label\": \"Justification\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"left\",\r\n      \"label\": \"Left\"\r\n     },\r\n     {\r\n      \"value\": \"right\",\r\n      \"label\": \"Right\"\r\n     },\r\n     {\r\n      \"value\": \"center\",\r\n      \"label\": \"Center\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"fontFamily\",\r\n    \"label\": \"Font Family\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"Merriweather,serif\",\r\n      \"label\": \"Serif\"\r\n     },\r\n     {\r\n      \"value\": \"Roboto,sans-serif\",\r\n      \"label\": \"Sans-Serif\"\r\n     },\r\n     {\r\n      \"value\": \"monospace\",\r\n      \"label\": \"Monospace\"\r\n     },\r\n     {\r\n      \"value\": \"cursive\",\r\n      \"label\": \"Cursive\"\r\n     },\r\n     {\r\n      \"value\": \"Merriweather\",\r\n      \"label\": \"times\"\r\n     },\r\n     {\r\n      \"value\": \"Arial\",\r\n      \"label\": \"arial\"\r\n     },\r\n     {\r\n      \"value\": \"Helvetica\",\r\n      \"label\": \"Helvetica\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"fontUnit\",\r\n    \"label\": \"Units\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"em\",\r\n      \"label\": \"em\"\r\n     },\r\n     {\r\n      \"value\": \"px\",\r\n      \"label\": \"px\"\r\n     },\r\n     {\r\n      \"value\": \"pt\",\r\n      \"label\": \"pt\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"id\": \"pagination\",\r\n    \"label\": \"Page Behavior\",\r\n    \"options\": [\r\n     {\r\n      \"value\": \"once\",\r\n      \"label\": \"Once\"\r\n     },\r\n     {\r\n      \"value\": \"every\",\r\n      \"label\": \"Every\"\r\n     },\r\n     {\r\n      \"value\": \"even\",\r\n      \"label\": \"Even\"\r\n     },\r\n     {\r\n      \"value\": \"odd\",\r\n      \"label\": \"Odd\"\r\n     },\r\n     {\r\n      \"value\": \"subsequent\",\r\n      \"label\": \"Subsequent\"\r\n     }\r\n    ]\r\n   },\r\n   {\r\n    \"staticText\": [\r\n     {\r\n      \"label\": \"Text Properties\"\r\n     }\r\n    ]\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiAddStaffMenu\",\r\n  \"label\": \"Staves\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"trebleInstrument\",\r\n    \"text\": \"Treble Clef Staff\"\r\n   },\r\n   {\r\n    \"value\": \"bassInstrument\",\r\n    \"text\": \"Bass Clef Staff\"\r\n   },\r\n   {\r\n    \"value\": \"altoInstrument\",\r\n    \"text\": \"Alto Clef Staff\"\r\n   },\r\n   {\r\n    \"value\": \"tenorInstrument\",\r\n    \"text\": \"Tenor Clef Staff\"\r\n   },\r\n   {\r\n    \"value\": \"remove\",\r\n    \"text\": \"Remove Staff\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiMeasureMenu\",\r\n  \"label\": \"Measure\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"addMenuBeforeCmd\",\r\n    \"text\": \"Add Measure Before\"\r\n   },\r\n   {\r\n    \"value\": \"addMenuAfterCmd\",\r\n    \"text\": \"Add Measure After\"\r\n   },\r\n   {\r\n    \"value\": \"deleteSelected\",\r\n    \"text\": \"Delete Selected Measures\"\r\n   },\r\n   {\r\n    \"value\": \"formatMeasureDialog\",\r\n    \"text\": \"Format Measure\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiFileMenu\",\r\n  \"label\": \"File\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"newFile\",\r\n    \"text\": \"New Score\"\r\n   },\r\n   {\r\n    \"value\": \"openFile\",\r\n    \"text\": \"Open\"\r\n   },\r\n   {\r\n    \"value\": \"saveFile\",\r\n    \"text\": \"Save\"\r\n   },\r\n   {\r\n    \"value\": \"quickSave\",\r\n    \"text\": \"Quick Save\"\r\n   },\r\n   {\r\n    \"value\": \"printScore\",\r\n    \"text\": \"Print\"\r\n   },\r\n   {\r\n    \"value\": \"bach\",\r\n    \"text\": \"Bach Invention\"\r\n   },\r\n   {\r\n    \"value\": \"bambino\",\r\n    \"text\": \"Jesu Bambino\"\r\n   },\r\n   {\r\n    \"value\": \"microtone\",\r\n    \"text\": \"Microtone Sample\"\r\n   },\r\n   {\r\n    \"value\": \"preciousLord\",\r\n    \"text\": \"Precious Lord\"\r\n   },\r\n   {\r\n    \"value\": \"yamaJson\",\r\n    \"text\": \"Yama\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureMenu\",\r\n  \"label\": \"Time Signature\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"6/8\",\r\n    \"text\": \"6/8\"\r\n   },\r\n   {\r\n    \"value\": \"3/4\",\r\n    \"text\": \"3/4\"\r\n   },\r\n   {\r\n    \"value\": \"2/4\",\r\n    \"text\": \"2/4\"\r\n   },\r\n   {\r\n    \"value\": \"12/8\",\r\n    \"text\": \"12/8\"\r\n   },\r\n   {\r\n    \"value\": \"7/8\",\r\n    \"text\": \"7/8\"\r\n   },\r\n   {\r\n    \"value\": \"5/8\",\r\n    \"text\": \"5/8\"\r\n   },\r\n   {\r\n    \"value\": \"TimeSigOther\",\r\n    \"text\": \"Other\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiKeySignatureMenu\",\r\n  \"label\": \"Key\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"KeyOfC\",\r\n    \"text\": \"C Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF\",\r\n    \"text\": \"F Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfG\",\r\n    \"text\": \"G Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfBb\",\r\n    \"text\": \"Bb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfD\",\r\n    \"text\": \"D Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfEb\",\r\n    \"text\": \"Eb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfA\",\r\n    \"text\": \"A Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfAb\",\r\n    \"text\": \"Ab Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfE\",\r\n    \"text\": \"E Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfDb\",\r\n    \"text\": \"Db Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfB\",\r\n    \"text\": \"B Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF#\",\r\n    \"text\": \"F# Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfC#\",\r\n    \"text\": \"C# Major\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiTimeSignatureMenu\",\r\n  \"label\": \"Time Signature\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"6/8\",\r\n    \"text\": \"6/8\"\r\n   },\r\n   {\r\n    \"value\": \"3/4\",\r\n    \"text\": \"3/4\"\r\n   },\r\n   {\r\n    \"value\": \"2/4\",\r\n    \"text\": \"2/4\"\r\n   },\r\n   {\r\n    \"value\": \"12/8\",\r\n    \"text\": \"12/8\"\r\n   },\r\n   {\r\n    \"value\": \"7/8\",\r\n    \"text\": \"7/8\"\r\n   },\r\n   {\r\n    \"value\": \"5/8\",\r\n    \"text\": \"5/8\"\r\n   },\r\n   {\r\n    \"value\": \"TimeSigOther\",\r\n    \"text\": \"Other\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiKeySignatureMenu\",\r\n  \"label\": \"Key\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"KeyOfC\",\r\n    \"text\": \"C Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF\",\r\n    \"text\": \"F Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfG\",\r\n    \"text\": \"G Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfBb\",\r\n    \"text\": \"Bb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfD\",\r\n    \"text\": \"D Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfEb\",\r\n    \"text\": \"Eb Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfA\",\r\n    \"text\": \"A Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfAb\",\r\n    \"text\": \"Ab Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfE\",\r\n    \"text\": \"E Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfDb\",\r\n    \"text\": \"Db Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfB\",\r\n    \"text\": \"B Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfF#\",\r\n    \"text\": \"F# Major\"\r\n   },\r\n   {\r\n    \"value\": \"KeyOfC#\",\r\n    \"text\": \"C# Major\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiStaffModifierMenu\",\r\n  \"label\": \"Lines\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"crescendo\",\r\n    \"text\": \"Crescendo\"\r\n   },\r\n   {\r\n    \"value\": \"decrescendo\",\r\n    \"text\": \"Decrescendo\"\r\n   },\r\n   {\r\n    \"value\": \"slur\",\r\n    \"text\": \"Slur/Tie\"\r\n   },\r\n   {\r\n    \"value\": \"ending\",\r\n    \"text\": \"nth ending\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiDynamicsMenu\",\r\n  \"label\": \"Dynamics\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"pp\",\r\n    \"text\": \"Pianissimo\"\r\n   },\r\n   {\r\n    \"value\": \"p\",\r\n    \"text\": \"Piano\"\r\n   },\r\n   {\r\n    \"value\": \"mp\",\r\n    \"text\": \"Mezzo-piano\"\r\n   },\r\n   {\r\n    \"value\": \"mf\",\r\n    \"text\": \"Mezzo-forte\"\r\n   },\r\n   {\r\n    \"value\": \"f\",\r\n    \"text\": \"Forte\"\r\n   },\r\n   {\r\n    \"value\": \"ff\",\r\n    \"text\": \"Fortissimo\"\r\n   },\r\n   {\r\n    \"value\": \"sfz\",\r\n    \"text\": \"sfortzando\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ctor\": \"SuiLanguageMenu\",\r\n  \"label\": \"Language\",\r\n  \"menuItems\": [\r\n   {\r\n    \"value\": \"en\",\r\n    \"text\": \"English\"\r\n   },\r\n   {\r\n    \"value\": \"de\",\r\n    \"text\": \"Deutsch\"\r\n   },\r\n   {\r\n    \"value\": \"ar\",\r\n    \"text\": \"اَلْعَرَبِيَّةُ\"\r\n   },\r\n   {\r\n    \"value\": \"cancel\",\r\n    \"text\": \"Cancel\"\r\n   }\r\n  ]\r\n },\r\n {\r\n  \"ribbonText\": [\r\n   {\r\n    \"buttonId\": \"helpDialog\",\r\n    \"buttonText\": \"Help\"\r\n   },\r\n   {\r\n    \"buttonId\": \"languageMenu\",\r\n    \"buttonText\": \"Language\"\r\n   },\r\n   {\r\n    \"buttonId\": \"fileMenu\",\r\n    \"buttonText\": \"File\"\r\n   },\r\n   {\r\n    \"buttonId\": \"addStaffMenu\",\r\n    \"buttonText\": \"Staves\"\r\n   },\r\n   {\r\n    \"buttonId\": \"measureModal\",\r\n    \"buttonText\": \"Measure\"\r\n   },\r\n   {\r\n    \"buttonId\": \"tempoModal\",\r\n    \"buttonText\": \"Tempo\"\r\n   },\r\n   {\r\n    \"buttonId\": \"timeSignatureMenu\",\r\n    \"buttonText\": \"Time Signature\"\r\n   },\r\n   {\r\n    \"buttonId\": \"keyMenu\",\r\n    \"buttonText\": \"Key\"\r\n   },\r\n   {\r\n    \"buttonId\": \"staffModifierMenu\",\r\n    \"buttonText\": \"Lines\"\r\n   },\r\n   {\r\n    \"buttonId\": \"instrumentModal\",\r\n    \"buttonText\": \"Instrument\"\r\n   },\r\n   {\r\n    \"buttonId\": \"pianoModal\",\r\n    \"buttonText\": \"Piano\"\r\n   },\r\n   {\r\n    \"buttonId\": \"layoutModal\",\r\n    \"buttonText\": \"Layout\"\r\n   },\r\n   {\r\n    \"buttonId\": \"UpOctaveButton\",\r\n    \"buttonText\": \"8va\"\r\n   },\r\n   {\r\n    \"buttonId\": \"DownOctaveButton\",\r\n    \"buttonText\": \"8vb\"\r\n   },\r\n   {\r\n    \"buttonId\": \"moreNavButtons\",\r\n    \"buttonText\": \"...\"\r\n   },\r\n   {\r\n    \"buttonId\": \"dcAlCoda\",\r\n    \"buttonText\": \"DC Al Coda\"\r\n   },\r\n   {\r\n    \"buttonId\": \"dsAlCoda\",\r\n    \"buttonText\": \"DS Al Coda\"\r\n   },\r\n   {\r\n    \"buttonId\": \"dcAlFine\",\r\n    \"buttonText\": \"DC Al Fine\"\r\n   },\r\n   {\r\n    \"buttonId\": \"dsAlFine\",\r\n    \"buttonText\": \"DS Al Fine\"\r\n   },\r\n   {\r\n    \"buttonId\": \"toCoda\",\r\n    \"buttonText\": \"to \"\r\n   },\r\n   {\r\n    \"buttonId\": \"fine\",\r\n    \"buttonText\": \"Fine\"\r\n   },\r\n   {\r\n    \"buttonId\": \"moreStaffButtons\",\r\n    \"buttonText\": \"...\"\r\n   }\r\n  ]\r\n }\r\n]`;\r\n\r\nexport var quickStartHtmlen = `\r\n    <h3 id=\"quick-start-guide\">Quick start guide</h3>\r\n<p>If you don&#39;t like to read instructions, this cook&#39;s tour of Smoosic was made for you.</p>\r\n<ul>\r\n<li><p>One of buttons on the left is called &#39;File&#39;.  Click on it. The menu items before &#39;cancel&#39; are pre-canned projects that you can use as a template to get you started.</p>\r\n</li>\r\n<li><p>The cursor keys will navigate you to the different notes.</p>\r\n</li>\r\n<li><p>Letters a-g on the computer keyboard change the note to those pitches</p>\r\n</li>\r\n<li><p>&#39;Insert&#39; adds a new, blank measure.</p>\r\n</li>\r\n<li><p>The ribbon of thick blue buttons on the top expand to button groups, that contain most of the functionality of Smoosic.  </p>\r\n</li>\r\n<li><p>The buttons on the left bring up menus or dialogs that do basically what the buttons say.</p>\r\n</li>\r\n<li><p>There are a few &#39;instant gratification&#39; buttons for playing the music, refreshing the screen or changing the zoom level on the left part of the ribbon.</p>\r\n</li>\r\n<li><p>The piano tool is an alternate way of entering music, or can be dismissed by the close button in the lower left.</p>\r\n</li>\r\n</ul>\r\n<p><img src=\"https://imgur.com/nP16PMI.gif\" alt=\"\" width=\"640\" height=\"480\"></p>\r\n`;\r\n\r\n\r\nexport var selectionHtmlen = `\r\n<h3 id=\"selecting-things\">Selecting things</h3>\r\n<p>Almost all operations in Smoosic act on the selected music.  You can select notes in different ways:</p>\r\n<ol>\r\n<li>with the computer mouse</li>\r\n<li>with the keyboard&#39;s navigation keys</li>\r\n<li>with the navigation keys on the ribbon</li>\r\n<li>with the piano tool, to some extent.</li>\r\n</ol>\r\n<p><img src=\"https://imgur.com/q1qK3Pn.gif\" alt=\"\"></p>\r\n<p>You can select multiple things with the keyboard navigation keys, by selecting &#39;shift-arrow&#39;, just like many applications.  There is a similar control for selection in the navigation ribbon.  Some operations, like changing pitch for instance, act on all the selected notes.</p>\r\n<p>Sometimes a selection of one line affects all the measures in that column (or all the measures of the system, if you like).  When you change the key, for instance, the selection determines where the key change starts.  If you have multiple measures selected, it applies to those measures, and then changes back to whatever it was before.</p>\r\n`;\r\n\r\n\r\nexport const enterDurationsHtmlen = `\r\n<p>Note duration in Smoosic is done by changing the duration of an existing note.  Usually, doubling the duration or cutting it in two, or adding a dot - duration to a note.  You can also create tuplets for uneven sets of notes (3, 5, or 7).</p>\r\n<p>There are actually 3 ways to do many duration operations - using the piano tool, using the computer keyboard, or using the button ribbon.  Like with many things, you should find entering duration using the keyboard fastest, once you have some experience with Smoosic.  But the ribbon or the </p>\r\n<h2 id=\"changing-note-length-with-the-keyboard\">Changing note length with the keyboard</h2>\r\n<p>You can change the length of notes using the &#39;,&#39; and &#39;.&#39; (comma and period) keys, which halve and double the note lengths, respectively.  You can add a dot to the length of the note (multiplying length by 3/2 for the first dot, and 3/4 for the second dot, if you like to think of it that way) or remove a dot, using the &#39;&gt;&#39; and &#39;&lt;&#39;.  The mnemonic device for these is &#39;&gt;&#39; makes note duration greater.  &#39;&lt;&#39; makes note duration...less.  (On most QWERTY keyboards, comma shifted is &#39;&lt;&#39; and period shifted is &#39;&gt;&#39;).</p>\r\n<p><img src=\"https://imgur.com/5ZWq2Xe.gif\" alt=\"\"></p>\r\n<p>Note how the selection is preserved as the notes get shorter.  When you change something, Smoosic will try to keep the selection as close as possible to what you had.  You can use the cursor navigation keys to move to a specific selected note.</p>\r\n<p><img src=\"https://imgur.com/woMw4RH.gif\" alt=\"\"></p>\r\n<p>When you increase the length of a note, Smoosic always &#39;borrows&#39; from the next note in the measure that is eligible.  So when you double the length of the 8th note, it combines the 16th, and 2 32nd notes, and collapses them into a single quarter.  If Smoosic can&#39;t honor the request, it does nothing.  For instance, it can&#39;t remove the dot from a note with no dot, and it can&#39;t extend beyond the length of the measure.</p>\r\n<p>You can create tuplets from the keyboard by typing Ctrl-3, Ctrl-5 or Ctrl-7 for triplets, quintuplets, and septuplets, respectively.  Individual notes in a tuplet can be doubled and halved with the duration keys &#39;-&#39; (minus) and &#39;=&#39; (equals), just like non-tuplets.  You &#39;untupletify&#39; a tuplet by Ctrl-0.</p>\r\n<p><img src=\"https://imgur.com/uBpQwXD.gif\" alt=\"\"></p>\r\n<h2 id=\"changing-note-length-with-piano-widget\">Changing note length with piano widget</h2>\r\n<p>The piano widget is shown when the application starts, and can be restored from the left menu &#39;Piano&#39; button when closed.</p>\r\n<p>You can double or halve note duration, or add dot duration, to a note using the piano tool. </p>\r\n<p><img src=\"https://imgur.com/Rw4yDxP.gif\" alt=\"\"></p>\r\n<h2 id=\"changing-note-length-from-the-button-ribbon\">Changing note length from the button ribbon</h2>\r\n<p>All the duration commands can be accomplished from the ribbon buttons.  </p>\r\n<p><img src=\"https://imgur.com/n9bmamg.gif\" alt=\"\"></p>\r\n<p>Note that the equivalent keyboard commands are also indicated on the right of each button, when it&#39;s available.  (there are only so many keys, so there are some ribbon buttons with no key shortcut). </p>\r\n`;\r\n\r\n\r\nexport const enterPitchesHtmlen = `\r\n<p>There are a few ways to enter notes in Smoosic.  You can click on the piano widget keys, or you can enter notes directly from the keyboard.</p>\r\n<h2 id=\"your-first-smoosical-notes\">Your first Smoosical notes</h2>\r\n<h3 id=\"notes-from-the-keyboard\">Notes from the keyboard</h3>\r\n<p>The keys a-g on the computer keyboard will enter a corresponding note, A-G, on the staff (Most key commands in Smoosic have a mnemonic device).  The default behavior is for the cursor to advance when a note is entered in this way.  (Future behavior, auto-advance can be overridden). You navigate to the notes using the keyboard navigation arrows.</p>\r\n<p><img src=\"https://imgur.com/lxR0NI7.gif\" alt=\"\"></p>\r\n<p>You change the octave from the keyboard using the &#39;_&#39; and &#39;+&#39; (underscore, aka shift-minus, and plus), and change notes chromatically using &#39;-&#39; and &#39;=&#39; key.  The mnemonic device for this is &#39;plus and minus&#39; for raising and lowering pitches.  You can change the enharmonic spelling of the note using the &#39;Shift-E&#39; (mnemonic: E for enharmonic - get it?).  And Shift-F gives you a courtesy, or cautionary, accidental (mnemonic - F comes after E).</p>\r\n<p><img src=\"https://imgur.com/1tC94sV.gif\" alt=\"\"></p>\r\n<p>You can create chords and intervals using the number keys along the top of the keyboard.  The &#39;3&#39; key makes a third, the &#39;4&#39; key a fourth, and so on.  Shift+number gives you the interval down.</p>\r\n<p><img src=\"https://imgur.com/IwoeWi3.gif\" alt=\"\"></p>\r\n<p>Note that the interval starts from the highest note in the chord, for intervals going up, and the lowest note in the chord, for intervals going down.  You can select individual pitches in the chord using &#39;Shift-Up Arrow&#39; as shown.  This is similar to how modifiers like dynamics are selected.  Once you have the pitch selected, you can change it using the up-down commands shows above, or change the enharmonic spelling.</p>\r\n<p>There is currently no way to remove a single pitch from the chord.  If you want to collapse the chord, just type a letter a-g on the keyboard, and it will be replaced with a single note.</p>\r\n<h3 id=\"notes-from-the-piano-tool\">Notes from the piano tool</h3>\r\n<p>You can also add notes to your score with the piano tool, by clicking on the corresponding notes.</p>\r\n<p><img src=\"https://imgur.com/MOMlIg3.gif\" alt=\"\"></p>\r\n<p>Clicking on the piano gives the selected note the piano pitch.  The octave of the note is based on the clef, so for treble clef, the &#39;C&#39; is middle &#39;C&#39;.  You can change the octave of the note, and move the pitch up and down.  The top buttons affect the pitch, and the bottom buttons navigate or change the length of the note.  Clicking on the chord button acts like a &#39;sustain&#39; that puts additional notes in chords.</p>\r\n<p>Everything that can be done from the piano widget, and most things in Smoosic generally, can be done more efficiently with keyboard commands. Once you are comfortable with the computer keyboard, you can free up some screen real-estate by closing the piano widget (cross control in lower left).  You can bring it up again with the piano menu button on the left.</p>\r\n`;\r\n\r\nexport const workingWithTexten = `\r\n<h2 id=\"text-modes-in-smoosic\">Text Modes in Smoosic</h2>\r\n<p>Working with text in Smoosic is slightly different experience than editing music notation.  While you are entering, moving. or resizing the text, normal navigation with the cursor keys and music entry is suspended, and only the text you are working with is fully visible.  There is a dialog box with a few limited options, such as exiting text-entry mode.  This is true of text block, lyrics, and chords.  Once you finish entering the text, you get a different dialog box similar to the one you can use to edit modifiers such as slurs, crescendos, etc.</p>\r\n<p><img src=\"https://imgur.com/EKDIUi5.png\" alt=\"\"></p>\r\n<h2 id=\"text-blocks\">Text Blocks</h2>\r\n<p>Text blocks, also called &#39;Score text&#39; because it is not tied to a musical element, is free-form text that can be placed anywhere.  It can be used for titles, credits, etc.  It can also be set up for pagination using escape sequences. <strong>**</strong>  Unicode characters are also allowed.</p>\r\n<p>You create a text block by selecting the big &#39;T&#39; on the text ribbon, with the cursor symbol (diagram).  You enter the text as you like it (only a single line is supported right now, if you want multiple lines you have to stack them).  </p>\r\n<p><img src=\"https://imgur.com/kSMHoDl.png\" alt=\"\"></p>\r\n<h2 id=\"lyrics\">Lyrics</h2>\r\n<p>Lyrics are entered by clicking on the lyrics button (do-re-mi).  Lyrics are entered per note.  When you hit space bar or - sign, the focus is advanced to the next note/lyric.  A &#39;-&#39; sign by itself in a lyric gives you a horizontal line.  When you want to leave lyric editing mode, just like other text entry modes, click on the &#39;Done editing&#39; button on the dialog. Note that the dialog can be moved around if it interferes with the music you are trying to edit.  (This is true of all dialog boxes in Smoosic.)  The final dialog box allows you to switch to a different verse.</p>\r\n<p><img src=\"https://imgur.com/FfKOUUQ.png\" alt=\"\"></p>\r\n<h2 id=\"chord-changes\">Chord changes</h2>\r\n<p>Chord changes button is in the same ribbon group as lyrics, and the editing experience is pretty similar.  There are some magic key strokes:</p>\r\n<ul>\r\n<li>^ (shift-6) starts or ends superscript mode</li>\r\n<li>%  (shift-5) starts or ends subscript mode</li>\r\n<li>If you immediately follow subscript mode by superscript mode, the scripts are &#39;stacked&#39;.</li>\r\n<li>b, #, + , (, ) , &#39;/&#39; result in their respective symbols.</li>\r\n</ul>\r\n<p>Right now chord symbol entry is not too WYSIWYG - the actual chord rendering is done when the editing mode is done, which is a bit annoying.  I will be improving this as time goes on.</p>\r\n<p><img src=\"https://imgur.com/a2ldLDX\" alt=\"\"></p>`;\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { htmlHelpers } from \"../../common/htmlHelpers\";\r\n// ## SmoTranslationEditor\r\n// Create a somewhat user-friendly editor DOM to translate SMO\r\n// dialogs and menus, and any subset, into other languages.\r\nexport class SmoTranslationEditor {\r\n\r\n   // ### _getHtmlTextInput\r\n   // All the editable text elements contain: the code label or value from the\r\n   // UI element, the En string, and  the translated string, or a copy of the\r\n   // EN string if the string has not been translated.\r\n    static _getHtmlTextInput(dbLabel, enLabel, langLabel, labelType, labelId) {\r\n      var b = htmlHelpers.buildDom;\r\n\r\n      const compHtml = b('div').classes('dialog-element-container')\r\n        .attr('data-'+labelType,labelId).append(\r\n          b('div').classes('dialog-component-label').append(\r\n            b('span').classes('trans-label').append(\r\n              b('span').classes('trans-db-text').text(dbLabel)\r\n            ).append(\r\n              b('span').classes('trans-en-text').text(enLabel)\r\n            ).append(\r\n              b('input').classes('trans-label-input')\r\n            ).append(\r\n              b('span').classes('plaintext-translate hide').text(langLabel)\r\n            )\r\n          )\r\n        ).dom();\r\n      return compHtml;\r\n    }\r\n\r\n    // ### _getMenuTextDialogHtml\r\n    // Get all the menu item labels for translation\r\n    static _getMenuTextDialogHtml(menuCtor, enStrings, langStrings) {\r\n      const menuClass = Smo.getClass(menuCtor);\r\n      const menuItems = menuClass['defaults'].menuItems;\r\n      var enMenu = enStrings.find((mn) => mn.ctor === menuCtor);\r\n\r\n      // Get the JSON EN menu, or copy the DB strings if it doesn't exist\r\n      if (!enMenu) {\r\n        enMenu = JSON.parse(JSON.stringify(menuClass['defaults']));\r\n        enMenu.ctor = menuCtor;\r\n      }\r\n      // Get the JSON language menu strings, or copy the EN strings if it doesn't exist\r\n      var langMenu = langStrings.find((mn) => mn.ctor === menuCtor);\r\n      if (!langMenu) {\r\n        langMenu = JSON.parse(JSON.stringify(menuClass['defaults']));\r\n        langMenu.ctor = menuCtor;\r\n      }\r\n\r\n      // create the DOM menu container\r\n      var b = htmlHelpers.buildDom;\r\n      const container = b('div').classes('menu-translate-container')\r\n        .attr('data-menucontainer',menuCtor).append(\r\n          b('button').classes('icon-plus trans-expander')).append(\r\n            b('span').classes('menu-translate-title').text(menuCtor)\r\n        ).dom();\r\n      const menuItemsDom = b('div').classes('menu-element-container').dom();\r\n\r\n      // create the label editor\r\n      const menuLabel = SmoTranslationEditor._getHtmlTextInput(menuClass['defaults'].label,enMenu.label,langMenu.label,\r\n        'menulabel',menuCtor);\r\n      $(menuItemsDom).append(menuLabel);\r\n      $(container).append(menuItemsDom);\r\n\r\n      // create the editor for each item\r\n      menuItems.forEach((item) => {\r\n        var enItem  = enMenu.menuItems.find((mi) => mi.value === item.value);\r\n        if (!enItem) {\r\n          enItem = JSON.parse(JSON.stringify(item));\r\n        }\r\n        var langItem = langMenu.menuItems.find((mi) => mi.value === item.value);\r\n        if (!langItem) {\r\n          langItem = JSON.parse(JSON.stringify(item));\r\n        }\r\n        const menuItemDom = b('div').classes('menu-item-container').dom();\r\n        const itemEditDom = SmoTranslationEditor._getHtmlTextInput(\r\n          item.value,enItem.text,langItem.text,\r\n          'itemtext',item.value);\r\n        $(menuItemDom).append(itemEditDom);\r\n        $(menuItemsDom).append(menuItemDom);\r\n      });\r\n      return container;\r\n    }\r\n    static getStaticText(dialogElements,label) {\r\n      return dialogElements.find((x) => x.staticText).staticText.find((x) => x[label]);\r\n    }\r\n    static getButtonTranslateHtml(enStrings,langStrings,transContainer) {\r\n      var b = htmlHelpers.buildDom;\r\n      var buttonDom = b('div').classes('ribbon-translate-container')\r\n        .attr('data-ribbon-translate','buttons').append(\r\n          b('button').classes('icon-plus trans-expander')).append(\r\n          b('span').classes('ribbon-translate-title').text('Button Text')\r\n      ).dom();\r\n\r\n      var enKeys = enStrings.find((enString) => enString.ribbonButtonText);\r\n      if (!enKeys) {\r\n        enKeys = JSON.parse(JSON.stringify(RibbonButtons.translateButtons));\r\n      }\r\n      var langKeys = langStrings.find((langString) => langString.ribbonText);\r\n      if (!langKeys) {\r\n        langKeys = JSON.parse(JSON.stringify(RibbonButtons.translateButtons));\r\n      } else {\r\n        langKeys = langKeys.ribbonText;\r\n      }\r\n      RibbonButtons.translateButtons.forEach((button) => {\r\n        const langObj  = langKeys.find((langText) => langText.buttonId === button.buttonId);\r\n        const enObj = enKeys.find((enText) => enText.buttonId === button.buttonId);\r\n        const enString  = enObj ? enObj .buttonText: button.buttonText;\r\n        const langString = langObj ? langObj.buttonText : button.buttonText;\r\n        var buttonContainer = b('div').classes('ribbon-button-container')\r\n          .attr('data-buttoncontainer',button.id).dom();\r\n        $(buttonContainer).append(\r\n           SmoTranslationEditor._getHtmlTextInput(button.buttonId,enString,langString,'ribbon-button',button.buttonId)\r\n        );\r\n        $(buttonDom).append(buttonContainer);\r\n      });\r\n      $(transContainer).append(buttonDom);\r\n    }\r\n\r\n    // ### _getStaticTextDialogHtml\r\n    // create DOM for the static text section of the dialogs.\r\n    static _getStaticTextDialogHtml(dialogCtor,element,enDb,langDb,htmlContainer) {\r\n      var b = htmlHelpers.buildDom;\r\n\r\n      const dbObj = element.staticText;\r\n      var enStNode = enDb.find((st) => st.staticText);\r\n      if (!enStNode) {\r\n        const enStString = JSON.parse(JSON.stringify(element.staticText));\r\n        enStNode = { staticText:enStString };\r\n        enDb.push({ staticText:enStString });\r\n      }\r\n      var langStNode = langDb.find((st) => st.staticText);\r\n      if (!langStNode|| !langStNode.staticText) {\r\n        const langStString = JSON.parse(JSON.stringify(element.staticText));\r\n        langStNode = { staticText: langStString};\r\n        langDb.push(langStNode);\r\n      }\r\n      const enObj = enStNode.staticText;\r\n      const langObj = langStNode.staticText;\r\n      const nodeContainer = b('div')\r\n        .classes('dialog-element-container')\r\n        .attr('data-component','staticText')\r\n        .dom();\r\n      $(htmlContainer).append(nodeContainer);\r\n      const elKeys = dbObj.map((st) => Object.keys(st)[0]);\r\n      elKeys.forEach((elKey) => {\r\n        var dbVal = dbObj.find((st) => st[elKey]);\r\n        var enVal = enObj.find((st) => st[elKey]);\r\n        var langVal = langObj.find((st) => st[elKey]);\r\n        if (!enVal) {\r\n          enVal = dbVal;\r\n        }\r\n        if (!langVal) {\r\n          langVal = dbVal;\r\n        }\r\n        const translateElement = SmoTranslationEditor._getHtmlTextInput(\r\n          elKey,enVal[elKey],langVal[elKey],'statictext',elKey);\r\n        $(nodeContainer).append(translateElement);\r\n      });\r\n    }\r\n\r\n    static _getDialogComponentHtml(dialogCtor,element,enDb,langDb,container) {\r\n      var b = htmlHelpers.buildDom;\r\n\r\n      var label = element.label;\r\n      var smoName = element.smoName;\r\n      var enComponent = enDb.find((st) => st.id === smoName);\r\n      if (!enComponent) {\r\n        enComponent = JSON.parse(JSON.stringify(element))\r\n      }\r\n      var langComponent = langDb.find((st) => st.id === smoName);\r\n      if (!langComponent) {\r\n        langComponent = JSON.parse(JSON.stringify(element));\r\n      }\r\n      const enLabel = enComponent.label ? enComponent.label : label;\r\n      const langLabel = langComponent.label ? langComponent.label : label;\r\n      const compHtml = SmoTranslationEditor._getHtmlTextInput(\r\n        label,enLabel,langLabel,'component',smoName);\r\n\r\n      if (element.options) {\r\n        const optionsHtml = b('div').classes('dialog-component-options').dom();\r\n        $(compHtml).append(optionsHtml);\r\n        if (!enComponent.options) {\r\n          enComponent.options = JSON.parse(JSON.stringify(element.options));\r\n        }\r\n        if (!langComponent.options) {\r\n          langComponent.options = JSON.parse(JSON.stringify(element.options));\r\n        }\r\n\r\n        element.options.forEach((option) => {\r\n          var enOption = enComponent.options.find((op) => op.value === option.value);\r\n          var langOption = langComponent.options.find((op) => op.value === option.value);\r\n          if (!enOption || !enOption.label) {\r\n            enOption = JSON.parse(JSON.stringify(option));\r\n          }\r\n          if (!langOption || !langOption.label) {\r\n            langOption = JSON.parse(JSON.stringify(option));\r\n          }\r\n          const optionHtml =  SmoTranslationEditor._getHtmlTextInput(\r\n            option.value,enOption.label,langOption.label,'component-option',option.value);\r\n            $(optionsHtml).append(optionHtml)\r\n        });\r\n        $(container).append(compHtml);\r\n      }\r\n    }\r\n\r\n    static getDialogTranslationHtml(dialogCtor,enStrings,langStrings) {\r\n      var b = htmlHelpers.buildDom;\r\n      var container = b('div').classes('db-translate-container').attr('data-dbcontainer',dialogCtor)\r\n        .append(b('button').classes('icon-plus trans-expander'))\r\n        .append(b('span').classes('db-translate-title').text(dialogCtor)).dom();\r\n      var ctor = Smo.getClass(dialogCtor);\r\n      var elements = ctor.dialogElements;\r\n      var enDb = enStrings.find((dbStr) => dbStr.ctor === dialogCtor);\r\n      if (!enDb) {\r\n        enDb = JSON.parse(JSON.stringify(elements));\r\n      } else {\r\n        enDb = enDb.dialogElements;\r\n      }\r\n      var langDb = langStrings.find((dbStr) => dbStr.ctor === dialogCtor);\r\n      if (!langDb) {\r\n        langDb = JSON.parse(JSON.stringify(elements));\r\n      } else {\r\n        langDb = langDb.dialogElements;\r\n      }\r\n      elements.forEach((element) => {\r\n        if (element.staticText) {\r\n          SmoTranslationEditor._getStaticTextDialogHtml(dialogCtor,element,enDb,langDb,container);\r\n        } else if (element.smoName) {\r\n          SmoTranslationEditor._getDialogComponentHtml(dialogCtor,element,enDb,langDb,container);\r\n        }\r\n      });\r\n      return container;\r\n    }\r\n    static getAllTranslationHtml(lang) {\r\n      var enStr = SmoLanguage.en.strings\r\n      var langStr = SmoLanguage[lang].strings;\r\n      var b = htmlHelpers.buildDom;\r\n      var container = b('div').classes('top-translate-container')\r\n        .attr('dir',SmoLanguage[lang].dir).dom();\r\n      SmoTranslator.allDialogs.forEach((dialog) => {\r\n        $(container).append(SmoTranslationEditor.getDialogTranslationHtml(dialog,enStr,langStr))\r\n      });\r\n      SmoTranslator.allMenus.forEach((menu) => {\r\n        $(container).append(SmoTranslationEditor._getMenuTextDialogHtml(menu,enStr,langStr));\r\n      });\r\n      SmoTranslationEditor.getButtonTranslateHtml(enStr,langStr,container);\r\n      var resultDom = b('div').classes('translation-json-container').append(\r\n        b('textarea').classes('translation-json-text')).append(\r\n        b('div').append(\r\n          b('button').classes('translate-submit-button').text('Submit')\r\n        )\r\n      ).dom();\r\n\r\n      $(container).append(resultDom);\r\n\r\n      return container;\r\n    }\r\n    static parseDom() {\r\n      var json = [];\r\n      // $('.top-translate-container .db-translate-container[data-dbcontainer] [data-component=\"staticText\"]')\r\n       $('.top-translate-container .db-translate-container[data-dbcontainer]').each((ix,dbEl) => {\r\n         var db = $(dbEl).attr('data-dbcontainer');\r\n         var obj = {ctor: db};\r\n         var elements = [];\r\n         var domComponents = $(dbEl).find('[data-component]');\r\n         $(domComponents).each(function(ix,domComponent) {\r\n           const compType = $(domComponent).attr('data-component');\r\n\r\n           if (compType === 'staticText') {\r\n             var stElements=[];\r\n             $(domComponent).find('[data-statictext]').each((ix,stDom) => {\r\n               const key=$(stDom).attr('data-statictext');\r\n               const value = $(stDom).find('input.trans-label-input').val();\r\n               const stNode = JSON.parse('{\"'+key+'\":\"'+value+'\"}');\r\n               stElements.push(stNode);\r\n             });\r\n             elements.push({staticText:stElements});\r\n           } else {\r\n             var dbComponent = {id:compType};\r\n             dbComponent.label = $(domComponent).find('input.trans-label-input').val();\r\n             var compOptions = [];\r\n             $(domComponent).find('[data-component-option]').each(function(ix,optionDom) {\r\n               const value = $(optionDom).find('.trans-db-text').text();\r\n               const label = $(optionDom).find('input.trans-label-input').val();\r\n               compOptions.push({value:value,label:label});\r\n             });\r\n             dbComponent.options = compOptions;\r\n             elements.push(dbComponent);\r\n           }\r\n         });\r\n         obj.dialogElements = elements;\r\n         json.push(obj);\r\n\r\n       });\r\n       $('.menu-translate-container[data-menucontainer]').each((ix,menuEl) => {\r\n         var menuId = $(menuEl).attr('data-menucontainer');\r\n         var obj = {ctor:menuId};\r\n         const menuLabel = $(menuEl)\r\n           .find('.dialog-element-container[data-menulabel] .trans-label-input')\r\n           .val();\r\n         obj.label = menuLabel;\r\n         var menuItems = [];\r\n         var itemsDom = $(menuEl).find('.menu-item-container .dialog-element-container');\r\n         $(itemsDom).each((ix,itemDom) => {\r\n           const value = $(itemDom).find('.trans-db-text').text();\r\n           const text = $(itemDom).find('input.trans-label-input').val();\r\n           menuItems.push({value:value,text:text});\r\n         });\r\n         obj.menuItems = menuItems;\r\n         json.push(obj);\r\n       });\r\n       var ribbonText = [];\r\n       $('.ribbon-translate-container .ribbon-button-container').each((ix,buttonEl) => {\r\n         const buttonId = $(buttonEl).find('.trans-db-text').text();\r\n         const buttonText = $(buttonEl).find('input.trans-label-input').val();\r\n         ribbonText.push({buttonId: buttonId,buttonText:buttonText});\r\n       });\r\n       json.push({ribbonText:ribbonText});\r\n      return json;\r\n    }\r\n    static startEditor(lang) {\r\n      var transDom =  SmoTranslationEditor.getAllTranslationHtml(lang);\r\n      $('.translation-editor').append(transDom);\r\n      $('body').addClass('translation-mode');\r\n      $('.plaintext-translate').each(function(ix,el) {\r\n        var txt = $(this).text();\r\n        var input = $(this).closest('.trans-label').find('input.trans-label-input').val(txt);\r\n      });\r\n\r\n      $('.db-translate-container button.trans-expander').off('click').on('click', function() {\r\n        var exp = $(this).closest('.db-translate-container');\r\n        if ($(exp).hasClass('expanded')) {\r\n          $(exp).removeClass('expanded');\r\n          $(this).removeClass('icon-minus');\r\n          $(this).addClass('icon-plus');\r\n        } else {\r\n          $(exp).addClass('expanded');\r\n          $(this).addClass('icon-minus');\r\n          $(this).removeClass('icon-plus');\r\n        }\r\n      });\r\n      $('.menu-translate-container button.trans-expander').off('click').on('click', function() {\r\n        var exp = $(this).closest('.menu-translate-container');\r\n        if ($(exp).hasClass('expanded')) {\r\n          $(exp).removeClass('expanded');\r\n          $(this).removeClass('icon-minus');\r\n          $(this).addClass('icon-plus');\r\n        } else {\r\n          $(exp).addClass('expanded');\r\n          $(this).addClass('icon-minus');\r\n          $(this).removeClass('icon-plus');\r\n        }\r\n      });\r\n      $('.ribbon-translate-container button.trans-expander').off('click').on('click', function() {\r\n        var exp = $(this).closest('.ribbon-translate-container');\r\n        if ($(exp).hasClass('expanded')) {\r\n          $(exp).removeClass('expanded');\r\n          $(this).removeClass('icon-minus');\r\n          $(this).addClass('icon-plus');\r\n        } else {\r\n          $(exp).addClass('expanded');\r\n          $(this).addClass('icon-minus');\r\n          $(this).removeClass('icon-plus');\r\n        }\r\n      });\r\n      $('.translate-submit-button').off('click').on('click',(ev) => {\r\n        var json = SmoTranslationEditor.parseDom();\r\n        $('.translation-json-text').val(JSON.stringify(json,null,' '));\r\n      });\r\n\r\n\r\n    }\r\n\r\n}\r\n","export class defaultEditorKeys {\r\n  static get keys() {\r\n    return [{\r\n        event: \"keydown\",\r\n        key: \"=\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"transposeUp\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"-\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"transposeDown\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"+\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"upOctave\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"_\",\r\n        ctrlKey:false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"downOctave\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"F\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"toggleCourtesyAccidental\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \".\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"doubleDuration\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \",\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"halveDuration\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \">\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"dotDuration\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"<\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"undotDuration\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"a\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"setPitch\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"A\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"slashGraceNotes\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"b\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"setPitch\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"G\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"addGraceNote\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"g\",\r\n        ctrlKey: false,\r\n        altKey: true,\r\n        shiftKey: false,\r\n        action: \"removeGraceNote\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"c\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"setPitch\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"d\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"setPitch\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"e\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"setPitch\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"f\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"setPitch\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"g\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"setPitch\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"r\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"makeRest\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"r\",\r\n        ctrlKey: false,\r\n        altKey: true,\r\n        shiftKey: false,\r\n        action: \"rerender\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"p\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"playScore\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"P\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"pausePlayer\"\r\n      },\r\n            {\r\n        event: \"keydown\",\r\n        key: \"s\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"stopPlayer\"\r\n      },             {\r\n        event: \"keydown\",\r\n        key: \"t\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"tempoDialog\"\r\n      },\r\n      {\r\n        event: \"keydown\",\r\n        key: \"3\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"makeTuplet\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"5\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"makeTuplet\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"7\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"makeTuplet\"\r\n      },\r\n      // interval commands\r\n      {\r\n        event: \"keydown\",\r\n        key: \"2\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"3\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"4\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"5\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"6\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"7\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"8\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"@\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"$\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"#\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"%\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"^\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"&\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"*\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"8\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"interval\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"0\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"unmakeTuplet\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"Insert\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"addMeasure\"\r\n      },{\r\n        event: \"keydown\",\r\n        key: \"Insert\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"addMeasure\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"i\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"addMeasure\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"I\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"addMeasure\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"B\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"toggleBeamDirection\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"Delete\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"deleteNote\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"d\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"deleteNote\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"z\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"undo\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"c\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"copy\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"x\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"toggleBeamGroup\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"X\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"beamSelections\"\r\n      },{\r\n        event: \"keydown\",\r\n        key: \"v\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"paste\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"h\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"i\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"j\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"k\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"l\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"H\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"I\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"J\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"K\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"addRemoveArticulation\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"L\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"addRemoveArticulation\"\r\n      },{\r\n        event: \"keydown\",\r\n        key: \"E\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"toggleEnharmonic\"\r\n      }\r\n    ];\r\n  }\r\n\r\n}\r\n","\r\nexport class defaultTrackerKeys {\r\n\r\n  static get keys() {\r\n    return [{\r\n        event: \"keydown\",\r\n        key: \"Home\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveHome\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"Home\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveHome\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"Home\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"moveHome\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"Home\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"moveHome\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"End\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveEnd\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"End\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"moveHome\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"End\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveEnd\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"End\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"moveEnd\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowRight\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveSelectionRight\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowRight\",\r\n        ctrlKey: false,\r\n        altKey: true,\r\n        shiftKey: false,\r\n        action: \"advanceModifierSelection\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowLeft\",\r\n        ctrlKey: false,\r\n        altKey: true,\r\n        shiftKey: false,\r\n        action: \"advanceModifierSelection\"\r\n      },{\r\n        event: \"keydown\",\r\n        key: \"ArrowLeft\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveSelectionLeft\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowRight\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"growSelectionRight\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowRight\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"growSelectionRightMeasure\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowLeft\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"growSelectionLeft\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowUp\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveSelectionUp\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowDown\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveSelectionDown\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowRight\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveSelectionRightMeasure\"\r\n      }, {\r\n        event: \"keydown\",\r\n        key: \"ArrowLeft\",\r\n        ctrlKey: true,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: \"moveSelectionLeftMeasure\"\r\n      },{\r\n        event: \"keydown\",\r\n        key: \"ArrowUp\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"moveSelectionPitchUp\"\r\n      },{\r\n        event: \"keydown\",\r\n        key: \"ArrowDown\",\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: true,\r\n        action: \"moveSelectionPitchDown\"\r\n      }\r\n      ];\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SuiTempoDialog } from './dialogs/measureDialogs';\r\nimport { SuiAudioPlayer } from '../render/audio/player';\r\nimport { SmoArticulation } from '../smo/data/noteModifiers';\r\n\r\n// ## suiEditor\r\n// KeyCommands object handles key events and converts them into commands, updating the score and\r\n// display\r\nexport class SuiKeyCommands {\r\n  constructor(params) {\r\n    Vex.Merge(this, params);\r\n    this.slashMode = false;\r\n  }\r\n\r\n  tempoDialog() {\r\n    SuiTempoDialog.createAndDisplay(\r\n      {\r\n        buttonElement: this.buttonElement,\r\n        buttonData: this.buttonData,\r\n        completeNotifier: this.controller,\r\n        view: this.view,\r\n        eventSource: this.eventSource,\r\n        editor: this\r\n      }\r\n    );\r\n  }\r\n\r\n  get score() {\r\n    return this.view.score;\r\n  }\r\n\r\n  undo() {\r\n    this.view.undo();\r\n  }\r\n\r\n  copy() {\r\n    this.view.copy();\r\n  }\r\n  paste() {\r\n    this.view.paste();\r\n  }\r\n  toggleBeamGroup() {\r\n    this.view.toggleBeamGroup();\r\n  }\r\n\r\n  beamSelections() {\r\n    this.view.beamSelections();\r\n  }\r\n  toggleBeamDirection() {\r\n    this.view.toggleBeamDirection();\r\n  }\r\n\r\n  collapseChord() {\r\n    this.view.collapseChord();\r\n  }\r\n\r\n  playScore() {\r\n    var mm = this.view.tracker.getExtremeSelection(-1);\r\n    if (SuiAudioPlayer.playingInstance && SuiAudioPlayer.playingInstance.paused) {\r\n      SuiAudioPlayer.playingInstance.play();\r\n      return;\r\n    }\r\n    new SuiAudioPlayer({ score: this.view.score, startIndex: mm.selector.measure, tracker: this.view.tracker }).play();\r\n  }\r\n\r\n  stopPlayer() {\r\n    SuiAudioPlayer.stopPlayer();\r\n  }\r\n  pausePlayer() {\r\n    SuiAudioPlayer.pausePlayer();\r\n  }\r\n\r\n  intervalAdd(interval, direction) {\r\n    this.view.setInterval(direction * interval);\r\n  }\r\n\r\n  interval(keyEvent) {\r\n    // code='Digit3'\r\n    var interval = parseInt(keyEvent.keyCode, 10) - 49;  // 48 === '0', 0 indexed\r\n    if (isNaN(interval) || interval < 1 || interval > 7) {\r\n      return;\r\n    }\r\n    this.intervalAdd(interval, keyEvent.shiftKey ? -1 : 1);\r\n  }\r\n\r\n  transpose(offset) {\r\n    this.view.transposeSelections(offset);\r\n  }\r\n  transposeDown() {\r\n    this.transpose(-1);\r\n  }\r\n  transposeUp() {\r\n    this.transpose(1);\r\n  }\r\n  upOctave() {\r\n    this.transpose(12);\r\n  }\r\n  downOctave() {\r\n    this.transpose(-12);\r\n  }\r\n  makeRest() {\r\n    this.view.makeRest();\r\n  }\r\n\r\n  setPitchCommand(letter) {\r\n    this.view.setPitch(letter);\r\n  }\r\n\r\n  setPitch(keyEvent) {\r\n    this.setPitchCommand(keyEvent.key.toLowerCase());\r\n  }\r\n\r\n  dotDuration() {\r\n    this.view.batchDurationOperation('dotDuration');\r\n  }\r\n\r\n  undotDuration() {\r\n    this.view.batchDurationOperation('undotDuration');\r\n  }\r\n\r\n  doubleDuration() {\r\n    this.view.batchDurationOperation('doubleDuration');\r\n  }\r\n\r\n  halveDuration() {\r\n    this.view.batchDurationOperation('halveDuration');\r\n  }\r\n\r\n  addMeasure(keyEvent) {\r\n    this.view.addMeasure(keyEvent.shiftKey);\r\n  }\r\n  deleteNote() {\r\n    this.view.deleteNote();\r\n  }\r\n\r\n  toggleCourtesyAccidental() {\r\n    this.view.toggleCourtesyAccidentals();\r\n  }\r\n  toggleEnharmonic() {\r\n    this.view.toggleEnharmonic();\r\n  }\r\n\r\n  makeTupletCommand(numNotes) {\r\n    this.view.makeTuplet(numNotes);\r\n  }\r\n  makeTuplet(keyEvent) {\r\n    const numNotes = parseInt(keyEvent.key, 10);\r\n    this.makeTupletCommand(numNotes);\r\n  }\r\n\r\n  unmakeTuplet() {\r\n    this.view.unmakeTuplet();\r\n  }\r\n  setNoteHead() {\r\n    this.view.setNoteHead('x2');\r\n  }\r\n  removeGraceNote() {\r\n    this.view.removeGraceNote();\r\n  }\r\n  addGraceNote() {\r\n    this.view.addGraceNote();\r\n  }\r\n  slashGraceNotes() {\r\n    this.view.slashGraceNotes();\r\n  }\r\n\r\n  toggleArticulationCommand(articulation, ctor) {\r\n    this.view.toggleArticulation(articulation, ctor);\r\n  }\r\n\r\n  addRemoveArticulation(keyEvent) {\r\n    let atyp = SmoArticulation.articulations.accent;\r\n    if (this.view.tracker.selections.length < 1) {\r\n      return;\r\n    }\r\n    if (keyEvent.key.toLowerCase() === 'h') {\r\n      atyp = SmoArticulation.articulations.accent;\r\n    }\r\n    if (keyEvent.key.toLowerCase() === 'i') {\r\n      atyp = SmoArticulation.articulations.tenuto;\r\n    }\r\n    if (keyEvent.key.toLowerCase() === 'j') {\r\n      atyp = SmoArticulation.articulations.staccato;\r\n    }\r\n    if (keyEvent.key.toLowerCase() === 'k') {\r\n      atyp = SmoArticulation.articulations.marcato;\r\n    }\r\n    if (keyEvent.key.toLowerCase() === 'l') {\r\n      atyp = SmoArticulation.articulations.pizzicato;\r\n    }\r\n    this.toggleArticulationCommand(atyp, 'SmoArticulation');\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { SmoTranslator } from './i18n/language';\r\nimport { SuiLayoutDialog, SuiScoreIdentificationDialog,\r\n  SuiScoreViewDialog, SuiGlobalLayoutDialog, SuiScoreFontDialog } from './dialogs/scoreDialogs';\r\nimport { SmoScore } from '../smo/data/score';\r\nimport { SuiXhrLoader } from './fileio/xhrLoader';\r\nimport { mxmlScore } from '../smo/mxml/xmlScore';\r\nimport { layoutDebug } from '../render/sui/layoutDebug';\r\nimport { SuiPrintFileDialog, SuiSaveFileDialog, SuiSaveActionsDialog, SuiLoadActionsDialog,\r\n  SuiLoadFileDialog, SuiSaveXmlDialog, SuiSaveMidiDialog, SuiLoadMxmlDialog } from './dialogs/fileDialogs';\r\nimport { htmlHelpers } from '../common/htmlHelpers';\r\nimport { SuiTimeSignatureDialog, SuiMeasureDialog, SuiInsertMeasures } from './dialogs/measureDialogs';\r\nimport { SuiStaffGroupDialog } from './dialogs/staffDialogs';\r\nimport { SmoMeasure } from '../smo/data/measure';\r\n\r\nexport class suiMenuBase {\r\n  constructor(params) {\r\n    Vex.Merge(this, params);\r\n    this.focusIndex = -1;\r\n    SmoTranslator.registerMenu(this.ctor);\r\n  }\r\n  get closeModalPromise() {\r\n    return this.closePromise();\r\n  }\r\n  static printTranslate(_class) {\r\n    const xx = Smo.getClass(_class);\r\n    const items = [];\r\n    xx.defaults.menuItems.forEach((item) => {\r\n      items.push({ value: item.value, text: item.text });\r\n    });\r\n    return { ctor: xx.ctor, label: xx.label, menuItems: items };\r\n  }\r\n\r\n  complete() {\r\n    $('body').trigger('menuDismiss');\r\n  }\r\n  // Most menus don't process their own events\r\n  keydown() {}\r\n}\r\n\r\nexport class suiMenuManager {\r\n  constructor(params) {\r\n    Vex.Merge(this, suiMenuManager.defaults);\r\n    Vex.Merge(this, params);\r\n    this.eventSource = params.eventSource;\r\n    this.view = params.view;\r\n    this.bound = false;\r\n    this.hotkeyBindings = {};\r\n  }\r\n\r\n  static get defaults() {\r\n    return {\r\n      menuBind: suiMenuManager.menuKeyBindingDefaults,\r\n      menuContainer: '.menuContainer'\r\n    };\r\n  }\r\n\r\n  get closeModalPromise() {\r\n    return this.closeMenuPromise;\r\n  }\r\n\r\n  setController(c) {\r\n    this.controller = c;\r\n  }\r\n\r\n  get score() {\r\n    return this.view.score;\r\n  }\r\n\r\n  // ### Description:\r\n  // slash ('/') menu key bindings.  The slash key followed by another key brings up\r\n  // a menu.\r\n  static get menuKeyBindingDefaults() {\r\n    return [\r\n      {\r\n        event: 'keydown',\r\n        key: 'n',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiLanguageMenu'\r\n      }, {\r\n        event: 'keydown',\r\n        key: 'k',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiKeySignatureMenu'\r\n      }, {\r\n        event: 'keydown',\r\n        key: 'l',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiStaffModifierMenu'\r\n      }, {\r\n        event: 'keydown',\r\n        key: 'd',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiDynamicsMenu'\r\n      }, {\r\n        event: 'keydown',\r\n        key: 's',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiAddStaffMenu'\r\n      }, {\r\n        event: 'keydown',\r\n        key: 'f',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiFileMenu'\r\n      }, {\r\n        event: 'keydown',\r\n        key: 'L',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiLibraryMenu'\r\n      }, {\r\n        event: 'keydown',\r\n        key: 'm',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiTimeSignatureMenu'\r\n      }, {\r\n        event: 'keydown',\r\n        key: 'a',\r\n        ctrlKey: false,\r\n        altKey: false,\r\n        shiftKey: false,\r\n        action: 'SuiMeasureMenu'\r\n      }\r\n    ];\r\n  }\r\n  _advanceSelection(inc) {\r\n    const options = $('.menuContainer ul.menuElement li.menuOption');\r\n    inc = inc < 0 ? options.length - 1 : 1;\r\n    this.menu.focusIndex = (this.menu.focusIndex + inc) % options.length;\r\n    $(options[this.menu.focusIndex]).find('button').focus();\r\n  }\r\n\r\n  get menuBindings() {\r\n    return this.menuBind;\r\n  }\r\n\r\n  unattach() {\r\n    this.eventSource.unbindKeydownHandler(this.keydownHandler);\r\n    $('body').removeClass('modal');\r\n    $(this.menuContainer).html('');\r\n    $('body').off('dismissMenu');\r\n    this.bound = false;\r\n    this.menu = null;\r\n  }\r\n\r\n  attach() {\r\n    let hotkey = 0;\r\n\r\n    $(this.menuContainer).html('');\r\n    $(this.menuContainer).attr('z-index', '12');\r\n    const b = htmlHelpers.buildDom;\r\n    const r = b('ul').classes('menuElement').attr('size', this.menu.menuItems.length)\r\n      .css('left', '' + this.menuPosition.x + 'px')\r\n      .css('top', '' + this.menuPosition.y + 'px');\r\n    this.menu.menuItems.forEach((item) => {\r\n      var vkey = (hotkey < 10) ? String.fromCharCode(48 + hotkey) :\r\n        String.fromCharCode(87 + hotkey);\r\n\r\n      r.append(\r\n        b('li').classes('menuOption').append(\r\n          b('button').attr('data-value', item.value).append(\r\n            b('span').classes('menuText').text(item.text))\r\n            .append(b('span').classes('icon icon-' + item.icon))\r\n            .append(b('span').classes('menu-key').text('' + vkey))));\r\n      item.hotkey = vkey;\r\n      hotkey += 1;\r\n    });\r\n    $(this.menuContainer).append(r.dom());\r\n    $('body').addClass('modal');\r\n    this.bindEvents();\r\n  }\r\n\r\n  slashMenuMode(completeNotifier) {\r\n    var self = this;\r\n    this.bindEvents();\r\n    layoutDebug.addDialogDebug('slash menu creating closeMenuPromise');\r\n    // A menu asserts this event when it is done.\r\n    this.closeMenuPromise = new Promise((resolve) => {\r\n      $('body').off('menuDismiss').on('menuDismiss', () => {\r\n        layoutDebug.addDialogDebug('menuDismiss received, resolve closeMenuPromise');\r\n        self.unattach();\r\n        $('body').removeClass('slash-menu');\r\n        resolve();\r\n      });\r\n    });\r\n    // take over the keyboard\r\n    completeNotifier.unbindKeyboardForModal(this);\r\n  }\r\n\r\n  dismiss() {\r\n    $('body').trigger('menuDismiss');\r\n  }\r\n\r\n  createMenu(action) {\r\n    this.menuPosition = { x: 250, y: 40, width: 1, height: 1 };\r\n    // If we were called from the ribbon, we notify the controller that we are\r\n    // taking over the keyboard.  If this was a key-based command we already did.\r\n    layoutDebug.addDialogDebug('createMenu creating ' + action);\r\n    const ctor = Smo.getClass(action);\r\n    this.menu = new ctor({\r\n      position: this.menuPosition,\r\n      tracker: this.tracker,\r\n      keyCommands: this.keyCommands,\r\n      score: this.score,\r\n      completeNotifier: this.controller,\r\n      closePromise: this.closeMenuPromise,\r\n      view: this.view,\r\n      eventSource: this.eventSource,\r\n      undoBuffer: this.undoBuffer\r\n    });\r\n    this.attach(this.menuContainer);\r\n    this.menu.menuItems.forEach((item) => {\r\n      if (typeof(item.hotkey) !== 'undefined') {\r\n        this.hotkeyBindings[item.hotkey] = item.value;\r\n      }\r\n    });\r\n  }\r\n\r\n  // ### evKey\r\n  // We have taken over menu commands from controller.  If there is a menu active, send the key\r\n  // to it.  If there is not, see if the keystroke creates one.  If neither, dismissi the menu.\r\n  evKey(event) {\r\n    if (['Tab', 'Enter'].indexOf(event.code) >= 0) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    if (event.code === 'Escape') {\r\n      this.dismiss();\r\n    }\r\n    if (this.menu) {\r\n      if (event.code === 'ArrowUp') {\r\n        this._advanceSelection(-1);\r\n      } else if (event.code === 'ArrowDown') {\r\n        this._advanceSelection(1);\r\n      } else  if (this.hotkeyBindings[event.key]) {\r\n        $('button[data-value=\"' + this.hotkeyBindings[event.key] + '\"]').click();\r\n      } else {\r\n        this.menu.keydown(event);\r\n      }\r\n      return;\r\n    }\r\n    const binding = this.menuBind.find((ev) =>\r\n      ev.key === event.key\r\n    );\r\n    if (!binding) {\r\n      this.dismiss();\r\n      return;\r\n    }\r\n    this.createMenu(binding.action);\r\n  }\r\n\r\n  bindEvents() {\r\n    const self = this;\r\n    this.hotkeyBindings = { };\r\n    $('body').addClass('slash-menu');\r\n    // We need to keep track of is bound, b/c the menu can be created from\r\n    // different sources.\r\n    if (!this.bound) {\r\n      this.keydownHandler = this.eventSource.bindKeydownHandler(this, 'evKey');\r\n      this.bound = true;\r\n    }\r\n    $(this.menuContainer).find('button').off('click').on('click', (ev) => {\r\n      if ($(ev.currentTarget).attr('data-value') === 'cancel') {\r\n        self.menu.complete();\r\n        return;\r\n      }\r\n      self.menu.selection(ev);\r\n    });\r\n  }\r\n}\r\n\r\nexport class SuiScoreMenu extends suiMenuBase {\r\n  static get defaults() {\r\n    SuiScoreMenu._defaults = typeof(SuiScoreMenu._defaults) !== 'undefined' ? SuiScoreMenu._defaults : {\r\n      label: 'Score Settings',\r\n      menuItems: [{\r\n        icon: '',\r\n        text: 'Layout',\r\n        value: 'layout'\r\n      }, {\r\n        icon: '',\r\n        text: 'Fonts',\r\n        value: 'fonts'\r\n      }, {\r\n        icon: '',\r\n        text: 'View',\r\n        value: 'view'\r\n      }, {\r\n        icon: '',\r\n        text: 'Score Info',\r\n        value: 'identification'\r\n      }, {\r\n        icon: '',\r\n        text: 'Global Settings',\r\n        value: 'preferences'\r\n      }, {\r\n        icon: '',\r\n        text: 'Cancel',\r\n        value: 'cancel'\r\n      }]\r\n    };\r\n    return SuiScoreMenu._defaults;\r\n  }\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined' ? params : {});\r\n    Vex.Merge(params, SuiScoreMenu.defaults);\r\n    super(params);\r\n  }\r\n\r\n  execView() {\r\n    SuiScoreViewDialog.createAndDisplay(\r\n      {\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        completeNotifier: this.completeNotifier,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n  }\r\n  execScoreId() {\r\n    SuiScoreIdentificationDialog.createAndDisplay(\r\n      {\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        completeNotifier: this.completeNotifier,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n  }\r\n  execLayout() {\r\n    SuiLayoutDialog.createAndDisplay(\r\n      {\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        completeNotifier: this.completeNotifier,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n  }\r\n  execFonts() {\r\n    SuiScoreFontDialog.createAndDisplay(\r\n      {\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        completeNotifier: this.completeNotifier,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n  }\r\n  execPreferences() {\r\n    SuiGlobalLayoutDialog.createAndDisplay(\r\n      {\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        completeNotifier: this.completeNotifier,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n  }\r\n  selection(ev) {\r\n    const text = $(ev.currentTarget).attr('data-value');\r\n    if (text === 'view') {\r\n      this.execView();\r\n    } else if (text === 'layout') {\r\n      this.execLayout();\r\n    } else if (text === 'fonts') {\r\n      this.execFonts();\r\n    } else if (text === 'preferences') {\r\n      this.execPreferences();\r\n    } else if (text === 'identification') {\r\n      this.execScoreId();\r\n    }\r\n    this.complete();\r\n  }\r\n  keydown() {}\r\n}\r\nexport class SuiFileMenu extends suiMenuBase {\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined' ? params : {});\r\n    Vex.Merge(params, SuiFileMenu.defaults);\r\n    super(params);\r\n  }\r\n  static get ctor() {\r\n    return 'SuiFileMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiFileMenu.ctor;\r\n  }\r\n  static get defaults() {\r\n    SuiFileMenu._defaults = typeof(SuiFileMenu._defaults) !== 'undefined' ? SuiFileMenu._defaults : {\r\n      label: 'File',\r\n      menuItems: [{\r\n        icon: 'folder-new',\r\n        text: 'New Score',\r\n        value: 'newFile'\r\n      }, {\r\n        icon: 'folder-open',\r\n        text: 'Open',\r\n        value: 'openFile'\r\n      }, {\r\n        icon: '',\r\n        text: 'Quick Save',\r\n        value: 'quickSave'\r\n      }, {\r\n        icon: 'folder-save',\r\n        text: 'Save',\r\n        value: 'saveFile'\r\n      }, {\r\n        icon: '',\r\n        text: 'Print',\r\n        value: 'printScore'\r\n      }, {\r\n        icon: '',\r\n        text: 'Import MusicXML',\r\n        value: 'importMxml'\r\n      }, {\r\n        icon: '',\r\n        text: 'Export MusicXML',\r\n        value: 'exportXml'\r\n      }, {\r\n        icon: '',\r\n        text: 'Export Midi',\r\n        value: 'exportMidi'\r\n      }, {\r\n        icon: 'folder-save',\r\n        text: 'Save Actions',\r\n        value: 'saveActions'\r\n      }, {\r\n        icon: 'icon-play3',\r\n        text: 'Play Actions',\r\n        value: 'playActions'\r\n      }, {\r\n        icon: '',\r\n        text: 'Cancel',\r\n        value: 'cancel'\r\n      }]\r\n    };\r\n    return SuiFileMenu._defaults;\r\n  }\r\n  systemPrint() {\r\n    const self = this;\r\n    window.print();\r\n    SuiPrintFileDialog.createAndDisplay({\r\n      view: self.view,\r\n      completeNotifier: self.completeNotifier,\r\n      startPromise: self.closePromise,\r\n      tracker: self.tracker,\r\n      undoBuffer: self.undoBuffer,\r\n    });\r\n  }\r\n  selection(ev) {\r\n    const text = $(ev.currentTarget).attr('data-value');\r\n    const self = this;\r\n    if (text === 'saveFile') {\r\n      SuiSaveFileDialog.createAndDisplay({\r\n        completeNotifier: this.completeNotifier,\r\n        tracker: this.tracker,\r\n        undoBuffer: this.keyCommands.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n    } else if (text === 'saveActions') {\r\n      SuiSaveActionsDialog.createAndDisplay({\r\n        completeNotifier: this.completeNotifier,\r\n        tracker: this.tracker,\r\n        undoBuffer: this.keyCommands.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n    }  else if (text === 'playActions') {\r\n      SuiLoadActionsDialog.createAndDisplay({\r\n        completeNotifier: this.completeNotifier,\r\n        tracker: this.tracker,\r\n        undoBuffer: this.keyCommands.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n    } else if (text === 'openFile') {\r\n      SuiLoadFileDialog.createAndDisplay({\r\n        completeNotifier: this.completeNotifier,\r\n        tracker: this.tracker,\r\n        undoBuffer: this.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        editor: this.keyCommands,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n    } else if (text === 'newFile') {\r\n      const score = SmoScore.getDefaultScore();\r\n      this.view.changeScore(score);\r\n    } else if (text === 'quickSave') {\r\n      this.view.quickSave();\r\n    } else if (text === 'printScore') {\r\n      const systemPrint = () => {\r\n        self.systemPrint();\r\n      };\r\n      this.view.renderer.renderForPrintPromise().then(systemPrint);\r\n    } else if (text === 'exportXml') {\r\n      SuiSaveXmlDialog.createAndDisplay({\r\n        completeNotifier: this.completeNotifier,\r\n        tracker: this.tracker,\r\n        undoBuffer: this.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        editor: this.keyCommands,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n    } else if (text === 'exportMidi') {\r\n      SuiSaveMidiDialog.createAndDisplay({\r\n        completeNotifier: this.completeNotifier,\r\n        tracker: this.tracker,\r\n        undoBuffer: this.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        editor: this.keyCommands,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n    } else if (text === 'importMxml') {\r\n      SuiLoadMxmlDialog.createAndDisplay({\r\n        completeNotifier: this.completeNotifier,\r\n        tracker: this.tracker,\r\n        undoBuffer: this.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        editor: this.keyCommands,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      });\r\n    }\r\n    this.complete();\r\n  }\r\n  keydown() {}\r\n}\r\n\r\nexport class SuiLibraryMenu extends suiMenuBase {\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined' ? params : {});\r\n    Vex.Merge(params, SuiLibraryMenu.defaults);\r\n    super(params);\r\n  }\r\n  static get ctor() {\r\n    return 'SuiFileMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiFileMenu.ctor;\r\n  }\r\n  static get defaults() {\r\n    SuiLibraryMenu._defaults = typeof(SuiLibraryMenu._defaults) !== 'undefined' ? SuiLibraryMenu._defaults : {\r\n      label: 'Score',\r\n      menuItems: [{\r\n        icon: '',\r\n        text: 'Bach Invention',\r\n        value: 'bach'\r\n      }, {\r\n        icon: '',\r\n        text: 'Postillion-Lied',\r\n        value: 'postillion'\r\n      }, {\r\n        icon: '',\r\n        text: 'Jesu Bambino',\r\n        value: 'bambino'\r\n      }, {\r\n        icon: '',\r\n        text: 'Handel Messiah 1-1',\r\n        value: 'handel'\r\n      }, {\r\n        icon: '',\r\n        text: 'Precious Lord',\r\n        value: 'preciousLord'\r\n      }, {\r\n        icon: '',\r\n        text: 'In Its Delightful Shade',\r\n        value: 'shade'\r\n      }, {\r\n        icon: '',\r\n        text: 'Yama',\r\n        value: 'yamaJson'\r\n      }, {\r\n        icon: '',\r\n        text: 'Dichterliebe (xml)',\r\n        value: 'dichterliebe'\r\n      }, {\r\n        icon: '',\r\n        text: 'Beethoven - An die ferne Gliebte (xml)',\r\n        value: 'beethoven'\r\n      }, {\r\n        icon: '',\r\n        text: 'Mozart - An Chloe (xml)',\r\n        value: 'mozart'\r\n      }, {\r\n        icon: '',\r\n        text: 'Joplin - The Entertainer (xml)',\r\n        value: 'joplin'\r\n      }, {\r\n        icon: '',\r\n        text: 'Cancel',\r\n        value: 'cancel'\r\n      }]\r\n    };\r\n    return SuiLibraryMenu._defaults;\r\n  }\r\n  _loadJsonAndComplete(path) {\r\n    const req = new SuiXhrLoader(path);\r\n    req.loadAsync().then(() => {\r\n      const score = SmoScore.deserialize(req.value);\r\n      this.view.changeScore(score);\r\n      this.complete();\r\n    });\r\n  }\r\n  _loadXmlAndComplete(path) {\r\n    const req = new SuiXhrLoader(path);\r\n    req.loadAsync().then(() => {\r\n      const parser = new DOMParser();\r\n      const xml = parser.parseFromString(req.value, 'text/xml');\r\n      const score = mxmlScore.smoScoreFromXml(xml);\r\n      this.view.changeScore(score);\r\n      this.complete();\r\n    });\r\n  }\r\n\r\n  selection(ev) {\r\n    const text = $(ev.currentTarget).attr('data-value');\r\n    if (text === 'bach') {\r\n      this._loadJsonAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/BachInvention.json');\r\n    } else if (text === 'yamaJson') {\r\n      this._loadJsonAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Yama2.json');\r\n    } else if (text === 'handel') {\r\n      this._loadJsonAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Messiah Pt 1-1.json');\r\n    } else if (text === 'bambino') {\r\n      this._loadJsonAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Gesu Bambino.json');\r\n    } else if (text === 'shade') {\r\n      this._loadJsonAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Shade.json');\r\n    } else if (text === 'postillion') {\r\n      this._loadJsonAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Postillionlied.json');\r\n    } else if (text === 'preciousLord') {\r\n      this._loadJsonAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Precious Lord.json');\r\n    } else if (text === 'dichterliebe') {\r\n      this._loadXmlAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Dichterliebe01.xml');\r\n    } else if (text === 'beethoven') {\r\n      this._loadXmlAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Beethoven_AnDieFerneGeliebte.xml');\r\n    } else if (text === 'mozart') {\r\n      this._loadXmlAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/Mozart_AnChloe.xml');\r\n    } else if (text === 'joplin') {\r\n      this._loadXmlAndComplete('https://aarondavidnewman.github.io/Smoosic/release/library/ScottJoplin_The_Entertainer.xml');\r\n    }\r\n    this.complete();\r\n  }\r\n  keydown() {}\r\n}\r\n\r\nexport class SuiDynamicsMenu extends suiMenuBase {\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined' ? params : {});\r\n    Vex.Merge(params, SuiDynamicsMenu.defaults);\r\n    super(params);\r\n  }\r\n  static get ctor() {\r\n    return 'SuiDynamicsMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiDynamicsMenu.ctor;\r\n  }\r\n  static get defaults() {\r\n    SuiDynamicsMenu._defaults = SuiDynamicsMenu._defaults ? SuiDynamicsMenu._defaults :\r\n      {\r\n        label: 'Dynamics',\r\n        menuItems: [{\r\n          icon: 'pianissimo',\r\n          text: 'Pianissimo',\r\n          value: 'pp'\r\n        }, {\r\n          icon: 'piano',\r\n          text: 'Piano',\r\n          value: 'p'\r\n        }, {\r\n          icon: 'mezzopiano',\r\n          text: 'Mezzo-piano',\r\n          value: 'mp'\r\n        }, {\r\n          icon: 'mezzoforte',\r\n          text: 'Mezzo-forte',\r\n          value: 'mf'\r\n        }, {\r\n          icon: 'forte',\r\n          text: 'Forte',\r\n          value: 'f'\r\n        }, {\r\n          icon: 'fortissimo',\r\n          text: 'Fortissimo',\r\n          value: 'ff'\r\n        }, {\r\n          icon: 'sfz',\r\n          text: 'sfortzando',\r\n          value: 'sfz'\r\n        }, {\r\n          icon: '',\r\n          text: 'Cancel',\r\n          value: 'cancel'\r\n        }]\r\n      };\r\n    return SuiDynamicsMenu._defaults;\r\n  }\r\n\r\n  selection(ev) {\r\n    const text = $(ev.currentTarget).attr('data-value');\r\n    this.view.addDynamic(text);\r\n    this.complete();\r\n  }\r\n  keydown() {}\r\n}\r\n\r\nexport class SuiTimeSignatureMenu extends suiMenuBase {\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined' ? params : {});\r\n    Vex.Merge(params, SuiTimeSignatureMenu.defaults);\r\n    super(params);\r\n  }\r\n  static get ctor() {\r\n    return 'SuiTimeSignatureMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiTimeSignatureMenu.ctor;\r\n  }\r\n  static get defaults() {\r\n    SuiTimeSignatureMenu._defaults = SuiTimeSignatureMenu._defaults ? SuiTimeSignatureMenu._defaults :\r\n      {\r\n        label: 'Time Sig',\r\n        menuItems: [{\r\n          icon: 'sixeight',\r\n          text: '6/8',\r\n          value: '6/8',\r\n        }, {\r\n          icon: 'fourfour',\r\n          text: '4/4',\r\n          value: '4/4',\r\n        }, {\r\n          icon: 'threefour',\r\n          text: '3/4',\r\n          value: '3/4',\r\n        }, {\r\n          icon: 'twofour',\r\n          text: '2/4',\r\n          value: '2/4',\r\n        }, {\r\n          icon: 'twelveeight',\r\n          text: '12/8',\r\n          value: '12/8',\r\n        }, {\r\n          icon: 'seveneight',\r\n          text: '7/8',\r\n          value: '7/8',\r\n        }, {\r\n          icon: 'fiveeight',\r\n          text: '5/8',\r\n          value: '5/8',\r\n        }, {\r\n          icon: '',\r\n          text: 'Other',\r\n          value: 'TimeSigOther',\r\n        }, {\r\n          icon: '',\r\n          text: 'Cancel',\r\n          value: 'cancel'\r\n        }]\r\n      };\r\n    return SuiTimeSignatureMenu._defaults;\r\n  }\r\n\r\n  selection(ev) {\r\n    var text = $(ev.currentTarget).attr('data-value');\r\n\r\n    if (text === 'TimeSigOther') {\r\n      SuiTimeSignatureDialog.createAndDisplay({\r\n        view: this.view,\r\n        completeNotifier: this.completeNotifier,\r\n        startPromise: this.closePromise,\r\n        undoBuffer: this.view.undoBuffer,\r\n        eventSource: this.eventSource\r\n      });\r\n      this.complete();\r\n      return;\r\n    }\r\n    this.view.setTimeSignature(SmoMeasure.convertLegacyTimeSignature(text));\r\n    this.complete();\r\n  }\r\n\r\n  keydown() {}\r\n}\r\n\r\nexport class SuiKeySignatureMenu extends suiMenuBase {\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined' ? params : {});\r\n    Vex.Merge(params, SuiKeySignatureMenu.defaults);\r\n    super(params);\r\n  }\r\n  static get ctor() {\r\n    return 'SuiKeySignatureMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiKeySignatureMenu.ctor;\r\n  }\r\n  static get defaults() {\r\n    SuiKeySignatureMenu._defaults = typeof(SuiKeySignatureMenu._defaults) !== 'undefined'\r\n      ? SuiKeySignatureMenu._defaults :\r\n      {\r\n        label: 'Key',\r\n        menuItems: [{\r\n          icon: 'key-sig-c',\r\n          text: 'C Major',\r\n          value: 'KeyOfC',\r\n        }, {\r\n          icon: 'key-sig-f',\r\n          text: 'F Major',\r\n          value: 'KeyOfF',\r\n        }, {\r\n          icon: 'key-sig-g',\r\n          text: 'G Major',\r\n          value: 'KeyOfG',\r\n        }, {\r\n          icon: 'key-sig-bb',\r\n          text: 'Bb Major',\r\n          value: 'KeyOfBb'\r\n        }, {\r\n          icon: 'key-sig-d',\r\n          text: 'D Major',\r\n          value: 'KeyOfD'\r\n        }, {\r\n          icon: 'key-sig-eb',\r\n          text: 'Eb Major',\r\n          value: 'KeyOfEb'\r\n        }, {\r\n          icon: 'key-sig-a',\r\n          text: 'A Major',\r\n          value: 'KeyOfA'\r\n        }, {\r\n          icon: 'key-sig-ab',\r\n          text: 'Ab Major',\r\n          value: 'KeyOfAb'\r\n        }, {\r\n          icon: 'key-sig-e',\r\n          text: 'E Major',\r\n          value: 'KeyOfE'\r\n        }, {\r\n          icon: 'key-sig-bd',\r\n          text: 'Db Major',\r\n          value: 'KeyOfDb'\r\n        }, {\r\n          icon: 'key-sig-b',\r\n          text: 'B Major',\r\n          value: 'KeyOfB'\r\n        }, {\r\n          icon: 'key-sig-fs',\r\n          text: 'F# Major',\r\n          value: 'KeyOfF#'\r\n        }, {\r\n          icon: 'key-sig-cs',\r\n          text: 'C# Major',\r\n          value: 'KeyOfC#'\r\n        },\r\n        {\r\n          icon: '',\r\n          text: 'Cancel',\r\n          value: 'cancel'\r\n        }],\r\n        menuContainer: '.menuContainer'\r\n      };\r\n    return SuiKeySignatureMenu._defaults;\r\n  }\r\n\r\n  selection(ev) {\r\n    let keySig = $(ev.currentTarget).attr('data-value');\r\n    keySig = (keySig === 'cancel' ? keySig : keySig.substring(5, keySig.length));\r\n    if (keySig === 'cancel') {\r\n      return;\r\n    }\r\n    this.view.addKeySignature(keySig);\r\n    this.complete();\r\n  }\r\n  keydown() {}\r\n}\r\n\r\nexport class SuiStaffModifierMenu extends suiMenuBase {\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined' ? params : {});\r\n    Vex.Merge(params, SuiStaffModifierMenu.defaults);\r\n    super(params);\r\n  }\r\n  static get ctor() {\r\n    return 'SuiStaffModifierMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiStaffModifierMenu.ctor;\r\n  }\r\n\r\n  static get defaults() {\r\n    SuiStaffModifierMenu._defaults = typeof(SuiStaffModifierMenu._defaults) !== 'undefined' ? SuiStaffModifierMenu._defaults :\r\n      {\r\n        label: 'Lines',\r\n        menuItems: [{\r\n          icon: 'cresc',\r\n          text: 'Crescendo',\r\n          value: 'crescendo'\r\n        }, {\r\n          icon: 'decresc',\r\n          text: 'Decrescendo',\r\n          value: 'decrescendo'\r\n        }, {\r\n          icon: 'slur',\r\n          text: 'Slur',\r\n          value: 'slur'\r\n        }, {\r\n          icon: 'slur',\r\n          text: 'Tie',\r\n          value: 'tie'\r\n        }, {\r\n          icon: 'ending',\r\n          text: 'nth ending',\r\n          value: 'ending'\r\n        },\r\n        {\r\n          icon: '',\r\n          text: 'Cancel',\r\n          value: 'cancel'\r\n        }],\r\n        menuContainer: '.menuContainer'\r\n      };\r\n    return SuiStaffModifierMenu._defaults;\r\n  }\r\n  selection(ev) {\r\n    var op = $(ev.currentTarget).attr('data-value');\r\n    if (op === 'ending') {\r\n      this.view.addEnding();\r\n    } else if (op === 'slur') {\r\n      this.view.slur();\r\n    }  else if (op === 'tie') {\r\n      this.view.tie();\r\n    } else if (op === 'crescendo') {\r\n      this.view.crescendo();\r\n    } else if (op === 'decrescendo') {\r\n      this.view.decrescendo();\r\n    }\r\n    // else cancel...\r\n    this.complete();\r\n  }\r\n  keydown() {\r\n  }\r\n}\r\n\r\nexport class SuiLanguageMenu extends suiMenuBase {\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined') ? params : {};\r\n    Vex.Merge(params, SuiLanguageMenu.defaults);\r\n    super(params);\r\n  }\r\n  static get ctor() {\r\n    return 'SuiLanguageMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiLanguageMenu.ctor;\r\n  }\r\n  static get defaults() {\r\n    SuiLanguageMenu._defaults = SuiLanguageMenu._defaults ? SuiLanguageMenu._defaults :\r\n      {\r\n        label: 'Language',\r\n        menuItems: [{\r\n          icon: '',\r\n          text: 'English',\r\n          value: 'en'\r\n        }, {\r\n          icon: '',\r\n          text: 'Deutsch',\r\n          value: 'de'\r\n        }, {\r\n          icon: '',\r\n          text: 'اَلْعَرَبِيَّةُ',\r\n          value: 'ar'\r\n        }, {\r\n          icon: '',\r\n          text: 'Cancel',\r\n          value: 'cancel'\r\n        }],\r\n        menuContainer: '.menuContainer'\r\n      };\r\n    return SuiLanguageMenu._defaults;\r\n  }\r\n  selection(ev) {\r\n    var op = $(ev.currentTarget).attr('data-value');\r\n\r\n    SmoTranslator.setLanguage(op);\r\n    this.complete();\r\n  }\r\n  keydown() {\r\n  }\r\n}\r\nexport class SuiMeasureMenu extends suiMenuBase {\r\n  static get defaults() {\r\n    SuiMeasureMenu._defaults = SuiMeasureMenu._defaults ? SuiMeasureMenu._defaults : {\r\n      label: 'Measure',\r\n      menuItems: [\r\n        {\r\n          icon: '',\r\n          text: 'Add Measures',\r\n          value: 'addMenuCmd'\r\n        }, {\r\n          icon: 'icon-cross',\r\n          text: 'Delete Selected Measures',\r\n          value: 'deleteSelected'\r\n        }, {\r\n          icon: '',\r\n          text: 'Format Measure',\r\n          value: 'formatMeasureDialog'\r\n        }, {\r\n          icon: '',\r\n          text: 'Cancel',\r\n          value: 'cancel'\r\n        }\r\n      ]\r\n    };\r\n    return SuiMeasureMenu._defaults;\r\n  }\r\n  static get ctor() {\r\n    return 'SuiMeasureMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiMeasureMenu.ctor;\r\n  }\r\n\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined') ? params : {};\r\n    Vex.Merge(params, SuiMeasureMenu.defaults);\r\n    super(params);\r\n  }\r\n  selection(ev) {\r\n    const text = $(ev.currentTarget).attr('data-value');\r\n    if (text === 'formatMeasureDialog') {\r\n      SuiMeasureDialog.createAndDisplay({\r\n        view: this.view,\r\n        completeNotifier: this.completeNotifier,\r\n        startPromise: this.closePromise,\r\n        eventSource: this.eventSource\r\n      });\r\n      this.complete();\r\n      return;\r\n    }\r\n    if (text === 'addMenuCmd') {\r\n      SuiInsertMeasures.createAndDisplay({\r\n        view: this.view,\r\n        completeNotifier: this.completeNotifier,\r\n        startPromise: this.closePromise,\r\n        eventSource: this.eventSource\r\n      });\r\n      this.complete();\r\n    }\r\n    if (text === 'addMenuAfterCmd') {\r\n      this.keyCommands.addMeasure({ shiftKey: true });\r\n      this.complete();\r\n    }\r\n    if (text === 'deleteSelected') {\r\n      this.view.deleteMeasure();\r\n    }\r\n    this.complete();\r\n  }\r\n}\r\n\r\nexport class SuiAddStaffMenu extends suiMenuBase {\r\n  constructor(params) {\r\n    params = (typeof(params) !== 'undefined' ? params : {});\r\n    Vex.Merge(params, SuiAddStaffMenu.defaults);\r\n    super(params);\r\n  }\r\n  static get ctor() {\r\n    return 'SuiAddStaffMenu';\r\n  }\r\n  get ctor() {\r\n    return SuiAddStaffMenu.ctor;\r\n  }\r\n\r\n  static get defaults() {\r\n    SuiAddStaffMenu._defaults = SuiAddStaffMenu._defaults ? SuiAddStaffMenu._defaults : {\r\n      label: 'Add Staff',\r\n      menuItems: [\r\n        {\r\n          icon: 'treble',\r\n          text: 'Treble Clef Staff',\r\n          value: 'trebleInstrument'\r\n        }, {\r\n          icon: 'bass',\r\n          text: 'Bass Clef Staff',\r\n          value: 'bassInstrument'\r\n        }, {\r\n          icon: 'alto',\r\n          text: 'Alto Clef Staff',\r\n          value: 'altoInstrument'\r\n        }, {\r\n          icon: 'tenor',\r\n          text: 'Tenor Clef Staff',\r\n          value: 'tenorInstrument'\r\n        }, {\r\n          icon: 'percussion',\r\n          text: 'Percussion Clef Staff',\r\n          value: 'percussionInstrument'\r\n        }, {\r\n          icon: '',\r\n          text: 'Staff Groups',\r\n          value: 'staffGroups'\r\n        }, {\r\n          icon: 'cancel-circle',\r\n          text: 'Remove Staff',\r\n          value: 'remove'\r\n        }, {\r\n          icon: '',\r\n          text: 'Cancel',\r\n          value: 'cancel'\r\n        }\r\n      ],\r\n      menuContainer: '.menuContainer'\r\n    };\r\n    return SuiAddStaffMenu._defaults;\r\n  }\r\n  static get instrumentMap() {\r\n    return {\r\n      'trebleInstrument': {\r\n        instrumentInfo: {\r\n          instrumentName: 'Treble Clef Staff',\r\n          keyOffset: 0,\r\n          clef: 'treble'\r\n        }\r\n      },\r\n      'bassInstrument': {\r\n        instrumentInfo: {\r\n          instrumentName: 'Bass Clef Staff',\r\n          keyOffset: 0,\r\n          clef: 'bass'\r\n        }\r\n      },\r\n      'altoInstrument': {\r\n        instrumentInfo: {\r\n          instrumentName: 'Alto Clef Staff',\r\n          keyOffset: 0,\r\n          clef: 'alto'\r\n        }\r\n      },\r\n      'tenorInstrument': {\r\n        instrumentInfo: {\r\n          instrumentName: 'Tenor Clef Staff',\r\n          keyOffset: 0,\r\n          clef: 'tenor'\r\n        }\r\n      },\r\n      'percussionInstrument': {\r\n        instrumentInfo: {\r\n          instrumentName: 'Percussion Clef Staff',\r\n          keyOffset: 0,\r\n          clef: 'percussion'\r\n        }\r\n      },\r\n      'remove': {\r\n        instrumentInfo: {\r\n          instrumentName: 'Remove clef',\r\n          keyOffset: 0,\r\n          clef: 'tenor'\r\n        }\r\n      }\r\n    };\r\n  }\r\n  execStaffGroups() {\r\n    SuiStaffGroupDialog.createAndDisplay(\r\n      {\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        completeNotifier: this.completeNotifier,\r\n        view: this.view,\r\n        startPromise: this.closePromise\r\n      }\r\n    );\r\n  }\r\n\r\n  selection(ev) {\r\n    const op = $(ev.currentTarget).attr('data-value');\r\n    if (op === 'remove') {\r\n      this.view.removeStaff();\r\n      this.complete();\r\n    } else if (op === 'staffGroups') {\r\n      this.execStaffGroups();\r\n      this.complete();\r\n    } else if (op === 'cancel') {\r\n      this.complete();\r\n    } else {\r\n      const instrument = SuiAddStaffMenu.instrumentMap[op];\r\n      this.view.addStaff(instrument);\r\n      this.complete();\r\n    }\r\n  }\r\n  keydown() {}\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { htmlHelpers } from \"../common/htmlHelpers\";\r\nexport class Qwerty {\r\n  static get navigationElements() {\r\n\r\n    var kbRows =\r\n    [\r\n      { row: '1234567890-=',shifted:'!@#$%^&*()_+'},\r\n      { row: 'QWERTYUIOP[]',shifted:'QWERTYIOP{}'},\r\n      { row:\"ASDFGHJKL;'\", shifted:'ASDFGHJKL:\"'},\r\n      { row:'ZXCVBNM,./',shifted:'ZXCVBNM<>?'}\r\n    ];\r\n    var arrows = [\r\n      {icon: 'icon-arrow-left',text:'', shifted:'',classes:'helpKey',dataKey:'ArrowLeft'},\r\n      {icon: 'icon-arrow-right',text:'', shifted:'',classes:'helpKey',dataKey:'ArrowRight'},\r\n      {icon:'',text:'Space',classes:'wideKey',shifted:'',dataKey:'Space'},\r\n      {icon: 'icon-arrow-up',text:'', shifted:'',classes:'helpKey',dataKey:'ArrowUp'},\r\n      {icon: 'icon-arrow-down' ,text:'', shifted:'',classes:'helpKey',dataKey:'ArrowDown'},\r\n      {icon: '' ,text:'Ins', shifted:'',classes:'helpKey',dataKey:'Insert'},\r\n      {icon: '' ,text:'Del', shifted:'',classes:'helpKey',dataKey:'Delete'}\r\n    ];\r\n    var keyRows = {};\r\n    var labels = ['topNumbers','keys1','keys2','keys3','arrows'];\r\n    var j = 0;\r\n\r\n    kbRows.forEach((kbRow) => {\r\n      var str = kbRow.row;\r\n      var shifted = kbRow.shifted;\r\n      var keys = [];\r\n      for (var i = 0;i < str.length;++i) {\r\n        if (j === 2 && i === 0) {\r\n          keys.push({icon:'',text:'Shift',classes:'wideKey',dataKey:'shift'});\r\n        }\r\n        if (j === 3 && i === 0) {\r\n          keys.push({icon:'',text:'Ctrl',classes:'wideKey',dataKey:'ctrl'});\r\n          keys.push({icon:'',text:'Alt',classes:'helpKey',dataKey:'alt'});\r\n        }\r\n        keys.push({icon:'', text:str[i],shifted:shifted[i],classes:'helpKey',dataKey:str[i]});\r\n      }\r\n      keyRows[labels[j]] = {id:labels[j],rows:keys};\r\n      j += 1;\r\n    });\r\n    keyRows[labels[j]] = {id:labels[j],rows:arrows};\r\n    return keyRows;\r\n  }\r\n  static flashShift() {\r\n    if (Qwerty._shiftTime) {\r\n      Qwerty._shiftTime = 0;\r\n      setTimeout(function() {\r\n        Qwerty.flashShift();\r\n      },1000);\r\n    } else {\r\n      $('.kb-float').removeClass('shifted');\r\n    }\r\n  }\r\n\r\n  static displayForDuration() {\r\n    Qwerty.displayAll();\r\n    $('#row-0').hide();\r\n    $('#row-1').hide();\r\n    $('#row-4').hide();\r\n  }\r\n\r\n  static displayForTuplet() {\r\n    Qwerty.displayAll();\r\n    $('#row-1').hide();\r\n    $('#row-2').hide();\r\n  }\r\n\r\n  static displayAll() {\r\n    $('#row-0').show();\r\n    $('#row-1').show();\r\n    $('#row-2').show();\r\n    $('#row-3').show();\r\n    $('#row-4').show();\r\n  }\r\n\r\n  static _flashButton(key) {\r\n    var e = $('[data-key=\"'+key+'\"]');\r\n    if (!e.length) {\r\n       e = $('[data-shift=\"'+key+'\"]');\r\n    }\r\n    if (e.length) {\r\n      $(e).removeClass('transition-button');\r\n      $(e).addClass('reverse-button');\r\n      setTimeout(function() {\r\n        $(e).removeClass('reverse-button');\r\n        $(e).addClass('transition-button');\r\n      },750);\r\n    }\r\n  }\r\n  static get editingKeys()  {\r\n    return ['ArrowLeft','ArrowRight','ArrowUp','ArrowDown','Insert','Delete'];\r\n  }\r\n  static handleKeyEvent(evdata) {\r\n    if (Qwerty.editingKeys.indexOf(evdata.code) >= 0) {\r\n      Qwerty._flashButton(evdata.code);\r\n    } else if (evdata.key.length === 1\r\n      && evdata.key.charCodeAt(0) > 32\r\n      && evdata.key.charCodeAt(0) < 127) {\r\n      Qwerty._flashButton(evdata.key.toUpperCase());\r\n    }\r\n    if (evdata.code === 'Space') {\r\n      Qwerty._flashButton('Space');\r\n    }\r\n    if (evdata.ctrlKey) {\r\n      Qwerty._flashButton('ctrl');\r\n    }\r\n    if (evdata.shiftKey) {\r\n      Qwerty._flashButton('shift');\r\n      $('.kb-float').addClass('shifted');\r\n      Qwerty._shiftTime = 1;\r\n      Qwerty.flashShift();\r\n    }\r\n    if (evdata.altKey) {\r\n      Qwerty._flashButton('alt');\r\n    }\r\n  }\r\n\r\n  static _kbButton(buttons) {\r\n    var b = htmlHelpers.buildDom;\r\n    var r = b('span').classes('keyContainer');\r\n    buttons.rows.forEach((button) => {\r\n      var text = button.text;\r\n      var shiftedText = button.shifted ? button.shifted : text;\r\n      r.append(b('span').classes(button.icon + ' ' + button.classes)\r\n        .attr('data-key',button.dataKey).attr('data-shift',shiftedText)\r\n          .append(b('span').classes('button-text').text(text))\r\n          .append(b('span').classes('button-shifted').text(shiftedText))\r\n      );\r\n    });\r\n    return r;\r\n  }\r\n  static _buttonBlock(buttons,id) {\r\n    var b = htmlHelpers.buildDom;\r\n    var r = b('div').classes('keyBlock').attr('id', id);\r\n    r.append(Qwerty._kbButton(buttons));\r\n    return r;\r\n  }\r\n\r\n  static _buildElements(rows) {\r\n    var b = htmlHelpers.buildDom;\r\n    var r = b('div').classes('buttonLine')\r\n      .append(b('span').classes('icon icon-move'));\r\n    var keys = Object.keys(rows);\r\n    var rowIx = 0;\r\n    keys.forEach((key) => {\r\n      var row = rows[key];\r\n      r.append(Qwerty._buttonBlock(row,'row-'+rowIx));\r\n      rowIx += 1;\r\n    });\r\n    return r;\r\n  }\r\n  static displayKb() {\r\n    $('body').addClass('showQwerty');\r\n    $('.qwertyKb').html('');\r\n    var b = htmlHelpers.buildDom;\r\n    var r = b('div').classes('kb-float');\r\n    r.append(Qwerty._buildElements(Qwerty.navigationElements));\r\n    $('.qwertyKb').append(r.dom());\r\n\r\n    var cb = function (x, y) {}\r\n    htmlHelpers.draggable({\r\n      parent: $('.qwertyKb'),\r\n      handle: $('.qwertyKb').find('.icon-move'),\r\n      animateDiv:'.draganime',\r\n      cb: cb,\r\n      moveParent: true\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\nimport { htmlHelpers } from '../common/htmlHelpers';\r\nimport { SmoSystemGroup } from '../smo/data/scoreModifiers';\r\nimport { SmoBarline, SmoRepeatSymbol } from '../smo/data/measureModifiers';\r\nimport { smoSerialize } from '../common/serializationHelpers';\r\nimport { SuiOscillator } from '../render/audio/oscillator';\r\nimport { SmoMicrotone, SmoLyric, SmoArticulation, SmoOrnament } from '../smo/data/noteModifiers';\r\nimport { SuiChordChangeDialog, SuiTextTransformDialog, SuiLyricDialog } from './dialogs/textDialogs';\r\n\r\n// ## RibbonButtons\r\n// Render the ribbon buttons based on group, function, and underlying UI handler.\r\n// Also handles UI events.\r\n// ### RibbonButton methods\r\n// ---\r\nexport class RibbonButtons {\r\n  static get paramArray() {\r\n    return ['ribbonButtons', 'ribbons', 'keyCommands', 'controller', 'menus', 'eventSource', 'view'];\r\n  }\r\n  static _buttonHtml(containerClass, buttonId, buttonClass, buttonText, buttonIcon, buttonKey) {\r\n    const b = htmlHelpers.buildDom;\r\n    const r = b('div').classes(containerClass).append(b('button').attr('id', buttonId).classes(buttonClass).append(\r\n      b('span').classes('left-text').append(\r\n        b('span').classes('text-span').text(buttonText)).append(\r\n        b('span').classes('ribbon-button-text icon ' + buttonIcon))).append(\r\n      b('span').classes('ribbon-button-hotkey').text(buttonKey)));\r\n    return r.dom();\r\n  }\r\n  static get translateButtons() {\r\n    if (!RibbonButtons._translateButtons) {\r\n      RibbonButtons._translateButtons = [];\r\n    }\r\n    return RibbonButtons._translateButtons;\r\n  }\r\n  constructor(parameters) {\r\n    smoSerialize.filteredMerge(RibbonButtons.paramArray, parameters, this);\r\n    this.ribbonButtons = parameters.ribbonButtons;\r\n    this.ribbons = parameters.ribbons;\r\n    this.collapsables = [];\r\n    this.collapseChildren = [];\r\n  }\r\n  _executeButtonModal(buttonElement, buttonData) {\r\n    const ctor = Smo.getClass(buttonData.ctor);\r\n    ctor.createAndDisplay(\r\n      {\r\n        undoBuffer: this.keyCommands.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        completeNotifier: this.controller,\r\n        view: this.view\r\n      }\r\n    );\r\n  }\r\n  _executeButtonMenu(buttonElement, buttonData) {\r\n    this.menus.slashMenuMode(this.controller);\r\n    this.menus.createMenu(buttonData.ctor);\r\n  }\r\n  _rebindController() {\r\n    this.controller.render();\r\n    this.controller.bindEvents();\r\n  }\r\n  _executeButton(buttonElement, buttonData) {\r\n    if (buttonData.action === 'modal') {\r\n      this._executeButtonModal(buttonElement, buttonData);\r\n      return;\r\n    }\r\n    if (buttonData.action === 'menu' || buttonData.action === 'collapseChildMenu') {\r\n      this._executeButtonMenu(buttonElement, buttonData);\r\n    }\r\n  }\r\n\r\n  _bindButton(buttonElement, buttonData) {\r\n    this.eventSource.domClick(buttonElement, this, '_executeButton', buttonData);\r\n  }\r\n  _createCollapsibleButtonGroups(selector) {\r\n    let containerClass = {};\r\n    // Now all the button elements have been bound.  Join child and parent buttons\r\n    // For all the children of a button group, add it to the parent group\r\n    this.collapseChildren.forEach((b) => {\r\n      containerClass = 'ribbonButtonContainer';\r\n      if (b.action === 'collapseGrandchild') {\r\n        containerClass = 'ribbonButtonContainerMore';\r\n      }\r\n      const buttonHtml = RibbonButtons._buttonHtml(\r\n        containerClass, b.id, b.classes, b.leftText, b.icon, b.rightText);\r\n      if (b.dataElements) {\r\n        const bkeys = Object.keys(b.dataElements);\r\n        bkeys.forEach((bkey) => {\r\n          var de = b.dataElements[bkey];\r\n          $(buttonHtml).find('button').attr('data-' + bkey, de);\r\n        });\r\n      }\r\n      // Bind the child button actions\r\n      const parent = $(selector).find('.collapseContainer[data-group=\"' + b.group + '\"]');\r\n      $(parent).append(buttonHtml);\r\n      const el = $(selector).find('#' + b.id);\r\n      this._bindButton(el, b);\r\n    });\r\n\r\n    this.collapsables.forEach((cb) => {\r\n      // Bind the events of the parent button\r\n      cb.bind();\r\n    });\r\n  }\r\n\r\n  static isCollapsible(action) {\r\n    return ['collapseChild', 'collapseChildMenu', 'collapseGrandchild', 'collapseMore'].indexOf(action) >= 0;\r\n  }\r\n\r\n  static isBindable(action) {\r\n    return ['collapseChildMenu', 'menu', 'modal'].indexOf(action) >= 0;\r\n  }\r\n\r\n  // ### _createButtonHtml\r\n  // For each button, create the html and bind the events based on\r\n  // the button's configured action.\r\n  _createRibbonHtml(buttonAr, selector) {\r\n    let buttonClass = '';\r\n    buttonAr.forEach((buttonId) => {\r\n      const buttonData = this.ribbonButtons.find((e) =>\r\n        e.id === buttonId\r\n      );\r\n      if (buttonData) {\r\n        if (buttonData.leftText) {\r\n          RibbonButtons.translateButtons.push({ buttonId: buttonData.id, buttonText: buttonData.leftText });\r\n        }\r\n        // collapse child is hidden until the parent button is selected, exposing the button group\r\n        if (RibbonButtons.isCollapsible(buttonData.action)) {\r\n          this.collapseChildren.push(buttonData);\r\n        }\r\n        if (buttonData.action !== 'collapseChild') {\r\n          // else the button has a specific action, such as a menu or dialog, or a parent button\r\n          // for translation, add the menu name to the button class\r\n          buttonClass = buttonData.classes;\r\n          if (buttonData.action === 'menu' || buttonData.action === 'modal') {\r\n            buttonClass += ' ' + buttonData.ctor;\r\n          }\r\n          const buttonHtml = RibbonButtons._buttonHtml('ribbonButtonContainer',\r\n            buttonData.id, buttonClass, buttonData.leftText, buttonData.icon, buttonData.rightText);\r\n          $(buttonHtml).attr('data-group', buttonData.group);\r\n          $(selector).append(buttonHtml);\r\n          const buttonElement = $('#' + buttonData.id);\r\n          // If this is a collabsable button, create it, otherwise bind its execute function.\r\n          if (buttonData.action === 'collapseParent') {\r\n            $(buttonHtml).addClass('collapseContainer');\r\n            // collapseParent\r\n            this.collapsables.push(new CollapseRibbonControl({\r\n              ribbonButtons: this.ribbonButtons,\r\n              view: this.view,\r\n              menus: this.menus,\r\n              eventSource: this.eventSource,\r\n              controller: this.controller,\r\n              keyCommands: this.keyCommands,\r\n              buttonElement,\r\n              buttonData\r\n            }));\r\n          } else {\r\n            this.eventSource.domClick(buttonElement, this, '_executeButton', buttonData);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  createRibbon(buttonDataArray, parentElement) {\r\n    this._createRibbonHtml(buttonDataArray, parentElement);\r\n    this._createCollapsibleButtonGroups(parentElement);\r\n  }\r\n\r\n  display() {\r\n    $('body .controls-left').html('');\r\n    $('body .controls-top').html('');\r\n\r\n    const lbuttons = this.ribbons.left;\r\n    this.createRibbon(lbuttons, 'body .controls-left');\r\n\r\n    const tbuttons = this.ribbons.top;\r\n    this.createRibbon(tbuttons, 'body .controls-top');\r\n  }\r\n}\r\n\r\nexport class DebugButtons {\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.keyCommands = parameters.keyCommands;\r\n  }\r\n  bind() {\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      $('body').trigger('redrawScore');\r\n    });\r\n  }\r\n}\r\n\r\n// ## ExtendedCollapseParent\r\n// Muse-style '...' buttons for less-common operations\r\nexport class ExtendedCollapseParent {\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.keyCommands = parameters.keyCommands;\r\n  }\r\n  bind() {\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      $(this.buttonElement).closest('.collapseContainer').toggleClass('expanded-more');\r\n    });\r\n  }\r\n}\r\nexport class BeamButtons {\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.keyCommands = parameters.keyCommands;\r\n  }\r\n  operation() {\r\n    if (this.buttonData.id === 'breakBeam') {\r\n      this.keyCommands.toggleBeamGroup();\r\n    } else if (this.buttonData.id === 'beamSelections') {\r\n      this.keyCommands.beamSelections();\r\n    } else if (this.buttonData.id === 'toggleBeamDirection') {\r\n      this.keyCommands.toggleBeamDirection();\r\n    }\r\n  }\r\n  bind() {\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      this.operation();\r\n    });\r\n  }\r\n}\r\nexport class MicrotoneButtons {\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.keyCommands = parameters.keyCommands;\r\n    this.view = parameters.view;\r\n  }\r\n  applyButton(el) {\r\n    let pitch = 0;\r\n    if (this.view.tracker.selections.length === 1 &&\r\n      this.view.tracker.selections[0].selector.pitches &&\r\n      this.view.tracker.selections[0].selector.pitches.length\r\n    ) {\r\n      pitch = this.view.tracker.selections[0].selector.pitches[0];\r\n    }\r\n    const tn = new SmoMicrotone({ tone: el.id, pitch });\r\n    this.view.addRemoveMicrotone(tn);\r\n    SuiOscillator.playSelectionNow(this.view.tracker.selections[0]);\r\n  }\r\n  bind() {\r\n    var self = this;\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      self.applyButton(self.buttonData);\r\n    });\r\n  }\r\n}\r\n\r\nexport class DurationButtons {\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.keyCommands = parameters.keyCommands;\r\n  }\r\n  setDuration() {\r\n    if (this.buttonData.id === 'GrowDuration') {\r\n      this.keyCommands.doubleDuration();\r\n    } else if (this.buttonData.id === 'LessDuration') {\r\n      this.keyCommands.halveDuration();\r\n    } else if (this.buttonData.id === 'GrowDurationDot') {\r\n      this.keyCommands.dotDuration();\r\n    } else if (this.buttonData.id === 'LessDurationDot') {\r\n      this.keyCommands.undotDuration();\r\n    } else if (this.buttonData.id === 'TripletButton') {\r\n      this.keyCommands.makeTupletCommand(3);\r\n    } else if (this.buttonData.id === 'QuintupletButton') {\r\n      this.keyCommands.makeTupletCommand(5);\r\n    } else if (this.buttonData.id === 'SeptupletButton') {\r\n      this.keyCommands.makeTupletCommand(7);\r\n    } else if (this.buttonData.id === 'NoTupletButton') {\r\n      this.keyCommands.unmakeTuplet();\r\n    }\r\n  }\r\n  bind() {\r\n    var self = this;\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      self.setDuration();\r\n    });\r\n  }\r\n}\r\n\r\nexport class VoiceButtons {\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.view = parameters.view;\r\n  }\r\n  doAction() {\r\n    let voiceIx = 0;\r\n    if (this.buttonData.id === 'V2Button') {\r\n      voiceIx = 1;\r\n    } else if (this.buttonData.id === 'V3Button') {\r\n      voiceIx = 2;\r\n    } else if (this.buttonData.id === 'V4Button') {\r\n      voiceIx = 3;\r\n    } else if (this.buttonData.id === 'VXButton') {\r\n      this.view.depopulateVoice();\r\n      return;\r\n    }\r\n    this.view.populateVoice(voiceIx);\r\n  }\r\n  bind() {\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      this.doAction();\r\n    });\r\n  }\r\n}\r\nexport class NoteButtons {\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.keyCommands = parameters.keyCommands;\r\n    this.view = parameters.view;\r\n  }\r\n  setPitch() {\r\n    if (this.buttonData.id === 'UpNoteButton') {\r\n      this.keyCommands.transposeUp();\r\n    } else if (this.buttonData.id === 'DownNoteButton') {\r\n      this.keyCommands.transposeDown();\r\n    } else if (this.buttonData.id === 'UpOctaveButton') {\r\n      this.keyCommands.upOctave();\r\n    } else if (this.buttonData.id === 'DownOctaveButton') {\r\n      this.keyCommands.downOctave();\r\n    } else if (this.buttonData.id === 'ToggleAccidental') {\r\n      this.keyCommands.toggleEnharmonic();\r\n    } else if (this.buttonData.id === 'ToggleCourtesy') {\r\n      this.keyCommands.toggleCourtesyAccidental();\r\n    } else if (this.buttonData.id === 'ToggleRestButton') {\r\n      this.keyCommands.makeRest();\r\n    } else if (this.buttonData.id === 'ToggleSlashButton') {\r\n      this.view.toggleSlash();\r\n    } else if (this.buttonData.id === 'AddGraceNote') {\r\n      this.keyCommands.addGraceNote();\r\n    } else if (this.buttonData.id === 'SlashGraceNote') {\r\n      this.keyCommands.slashGraceNotes();\r\n    } else if (this.buttonData.id === 'RemoveGraceNote') {\r\n      this.keyCommands.removeGraceNote();\r\n    } else if (this.buttonData.id === 'XNoteHead') {\r\n      this.keyCommands.setNoteHead();\r\n    } else if (this.buttonData.id === 'TriUpNoteHead') {\r\n      this.view.setNoteHead('T2');\r\n    } else if (this.buttonData.id === 'CircleXNoteHead') {\r\n      this.view.setNoteHead('X3');\r\n    } else if (this.buttonData.id === 'DiamondNoteHead') {\r\n      this.view.setNoteHead('D2');\r\n    } else {\r\n      this.keyCommands.setPitchCommand(this.buttonData.rightText);\r\n    }\r\n  }\r\n  bind() {\r\n    var self = this;\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      self.setPitch();\r\n    });\r\n  }\r\n}\r\n\r\nexport class ChordButtons {\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.keyCommands = parameters.keyCommands;\r\n    this.view = parameters.view;\r\n    this.interval = parseInt($(this.buttonElement).attr('data-interval'), 10);\r\n    this.direction = parseInt($(this.buttonElement).attr('data-direction'), 10);\r\n  }\r\n  collapseChord() {\r\n    this.keyCommands.collapseChord();\r\n  }\r\n  setInterval() {\r\n    this.keyCommands.intervalAdd(this.interval, this.direction);\r\n  }\r\n  bind() {\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      if ($(this.buttonElement).attr('id') === 'CollapseChordButton') {\r\n        this.collapseChord();\r\n        return;\r\n      }\r\n      self.setInterval();\r\n    });\r\n  }\r\n}\r\n\r\nexport class StaveButtons {\r\n  constructor(parameters) {\r\n    Vex.Merge(this, parameters);\r\n  }\r\n  addClef(clef, clefName) {\r\n    var instrument = {\r\n      instrumentName: clefName,\r\n      keyOffset: 0,\r\n      clef\r\n    };\r\n    this.view.changeInstrument(instrument);\r\n  }\r\n  clefTreble() {\r\n    this.addClef('treble', 'Treble Instrument');\r\n  }\r\n  clefBass() {\r\n    this.addClef('bass', 'Bass Instrument');\r\n  }\r\n  clefAlto() {\r\n    this.addClef('alto', 'Alto Instrument');\r\n  }\r\n  clefTenor() {\r\n    this.addClef('tenor', 'Tenor Instrument');\r\n  }\r\n  clefPercussion() {\r\n    this.addClef('percussion', 'Tenor Instrument');\r\n  }\r\n  _clefMove(index) {\r\n    this.view.moveStaffUpDown(index);\r\n  }\r\n  clefMoveUp() {\r\n    this._clefMove(-1, 'up');\r\n  }\r\n  clefMoveDown() {\r\n    this._clefMove(1, 'down');\r\n  }\r\n  _addStaffGroup(type) {\r\n    this.view.addStaffGroupDown(type);\r\n  }\r\n  staffBraceLower() {\r\n    this._addStaffGroup(SmoSystemGroup.connectorTypes.brace);\r\n  }\r\n  staffBracketLower() {\r\n    this._addStaffGroup(SmoSystemGroup.connectorTypes.bracket);\r\n  }\r\n  bind() {\r\n    const self = this;\r\n    $(this.buttonElement).off('click').on('click', () => {\r\n      const id = self.buttonData.id;\r\n      if (typeof(self[id]) === 'function') {\r\n        self[id]();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport class MeasureButtons {\r\n  constructor(parameters) {\r\n    Vex.Merge(this, parameters);\r\n  }\r\n  endRepeat() {\r\n    this.view.setBarline(SmoBarline.positions.end, SmoBarline.barlines.endRepeat);\r\n  }\r\n  startRepeat() {\r\n    this.view.setBarline(SmoBarline.positions.start, SmoBarline.barlines.startRepeat);\r\n  }\r\n  singleBarStart() {\r\n    this.view.setBarline(SmoBarline.positions.start, SmoBarline.barlines.singleBar);\r\n  }\r\n  singleBarEnd() {\r\n    this.view.setBarline(SmoBarline.positions.end, SmoBarline.barlines.singleBar);\r\n  }\r\n  doubleBar() {\r\n    this.view.setBarline(SmoBarline.positions.end, SmoBarline.barlines.doubleBar);\r\n  }\r\n  endBar() {\r\n    this.view.setBarline(SmoBarline.positions.end, SmoBarline.barlines.endBar);\r\n  }\r\n  coda() {\r\n    this.view.setRepeatSymbol(SmoRepeatSymbol.positions.end, SmoRepeatSymbol.symbols.Coda);\r\n  }\r\n  toCoda() {\r\n    this.view.setRepeatSymbol(SmoRepeatSymbol.positions.end, SmoRepeatSymbol.symbols.ToCoda);\r\n  }\r\n  segno() {\r\n    this.view.setRepeatSymbol(SmoRepeatSymbol.positions.end, SmoRepeatSymbol.symbols.Segno);\r\n  }\r\n  dsAlCoda() {\r\n    this.view.setRepeatSymbol(SmoRepeatSymbol.positions.end, SmoRepeatSymbol.symbols.DsAlCoda);\r\n  }\r\n  dcAlCoda() {\r\n    this.view.setRepeatSymbol(SmoRepeatSymbol.positions.end, SmoRepeatSymbol.symbols.DcAlCoda);\r\n  }\r\n  dsAlFine() {\r\n    this.view.setRepeatSymbol(SmoRepeatSymbol.positions.end, SmoRepeatSymbol.symbols.DsAlFine);\r\n  }\r\n  dcAlFine() {\r\n    this.view.setRepeatSymbol(SmoRepeatSymbol.positions.end, SmoRepeatSymbol.symbols.DcAlFine);\r\n  }\r\n  fine() {\r\n    this.view.setRepeatSymbol(SmoRepeatSymbol.positions.end, SmoRepeatSymbol.symbols.Fine);\r\n  }\r\n  nthEnding() {\r\n    this.view.addEnding();\r\n  }\r\n  handleEvent(event, method) {\r\n    this[method]();\r\n  }\r\n  bind() {\r\n    this.eventSource.domClick(this.buttonElement, this, 'handleEvent', this.buttonData.id);\r\n  }\r\n}\r\n\r\nexport class PlayerButtons {\r\n  constructor(parameters) {\r\n    Vex.Merge(this, parameters);\r\n  }\r\n  playButton() {\r\n    this.keyCommands.playScore();\r\n  }\r\n  stopButton() {\r\n    this.keyCommands.stopPlayer();\r\n  }\r\n  pauseButton() {\r\n    this.keyCommands.pausePlayer();\r\n  }\r\n  bind() {\r\n    this.eventSource.domClick(this.buttonElement, this, this.buttonData.id);\r\n  }\r\n}\r\n\r\nexport class DisplaySettings {\r\n  constructor(parameters) {\r\n    Vex.Merge(this, parameters);\r\n  }\r\n\r\n  refresh() {\r\n    this.view.refreshViewport();\r\n  }\r\n  zoomout() {\r\n    const globalLayout = this.view.score.layoutManager.getGlobalLayout();\r\n    globalLayout.zoomScale *= 1.1;\r\n    this.view.setGlobalLayout(globalLayout);\r\n  }\r\n  zoomin() {\r\n    const globalLayout = this.view.score.layoutManager.getGlobalLayout();\r\n    globalLayout.zoomScale = globalLayout.zoomScale / 1.1;\r\n    this.view.setGlobalLayout(globalLayout);\r\n  }\r\n  playButton2() {\r\n    this.keyCommands.playScore();\r\n  }\r\n  stopButton2() {\r\n    this.keyCommands.stopPlayer();\r\n  }\r\n  bind() {\r\n    this.eventSource.domClick(this.buttonElement, this, this.buttonData.id);\r\n  }\r\n}\r\n\r\nexport class TextButtons {\r\n  constructor(parameters) {\r\n    Vex.Merge(this, parameters);\r\n    this.menus = this.controller.menus;\r\n  }\r\n  lyrics() {\r\n    SuiLyricDialog.createAndDisplay(\r\n      {\r\n        buttonElement: this.buttonElement,\r\n        buttonData: this.buttonData,\r\n        completeNotifier: this.controller,\r\n        view: this.view,\r\n        undoBuffer: this.keyCommands.undoBuffer,\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        parser: SmoLyric.parsers.lyric\r\n      }\r\n    );\r\n    // tracker, selection, controller\r\n  }\r\n  chordChanges() {\r\n    SuiChordChangeDialog.createAndDisplay(\r\n      {\r\n        buttonElement: this.buttonElement,\r\n        buttonData: this.buttonData,\r\n        completeNotifier: this.controller,\r\n        view: this.view,\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands,\r\n        parser: SmoLyric.parsers.chord\r\n      }\r\n    );\r\n  }\r\n  rehearsalMark() {\r\n    this.view.toggleRehearsalMark();\r\n  }\r\n  _invokeMenu(cmd) {\r\n    this.menus.slashMenuMode(this.controller);\r\n    this.menus.createMenu(cmd);\r\n  }\r\n\r\n  addTextMenu() {\r\n    SuiTextTransformDialog.createAndDisplay(\r\n      {\r\n        buttonElement: this.buttonElement,\r\n        buttonData: this.buttonData,\r\n        completeNotifier: this.controller,\r\n        tracker: this.view.tracker,\r\n        view: this.view,\r\n        eventSource: this.eventSource,\r\n        keyCommands: this.keyCommands\r\n      });\r\n  }\r\n  addDynamicsMenu() {\r\n    this._invokeMenu('SuiDynamicsMenu');\r\n  }\r\n  bind() {\r\n    this.eventSource.domClick(this.buttonElement, this, this.buttonData.id);\r\n  }\r\n}\r\n\r\nexport class NavigationButtons {\r\n  static get directionsTrackerMap() {\r\n    return {\r\n      navLeftButton: 'moveSelectionLeft',\r\n      navRightButton: 'moveSelectionRight',\r\n      navUpButton: 'moveSelectionUp',\r\n      navDownButton: 'moveSelectionDown',\r\n      navFastForward: 'moveSelectionRightMeasure',\r\n      navRewind: 'moveSelectionLeftMeasure',\r\n      navGrowLeft: 'growSelectionLeft',\r\n      navGrowRight: 'growSelectionRight'\r\n    };\r\n  }\r\n  constructor(parameters) {\r\n    Vex.Merge(this, parameters);\r\n  }\r\n\r\n  _moveTracker() {\r\n    this.view.tracker[NavigationButtons.directionsTrackerMap[this.buttonData.id]]();\r\n  }\r\n  bind() {\r\n    this.eventSource.domClick(this.buttonElement, this, '_moveTracker');\r\n  }\r\n}\r\nexport class ArticulationButtons {\r\n  static get articulationIdMap() {\r\n    return {\r\n      accentButton: SmoArticulation.articulations.accent,\r\n      tenutoButton: SmoArticulation.articulations.tenuto,\r\n      staccatoButton: SmoArticulation.articulations.staccato,\r\n      marcatoButton: SmoArticulation.articulations.marcato,\r\n      pizzicatoButton: SmoArticulation.articulations.pizzicato,\r\n      fermataButton: SmoArticulation.articulations.fermata,\r\n      mordentButton: SmoOrnament.ornaments.mordent,\r\n      mordentInvertedButton: SmoOrnament.ornaments.mordentInverted,\r\n      trillButton: SmoOrnament.ornaments.trill,\r\n      scoopButton: SmoOrnament.ornaments.scoop,\r\n      dropButton: SmoOrnament.ornaments.fall_short,\r\n      dropLongButton: SmoOrnament.ornaments.dropLong,\r\n      doitButton: SmoOrnament.ornaments.doit,\r\n      doitLongButton: SmoOrnament.ornaments.doitLong,\r\n      flipButton: SmoOrnament.ornaments.flip,\r\n      smearButton: SmoOrnament.ornaments.smear\r\n    };\r\n  }\r\n  static get constructors() {\r\n    return {\r\n      accentButton: 'SmoArticulation',\r\n      tenutoButton: 'SmoArticulation',\r\n      staccatoButton: 'SmoArticulation',\r\n      marcatoButton: 'SmoArticulation',\r\n      pizzicatoButton: 'SmoArticulation',\r\n      fermataButton: 'SmoArticulation',\r\n      mordentButton: 'SmoOrnament',\r\n      mordentInvertedButton: 'SmoOrnament',\r\n      trillButton: 'SmoOrnament',\r\n      scoopButton: 'SmoOrnament',\r\n      dropButton: 'SmoOrnament',\r\n      dropLongButton: 'SmoOrnament',\r\n      doitButton: 'SmoOrnament',\r\n      doitLongButton: 'SmoOrnament',\r\n      flipButton: 'SmoOrnament',\r\n      smearButton: 'SmoOrnament'\r\n    };\r\n  }\r\n  constructor(parameters) {\r\n    this.buttonElement = parameters.buttonElement;\r\n    this.buttonData = parameters.buttonData;\r\n    this.keyCommands = parameters.keyCommands;\r\n    this.articulation = ArticulationButtons.articulationIdMap[this.buttonData.id];\r\n    this.eventSource = parameters.eventSource;\r\n    this.ctor = ArticulationButtons.constructors[this.buttonData.id];\r\n  }\r\n  _toggleArticulation() {\r\n    this.showState = !this.showState;\r\n    this.keyCommands.toggleArticulationCommand(this.articulation, this.ctor);\r\n  }\r\n  bind() {\r\n    this.eventSource.domClick(this.buttonElement, this, '_toggleArticulation');\r\n  }\r\n}\r\n\r\nexport class CollapseRibbonControl {\r\n  static get paramArray() {\r\n    return ['ribbonButtons', 'keyCommands', 'controller', 'view', 'menus', 'buttonData', 'buttonElement',\r\n      'eventSource'];\r\n  }\r\n  constructor(parameters) {\r\n    smoSerialize.filteredMerge(CollapseRibbonControl.paramArray, parameters, this);\r\n    this.childButtons = parameters.ribbonButtons.filter((cb) =>\r\n      cb.group === this.buttonData.group &&\r\n        RibbonButtons.isCollapsible(cb.action)\r\n    );\r\n  }\r\n  _toggleExpand() {\r\n    this.childButtons.forEach((cb) => {\r\n      const el = $('#' + cb.id);\r\n      $(el).toggleClass('collapsed');\r\n      $(el).toggleClass('expanded');\r\n    });\r\n\r\n    this.buttonElement.closest('div').toggleClass('expanded');\r\n    this.buttonElement.toggleClass('expandedChildren');\r\n    if (this.buttonElement.hasClass('expandedChildren')) {\r\n      const leftSpan = $(this.buttonElement).find('.ribbon-button-text');\r\n      $(leftSpan).text('');\r\n      $(leftSpan).removeClass(this.buttonData.icon);\r\n      $(this.buttonElement).addClass('icon icon-circle-left');\r\n    } else {\r\n      $(this.buttonElement).removeClass('icon-circle-left');\r\n      const leftSpan = $(this.buttonElement).find('.ribbon-button-text');\r\n      $(leftSpan).addClass(this.buttonData.icon);\r\n      $(leftSpan).text(this.buttonData.leftText);\r\n    }\r\n    // Expand may change music dom, redraw\r\n    $('body').trigger('forceScrollEvent');\r\n  }\r\n  bind() {\r\n    $(this.buttonElement).closest('div').addClass('collapseContainer');\r\n    this.eventSource.domClick(this.buttonElement, this, '_toggleExpand');\r\n    this.childButtons.forEach((cb) => {\r\n      const ctor = Smo.getClass(cb.ctor);\r\n      const el = $('#' + cb.id);\r\n      const btn = new ctor({\r\n        buttonData: cb,\r\n        buttonElement: el,\r\n        keyCommands: this.keyCommands,\r\n        view: this.view,\r\n        controller: this.controller,\r\n        eventSource: this.eventSource\r\n      });\r\n      if (typeof(btn.bind) === 'function') {\r\n        btn.bind();\r\n      }\r\n    });\r\n  }\r\n}\r\n","// [Smoosic](https://github.com/AaronDavidNewman/Smoosic)\r\n// Copyright (c) Aaron David Newman 2021.\r\n\r\nexport class defaultRibbonLayout {\r\n  static get ribbons() {\r\n    var left = defaultRibbonLayout.leftRibbonIds;\r\n    var top = defaultRibbonLayout.displayIds.concat(defaultRibbonLayout.noteButtonIds).concat(defaultRibbonLayout.navigateButtonIds)\r\n        .concat(defaultRibbonLayout.articulateButtonIds).concat(defaultRibbonLayout.microtoneIds)\r\n        .concat(defaultRibbonLayout.durationIds)\r\n            .concat(defaultRibbonLayout.beamIds).concat(defaultRibbonLayout.measureIds).concat(defaultRibbonLayout.staveIds)\r\n              .concat(defaultRibbonLayout.textIds).concat(defaultRibbonLayout.playerIds)\r\n              .concat(defaultRibbonLayout.voiceButtonIds).concat(defaultRibbonLayout.debugIds);\r\n\r\n    return {\r\n      left: left,\r\n      top:top\r\n    };\r\n  }\r\n\r\n  static get ribbonButtons() {\r\n    return defaultRibbonLayout.leftRibbonButtons.concat(\r\n      defaultRibbonLayout.navigationButtons).concat(\r\n      defaultRibbonLayout.noteRibbonButtons).concat(\r\n      defaultRibbonLayout.articulationButtons).concat(\r\n            defaultRibbonLayout.microtoneButtons).concat(\r\n      defaultRibbonLayout.chordButtons).concat(\r\n      defaultRibbonLayout.durationRibbonButtons).concat(defaultRibbonLayout.beamRibbonButtons).concat(defaultRibbonLayout.measureRibbonButtons)\r\n      .concat(defaultRibbonLayout.staveRibbonButtons)\r\n            .concat(defaultRibbonLayout.textRibbonButtons).concat(defaultRibbonLayout.playerButtons)\r\n            .concat(defaultRibbonLayout.voiceRibbonButtons).concat(defaultRibbonLayout.displayButtons).concat(defaultRibbonLayout.debugRibbonButtons);\r\n  }\r\n\r\n  static get leftRibbonIds() {\r\n    return ['helpDialog','languageMenu', 'fileMenu','libraryMenu',\r\n    'addStaffMenu','measureModal','tempoModal','timeSignatureMenu','keyMenu', 'staffModifierMenu', 'staffModifierMenu2',\r\n    'instrumentModal','pianoModal','layoutMenu'];\r\n  }\r\n  static get noteButtonIds() {\r\n    return ['NoteButtons',\r\n            'UpNoteButton', 'DownNoteButton','AddGraceNote','RemoveGraceNote','SlashGraceNote',\r\n            'XNoteHead','TriUpNoteHead','CircleXNoteHead','DiamondNoteHead',\r\n        'UpOctaveButton', 'DownOctaveButton', 'ToggleRestButton','ToggleSlashButton','ToggleAccidental', 'ToggleCourtesy'];\r\n  }\r\n  static get voiceButtonIds() {\r\n      return ['VoiceButtons','V1Button','V2Button','V3Button','V4Button','VXButton'];\r\n  }\r\n  static get navigateButtonIds()  {\r\n    return ['NavigationButtons', 'navLeftButton', 'navRightButton', 'navUpButton', 'navDownButton', 'moreNavButtons','navFastForward', 'navRewind',\r\n        'navGrowLeft', 'navGrowRight'];\r\n  }\r\n  static get articulateButtonIds()  {\r\n    return ['articulationButtons', 'accentButton', 'tenutoButton', 'staccatoButton', 'marcatoButton', 'fermataButton', 'pizzicatoButton','mordentButton','mordentInvertedButton','trillButton'\r\n      ,'scoopButton','dropButton','dropLongButton','doitButton','doitLongButton','flipButton','smearButton'];\r\n  }\r\n\r\n  static get intervalIds()  {\r\n    return ['CreateChordButtons', 'SecondUpButton', 'SecondDownButton', 'ThirdUpButton', 'ThirdDownButton', 'FourthUpButton', 'FourthDownButton',\r\n        'FifthUpButton', 'FifthDownButton','SixthUpButton', 'SixthDownButton'\r\n        ,'SeventhUpButton', 'SeventhDownButton','OctaveUpButton','OctaveDownButton','CollapseChordButton'];\r\n  }\r\n\r\n  static get debugIds() {\r\n    return ['DebugGroup','DebugButton2'];\r\n  }\r\n  static get durationIds() {\r\n    return ['DurationButtons','GrowDuration','LessDuration','GrowDurationDot','LessDurationDot','TripletButton','QuintupletButton','SeptupletButton','NoTupletButton'];\r\n  }\r\n  static get measureIds() {\r\n    return ['MeasureButtons','endRepeat','startRepeat','endBar','doubleBar','singleBarEnd','singleBarStart','nthEnding','dcAlCoda','dsAlCoda','dcAlFine','dsAlFine','coda','toCoda','segno','toSegno','fine'];\r\n  }\r\n\r\n    static get textIds() {\r\n    return ['TextButtons','addTextMenu','rehearsalMark','lyrics','chordChanges','addDynamicsMenu'];\r\n  }\r\n\r\n    static get beamIds() {\r\n    return ['BeamButtons','breakBeam','beamSelections','toggleBeamDirection'];\r\n  }\r\n    static get staveIds() {\r\n    return ['StaveButtons','clefTreble','clefBass','clefAddRemove','clefMoveUp','clefMoveDown','moreStaffButtons',\r\n        'clefTenor','clefAlto','clefPercussion',\r\n           'staffBracketLower','staffBraceLower','staffDoubleConnectorLower','staffSingleConnectorLower'];\r\n  }\r\n\r\n  static get playerIds() {\r\n      return ['playerButtons','playButton','pauseButton','stopButton'];\r\n  }\r\n\r\n  static get microtoneIds() {\r\n      return ['MicrotoneButtons','flat75sz','flat25sz','flat25ar','flat125ar','sharp75','sharp125','sharp25','sori','koron'];\r\n  }\r\n\r\n  static get displayIds() {\r\n      return ['displaySettings','refresh','zoomout','zoomin','playButton2','stopButton2'];\r\n  }\r\n\r\n\r\n  static get textRibbonButtons() {\r\n    return [\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent measure',\r\n        icon: 'icon-text',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'textEdit',\r\n        id: 'TextButtons'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '/t',\r\n        classes: 'icon collapsed textButton',\r\n        icon: 'icon-textBasic',\r\n        action: 'collapseChild',\r\n        ctor: 'TextButtons',\r\n        group: 'textEdit',\r\n        id: 'addTextMenu'\r\n      },{\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon collapsed textButton',\r\n        icon: 'icon-rehearsemark',\r\n        action: 'collapseChild',\r\n        ctor: 'TextButtons',\r\n        group: 'textEdit',\r\n        id: 'rehearsalMark'\r\n      },{\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon collapsed textButton',\r\n        icon: 'icon-lyric',\r\n        action: 'collapseChild',\r\n        ctor: 'TextButtons',\r\n        group: 'textEdit',\r\n        id: 'lyrics'\r\n      },  {\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon collapsed textButton',\r\n        icon: 'icon-chordSymbol',\r\n        action: 'collapseChild',\r\n        ctor: 'TextButtons',\r\n        group: 'textEdit',\r\n        id: 'chordChanges'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '/d',\r\n        classes: 'icon collapsed textButton',\r\n        icon: 'icon-mezzopiano',\r\n        action: 'collapseChild',\r\n        ctor: 'TextButtons',\r\n        group: 'textEdit',\r\n        id: 'addDynamicsMenu'\r\n      }\r\n    ];\r\n  }\r\n  static get displayButtons() {\r\n    return [{\r\n      leftText: '',\r\n      rightText: '',\r\n      classes: 'icon  hide',\r\n      icon: 'icon-zoomplus',\r\n      action: 'collapseParent',\r\n      ctor: 'CollapseRibbonControl',\r\n      group: 'displaySettings',\r\n      id: 'displaySettings'\r\n    },{\r\n      leftText: '',\r\n      rightText: '',\r\n      classes: 'icon   refresh',\r\n      icon: 'icon-refresh',\r\n      action: 'collapseChild',\r\n      ctor: 'DisplaySettings',\r\n      group: 'displaySettings',\r\n      id: 'refresh'\r\n    },{\r\n      leftText: '',\r\n      rightText: '',\r\n      classes: 'icon   refresh',\r\n      icon: 'icon-zoomplus',\r\n      action: 'collapseChild',\r\n      ctor: 'DisplaySettings',\r\n      group: 'displaySettings',\r\n      id: 'zoomout'\r\n    },{\r\n      leftText: '',\r\n      rightText: '',\r\n      classes: 'icon   refresh',\r\n      icon: 'icon-zoomminus',\r\n      action: 'collapseChild',\r\n      ctor: 'DisplaySettings',\r\n      group: 'displaySettings',\r\n      id: 'zoomin'\r\n    },{\r\n      leftText: '',\r\n      rightText: '',\r\n      classes: 'icon   play',\r\n      icon: 'icon-play3',\r\n      action: 'collapseChild',\r\n      ctor: 'DisplaySettings',\r\n      group: 'displaySettings',\r\n      id: 'playButton2'\r\n    },{\r\n      leftText: '',\r\n      rightText: '',\r\n      classes: 'icon   stop2',\r\n      icon: 'icon-stop2',\r\n      action: 'collapseChild',\r\n      ctor: 'DisplaySettings',\r\n      group: 'displaySettings',\r\n      id: 'stopButton2'\r\n    }\r\n  ];\r\n  }\r\n\r\n    static get microtoneButtons() {\r\n        return [{\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent microtones',\r\n        icon: 'icon-microtone',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'microtone',\r\n        id: 'MicrotoneButtons'\r\n    }, {\r\n            leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed microtones',\r\n        icon: 'icon-flat25sz',\r\n        action: 'collapseChild',\r\n        ctor: 'MicrotoneButtons',\r\n        group: 'microtone',\r\n        id: 'flat25sz'\r\n        }, {\r\n            leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed microtones',\r\n        icon: 'icon-flat75sz',\r\n        action: 'collapseChild',\r\n        ctor: 'MicrotoneButtons',\r\n        group: 'microtone',\r\n        id: 'flat75sz'\r\n        },{\r\n            leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed microtones',\r\n        icon: 'icon-flat25ar',\r\n        action: 'collapseChild',\r\n        ctor: 'MicrotoneButtons',\r\n        group: 'microtone',\r\n        id: 'flat25ar'\r\n        },{\r\n            leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed microtones',\r\n        icon: 'icon-sharp75',\r\n        action: 'collapseChild',\r\n        ctor: 'MicrotoneButtons',\r\n        group: 'microtone',\r\n        id: 'sharp75'\r\n        },{\r\n            leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed microtones',\r\n        icon: 'icon-sharp125',\r\n        action: 'collapseChild',\r\n        ctor: 'MicrotoneButtons',\r\n        group: 'microtone',\r\n        id: 'sharp125'\r\n        },{\r\n            leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed microtones',\r\n        icon: 'icon-sharp25',\r\n        action: 'collapseChild',\r\n        ctor: 'MicrotoneButtons',\r\n        group: 'microtone',\r\n        id: 'sharp25'\r\n        },{\r\n            leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed microtones',\r\n        icon: 'icon-sori',\r\n        action: 'collapseChild',\r\n        ctor: 'MicrotoneButtons',\r\n        group: 'microtone',\r\n        id: 'sori'\r\n        },{\r\n            leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed microtones',\r\n        icon: 'icon-koron',\r\n        action: 'collapseChild',\r\n        ctor: 'MicrotoneButtons',\r\n        group: 'microtone',\r\n        id: 'koron'\r\n        }];\r\n    }\r\n\r\n  static get staveRibbonButtons() {\r\n    return [{\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent staves',\r\n        icon: 'icon-treble',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'staves',\r\n        id: 'StaveButtons'\r\n    }, {\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-treble',\r\n        action: 'collapseChild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'clefTreble'\r\n    }, {\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-bass',\r\n        action: 'collapseChild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'clefBass'\r\n    }, {\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-plus',\r\n        action: 'collapseChildMenu',\r\n        ctor: 'SuiAddStaffMenu',\r\n        group: 'staves',\r\n        id: 'clefAddRemove'\r\n    },\r\n        {\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-arrow-up',\r\n        action: 'collapseChild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'clefMoveUp'\r\n    },{\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-arrow-down',\r\n        action: 'collapseChild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'clefMoveDown'\r\n    },\r\n        {\r\n            leftText: '...',\r\n            rightText: '',\r\n            icon: 'icon-circle-left',\r\n            classes: 'collapsed expander',\r\n            action: 'collapseMore',\r\n            ctor: 'ExtendedCollapseParent',\r\n            group: 'staves',\r\n            id: 'moreStaffButtons'\r\n        },{\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-tenor',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'clefTenor'\r\n    }, {\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-alto',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'clefAlto'\r\n    }, {\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-percussion',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'clefPercussion'\r\n    }, {\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-brace',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'staffBraceLower'\r\n    },{\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed staves',\r\n        icon: 'icon-bracket',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'StaveButtons',\r\n        group: 'staves',\r\n        id: 'staffBracketLower'\r\n    }\r\n\r\n    ];\r\n  }\r\n\r\n    static get beamRibbonButtons() {\r\n        return [{\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent beams',\r\n        icon: 'icon-flag',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'beams',\r\n        id: 'BeamButtons'\r\n    },{\r\n        leftText: '',\r\n        rightText: 'x',\r\n        icon: 'icon-beamBreak',\r\n        classes: 'collapsed beams',\r\n        action: 'collapseChild',\r\n        ctor: 'BeamButtons',\r\n        group: 'beams',\r\n        id: 'breakBeam'\r\n      },\r\n            {\r\n        leftText: '',\r\n        rightText: 'Shift-X',\r\n        icon: 'icon-beam',\r\n        classes: 'collapsed beams',\r\n        action: 'collapseChild',\r\n        ctor: 'BeamButtons',\r\n        group: 'beams',\r\n        id: 'beamSelections'\r\n      },\r\n            {\r\n        leftText: '',\r\n        rightText: 'Shift-B',\r\n        icon: 'icon-flagFlip',\r\n        classes: 'collapsed beams',\r\n        action: 'collapseChild',\r\n        ctor: 'BeamButtons',\r\n        group: 'beams',\r\n        id: 'toggleBeamDirection'\r\n      }\r\n        ];\r\n    }\r\n\r\n  static get measureRibbonButtons() {\r\n    return [{\r\n      leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent measure',\r\n        icon: 'icon-end_rpt',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'measure',\r\n        id: 'MeasureButtons'\r\n    },{\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-end_rpt',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'endRepeat'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-start_rpt',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'startRepeat'\r\n      }\r\n      ,\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-end_bar',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'endBar'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-double_bar',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'doubleBar'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-single_bar',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'singleBarEnd'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-single_bar_start',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'singleBarStart'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-ending',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'nthEnding'\r\n      },\r\n      {\r\n        leftText: 'DC Al Coda',\r\n        rightText: '',\r\n        icon: '',\r\n        classes: 'collapsed repetext',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'dcAlCoda'\r\n      },\r\n      {\r\n        leftText: 'DS Al Coda',\r\n        rightText: '',\r\n        icon: '',\r\n        classes: 'collapsed repetext',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'dsAlCoda'\r\n      },\r\n      {\r\n        leftText: 'DC Al Fine',\r\n        rightText: '',\r\n        icon: '',\r\n        classes: 'collapsed repetext',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'dcAlFine'\r\n      },\r\n      {\r\n        leftText: 'DS Al Fine',\r\n        rightText: '',\r\n        icon: '',\r\n        classes: 'collapsed repetext',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'dsAlFine'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-coda',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'coda'\r\n      },\r\n      {\r\n        leftText: 'to ',\r\n        rightText: '',\r\n        icon: 'icon-coda',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'toCoda'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-segno',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'segno'\r\n      },\r\n      {\r\n        leftText: 'Fine',\r\n        rightText: '',\r\n        icon: '',\r\n        classes: 'collapsed repetext',\r\n        action: 'collapseChild',\r\n        ctor: 'MeasureButtons',\r\n        group: 'measure',\r\n        id: 'fine'\r\n      }\r\n    ];\r\n  }\r\n  static get debugRibbonButtons() {\r\n    return [{\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent',\r\n        icon: 'icon-new-tab',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'debug',\r\n        id: 'DebugGroup'\r\n      },{\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapsed',\r\n        icon: 'icon-new-tab',\r\n        action: 'collapseChild',\r\n        ctor: 'DebugButtons',\r\n        group: 'debug',\r\n        id: 'DebugButton2'\r\n      }];\r\n  }\r\n\r\n  static get durationRibbonButtons() {\r\n    return [{\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent duration',\r\n        icon: 'icon-duration',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'duration',\r\n        id: 'DurationButtons'\r\n      },{\r\n        leftText: '',\r\n        rightText: '.',\r\n        icon: 'icon-duration_grow',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'DurationButtons',\r\n        group: 'duration',\r\n        id: 'GrowDuration'\r\n      },{\r\n        leftText: '',\r\n        rightText: ',',\r\n        icon: 'icon-duration_less',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'DurationButtons',\r\n        group: 'duration',\r\n        id: 'LessDuration'\r\n      },{\r\n        leftText: '',\r\n        rightText: '>',\r\n        icon: 'icon-duration_grow_dot',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'DurationButtons',\r\n        group: 'duration',\r\n        id: 'GrowDurationDot'\r\n      },{\r\n        leftText: '',\r\n        rightText: '<',\r\n        icon: 'icon-duration_less_dot',\r\n        classes: 'collapsed duration',\r\n        action: 'collapseChild',\r\n        ctor: 'DurationButtons',\r\n        group: 'duration',\r\n        id: 'LessDurationDot'\r\n      },{\r\n        leftText: '',\r\n        rightText: 'Ctrl-3',\r\n        icon: 'icon-triplet',\r\n        classes: 'collapsed duration tuplet',\r\n        action: 'collapseChild',\r\n        ctor: 'DurationButtons',\r\n        group: 'duration',\r\n        id: 'TripletButton'\r\n      },{\r\n        leftText: '',\r\n        rightText: 'Ctrl-5',\r\n        icon: 'icon-quint',\r\n        classes: 'collapsed duration tuplet',\r\n        action: 'collapseChild',\r\n        ctor: 'DurationButtons',\r\n        group: 'duration',\r\n        id: 'QuintupletButton'\r\n      },{\r\n        leftText: '',\r\n        rightText: 'Ctrl-7',\r\n        icon: 'icon-septuplet',\r\n        classes: 'collapsed duration tuplet',\r\n        action: 'collapseChild',\r\n        ctor: 'DurationButtons',\r\n        group: 'duration',\r\n        id: 'SeptupletButton'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: 'Ctrl-0',\r\n        icon: 'icon-no_tuplet',\r\n        classes: 'collapsed duration tuplet',\r\n        action: 'collapseChild',\r\n        ctor: 'DurationButtons',\r\n        group: 'duration',\r\n        id: 'NoTupletButton'\r\n      }\r\n      ];\r\n  }\r\n\r\n    static get voiceRibbonButtons() {\r\n        return [{\r\n                leftText: '',\r\n                rightText: '',\r\n                classes: 'icon  collapseParent',\r\n                icon: 'icon-Vo',\r\n                action: 'collapseParent',\r\n                ctor: 'CollapseRibbonControl',\r\n                group: 'voices',\r\n                id: 'VoiceButtons'\r\n            }, {\r\n                leftText: '',\r\n                rightText: '',\r\n                icon: 'icon-V1',\r\n                classes: 'collapsed',\r\n                action: 'collapseChild',\r\n                ctor: 'VoiceButtons',\r\n                group: 'voices',\r\n                id: 'V1Button'\r\n            }, {\r\n                leftText: '',\r\n                rightText: '',\r\n                icon: 'icon-V2',\r\n                classes: 'collapsed',\r\n                action: 'collapseChild',\r\n                ctor: 'VoiceButtons',\r\n                group: 'voices',\r\n                id: 'V2Button'\r\n            }, {\r\n                leftText: '',\r\n                rightText: '',\r\n                icon: 'icon-V3',\r\n                classes: 'collapsed',\r\n                action: 'collapseChild',\r\n                ctor: 'VoiceButtons',\r\n                group: 'voices',\r\n                id: 'V3Button'\r\n            }, {\r\n                leftText: '',\r\n                rightText: '',\r\n                icon: 'icon-V4',\r\n                classes: 'collapsed',\r\n                action: 'collapseChild',\r\n                ctor: 'VoiceButtons',\r\n                group: 'voices',\r\n                id: 'V4Button'\r\n            }, {\r\n                leftText: '',\r\n                rightText: '',\r\n                icon: 'icon-Vx',\r\n                classes: 'collapsed',\r\n                action: 'collapseChild',\r\n                ctor: 'VoiceButtons',\r\n                group: 'voices',\r\n                id: 'VXButton'\r\n            }\r\n        ];\r\n    }\r\n  static get noteRibbonButtons() {\r\n    return [{\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent',\r\n        icon: 'icon-note',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'notes',\r\n        id: 'NoteButtons'\r\n      }, {\r\n        leftText: 'A',\r\n        rightText: 'a',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'ANoteButton'\r\n      }, {\r\n        leftText: 'B',\r\n        rightText: 'b',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'BNoteButton'\r\n      }, {\r\n        leftText: 'C',\r\n        rightText: 'c',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'CNoteButton'\r\n      }, {\r\n        leftText: 'D',\r\n        rightText: 'd',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'DNoteButton'\r\n      }, {\r\n        leftText: 'E',\r\n        rightText: 'e',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'ENoteButton'\r\n      }, {\r\n        leftText: 'F',\r\n        rightText: 'f',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'FNoteButton'\r\n      }, {\r\n        leftText: 'G',\r\n        rightText: 'g',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'GNoteButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '-',\r\n        icon: 'icon-sharp',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'UpNoteButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '=',\r\n        icon: 'icon-flat',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'DownNoteButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'r',\r\n        icon: 'icon-rest',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'ToggleRestButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'r',\r\n        icon: 'icon-slash',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'ToggleSlashButton'\r\n      }, {\r\n        leftText: '...',\r\n        rightText: '',\r\n        icon: 'icon-circle-left',\r\n        classes: 'collapsed expander',\r\n        action: 'collapseMore',\r\n        ctor: 'ExtendedCollapseParent',\r\n        group: 'notes',\r\n        id: 'moreNoteButtons'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'G',\r\n        icon: 'icon-grace_note',\r\n        classes: 'collapsed graceIcon',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'AddGraceNote'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-grace_slash',\r\n        classes: 'collapsed graceIcon',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'SlashGraceNote'\r\n      },{\r\n        leftText: '',\r\n        rightText: 'alt-g',\r\n        icon: 'icon-grace_remove',\r\n        classes: 'collapsed graceIcon',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'RemoveGraceNote'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-notex',\r\n        classes: 'collapsed graceIcon',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'XNoteHead'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-notehead-triangleup',\r\n        classes: 'collapsed graceIcon',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'TriUpNoteHead'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-notehead-circlex',\r\n        classes: 'collapsed graceIcon',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'CircleXNoteHead'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-notehead-diamondblack',\r\n        classes: 'collapsed graceIcon',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'DiamondNoteHead'\r\n      }, {\r\n        leftText: '8va',\r\n        rightText: 'Shift=',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'UpOctaveButton'\r\n      }, {\r\n        leftText: '8vb',\r\n        rightText: 'Shift-',\r\n        icon: '',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'DownOctaveButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'ShiftE',\r\n        icon: 'icon-accident',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'ToggleAccidental'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'ShiftF',\r\n        icon: 'icon-courtesy',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NoteButtons',\r\n        group: 'notes',\r\n        id: 'ToggleCourtesy'\r\n      }\r\n\r\n    ];\r\n  }\r\n  static get playerButtons() {\r\n        // .icon-play3\r\n        return [{\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-equalizer2',\r\n        classes: 'icon collapseParent player',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'playerButtons',\r\n        id: 'playerButtons'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'p',\r\n        icon: 'icon-play3',\r\n        classes: 'icon collapsed player',\r\n        action: 'collapseChild',\r\n        ctor: 'PlayerButtons',\r\n        group: 'playerButtons',\r\n        id: 'playButton'\r\n      },\r\n            {\r\n        leftText: '',\r\n        rightText: 's',\r\n        icon: 'icon-stop2',\r\n        classes: 'icon collapsed player',\r\n        action: 'collapseChild',\r\n        ctor: 'PlayerButtons',\r\n        group: 'playerButtons',\r\n        id: 'stopButton'\r\n      },\r\n            {\r\n        leftText: '',\r\n        rightText: 'P',\r\n        icon: 'icon-pause2',\r\n        classes: 'icon collapsed player',\r\n        action: 'collapseChild',\r\n        ctor: 'PlayerButtons',\r\n        group: 'playerButtons',\r\n        id: 'pauseButton'\r\n      }];\r\n    }\r\n    static get articulationButtons() {\r\n    return [{\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-articulation',\r\n        classes: 'icon collapseParent articulation',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'articulations',\r\n        id: 'articulationButtons'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'h',\r\n        icon: 'icon-accent_above',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'accentButton'\r\n      },{\r\n        leftText: '',\r\n        rightText: 'i',\r\n        icon: 'icon-tenuto_above',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'tenutoButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'j',\r\n        icon: 'icon-staccato_above',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'staccatoButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: 'k',\r\n        icon: 'icon-marcato_above',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'marcatoButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-fermata',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'fermataButton'\r\n      },  {\r\n        leftText: '',\r\n        rightText: 'l',\r\n        icon: 'icon-pitz_above',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'pizzicatoButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-mordent-inv',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'mordentInvertedButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-mordent',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'mordentButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-trill',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'trillButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-scoop',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'scoopButton'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-drop',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'dropButton'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-drop-long',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'dropLongButton'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-doit',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'doitButton'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-doit-long',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'doitLongButton'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-flip',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'flipButton'\r\n      },\r\n      {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-smear',\r\n        classes: 'icon collapsed articulation',\r\n        action: 'collapseChild',\r\n        ctor: 'ArticulationButtons',\r\n        group: 'articulations',\r\n        id: 'smearButton'\r\n      }\r\n    ];\r\n  }\r\n  static get navigationButtons() {\r\n    return [{\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon  collapseParent',\r\n        icon: 'icon-navigate',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'navigation',\r\n        id: 'NavigationButtons'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-arrow-left',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NavigationButtons',\r\n        group: 'navigation',\r\n        id: 'navLeftButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-arrow-right',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NavigationButtons',\r\n        group: 'navigation',\r\n        id: 'navRightButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-arrow-up',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NavigationButtons',\r\n        group: 'navigation',\r\n        id: 'navUpButton'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-arrow-down',\r\n        classes: 'collapsed',\r\n        action: 'collapseChild',\r\n        ctor: 'NavigationButtons',\r\n        group: 'navigation',\r\n        id: 'navDownButton'\r\n      }, {\r\n        leftText: '...',\r\n        rightText: '',\r\n        icon: '',\r\n        classes: 'collapsed expander',\r\n        action: 'collapseMore',\r\n        ctor: 'ExtendedCollapseParent',\r\n        group: 'navigation',\r\n        id: 'moreNavButtons'\r\n      },{\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-fforward',\r\n        classes: 'collapsed',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'NavigationButtons',\r\n        group: 'navigation',\r\n        id: 'navFastForward'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-rewind',\r\n        classes: 'collapsed',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'NavigationButtons',\r\n        group: 'navigation',\r\n        id: 'navRewind'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-note_select_left',\r\n        classes: 'collapsed selection-icon',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'NavigationButtons',\r\n        group: 'navigation',\r\n        id: 'navGrowLeft'\r\n      }, {\r\n        leftText: '',\r\n        rightText: '',\r\n        icon: 'icon-note_select_right',\r\n        classes: 'collapsed selection-icon',\r\n        action: 'collapseGrandchild',\r\n        ctor: 'NavigationButtons',\r\n        group: 'navigation',\r\n        id: 'navGrowRight'\r\n      }\r\n    ];\r\n  }\r\n  static get chordButtons() {\r\n    return [{\r\n        icon: 'icon-chords',\r\n        leftText: '',\r\n        rightText: '',\r\n        classes: 'icon collapseParent',\r\n        action: 'collapseParent',\r\n        ctor: 'CollapseRibbonControl',\r\n        group: 'chords',\r\n        id: 'CreateChordButtons'\r\n      }, {\r\n        icon: 'icon-arrow-up',\r\n        leftText: '2nd',\r\n        rightText: '2',\r\n        classes: 'collapsed addChord',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '1',\r\n          direction: '1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'SecondUpButton'\r\n      }, {\r\n        icon: 'icon-arrow-down',\r\n        leftText: '2nd',\r\n        rightText: 'Shift 2',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '1',\r\n          direction: '1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'SecondDownButton'\r\n      }, {\r\n        icon: 'icon-arrow-up',\r\n        leftText: '3rd',\r\n        rightText: '3',\r\n        classes: 'collapsed addChord',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '2',\r\n          direction: '1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'ThirdUpButton'\r\n      }, {\r\n        icon: 'icon-arrow-down',\r\n        leftText: '3rd',\r\n        rightText: 'Shift 3',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '2',\r\n          direction: '-1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'ThirdDownButton'\r\n      }, {\r\n        icon: 'icon-arrow-up',\r\n        leftText: '4th',\r\n        rightText: '4',\r\n        classes: 'collapsed addChord',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '3',\r\n          direction: '1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'FourthUpButton'\r\n      }, {\r\n        icon: 'icon-arrow-down',\r\n        leftText: '4th',\r\n        rightText: 'Shift 4',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '3',\r\n          direction: '-1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'FourthDownButton'\r\n      }, {\r\n        icon: 'icon-arrow-up',\r\n        leftText: '5th',\r\n        rightText: '5',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '4',\r\n          direction: '1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'FifthUpButton'\r\n      }, {\r\n        icon: 'icon-arrow-down',\r\n        leftText: '5th',\r\n        rightText: 'Shift 5',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '4',\r\n          direction: '-1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'FifthDownButton'\r\n      }, {\r\n        icon: 'icon-arrow-up',\r\n        leftText: '6th',\r\n        rightText: '6',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '5',\r\n          direction: '1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'SixthUpButton'\r\n      }, {\r\n        icon: 'icon-arrow-down',\r\n        leftText: '6th',\r\n        rightText: 'Shift 6',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '5',\r\n          direction: '-1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'SixthDownButton'\r\n      }, {\r\n        icon: 'icon-arrow-up',\r\n        leftText: '7th',\r\n        rightText: '7',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '6',\r\n          direction: '1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'SeventhUpButton'\r\n      }, {\r\n        icon: 'icon-arrow-down',\r\n        leftText: '7th',\r\n        rightText: 'Shift 7',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '6',\r\n          direction: '-1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'SeventhDownButton'\r\n      }, {\r\n        icon: 'icon-arrow-up',\r\n        leftText: '8va',\r\n        rightText: '8',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '7',\r\n          direction: '1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'OctaveUpButton'\r\n      }, {\r\n        icon: 'icon-arrow-down',\r\n        leftText: '7th',\r\n        rightText: 'Shift 7',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        dataElements: {\r\n          interval: '7',\r\n          direction: '-1'\r\n        },\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'OctaveDownButton'\r\n      }, {\r\n        icon: '',\r\n        leftText: 'Collapse',\r\n        rightText: '',\r\n        classes: 'collapsed addChord dirdown',\r\n        action: 'collapseChild',\r\n        ctor: 'ChordButtons',\r\n        group: 'chords',\r\n        id: 'CollapseChordButton'\r\n      }\r\n    ];\r\n  }\r\n\r\n  static get leftRibbonButtons() {\r\n    return [{\r\n        icon: '',\r\n        leftText: 'Help',\r\n        rightText: '?',\r\n        classes: 'help-button',\r\n        action: 'modal',\r\n        ctor: 'helpModal',\r\n        group: 'scoreEdit',\r\n        id: 'helpDialog'\r\n      }, {\r\n        leftText: 'Language',\r\n        rightText: '/n',\r\n        icon: '',\r\n        classes: 'language-select menu-select',\r\n        action: 'menu',\r\n        ctor: 'SuiLanguageMenu',\r\n        group: 'scoreEdit',\r\n        id: 'languageMenu'\r\n      }, {\r\n        leftText: 'File',\r\n        rightText: '/f',\r\n        icon: '',\r\n        classes: 'file-modify menu-select',\r\n        action: 'menu',\r\n        ctor: 'SuiFileMenu',\r\n        group: 'scoreEdit',\r\n        id: 'fileMenu'\r\n      }, {\r\n        leftText: 'Library',\r\n        rightText: '/L',\r\n        icon: '',\r\n        classes: 'file-modify menu-select',\r\n        action: 'modal',\r\n        ctor: 'SuiLibraryDialog',\r\n        group: 'scoreEdit',\r\n        id: 'libraryMenu'\r\n      }, {\r\n        leftText: 'Tempo',\r\n        rightText: 't',\r\n        icon: '',\r\n        classes: 'icon ',\r\n        action: 'modal',\r\n        ctor: 'SuiTempoDialog',\r\n        group: 'scoreEdit',\r\n        id: 'tempoModal'\r\n      },{\r\n        leftText: 'Time Signature',\r\n        rightText: '/m',\r\n        icon: '',\r\n        classes: 'staff-modify menu-select',\r\n        action: 'menu',\r\n        ctor: 'SuiTimeSignatureMenu',\r\n        group: 'scoreEdit',\r\n        id: 'timeSignatureMenu'\r\n      }, {\r\n        leftText: 'Staves',\r\n        rightText: '/s',\r\n        icon: '',\r\n        classes: 'staff-modify',\r\n        action: 'menu',\r\n        ctor: 'SuiAddStaffMenu',\r\n        group: 'scoreEdit',\r\n        id: 'addStaffMenu'\r\n      },\r\n      {\r\n         leftText: 'Measure',\r\n         rightText: '/a',\r\n         icon: '',\r\n         classes: 'icon menu-select',\r\n         action: 'menu',\r\n         ctor: 'SuiMeasureMenu',\r\n         group: 'scoreEdit',\r\n         id: 'measureModal'\r\n      },\r\n      {\r\n        leftText: 'Key',\r\n        rightText: '/k',\r\n        icon: '',\r\n        classes: 'note-modify menu-select',\r\n        action: 'menu',\r\n        ctor: 'SuiKeySignatureMenu',\r\n        group: 'scoreEdit',\r\n        id: 'keyMenu'\r\n      },\r\n      {\r\n       leftText: 'Instrument',\r\n       rightText: '',\r\n       icon: '',\r\n       classes: 'icon',\r\n       action: 'modal',\r\n       ctor: 'SuiInstrumentDialog',\r\n       group: 'scoreEdit',\r\n       id: 'instrumentModal'\r\n     },\r\n      {\r\n        leftText: 'Lines',\r\n        rightText: '/l',\r\n        icon: '',\r\n        classes: 'icon note-modify menu-select',\r\n        action: 'menu',\r\n        ctor: 'SuiStaffModifierMenu',\r\n        group: 'scoreEdit',\r\n        id: 'staffModifierMenu'\r\n      },\r\n       {\r\n        leftText: 'Piano',\r\n        rightText: '',\r\n        icon: '',\r\n        classes: 'icon keyboard',\r\n        action: 'modal',\r\n        ctor: 'suiPiano',\r\n        group: 'scoreEdit',\r\n        id: 'pianoModal'\r\n      },\r\n       {\r\n        leftText: 'Score',\r\n        rightText: '',\r\n        icon: '',\r\n        classes: 'icon ',\r\n        action: 'menu',\r\n        ctor: 'SuiScoreMenu',\r\n        group: 'scoreEdit',\r\n        id: 'layoutMenu'\r\n      }\r\n    ];\r\n  }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/ui/entryPoint.ts\");\n",""],"names":[],"sourceRoot":""}