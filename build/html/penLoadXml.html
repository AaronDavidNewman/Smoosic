<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8">
  <title>Smoosic Editor</title>
  <link href="https://aarondavidnewman.github.io/Smoosic/build/styles/fonts.css" rel="stylesheet">
  <link href="https://aarondavidnewman.github.io/Smoosic/build/styles/media.css" rel="stylesheet">
  <link href="https://aarondavidnewman.github.io/Smoosic/build/styles/ribbon.css" rel="stylesheet">
  <link href="https://aarondavidnewman.github.io/Smoosic/build/styles/dialogs.css" rel="stylesheet">
  <link href="https://aarondavidnewman.github.io/Smoosic/build/styles/menus.css" rel="stylesheet">
  <link href="https://aarondavidnewman.github.io/Smoosic/build/styles/piano.css" rel="stylesheet">
  <link href="https://aarondavidnewman.github.io/Smoosic/build/styles/tree.css" rel="stylesheet">
  <script type="text/javascript"
    src="https://aarondavidnewman.github.io/vexflow_smoosic/release-webpack/vexflow-debug.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js"
    integrity="sha512-uVSVjE7zYsGz4ag0HEzfugJ78oHCI1KhdkivjQro8ABL/PRiEO4ROwvrolYAcZnky0Fl/baWKYilQfWvESliRA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- script type="text/javascript" src="../../../vex_smoosic/vexflow_smoosic/build/vexflow-debug.js"></script  -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.js"></script>
  <script type="text/javascript" src="../smoosic.js"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function (event) {

      // A simple music program using Smoosic in library mode.  
      // Load a Music XML file (Finale) and render it
      const renderScore = (score) => {
        Smo.SuiApplication.configure({
          mode: 'library',
          idleRedrawTime: 500
        });
        // Create the renderer that renders the music.  SVG music will be created 
        // in the element
        const renderer = Smo.SuiScoreRender.createScoreRenderer(document.getElementById('container1'), score);
        // Create and start the view object.  
        // The outer container DOM is for scrolling
        const view = new Smo.SuiScoreViewOperations(renderer, score, '#outer-container', new Smo.UndoBuffer());
        view.startRenderingEngine();
      }

      const path = 'https://aarondavidnewman.github.io/Smoosic/release/library/Beethoven_AnDieFerneGeliebte.xml';
      const req = new XMLHttpRequest();
      req.addEventListener('load', () => {
        const parser = new DOMParser();
        const xml = parser.parseFromString(req.responseText, 'text/xml');
        const score = Smo.mxmlScore.smoScoreFromXml(xml);
        // For this demo, zoom it out so it doesn't try to squish the score in that little space
        score.layoutManager.globalLayout.zoomScale = 1.5;
        score.layoutManager.globalLayout.noteSpacing = 0.8;
        renderScore(score);
      });
      req.open('GET', path);
      req.send();
    });
  </script>
</head>

<body>
  <!-- audio crossOrigin="anonymous" id="sample" src="https://aarondavidnewman.github.io/Smoosic/build/sound/piano_middle_C.mp3" / -->
  <div id="outer-container">
    <div id="container1">

    </div>
  </div>
</body>

</html>